[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "~~Please note, I copied SignalsOptInRBF() from policy/rbf.cpp into core_write.cpp.~~\r\n\r\n~~This is probably not a good way to do, but it was done for now, because rbf.cpp isn't avaliable in LIBBITCOIN_COMMON. However, simply moving rbf.cpp from LIBBITCOIN_SERVER to LIBBITCOIN_COMMON doesn't work, because IsRBFOptIn() in rbf.cpp has mempool dependencies, which are also not available.~~\r\n\r\n~~As alternative I could imagine to split rbf.cpp into something like rbf.cpp with SignalsOptInRBF(), which becomes part of LIBBITCOIN_COMMON and rbfstate.cpp with IsRBFOptIn(), which becomes part of LIBBITCOIN_SERVER?~~",
      "created_at" : "2018-03-12T09:56:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-372252842",
      "id" : 372252842,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "updated_at" : "2018-03-13T11:07:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372252842",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173776923"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173776923"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Imo this should be the same key-value as the `bip125-replaceable` in the rpcwallet",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-12T12:21:25Z",
      "diff_hunk" : "@@ -162,6 +172,7 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"size\", (int)::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION));\n     entry.pushKV(\"vsize\", (GetTransactionWeight(tx) + WITNESS_SCALE_FACTOR - 1) / WITNESS_SCALE_FACTOR);\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n+    entry.pushKV(\"replaceable\", SignalsOptInRBF(tx));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173776923",
      "id" : 173776923,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mzc3NjkyMw==",
      "original_commit_id" : "6436b6b8634aec93916e8da3aa0770c8dfe6f0be",
      "original_position" : 21,
      "path" : "src/core_write.cpp",
      "position" : null,
      "pull_request_review_id" : 103019128,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173776923",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173803498"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173803498"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good idea! I updated the PR.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-12T13:54:20Z",
      "diff_hunk" : "@@ -162,6 +172,7 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"size\", (int)::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION));\n     entry.pushKV(\"vsize\", (GetTransactionWeight(tx) + WITNESS_SCALE_FACTOR - 1) / WITNESS_SCALE_FACTOR);\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n+    entry.pushKV(\"replaceable\", SignalsOptInRBF(tx));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173803498",
      "id" : 173803498,
      "in_reply_to_id" : 173776923,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzgwMzQ5OA==",
      "original_commit_id" : "6436b6b8634aec93916e8da3aa0770c8dfe6f0be",
      "original_position" : 21,
      "path" : "src/core_write.cpp",
      "position" : null,
      "pull_request_review_id" : 103050868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173803498",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "node_id" : "MDQ6VXNlcjU4MzYwODk=",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173809273"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173809273"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`SignalsOptInRBF` is *not* bip125-replacable.\r\n\r\n* Confirmed transaction can never be replaced in the mempool\r\n* Unconfirmed transactions that depend on a mempool-transaction that signals opt in rbf can be replaced",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-12T14:11:15Z",
      "diff_hunk" : "@@ -162,6 +172,7 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"size\", (int)::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION));\n     entry.pushKV(\"vsize\", (GetTransactionWeight(tx) + WITNESS_SCALE_FACTOR - 1) / WITNESS_SCALE_FACTOR);\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n+    entry.pushKV(\"bip125-replaceable\", SignalsOptInRBF(tx));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173809273",
      "id" : 173809273,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzgwOTI3Mw==",
      "original_commit_id" : "e62c505f7e73727acb3ebdfea1f9048a1d3a1d94",
      "original_position" : 21,
      "path" : "src/core_write.cpp",
      "position" : null,
      "pull_request_review_id" : 103057921,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173809273",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173822544"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173822544"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would you suggest to rename the flag to something like `signals-rbf`? Or rather do a stateful check, whether the transaction is actually replaceable, when the call is made?\r\n\r\nThe latter would probably be very useful, but given that `TxToUniv` isn't stateful and currently doesn't have any mempool relation, I don't see a straight forward way for this.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-12T14:48:32Z",
      "diff_hunk" : "@@ -162,6 +172,7 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"size\", (int)::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION));\n     entry.pushKV(\"vsize\", (GetTransactionWeight(tx) + WITNESS_SCALE_FACTOR - 1) / WITNESS_SCALE_FACTOR);\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n+    entry.pushKV(\"bip125-replaceable\", SignalsOptInRBF(tx));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173822544",
      "id" : 173822544,
      "in_reply_to_id" : 173809273,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MzgyMjU0NA==",
      "original_commit_id" : "e62c505f7e73727acb3ebdfea1f9048a1d3a1d94",
      "original_position" : 21,
      "path" : "src/core_write.cpp",
      "position" : null,
      "pull_request_review_id" : 103074214,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173822544",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "node_id" : "MDQ6VXNlcjU4MzYwODk=",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173868402"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173868402"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If we do this I'd say rename it to `signals-rbf` or such, which is also the name of the function already. And not make the raw transactions utility function decoding functionality depend on the mempool.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-12T16:51:26Z",
      "diff_hunk" : "@@ -162,6 +172,7 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"size\", (int)::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION));\n     entry.pushKV(\"vsize\", (GetTransactionWeight(tx) + WITNESS_SCALE_FACTOR - 1) / WITNESS_SCALE_FACTOR);\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n+    entry.pushKV(\"bip125-replaceable\", SignalsOptInRBF(tx));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173868402",
      "id" : 173868402,
      "in_reply_to_id" : 173809273,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mzg2ODQwMg==",
      "original_commit_id" : "e62c505f7e73727acb3ebdfea1f9048a1d3a1d94",
      "original_position" : 21,
      "path" : "src/core_write.cpp",
      "position" : null,
      "pull_request_review_id" : 103128294,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173868402",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173870207"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173870207"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In which case I tend to Concept NACK. Just returning if the flag is set contradicts the bip125-replacability rules, which only adds confusion.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-12T16:56:57Z",
      "diff_hunk" : "@@ -162,6 +172,7 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"size\", (int)::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION));\n     entry.pushKV(\"vsize\", (GetTransactionWeight(tx) + WITNESS_SCALE_FACTOR - 1) / WITNESS_SCALE_FACTOR);\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n+    entry.pushKV(\"bip125-replaceable\", SignalsOptInRBF(tx));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r173870207",
      "id" : 173870207,
      "in_reply_to_id" : 173809273,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3Mzg3MDIwNw==",
      "original_commit_id" : "e62c505f7e73727acb3ebdfea1f9048a1d3a1d94",
      "original_position" : 21,
      "path" : "src/core_write.cpp",
      "position" : null,
      "pull_request_review_id" : 103130471,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/173870207",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174019830"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174019830"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry to hijack.\r\n\r\nI had considered adding a flag like this to the verbose output of `getrawmempool`. Assuming this idea were supported, based on your feedback @MarcoFalke - is it fair to say that you think it makes more sense to list a mempool transaction as `replaceable` (covering both explicit signaling and implicit based on ancestors) rather than just `signals-rbf` (just the explicit case)? \r\n\r\nDo you think it would be appropriate to list that in `getrawmempool`?",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-13T05:27:02Z",
      "diff_hunk" : "@@ -162,6 +172,7 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n     entry.pushKV(\"size\", (int)::GetSerializeSize(tx, SER_NETWORK, PROTOCOL_VERSION));\n     entry.pushKV(\"vsize\", (GetTransactionWeight(tx) + WITNESS_SCALE_FACTOR - 1) / WITNESS_SCALE_FACTOR);\n     entry.pushKV(\"locktime\", (int64_t)tx.nLockTime);\n+    entry.pushKV(\"bip125-replaceable\", SignalsOptInRBF(tx));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174019830",
      "id" : 174019830,
      "in_reply_to_id" : 173809273,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDAxOTgzMA==",
      "original_commit_id" : "e62c505f7e73727acb3ebdfea1f9048a1d3a1d94",
      "original_position" : 21,
      "path" : "src/core_write.cpp",
      "position" : null,
      "pull_request_review_id" : 103300959,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174019830",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "node_id" : "MDQ6VXNlcjE0MjIwNjUy",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@conscott brought up the idea of adding the flag to mempool entries and mempool RPCs. I really like the idea, because these calls are actually mempool aware and provide full access to the mempool and thus also allow to check, whether a transaction is really replaceable instead of simply signaling replaceablity.\r\n\r\nI updated the PR accordingly, because I believe this is the way to go. @conscott if you want to submit this as PR, feel free to do so though, and I'll close this one.",
      "created_at" : "2018-03-13T11:10:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-372629523",
      "id" : 372629523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "updated_at" : "2018-03-13T11:10:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372629523",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174152296"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174152296"
         }
      },
      "author_association" : "MEMBER",
      "body" : "please use brackets for multi-line conditionals",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-13T14:32:32Z",
      "diff_hunk" : "@@ -418,6 +420,16 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174152296",
      "id" : 174152296,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDE1MjI5Ng==",
      "original_commit_id" : "f215f99b901ea164d8c88140155b868d1247975a",
      "original_position" : 26,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 103455262,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174152296",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174166283"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174166283"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can you add a test for `unknown`?",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-13T15:06:56Z",
      "diff_hunk" : "@@ -427,6 +427,9 @@ def test_opt_in(self):\n         tx1a_hex = txToHex(tx1a)\n         tx1a_txid = self.nodes[0].sendrawtransaction(tx1a_hex, True)\n \n+        # This transaction isn't shown as replaceable",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174166283",
      "id" : 174166283,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDE2NjI4Mw==",
      "original_commit_id" : "788885ffd026c5fe6f0a2dda107c9927409e9bf7",
      "original_position" : 4,
      "path" : "test/functional/feature_rbf.py",
      "position" : 4,
      "pull_request_review_id" : 103471848,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174166283",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174188040"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174188040"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, updated.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-13T16:01:31Z",
      "diff_hunk" : "@@ -418,6 +420,16 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174188040",
      "id" : 174188040,
      "in_reply_to_id" : 174152296,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDE4ODA0MA==",
      "original_commit_id" : "f215f99b901ea164d8c88140155b868d1247975a",
      "original_position" : 26,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 103497773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174188040",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "node_id" : "MDQ6VXNlcjU4MzYwODk=",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK",
      "created_at" : "2018-03-13T16:10:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-372722229",
      "id" : 372722229,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "updated_at" : "2018-03-13T16:10:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372722229",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174237154"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174237154"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm.. this is going to be a bit difficult: the `\"unknown\"` case is only triggered, if the transaction isn't found in the mempool.\r\n\r\nIn the case of the RPCs this path might even get removed, given that we iterate over mempool entries, which are indeed in the mempool and thus never `\"unknown\"`.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-13T18:22:23Z",
      "diff_hunk" : "@@ -427,6 +427,9 @@ def test_opt_in(self):\n         tx1a_hex = txToHex(tx1a)\n         tx1a_txid = self.nodes[0].sendrawtransaction(tx1a_hex, True)\n \n+        # This transaction isn't shown as replaceable",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174237154",
      "id" : 174237154,
      "in_reply_to_id" : 174166283,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDIzNzE1NA==",
      "original_commit_id" : "788885ffd026c5fe6f0a2dda107c9927409e9bf7",
      "original_position" : 4,
      "path" : "test/functional/feature_rbf.py",
      "position" : 4,
      "pull_request_review_id" : 103556522,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174237154",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "node_id" : "MDQ6VXNlcjU4MzYwODk=",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174237987"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174237987"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this can just be an `assert(bfState != RBF_TRANSACTIONSTATE_UNKNOWN)`. Looking at [rbf.cpp](https://github.com/bitcoin/bitcoin/blob/master/src/policy/rbf.cpp#L27-L32), the unknown state should only occur if the transaction in question is not found in the mempool, and this function only processes transactions that are currently in the mempool (with mempool lock held). \r\n\r\nIf the above is correct (I believe it is), the `bip125-replaceable` field can just become a boolean. ",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-13T18:24:59Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174237987",
      "id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDIzNzk4Nw==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 103557522,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174237987",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "node_id" : "MDQ6VXNlcjE0MjIwNjUy",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK. Thanks for updating @dexX7 - just left a comment about the unknown state. Will test this out tomorrow. ",
      "created_at" : "2018-03-13T18:28:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-372770690",
      "id" : 372770690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "updated_at" : "2018-03-13T18:28:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372770690",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Regarding checking the `\"unknown\"` case: in the case of the RPCs this isn't triggered, because they iterate over mempool entries, which are inherently part of the mempool, but I kind of tend to leave it there for the potential case `entryToJSON()` is called in a different context. I'd be fine with removing this path though, too.",
      "created_at" : "2018-03-13T18:31:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-372771858",
      "id" : 372771858,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "updated_at" : "2018-03-13T18:31:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372771858",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174250847"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174250847"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Such a test might require mocking `IsRBFOptIn` in `blockchain.cpp`, but that seems overkill here.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-13T19:07:51Z",
      "diff_hunk" : "@@ -427,6 +427,9 @@ def test_opt_in(self):\n         tx1a_hex = txToHex(tx1a)\n         tx1a_txid = self.nodes[0].sendrawtransaction(tx1a_hex, True)\n \n+        # This transaction isn't shown as replaceable",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174250847",
      "id" : 174250847,
      "in_reply_to_id" : 174166283,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDI1MDg0Nw==",
      "original_commit_id" : "788885ffd026c5fe6f0a2dda107c9927409e9bf7",
      "original_position" : 4,
      "path" : "test/functional/feature_rbf.py",
      "position" : 4,
      "pull_request_review_id" : 103573071,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174250847",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174251236"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174251236"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not a fan of an assert here. It if it's really not possible, it's better to put the assert in `rbf.cpp` and remove this state from the enum. All this function should be concerned with is translating an enum to a string.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-13T19:09:13Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174251236",
      "id" : 174251236,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDI1MTIzNg==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 103573570,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174251236",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174251982"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174251982"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Actually: what about a situation where a descendant is missing from the mempool (because it somehow got evicted)?",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-13T19:12:14Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174251982",
      "id" : 174251982,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDI1MTk4Mg==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 103574490,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174251982",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2018-03-13T21:00:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-372816693",
      "id" : 372816693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "updated_at" : "2018-03-13T21:00:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372816693",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174338287"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174338287"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I should have been more clear. In general it is possible to return `RBF_TRANSACTIONSTATE_UNKNOWN` from `IsRBFOptIn()`, however this call stack in particular (all mempool related rpc's) only calls `IsRBFOptIn()` on transactions we know to be in the mempool. So, the assert would belong here, not in `rfb.cpp`. I understand this still may not be the best option, I just wanted to make my language clear since my comment above was a bit ambiguous. \r\n\r\nI am not sure I understand the problem/situation where 'a descendant is missing from the mempool'. Can you elaborate please? ",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-14T02:27:46Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174338287",
      "id" : 174338287,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDMzODI4Nw==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 103675277,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174338287",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "node_id" : "MDQ6VXNlcjE0MjIwNjUy",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174370937"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174370937"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not a fan of using `assert` in non-consensus critical code, given it's massive impact, if it's hit (e.g. by accident in the future etc.).\r\n\r\nIn the case of the RPCs `\"unknown\"` isn't triggered, because they iterate over mempool entries, which are inherently part of the mempool, but I kind of tend to leave it there for the potential case `entryToJSON()` is called in a different context. I'd be fine with removing this path though, too.\r\n\r\n> Actually: what about a situation where a descendant is missing from the mempool (because it somehow got evicted)?\r\n\r\nNot an issue as far as I can see. We only care about ancestors and whether an unconfirmed ancestor signals RBF, which makes the chain replaceable.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-14T07:29:38Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174370937",
      "id" : 174370937,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDM3MDkzNw==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 103712311,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174370937",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "node_id" : "MDQ6VXNlcjU4MzYwODk=",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174391020"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174391020"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Agree about the 'descendant is missing from the mempool' not being an issue, or relevant, as far as I can see. \r\n\r\nI also see your point that in general the function could be called in a context where the tx is no longer in the mempool, but in cases strictly calling down from a mempool rpc, it seems like we should always 'know' rbf state in that context. In that sense, it may not make sense for the rpc itself to list `unknown` as an option - unless there actually is a case I am missing where we would not know the rbf state of a tx in our own mempool. \r\n\r\nHaving said that, whether or not an `assert` is the right thing to do, I am also an open about. \r\n\r\nI will happily wait for someone more qualified than myself to chime in with their opinion :)",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-14T09:06:49Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174391020",
      "id" : 174391020,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDM5MTAyMA==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 103735434,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174391020",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "node_id" : "MDQ6VXNlcjE0MjIwNjUy",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174467491"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174467491"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> this call stack in particular (all mempool related rpc's) only calls IsRBFOptIn() on transactions we know to be in the mempool\r\n\r\nThere's no guarantee all ancestors are in the mempool (someone might have deleted mempool.dat and it's still in the process of syncing, unless we guarantee order there). If a transaction in the mempool doesn't signal RBF, but its ancestors do, then it's replaceable. So `IsRBFOptIn` would return UNKNOWN in that case, I think..",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-14T13:58:22Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174467491",
      "id" : 174467491,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDQ2NzQ5MQ==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 103827684,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174467491",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174528209"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174528209"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Mempool.dat is sorted in dependency order, so ancestors always appear earlier. Further, the mempool is at all times internally consistent (when observable): all mempool transactions either spend a transaction output from the chainstate (so from a confirmed transaction), or another mempool output. There are also never any double spends in the mempool.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-14T16:42:42Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r174528209",
      "id" : 174528209,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NDUyODIwOQ==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 103901728,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174528209",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r175753641"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175753641"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Any opinion on listing `unknown` state @MarcoFalke ? ",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-20T12:55:09Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r175753641",
      "id" : 175753641,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NTc1MzY0MQ==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 105333012,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175753641",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "node_id" : "MDQ6VXNlcjE0MjIwNjUy",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r176081053"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176081053"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't have a strong opinion if the value of 'bip125-replacable' should be string (yes/no/unknown) or bool.\r\n\r\nIt seems `entryToJSON` can only be called when the entry is in the mempool (c.f. `mempool.vTxHashes[e.vTxHashesIdx].first.ToString()`). Thus, we can surely determine if it is replacable.\r\n\r\nInstead of adding an `assert`, I'd prefer to throw some json exception that mentions that it never can be thrown.\r\n\r\nI guess you could throw it in `entryToJSON` to make sure it is passed up to all potential callers?",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-21T13:32:32Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r176081053",
      "id" : 176081053,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjA4MTA1Mw==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 105720153,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176081053",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r176099700"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176099700"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "But does entryToJSON really care, whether it's in the mempool or not? I think this limits it's functionality in some way.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-21T14:24:37Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r176099700",
      "id" : 176099700,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjA5OTcwMA==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 105742510,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176099700",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "node_id" : "MDQ6VXNlcjU4MzYwODk=",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r176649434"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176649434"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`entryToJSON` specifically processes mempool transactions (`CTxMemPoolEntry &e`) - and I don't believe you should be able to have a CTxMemPoolEntry reference for something not currently in the mempool (it should guarantees this consistency), so in that sense, `entryToJson` should never be called in a \"different context\" (where the tx is not in mempool). \r\n\r\nAnyhow, I am not trying to get pedantic on this point. I want this change (and requested it) and I am okay with the current implementation. ",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-03-23T06:43:33Z",
      "diff_hunk" : "@@ -418,6 +420,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    std::string rbfStatus = \"no\";\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBF_TRANSACTIONSTATE_UNKNOWN) {\n+        rbfStatus = \"unknown\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r176649434",
      "id" : 176649434,
      "in_reply_to_id" : 174237987,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjY0OTQzNA==",
      "original_commit_id" : "eef1b43b5860122bd7dc9270b5b5ba3f64b1dc0e",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 106390537,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176649434",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "node_id" : "MDQ6VXNlcjE0MjIwNjUy",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hey guys, just to clarify: given there were mixed reactions, do you insist on removing the branch for the \"unknown\" case and replace it with an exception or is this PR good to go as it is?",
      "created_at" : "2018-04-24T11:12:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-383893726",
      "id" : 383893726,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "updated_at" : "2018-04-24T11:12:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383893726",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@dexX7 - I was arguing over the `unknown`, but I am happy with it as is. ",
      "created_at" : "2018-04-24T11:40:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-383900256",
      "id" : 383900256,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "updated_at" : "2018-04-24T11:40:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383900256",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/14220652?v=4",
         "events_url" : "https://api.github.com/users/conscott/events{/privacy}",
         "followers_url" : "https://api.github.com/users/conscott/followers",
         "following_url" : "https://api.github.com/users/conscott/following{/other_user}",
         "gists_url" : "https://api.github.com/users/conscott/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/conscott",
         "id" : 14220652,
         "login" : "conscott",
         "organizations_url" : "https://api.github.com/users/conscott/orgs",
         "received_events_url" : "https://api.github.com/users/conscott/received_events",
         "repos_url" : "https://api.github.com/users/conscott/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/conscott/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/conscott/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/conscott"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I just fail to see why it makes sense to burden rpc users with a third value that is never actually set.",
      "created_at" : "2018-04-24T14:44:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-383959187",
      "id" : 383959187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "updated_at" : "2018-04-24T14:44:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383959187",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Alright, updated. :)",
      "created_at" : "2018-04-25T05:38:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-384166309",
      "id" : 384166309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "updated_at" : "2018-04-25T05:38:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384166309",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r184100272"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184100272"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No need to encode a bool into a string, imo",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-04-25T15:19:04Z",
      "diff_hunk" : "@@ -375,7 +376,8 @@ std::string EntryDescriptionString()\n            \"       ... ]\\n\"\n            \"    \\\"spentby\\\" : [           (array) unconfirmed transactions spending outputs from this transaction\\n\"\n            \"        \\\"transactionid\\\",    (string) child transaction id\\n\"\n-           \"       ... ]\\n\";\n+           \"       ... ]\\n\"\n+           \"    \\\"bip125-replaceable\\\": \\\"yes|no\\\",  (string) Whether this transaction could be replaced due to BIP125 (replace-by-fee)\\n\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r184100272",
      "id" : 184100272,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NDEwMDI3Mg==",
      "original_commit_id" : "5434aaaee5ca6fc8a2ac15e9a97034852a43242d",
      "original_position" : 14,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 115226487,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184100272",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r184114791"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184114791"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Very good point.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-04-25T15:57:12Z",
      "diff_hunk" : "@@ -375,7 +376,8 @@ std::string EntryDescriptionString()\n            \"       ... ]\\n\"\n            \"    \\\"spentby\\\" : [           (array) unconfirmed transactions spending outputs from this transaction\\n\"\n            \"        \\\"transactionid\\\",    (string) child transaction id\\n\"\n-           \"       ... ]\\n\";\n+           \"       ... ]\\n\"\n+           \"    \\\"bip125-replaceable\\\": \\\"yes|no\\\",  (string) Whether this transaction could be replaced due to BIP125 (replace-by-fee)\\n\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r184114791",
      "id" : 184114791,
      "in_reply_to_id" : 184100272,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NDExNDc5MQ==",
      "original_commit_id" : "5434aaaee5ca6fc8a2ac15e9a97034852a43242d",
      "original_position" : 14,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 115243720,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184114791",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "node_id" : "MDQ6VXNlcjU4MzYwODk=",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r184117044"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184117044"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-04-25T16:03:34Z",
      "diff_hunk" : "@@ -375,7 +376,8 @@ std::string EntryDescriptionString()\n            \"       ... ]\\n\"\n            \"    \\\"spentby\\\" : [           (array) unconfirmed transactions spending outputs from this transaction\\n\"\n            \"        \\\"transactionid\\\",    (string) child transaction id\\n\"\n-           \"       ... ]\\n\";\n+           \"       ... ]\\n\"\n+           \"    \\\"bip125-replaceable\\\": \\\"yes|no\\\",  (string) Whether this transaction could be replaced due to BIP125 (replace-by-fee)\\n\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r184117044",
      "id" : 184117044,
      "in_reply_to_id" : 184100272,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4NDExNzA0NA==",
      "original_commit_id" : "5434aaaee5ca6fc8a2ac15e9a97034852a43242d",
      "original_position" : 14,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 115246350,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-05-22T06:23:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184117044",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/5836089?v=4",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "node_id" : "MDQ6VXNlcjU4MzYwODk=",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r200951106"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200951106"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Throwing here seems nasty. Just don't add a key?\r\n\r\nEg: \r\n\r\n```C++\r\n    switch (IsRBFOptIn(tx, mempool)) {\r\n        case RBFTransactionState::FINAL:\r\n            info.push_back(Pair(\"bip125-replaceable\", false));\r\n            break;\r\n        case RBFTransactionState::REPLACEABLE_BIP125:\r\n            info.push_back(Pair(\"bip125-replaceable\", true));\r\n            break;\r\n        case RBFTransactionState::UNKNOWN:\r\n            break;\r\n    }\r\n```\r\n\r\n(Doing it this way also gets a compile-time warning if a new state is added later)",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-07-09T10:16:43Z",
      "diff_hunk" : "@@ -419,6 +421,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    bool rbfStatus = false;\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBFTransactionState::UNKNOWN) {\n+        throw JSONRPCError(RPC_MISC_ERROR, \"Transaction is not in mempool\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r200951106",
      "id" : 200951106,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDk1MTEwNg==",
      "original_commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 27,
      "pull_request_review_id" : 135356438,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-07-09T10:16:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200951106",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r201011162"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201011162"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it'd be nice to have this produce the same output as the wallet rpc calls that provide the same information (which appears to be \"yes\"/\"no\"/\"unknown\").",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-07-09T13:56:38Z",
      "diff_hunk" : "@@ -419,6 +421,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    bool rbfStatus = false;\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBFTransactionState::UNKNOWN) {\n+        throw JSONRPCError(RPC_MISC_ERROR, \"Transaction is not in mempool\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r201011162",
      "id" : 201011162,
      "in_reply_to_id" : 200951106,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTAxMTE2Mg==",
      "original_commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 27,
      "pull_request_review_id" : 135427781,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-07-09T13:56:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201011162",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r201166609"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201166609"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think it is even possible to hit this case since it requires the transaction to not be in the mempool (for the unknown state) yet every entry we are processing here comes from the mempool.",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-07-09T22:28:17Z",
      "diff_hunk" : "@@ -419,6 +421,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    bool rbfStatus = false;\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBFTransactionState::UNKNOWN) {\n+        throw JSONRPCError(RPC_MISC_ERROR, \"Transaction is not in mempool\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r201166609",
      "id" : 201166609,
      "in_reply_to_id" : 200951106,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTE2NjYwOQ==",
      "original_commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 27,
      "pull_request_review_id" : 135615473,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-07-09T22:28:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201166609",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-07-09T22:29:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-403640374",
      "id" : 403640374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzY0MDM3NA==",
      "updated_at" : "2018-07-09T22:29:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403640374",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 870bd4c",
      "created_at" : "2018-07-10T17:18:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#issuecomment-403900362",
      "id" : 403900362,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12676",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzkwMDM2Mg==",
      "updated_at" : "2018-07-10T17:18:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403900362",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r201425955"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201425955"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree with @achow101 ",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-07-10T17:18:39Z",
      "diff_hunk" : "@@ -419,6 +421,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    bool rbfStatus = false;\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBFTransactionState::UNKNOWN) {\n+        throw JSONRPCError(RPC_MISC_ERROR, \"Transaction is not in mempool\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r201425955",
      "id" : 201425955,
      "in_reply_to_id" : 200951106,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTQyNTk1NQ==",
      "original_commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 27,
      "pull_request_review_id" : 135926600,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-07-10T17:18:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201425955",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r201430389"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201430389"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree with @sdaftuar ",
      "commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "created_at" : "2018-07-10T17:32:06Z",
      "diff_hunk" : "@@ -419,6 +421,17 @@ void entryToJSON(UniValue &info, const CTxMemPoolEntry &e)\n     }\n \n     info.pushKV(\"spentby\", spent);\n+\n+    // Add opt-in RBF status\n+    bool rbfStatus = false;\n+    RBFTransactionState rbfState = IsRBFOptIn(tx, mempool);\n+    if (rbfState == RBFTransactionState::UNKNOWN) {\n+        throw JSONRPCError(RPC_MISC_ERROR, \"Transaction is not in mempool\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12676#discussion_r201430389",
      "id" : 201430389,
      "in_reply_to_id" : 200951106,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMTQzMDM4OQ==",
      "original_commit_id" : "870bd4c73ddf494dc23c658bf0fb672ee0109158",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 27,
      "pull_request_review_id" : 135931689,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12676",
      "updated_at" : "2018-07-10T17:32:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/201430389",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
