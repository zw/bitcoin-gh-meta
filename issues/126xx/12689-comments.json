[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. Tested on macOS.\r\n\r\nNeeds update for `-printtoconsole` help text.",
      "created_at" : "2018-03-14T22:32:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373197138",
      "id" : 373197138,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-14T22:32:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373197138",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174632036"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174632036"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I know you said that MingW includes a compatible unistd.h version for Windows but on Visual Studio/msvc isatty is deprecated and replaced by _isatty. Also STDOUT_FILENO (1) is not defined. There's currently some PRs for msvc support so just a heads up that this will likely break things there. #11526 and #11873 ",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-14T22:39:52Z",
      "diff_hunk" : "@@ -336,6 +336,11 @@ static std::string LogTimestampStr(const std::string &str, std::atomic_bool *fSt\n     return strStamped;\n }\n \n+bool IsStdoutTty()\n+{\n+    return isatty(STDOUT_FILENO);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174632036",
      "id" : 174632036,
      "original_commit_id" : "92059163e8f71dfaa18acaab4e71ddff84f1fb03",
      "original_position" : 6,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 104024459,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-17T01:08:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174632036",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6394033?v=4",
         "events_url" : "https://api.github.com/users/donaloconnor/events{/privacy}",
         "followers_url" : "https://api.github.com/users/donaloconnor/followers",
         "following_url" : "https://api.github.com/users/donaloconnor/following{/other_user}",
         "gists_url" : "https://api.github.com/users/donaloconnor/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/donaloconnor",
         "id" : 6394033,
         "login" : "donaloconnor",
         "organizations_url" : "https://api.github.com/users/donaloconnor/orgs",
         "received_events_url" : "https://api.github.com/users/donaloconnor/received_events",
         "repos_url" : "https://api.github.com/users/donaloconnor/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/donaloconnor/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/donaloconnor/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/donaloconnor"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Strong concept ACK. Very nice usability improvement! I'm also running `bitcoind` in the foreground mode for the most part.\r\n\r\nWhat about reducing the number of `\\n`:s from 20 to say 5? That should be more than enough to distinguish between to subsequent executions.",
      "created_at" : "2018-03-14T22:56:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373202394",
      "id" : 373202394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-14T22:56:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373202394",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Just a few concerns (Mainly on Windows)\r\n\r\n1. There's now no way of turning the stdout logging off when launched in foreground. It's either on or (on by default) \r\n2. On Windows output will always be shown now since deamonising isn't possible?. (AFAIK it's not possible to run bitcoind as a windows service?\r\n3. stdout isn't buffered very well (if at all?) so it can potentially have a perf penalty (especially if custom high freq custom logging is enabled)\r\n\r\nBTW fPrintToDebugLog is set to true and not changed ever so the code can be simplified.",
      "created_at" : "2018-03-14T23:05:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373204344",
      "id" : 373204344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-14T23:05:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373204344",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6394033?v=4",
         "events_url" : "https://api.github.com/users/donaloconnor/events{/privacy}",
         "followers_url" : "https://api.github.com/users/donaloconnor/followers",
         "following_url" : "https://api.github.com/users/donaloconnor/following{/other_user}",
         "gists_url" : "https://api.github.com/users/donaloconnor/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/donaloconnor",
         "id" : 6394033,
         "login" : "donaloconnor",
         "organizations_url" : "https://api.github.com/users/donaloconnor/orgs",
         "received_events_url" : "https://api.github.com/users/donaloconnor/received_events",
         "repos_url" : "https://api.github.com/users/donaloconnor/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/donaloconnor/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/donaloconnor/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/donaloconnor"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, cool :+1:.",
      "created_at" : "2018-03-14T23:08:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373204889",
      "id" : 373204889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-14T23:08:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373204889",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Now that I've thought about this more I don't think the `isatty()` check is necessary. The situation where it wouldn't be a TTY would be if you were running commands like:\r\n\r\n```bash\r\n# stdout is a pipe, not a TTY.\r\nbitcoind | less\r\n\r\n# stdout is a file, not a TTY.\r\nbitcoind > redundantcopyofdebug.log\r\n```\r\n\r\nI don't think either of these are things people are going to actually run, but if they did they would probably expect to see output printed. The usual use of `isatty()` is actually to test for features like using console escape sequences (e.g. the ASCII \"bell\" character) or to tell if it makes sense to print ANSI color codes.",
      "created_at" : "2018-03-14T23:22:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373207731",
      "id" : 373207731,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-14T23:22:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373207731",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "New version (with squashed commit) removes the `isatty()` check and reduces the number of newlines we print from 20 to 5. I've also updated the PR description to remove the commentary about `isatty()`.",
      "created_at" : "2018-03-14T23:32:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373209436",
      "id" : 373209436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-14T23:32:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373209436",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "My understanding is now logging will not be sent to the *log file* unless -daemon is passed via command line. If that's the case won't this be unexpected and annoying behavior?\r\n\r\nLogPrintStr only prints to one or the other.\r\n\r\nI'm on the phone so it's difficult to check",
      "created_at" : "2018-03-15T00:30:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373220096",
      "id" : 373220096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-15T00:30:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373220096",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6394033?v=4",
         "events_url" : "https://api.github.com/users/donaloconnor/events{/privacy}",
         "followers_url" : "https://api.github.com/users/donaloconnor/followers",
         "following_url" : "https://api.github.com/users/donaloconnor/following{/other_user}",
         "gists_url" : "https://api.github.com/users/donaloconnor/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/donaloconnor",
         "id" : 6394033,
         "login" : "donaloconnor",
         "organizations_url" : "https://api.github.com/users/donaloconnor/orgs",
         "received_events_url" : "https://api.github.com/users/donaloconnor/received_events",
         "repos_url" : "https://api.github.com/users/donaloconnor/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/donaloconnor/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/donaloconnor/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/donaloconnor"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure this makes sense. I don't know of any other software that guesses stdout vs log based on whether stdout is a tty. It seems likely to break users who do `bitcoin-qt &`\r\n\r\nWhy not just put `printtoconsole=1` in bitcoin.conf if you prefer it by default?",
      "created_at" : "2018-03-15T00:40:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373221889",
      "id" : 373221889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-15T00:40:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373221889",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@lukejr The code no longer uses `isatty()`, I removed that code. Adding `printtoconsole=1` to `bitcoin.conf` has the side effect that it completely suppresses logging to `debug.log`, which is annoying if sometimes you run bitcoin as a daemon and sometimes you run it in foreground mode.\r\n\r\nWe should probably change the `LogPrintf()` logic to log to both if both flags are set. But even in that case if you add `printtoconsole=1` to your bitcoin.conf file you'll get behavior where bitcoind would log all messages twice, with the stdout one going to `/dev/null`. This is harmless but inefficient.",
      "created_at" : "2018-03-15T01:35:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373230941",
      "id" : 373230941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-15T01:35:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373230941",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@donaloconnor I also just noticed that which I think is bad behavior. Updated to make these flags independent (printing to console will not affect logging to debug.log).",
      "created_at" : "2018-03-15T01:38:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373231442",
      "id" : 373231442,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-15T01:38:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373231442",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 23bc0aaac8d8ac7f2b41527567d6a2329429d172",
      "created_at" : "2018-03-15T06:46:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373277576",
      "id" : 373277576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-15T06:46:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373277576",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174833241"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174833241"
         }
      },
      "author_association" : "OWNER",
      "body" : "I'm fine with making these non-exclusive, however we still need a way to disable logging to `debug.log`. Some logging setups (e.g. when using systemd) process the `-printtoconsole` output, and don't need a duplicate logging to disk.\r\nMaybe `-nodebuglogfile`?",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-15T15:50:34Z",
      "diff_hunk" : "@@ -349,7 +349,7 @@ int LogPrintStr(const std::string &str)\n         ret = fwrite(strTimestamped.data(), 1, strTimestamped.size(), stdout);\n         fflush(stdout);\n     }\n-    else if (fPrintToDebugLog)\n+    if (fPrintToDebugLog)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174833241",
      "id" : 174833241,
      "original_commit_id" : "23bc0aaac8d8ac7f2b41527567d6a2329429d172",
      "original_position" : 5,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 104263029,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-17T01:08:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174833241",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tested 23bc0aa on macOS, still works. \r\n\r\nRemoving the `isatty()` check makes sense; another example would be using `bitcoind | grep the_thing_I_care_about`.\r\n\r\n@luke-jr  `bitcoin-qt` does not output anything to the console (not sure why).",
      "created_at" : "2018-03-15T15:53:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373425990",
      "id" : 373425990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-15T15:53:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373425990",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174835296"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174835296"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe `-debuglogfile=0` as a special case?",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-15T15:56:15Z",
      "diff_hunk" : "@@ -349,7 +349,7 @@ int LogPrintStr(const std::string &str)\n         ret = fwrite(strTimestamped.data(), 1, strTimestamped.size(), stdout);\n         fflush(stdout);\n     }\n-    else if (fPrintToDebugLog)\n+    if (fPrintToDebugLog)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174835296",
      "id" : 174835296,
      "in_reply_to_id" : 174833241,
      "original_commit_id" : "23bc0aaac8d8ac7f2b41527567d6a2329429d172",
      "original_position" : 5,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 104265504,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-17T01:08:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174835296",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174836140"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174836140"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`std::string(NUMBER_OF_BLANK_LINES_BETWEEN_SESSIONS_IN_LOG_TO_PREEMPT_BIKESHEDDING, '\\n')`? :-P",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-15T15:58:34Z",
      "diff_hunk" : "@@ -814,14 +814,35 @@ static std::string ResolveErrMsg(const char * const optname, const std::string&\n     return strprintf(_(\"Cannot resolve -%s address: '%s'\"), optname, strBind);\n }\n \n+/**\n+ * Used when -printtoconsole is not explicitly set to determine if it makes\n+ * sense to log messages to stdout.\n+ *\n+ * @return true if we should log to stdout, false otherwise.\n+ */\n+static bool ShouldPrintToConsole()\n+{\n+    return !gArgs.GetBoolArg(\"-daemon\", false);\n+}\n+\n+/**\n+ * Initialize global loggers.\n+ *\n+ * Note that this is called very early in the process lifetime, so you should be\n+ * careful about what global state you rely on here.\n+ */\n void InitLogging()\n {\n-    fPrintToConsole = gArgs.GetBoolArg(\"-printtoconsole\", false);\n+    // Add newlines to the logfile to distinguish this execution from the last\n+    // one; called before console logging is set up, so this is only sent to\n+    // debug.log.\n+    LogPrintf(\"\\n\\n\\n\\n\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174836140",
      "id" : 174836140,
      "original_commit_id" : "23bc0aaac8d8ac7f2b41527567d6a2329429d172",
      "original_position" : 27,
      "path" : "src/init.cpp",
      "position" : 27,
      "pull_request_review_id" : 104266513,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-17T01:08:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174836140",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174836866"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174836866"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: move brackets to same line?",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-15T16:00:27Z",
      "diff_hunk" : "@@ -349,7 +349,7 @@ int LogPrintStr(const std::string &str)\n         ret = fwrite(strTimestamped.data(), 1, strTimestamped.size(), stdout);\n         fflush(stdout);\n     }\n-    else if (fPrintToDebugLog)\n+    if (fPrintToDebugLog)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174836866",
      "id" : 174836866,
      "original_commit_id" : "23bc0aaac8d8ac7f2b41527567d6a2329429d172",
      "original_position" : 5,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 104267347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-17T01:08:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174836866",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 23bc0aaac8d8ac7f2b41527567d6a2329429d172 modulo @Sjors' nits :-)",
      "created_at" : "2018-03-15T16:08:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373431335",
      "id" : 373431335,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-15T16:08:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373431335",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK  https://github.com/bitcoin/bitcoin/commit/23bc0aaac8d8ac7f2b41527567d6a2329429d172 though I do agree with @laanwj that disabling logging would make sense now.",
      "created_at" : "2018-03-15T19:34:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373497222",
      "id" : 373497222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-15T19:34:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373497222",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6394033?v=4",
         "events_url" : "https://api.github.com/users/donaloconnor/events{/privacy}",
         "followers_url" : "https://api.github.com/users/donaloconnor/followers",
         "following_url" : "https://api.github.com/users/donaloconnor/following{/other_user}",
         "gists_url" : "https://api.github.com/users/donaloconnor/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/donaloconnor",
         "id" : 6394033,
         "login" : "donaloconnor",
         "organizations_url" : "https://api.github.com/users/donaloconnor/orgs",
         "received_events_url" : "https://api.github.com/users/donaloconnor/received_events",
         "repos_url" : "https://api.github.com/users/donaloconnor/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/donaloconnor/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/donaloconnor/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/donaloconnor"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174958286"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174958286"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What about `-debuglogfile=/dev/null` as a special case .-)\r\n\r\nIf we are to add a separate option, then perhaps something starting with `-disable` to make it consistent with `-disablewallet`? We don't have any `bitcoind` command-line options starting with `-no` AFAIK.\r\n\r\nAlso `-nodebuglogfile` can be parsed as \"node bug logfile\" :-)",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-15T23:03:37Z",
      "diff_hunk" : "@@ -349,7 +349,7 @@ int LogPrintStr(const std::string &str)\n         ret = fwrite(strTimestamped.data(), 1, strTimestamped.size(), stdout);\n         fflush(stdout);\n     }\n-    else if (fPrintToDebugLog)\n+    if (fPrintToDebugLog)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r174958286",
      "id" : 174958286,
      "in_reply_to_id" : 174833241,
      "original_commit_id" : "23bc0aaac8d8ac7f2b41527567d6a2329429d172",
      "original_position" : 5,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 104410620,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-17T01:08:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/174958286",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I could not resist the temptation to add `-nodebuglog` because I found the \"node bug log\" thing to be so funny. I added it as a \"secret\" option (meaning it's suppressed by default from `-help` output). You can also use `-debuglogfile=/dev/null` and `-debuglogfile=0` to disable logging. There are also Python test cases for all three methods. So I believe everyone got what they asked for :-D\r\n\r\nInterestingly, before this change `-debuglogfile=/dev/null` did **not** work, because `FileTruncate()` does not check that its argument is a regular file. This is yet-another Unix compatibility thing that I would like Bitcoin to support better! I believe this means that master will fail if you try to log to e.g. a named pipe created with `mkfifo(1)`, which is not common but still an unfortunate bug.\r\n\r\nOne question I have about this change: I was originally going to update the `-debuglogfile` help string but realized it would require it to be re-translated. Since developers are probably the only ones who want this option it might just make sense to have a one line changelog note about the change? I'm not sure what the protocol is for this.",
      "created_at" : "2018-03-16T07:21:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373625392",
      "id" : 373625392,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-16T07:21:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373625392",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I tested and you actually can use a named pipe, because the operation that's failing is a file size check in boost. But you can't use other special files, e.g. `/dev/zero` which swallows input the same was as `/dev/null`.\r\n\r\n```bash\r\n# this is allowed\r\n$ echo foo > /dev/zero\r\n\r\n# yep, it worked\r\n$ echo $?\r\n0\r\n\r\n# this fails\r\n$ ./src/bitcoind -debuglogfile=/dev/zero\r\n\r\n\r\n************************\r\nEXCEPTION: N5boost10filesystem16filesystem_errorE       \r\nboost::filesystem::file_size: Operation not permitted: \"/dev/zero\"       \r\nbitcoin in AppInit()       \r\n```\r\n\r\nSomething to fix another day I guess.",
      "created_at" : "2018-03-16T07:30:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373627306",
      "id" : 373627306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-16T07:30:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373627306",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "> use -debuglogfile=/dev/null \r\n\r\nRight, what bothered me about /dev/null is that it's OS-specific. I don't think providing arbitrary device files as debug log files (such as `/dev/zero`, `/dev/urandom` etc) should be really a goal. It mentions `file` in the name :) Better to have a dedicated option for it, thanks.\r\n",
      "created_at" : "2018-03-16T09:55:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373661350",
      "id" : 373661350,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-16T09:56:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373661350",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I spent way longer on this than I'd like to admit, due to strange behavior in the Bitcoin option parser.\r\n\r\nThere's a little-known feature in the option parser where `-nofoo` is the same as `-foo=0` when updating the value map. So you can't actually create an option with a name like `-nodebuglog`, because looking up the value from the map still uses the `nodebuglog` value, but the value is actually set in the map as `debuglog`. I thought this was really neat, because my last update to this diff had special cased `-nodebuglog` and `-debuglogfile=0`, so I thought I could just use `gArgs.GetBoolArg(\"-debuglogfile\")`. That would be really nice because then I could delete a bunch of lines from my last diff and not treat those as special cases.\r\n\r\nNope, doesn't work. I digged in and here's where it gets really weird. The option parser uses `atoi()` to interpret boolean arguments. The thing is, the return value of `atoi()` is **undefined** if you pass it non-integer values, as there's no way to tell from the return value whether an error occurred.\r\n\r\nHere's where it gets kind of weird. We had a test in `ResendWalletTransactionsTest()` that was setting a flag like this:\r\n\r\n```python\r\nclass ResendWalletTransactionsTest(BitcoinTestFramework):\r\n    def set_test_params(self):\r\n        self.num_nodes = 1\r\n        self.extra_args = [['--walletbroadcast=false']]\r\n```\r\n\r\nSo what happens when the option parser sees this... is it calls `atoi(\"false\")`. That returns 0 like we want, but only because `atoi()` happens to return false for invalid input... a fact that I want to again emphasize is undefined. On another libc implementation `atoi()` is allowed to e.g. return an uninitialized value in this situation. This also means that `-walletbroadcast=true` would **disable** wallet broadcast, for the same reason.\r\n\r\nSince there's a test case in Bitcoin that was using a \"false\" flag, I think it's possible that there are other people in the wild relying on this behavior. So now the option parser treasts only `0` and `false` as false, and no other values. If people had configs that were setting values to false, this will still work. I really wanted to add C++ tests for this code, but the methods I wanted to test are defined static in the util.cpp file.**\r\n\r\nI also made it so if you use `-debuglogfile=/dev/null` on a Unix system, it won't crash. But that's just because I fixed `ShrinkDebugLogFile()`, not because I'm special casing it. Setting `-debuglogfile=/dev/null` will actually open `/dev/null` and write data to it.\r\n\r\nA lot yak shaving, but it makes the option parser more robust so probably worth it.\r\n\r\n** Technically this means that `-debuglogfile=false` will not write to a file named \"false\". Of course, `-debuglogfile=./false` would be perfectly fine. I thought about abusing this to add a Python test case for the option parsing by testing those two flavors in this test, but it felt too weird.",
      "created_at" : "2018-03-17T00:20:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373877985",
      "id" : 373877985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-17T00:31:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373877985",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Actually it looks like I can add C++ test for the option parser, I'm going to put up another commit adding that.",
      "created_at" : "2018-03-17T00:33:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373879390",
      "id" : 373879390,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-17T00:33:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373879390",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "`atoi` is well-defined for all null-terminated input strings.\r\n\r\n> The strtol, strtoll, strtoul, and strtoull functions return the converted\r\nvalue, if any. If no conversion could be performed, zero is returned.",
      "created_at" : "2018-03-17T01:27:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373883812",
      "id" : 373883812,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-17T01:27:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373883812",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Interesting, that's not documented in the man pages on my system, but cppreference.com agrees that it must return 0 in such a case.",
      "created_at" : "2018-03-17T01:29:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373884010",
      "id" : 373884010,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-17T01:29:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373884010",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK - looks good ",
      "created_at" : "2018-03-17T11:49:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373914202",
      "id" : 373914202,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-17T11:49:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373914202",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6394033?v=4",
         "events_url" : "https://api.github.com/users/donaloconnor/events{/privacy}",
         "followers_url" : "https://api.github.com/users/donaloconnor/followers",
         "following_url" : "https://api.github.com/users/donaloconnor/following{/other_user}",
         "gists_url" : "https://api.github.com/users/donaloconnor/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/donaloconnor",
         "id" : 6394033,
         "login" : "donaloconnor",
         "organizations_url" : "https://api.github.com/users/donaloconnor/orgs",
         "received_events_url" : "https://api.github.com/users/donaloconnor/received_events",
         "repos_url" : "https://api.github.com/users/donaloconnor/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/donaloconnor/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/donaloconnor/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/donaloconnor"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175260794"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175260794"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this has nothing to do with `printtoconsole`. Mind to split it up into a separate pull?",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-17T15:13:45Z",
      "diff_hunk" : "@@ -423,16 +432,14 @@ void ReleaseDirectoryLocks()\n /** Interpret string as boolean, for argument parsing */\n static bool InterpretBool(const std::string& strValue)\n {\n-    if (strValue.empty())\n-        return true;\n-    return (atoi(strValue) != 0);\n+    // These values mean false, anything else (including empty string) is true.\n+    return strValue != \"0\" && strValue != \"false\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175260794",
      "id" : 175260794,
      "original_commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "original_position" : 43,
      "path" : "src/util.cpp",
      "position" : 43,
      "pull_request_review_id" : 104768994,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-17T15:13:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175260794",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175272714"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175272714"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Actually -noX is interpreted by the args manager as -X=0 implicitly anyway, converted by the InterpretNegativeSetting() function. So @laanwj and @Sjors suggestions are equivalent :)\r\nEDIT: just saw further conversation, this was pointed out",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-17T23:15:32Z",
      "diff_hunk" : "@@ -349,7 +349,7 @@ int LogPrintStr(const std::string &str)\n         ret = fwrite(strTimestamped.data(), 1, strTimestamped.size(), stdout);\n         fflush(stdout);\n     }\n-    else if (fPrintToDebugLog)\n+    if (fPrintToDebugLog)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175272714",
      "id" : 175272714,
      "in_reply_to_id" : 174833241,
      "original_commit_id" : "23bc0aaac8d8ac7f2b41527567d6a2329429d172",
      "original_position" : 5,
      "path" : "src/util.cpp",
      "position" : null,
      "pull_request_review_id" : 104780834,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-17T23:17:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175272714",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK https://github.com/bitcoin/bitcoin/pull/12689/commits/dca1a864f5395a69c6dc2952dcd1dca0d71976e9, nice :)",
      "created_at" : "2018-03-17T23:23:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373960278",
      "id" : 373960278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-17T23:23:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373960278",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3211283?v=4",
         "events_url" : "https://api.github.com/users/MeshCollider/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MeshCollider/followers",
         "following_url" : "https://api.github.com/users/MeshCollider/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MeshCollider/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MeshCollider",
         "id" : 3211283,
         "login" : "MeshCollider",
         "organizations_url" : "https://api.github.com/users/MeshCollider/orgs",
         "received_events_url" : "https://api.github.com/users/MeshCollider/received_events",
         "repos_url" : "https://api.github.com/users/MeshCollider/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MeshCollider/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MeshCollider/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MeshCollider"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175275328"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175275328"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It has to do with the behavior I wanted for disabling the debug log, but you're right that it's technically orthogonal. I will split it out.",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-18T02:13:48Z",
      "diff_hunk" : "@@ -423,16 +432,14 @@ void ReleaseDirectoryLocks()\n /** Interpret string as boolean, for argument parsing */\n static bool InterpretBool(const std::string& strValue)\n {\n-    if (strValue.empty())\n-        return true;\n-    return (atoi(strValue) != 0);\n+    // These values mean false, anything else (including empty string) is true.\n+    return strValue != \"0\" && strValue != \"false\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175275328",
      "id" : 175275328,
      "in_reply_to_id" : 175260794,
      "original_commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "original_position" : 43,
      "path" : "src/util.cpp",
      "position" : 43,
      "pull_request_review_id" : 104783571,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-18T02:13:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175275328",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've split the option parsing code out into another change as Marco asked. Once that is merged I can rebase and squash this branch.",
      "created_at" : "2018-03-18T02:44:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-373968652",
      "id" : 373968652,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-18T02:44:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373968652",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175308264"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175308264"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Feels like this should also be in #12713.",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-18T23:02:54Z",
      "diff_hunk" : "@@ -10,7 +10,7 @@\n class ResendWalletTransactionsTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n-        self.extra_args = [['--walletbroadcast=false']]\n+        self.extra_args = [['-walletbroadcast=0']]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175308264",
      "id" : 175308264,
      "original_commit_id" : "13641e6345442e6bca8a4c0b34fd858f1ab2a08d",
      "original_position" : 5,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : 5,
      "pull_request_review_id" : 104815540,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-18T23:12:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175308264",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175308600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175308600"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Feels non-obvious based on the name that this would toggle the state of a global variable. Now that the bool option parsing is fixed, I don't think there's a need for this function. But even if you want to keep it, I think it would be clearer if the code in `AppInitMain` set `fPrintToDebugLog = ShouldOpenDebugLog()`.",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-18T23:09:55Z",
      "diff_hunk" : "@@ -193,6 +193,17 @@ fs::path GetDebugLogPath()\n     return AbsPathForConfigVal(logfile);\n }\n \n+bool ShouldOpenDebugLog()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175308600",
      "id" : 175308600,
      "original_commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "original_position" : 4,
      "path" : "src/util.cpp",
      "position" : 4,
      "pull_request_review_id" : 104815540,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-18T23:12:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175308600",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175308649"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175308649"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: `PrintToConsoleDefault()` is seems more accurate. Otherwise the function name makes it sound like it takes `-printtoconsole` into account.",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-18T23:11:17Z",
      "diff_hunk" : "@@ -814,14 +814,35 @@ static std::string ResolveErrMsg(const char * const optname, const std::string&\n     return strprintf(_(\"Cannot resolve -%s address: '%s'\"), optname, strBind);\n }\n \n+/**\n+ * Used when -printtoconsole is not explicitly set to determine if it makes\n+ * sense to log messages to stdout.\n+ *\n+ * @return true if we should log to stdout, false otherwise.\n+ */\n+static bool ShouldPrintToConsole()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175308649",
      "id" : 175308649,
      "original_commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "original_position" : 10,
      "path" : "src/init.cpp",
      "position" : 10,
      "pull_request_review_id" : 104815540,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-18T23:12:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175308649",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/881253?v=4",
         "events_url" : "https://api.github.com/users/jimpo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimpo/followers",
         "following_url" : "https://api.github.com/users/jimpo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimpo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimpo",
         "id" : 881253,
         "login" : "jimpo",
         "organizations_url" : "https://api.github.com/users/jimpo/orgs",
         "received_events_url" : "https://api.github.com/users/jimpo/received_events",
         "repos_url" : "https://api.github.com/users/jimpo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimpo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimpo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175309191"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175309191"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since it is only called once, you could also inline it and call the variable `const bool default_printtoconsole = !gArgs.GetBoolArg(\"-daemon\", false);`",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-18T23:24:27Z",
      "diff_hunk" : "@@ -814,14 +814,35 @@ static std::string ResolveErrMsg(const char * const optname, const std::string&\n     return strprintf(_(\"Cannot resolve -%s address: '%s'\"), optname, strBind);\n }\n \n+/**\n+ * Used when -printtoconsole is not explicitly set to determine if it makes\n+ * sense to log messages to stdout.\n+ *\n+ * @return true if we should log to stdout, false otherwise.\n+ */\n+static bool ShouldPrintToConsole()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175309191",
      "id" : 175309191,
      "in_reply_to_id" : 175308649,
      "original_commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "original_position" : 10,
      "path" : "src/init.cpp",
      "position" : 10,
      "pull_request_review_id" : 104816420,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-18T23:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175309191",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175332662"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175332662"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's already inlined by the compiler, there's no difference in the executable produced by GCC either way. The only reason it's still a method is because it originally called `isatty()`. If I can get #12713 merged I am happy to remove this method.",
      "commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "created_at" : "2018-03-19T05:08:12Z",
      "diff_hunk" : "@@ -814,14 +814,35 @@ static std::string ResolveErrMsg(const char * const optname, const std::string&\n     return strprintf(_(\"Cannot resolve -%s address: '%s'\"), optname, strBind);\n }\n \n+/**\n+ * Used when -printtoconsole is not explicitly set to determine if it makes\n+ * sense to log messages to stdout.\n+ *\n+ * @return true if we should log to stdout, false otherwise.\n+ */\n+static bool ShouldPrintToConsole()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#discussion_r175332662",
      "id" : 175332662,
      "in_reply_to_id" : 175308649,
      "original_commit_id" : "dca1a864f5395a69c6dc2952dcd1dca0d71976e9",
      "original_position" : 10,
      "path" : "src/init.cpp",
      "position" : 10,
      "pull_request_review_id" : 104842278,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12689",
      "updated_at" : "2018-03-19T05:08:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175332662",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke This branch now contains two commits: the one from #12713 , and then a second commit with changes actually related to console printing. Both commits should pass the test suite.",
      "created_at" : "2018-03-20T08:21:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-374512150",
      "id" : 374512150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-20T08:21:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374512150",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated again with changes from #12713.",
      "created_at" : "2018-03-21T06:02:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12689#issuecomment-374840829",
      "id" : 374840829,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12689",
      "updated_at" : "2018-03-21T06:02:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374840829",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/2734?v=4",
         "events_url" : "https://api.github.com/users/eklitzke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eklitzke/followers",
         "following_url" : "https://api.github.com/users/eklitzke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eklitzke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eklitzke",
         "id" : 2734,
         "login" : "eklitzke",
         "organizations_url" : "https://api.github.com/users/eklitzke/orgs",
         "received_events_url" : "https://api.github.com/users/eklitzke/received_events",
         "repos_url" : "https://api.github.com/users/eklitzke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eklitzke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eklitzke"
      }
   }
]
