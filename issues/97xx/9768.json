{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "This is a WIP PR. Comments and feedback on the overall approach welcomed!\r\n\r\n(For an overview of python's logging module and terms, see https://docs.python.org/3/library/logging.html and https://docs.python.org/3/howto/logging.html)\r\n\r\nThis PR adds logging to the test-framwork.py module. The \"TestFramework\" logger is added as a member of the BitcoinTestFramework class, and two handlers are attached to the logger:\r\n\r\n- a StreamHandler() which outputs ERROR and higher level records to stderr.\r\n- a FileHandler() which outputs all log records to a new `test_framework.log` file in the temporary test directory.\r\n\r\nTest scripts and helper modules can log to the same Logger so there's a single log output:\r\n\r\n- Individual test scripts can log to \"TestFramework\" by calling `self.log.[debug|info|warning|error|critical|exception]()`.\r\n- Helper modules should log to child Loggers such as \"TestFramework.mininode\" or \"TestFramework.authproxy\", which will result in log records being propagated up to the \"TestFramework\" Logger.\r\n\r\nI've added examples of how individual scripts and helper modules should log events in p2p-segwit.py and mininode.py.\r\n\r\nThe eventual goal is to remove all `print()` calls and replace them with logging.\r\n\r\nA few notes on the implementation:\r\n\r\n- a new `--loglevel` parameter can be used to log lower level records to the console, for example `--loglevel=DEBUG` will emit all log records to the console.\r\n- the date format of `test_framework.log` is the same as bitcoind's debug.log. It should be trivial to interleave `test_framework.log` with the various `nodeX/debug.log` files for a global view of what's happening during the test.\r\n- this should have no interaction with the existing `--tracerpc` parameter",
   "closed_at" : "2017-03-09T20:18:48Z",
   "closed_by" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
      "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
      "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/MarcoFalke",
      "id" : 6399679,
      "login" : "MarcoFalke",
      "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
      "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
      "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
      "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/MarcoFalke"
   },
   "comments" : 19,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9768/comments",
   "created_at" : "2017-02-15T17:48:13Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9768/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/9768",
   "id" : 207877657,
   "labels" : [
      {
         "color" : "d4c5f9",
         "default" : false,
         "id" : 62963516,
         "name" : "Tests",
         "node_id" : "MDU6TGFiZWw2Mjk2MzUxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9768/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MTA2MzYzNDA5",
   "number" : 9768,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/9768.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9768",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/9768.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9768"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "[qa] Add logging to test_framework.py",
   "updated_at" : "2017-11-27T18:34:39Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9768",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
      "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jnewbery/followers",
      "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jnewbery",
      "id" : 1063656,
      "login" : "jnewbery",
      "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
      "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
      "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
      "repos_url" : "https://api.github.com/users/jnewbery/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jnewbery"
   }
}
