[
   {
      "author_association" : "MEMBER",
      "body" : "Doesn't the location of the default config file depend on the datadir?",
      "created_at" : "2018-07-11T16:05:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-404224521",
      "id" : 404224521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDIyNDUyMQ==",
      "updated_at" : "2018-07-11T16:05:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404224521",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Doesn't the location of the default config file depend on the datadir?\r\n\r\nYes, BITCOIN_CONF_FILENAME, which is set to `bitcoin.conf` is feed into AbsPathForConfigVal() which uses the datadir setting. However, if no datadir is explicitly set it defaults to \"\". I think that this means that `bitcoin.conf` is opened relative to the processe's working directory.\r\n\r\nIt appears that you have a specific problem in mind, which I don't see. Care to elaborate?",
      "created_at" : "2018-07-11T17:37:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-404251868",
      "id" : 404251868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDI1MTg2OA==",
      "updated_at" : "2018-07-11T17:51:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404251868",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/432385?v=4",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "node_id" : "MDQ6VXNlcjQzMjM4NQ==",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "See https://dev.visucore.com/bitcoin/doxygen/class_args_manager.html#aec848fd54ace0df3df48dac446feb7d2 which calls `GetDataDir`",
      "created_at" : "2018-07-11T18:41:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-404270498",
      "id" : 404270498,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDI3MDQ5OA==",
      "updated_at" : "2018-07-11T18:41:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404270498",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Now the second if clause seems meaningless.\r\n\r\nhttps://github.com/Flowdalic/bitcoin/blob/94a038b8694229c0153ede48a53701424ca51e38/src/bitcoind.cpp#L98-L102\r\n\r\nBecause it already checked in `ReadConfigFiles`.\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/4a7e64fc85461a205f2b51da52d1455795d43b91/src/util.cpp#L909-L912",
      "created_at" : "2018-07-12T03:53:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-404381179",
      "id" : 404381179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDM4MTE3OQ==",
      "updated_at" : "2018-07-12T03:53:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404381179",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16274575?v=4",
         "events_url" : "https://api.github.com/users/AtsukiTak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AtsukiTak/followers",
         "following_url" : "https://api.github.com/users/AtsukiTak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AtsukiTak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AtsukiTak",
         "id" : 16274575,
         "login" : "AtsukiTak",
         "node_id" : "MDQ6VXNlcjE2Mjc0NTc1",
         "organizations_url" : "https://api.github.com/users/AtsukiTak/orgs",
         "received_events_url" : "https://api.github.com/users/AtsukiTak/received_events",
         "repos_url" : "https://api.github.com/users/AtsukiTak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AtsukiTak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AtsukiTak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AtsukiTak"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Right, the check can get probably removed.",
      "created_at" : "2018-07-12T05:54:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-404397796",
      "id" : 404397796,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDM5Nzc5Ng==",
      "updated_at" : "2018-07-12T05:54:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404397796",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/432385?v=4",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "node_id" : "MDQ6VXNlcjQzMjM4NQ==",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13878 (utils: Add fstream wrapper to allow to pass unicode filename on Windows by ken2812221)\n* #13787 (Test for Windows encoding issue by ken2812221)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-07-17T16:17:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-405640903",
      "id" : 405640903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNTY0MDkwMw==",
      "updated_at" : "2018-09-16T23:16:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/405640903",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased. Also fixed the cause and re-enabled the tests which were disabled in https://github.com/bitcoin/bitcoin/pull/13687 with fabe28a0cdcfa13e0e595a0905e3642a960d3077.\r\n\r\nI had a hard time working on the argument and configuration file parsing code. It is a little bit spagettish and some parts are messy.\r\n\r\nI used default argument values in order to optionally change GetDataDir() to not create the data directory, which, I assumed, made the change less intrusive. But I am happy to change it towards a GetDataDir() / GetDataDirAndCreateIfNecessary(). I am undecied which of those two approaches would be better.",
      "created_at" : "2018-07-19T19:43:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-406391841",
      "id" : 406391841,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNjM5MTg0MQ==",
      "updated_at" : "2018-07-19T19:43:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/406391841",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/432385?v=4",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "node_id" : "MDQ6VXNlcjQzMjM4NQ==",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13621#discussion_r204111837"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204111837"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems never fail unless user specify unpermitted path.",
      "commit_id" : "0053ea23d8b17089b3845cd6126a80e5ea7a501c",
      "created_at" : "2018-07-20T17:15:10Z",
      "diff_hunk" : "@@ -121,14 +121,14 @@ static int AppInitRPC(int argc, char* argv[])\n         }\n         return EXIT_SUCCESS;\n     }\n-    if (!fs::is_directory(GetDataDir(false))) {\n-        fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", gArgs.GetArg(\"-datadir\", \"\").c_str());\n-        return EXIT_FAILURE;\n-    }\n     if (!gArgs.ReadConfigFiles(error, true)) {\n         fprintf(stderr, \"Error reading configuration file: %s\\n\", error.c_str());\n         return EXIT_FAILURE;\n     }\n+    if (!fs::is_directory(GetDataDir(false))) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#discussion_r204111837",
      "id" : 204111837,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDExMTgzNw==",
      "original_commit_id" : "b6a43dfc5bc0e7ae71486aa1a515a5eb3df9946d",
      "original_position" : 12,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 12,
      "pull_request_review_id" : 139140766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13621",
      "updated_at" : "2018-09-07T10:28:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204111837",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16274575?v=4",
         "events_url" : "https://api.github.com/users/AtsukiTak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AtsukiTak/followers",
         "following_url" : "https://api.github.com/users/AtsukiTak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AtsukiTak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AtsukiTak",
         "id" : 16274575,
         "login" : "AtsukiTak",
         "node_id" : "MDQ6VXNlcjE2Mjc0NTc1",
         "organizations_url" : "https://api.github.com/users/AtsukiTak/orgs",
         "received_events_url" : "https://api.github.com/users/AtsukiTak/received_events",
         "repos_url" : "https://api.github.com/users/AtsukiTak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AtsukiTak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AtsukiTak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AtsukiTak"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice work :)\r\nBut this PR seems to contains lots of changes for me such as\r\n- Check for datadir after the config files were read\r\n- Create directory if user specify non exist directory\r\n- Do not fallback to empy path in GetDataDir()\r\n\r\nI think you should leave only first one, and move rests to another PR, and then discuss about them.",
      "created_at" : "2018-07-20T17:28:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-406670712",
      "id" : 406670712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNjY3MDcxMg==",
      "updated_at" : "2018-07-20T17:28:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/406670712",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16274575?v=4",
         "events_url" : "https://api.github.com/users/AtsukiTak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AtsukiTak/followers",
         "following_url" : "https://api.github.com/users/AtsukiTak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AtsukiTak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AtsukiTak",
         "id" : 16274575,
         "login" : "AtsukiTak",
         "node_id" : "MDQ6VXNlcjE2Mjc0NTc1",
         "organizations_url" : "https://api.github.com/users/AtsukiTak/orgs",
         "received_events_url" : "https://api.github.com/users/AtsukiTak/received_events",
         "repos_url" : "https://api.github.com/users/AtsukiTak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AtsukiTak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AtsukiTak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AtsukiTak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13621#discussion_r204209882"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204209882"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It fails if the specified path is not a directory. I think that is sensible and was already previous behavior. Or do have a specific change request?",
      "commit_id" : "0053ea23d8b17089b3845cd6126a80e5ea7a501c",
      "created_at" : "2018-07-21T12:37:39Z",
      "diff_hunk" : "@@ -121,14 +121,14 @@ static int AppInitRPC(int argc, char* argv[])\n         }\n         return EXIT_SUCCESS;\n     }\n-    if (!fs::is_directory(GetDataDir(false))) {\n-        fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", gArgs.GetArg(\"-datadir\", \"\").c_str());\n-        return EXIT_FAILURE;\n-    }\n     if (!gArgs.ReadConfigFiles(error, true)) {\n         fprintf(stderr, \"Error reading configuration file: %s\\n\", error.c_str());\n         return EXIT_FAILURE;\n     }\n+    if (!fs::is_directory(GetDataDir(false))) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#discussion_r204209882",
      "id" : 204209882,
      "in_reply_to_id" : 204111837,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDIwOTg4Mg==",
      "original_commit_id" : "b6a43dfc5bc0e7ae71486aa1a515a5eb3df9946d",
      "original_position" : 12,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 12,
      "pull_request_review_id" : 139257192,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13621",
      "updated_at" : "2018-09-07T10:28:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204209882",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/432385?v=4",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "node_id" : "MDQ6VXNlcjQzMjM4NQ==",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think you should leave only first one\r\n\r\nWell, those commits depend on each other: For example I wouldn't be able to re-enable the relevant tests of \"Check for datadir after the config files were read\" without the previous commits.\r\n\r\nI don't feel like that this patch series is worth splitting up, as it is pretty small, but I am happy create single PRs for each commit one after another, if there is a consensus that this would be favorable.",
      "created_at" : "2018-07-21T12:40:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-406794188",
      "id" : 406794188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNjc5NDE4OA==",
      "updated_at" : "2018-07-21T12:40:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/406794188",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/432385?v=4",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "node_id" : "MDQ6VXNlcjQzMjM4NQ==",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13621#discussion_r204218029"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204218029"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If I specify a file, `boost::filesystem::create_directory` throw an error.\r\nIf I specify a non-exist path, a new directory is created and no error happens.\r\n\r\nI think you just missed second argument; `GetDataDir(false, false)` might be what you want.",
      "commit_id" : "0053ea23d8b17089b3845cd6126a80e5ea7a501c",
      "created_at" : "2018-07-21T18:33:23Z",
      "diff_hunk" : "@@ -121,14 +121,14 @@ static int AppInitRPC(int argc, char* argv[])\n         }\n         return EXIT_SUCCESS;\n     }\n-    if (!fs::is_directory(GetDataDir(false))) {\n-        fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", gArgs.GetArg(\"-datadir\", \"\").c_str());\n-        return EXIT_FAILURE;\n-    }\n     if (!gArgs.ReadConfigFiles(error, true)) {\n         fprintf(stderr, \"Error reading configuration file: %s\\n\", error.c_str());\n         return EXIT_FAILURE;\n     }\n+    if (!fs::is_directory(GetDataDir(false))) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#discussion_r204218029",
      "id" : 204218029,
      "in_reply_to_id" : 204111837,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDIxODAyOQ==",
      "original_commit_id" : "b6a43dfc5bc0e7ae71486aa1a515a5eb3df9946d",
      "original_position" : 12,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 12,
      "pull_request_review_id" : 139265617,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13621",
      "updated_at" : "2018-09-07T10:28:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204218029",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16274575?v=4",
         "events_url" : "https://api.github.com/users/AtsukiTak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AtsukiTak/followers",
         "following_url" : "https://api.github.com/users/AtsukiTak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AtsukiTak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AtsukiTak",
         "id" : 16274575,
         "login" : "AtsukiTak",
         "node_id" : "MDQ6VXNlcjE2Mjc0NTc1",
         "organizations_url" : "https://api.github.com/users/AtsukiTak/orgs",
         "received_events_url" : "https://api.github.com/users/AtsukiTak/received_events",
         "repos_url" : "https://api.github.com/users/AtsukiTak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AtsukiTak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AtsukiTak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AtsukiTak"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13621#discussion_r204218278"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204218278"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sorry for my poor English. Please feel free to ask me if my English is not clear.",
      "commit_id" : "0053ea23d8b17089b3845cd6126a80e5ea7a501c",
      "created_at" : "2018-07-21T18:43:40Z",
      "diff_hunk" : "@@ -121,14 +121,14 @@ static int AppInitRPC(int argc, char* argv[])\n         }\n         return EXIT_SUCCESS;\n     }\n-    if (!fs::is_directory(GetDataDir(false))) {\n-        fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", gArgs.GetArg(\"-datadir\", \"\").c_str());\n-        return EXIT_FAILURE;\n-    }\n     if (!gArgs.ReadConfigFiles(error, true)) {\n         fprintf(stderr, \"Error reading configuration file: %s\\n\", error.c_str());\n         return EXIT_FAILURE;\n     }\n+    if (!fs::is_directory(GetDataDir(false))) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#discussion_r204218278",
      "id" : 204218278,
      "in_reply_to_id" : 204111837,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwNDIxODI3OA==",
      "original_commit_id" : "b6a43dfc5bc0e7ae71486aa1a515a5eb3df9946d",
      "original_position" : 12,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 12,
      "pull_request_review_id" : 139265841,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13621",
      "updated_at" : "2018-09-07T10:28:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/204218278",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16274575?v=4",
         "events_url" : "https://api.github.com/users/AtsukiTak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AtsukiTak/followers",
         "following_url" : "https://api.github.com/users/AtsukiTak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AtsukiTak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AtsukiTak",
         "id" : 16274575,
         "login" : "AtsukiTak",
         "node_id" : "MDQ6VXNlcjE2Mjc0NTc1",
         "organizations_url" : "https://api.github.com/users/AtsukiTak/orgs",
         "received_events_url" : "https://api.github.com/users/AtsukiTak/received_events",
         "repos_url" : "https://api.github.com/users/AtsukiTak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AtsukiTak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AtsukiTak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AtsukiTak"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I don't feel like that this patch series is worth splitting up, as it is pretty small\r\n\r\nI see. So please don't care about that. That was just newbie's nonsense comment.",
      "created_at" : "2018-07-21T18:43:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-406815759",
      "id" : 406815759,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNjgxNTc1OQ==",
      "updated_at" : "2018-07-21T18:43:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/406815759",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/16274575?v=4",
         "events_url" : "https://api.github.com/users/AtsukiTak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/AtsukiTak/followers",
         "following_url" : "https://api.github.com/users/AtsukiTak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/AtsukiTak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/AtsukiTak",
         "id" : 16274575,
         "login" : "AtsukiTak",
         "node_id" : "MDQ6VXNlcjE2Mjc0NTc1",
         "organizations_url" : "https://api.github.com/users/AtsukiTak/orgs",
         "received_events_url" : "https://api.github.com/users/AtsukiTak/received_events",
         "repos_url" : "https://api.github.com/users/AtsukiTak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/AtsukiTak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/AtsukiTak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/AtsukiTak"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think our PRs conflict, but just wanted to make you aware of a minor change I'm putting in the logging behavior: https://github.com/bitcoin/bitcoin/pull/14057\r\n\r\nI'm also working on logic to create a `bitcoin.conf.example` file: https://github.com/bitcoin/bitcoin/pull/13761\r\n\r\n",
      "created_at" : "2018-08-24T23:11:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-415905377",
      "id" : 415905377,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxNTkwNTM3Nw==",
      "updated_at" : "2018-08-24T23:11:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/415905377",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3648618?v=4",
         "events_url" : "https://api.github.com/users/leishman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/leishman/followers",
         "following_url" : "https://api.github.com/users/leishman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/leishman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/leishman",
         "id" : 3648618,
         "login" : "leishman",
         "node_id" : "MDQ6VXNlcjM2NDg2MTg=",
         "organizations_url" : "https://api.github.com/users/leishman/orgs",
         "received_events_url" : "https://api.github.com/users/leishman/received_events",
         "repos_url" : "https://api.github.com/users/leishman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/leishman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/leishman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/leishman"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Pinging @MarcoFalke since this PR re-enables tests he disabled in fabe28a0cdcfa13e0e595a0905e3642a960d3077 (#13687). Would be great to hear your thoughts on this.",
      "created_at" : "2018-09-07T11:10:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-419407302",
      "id" : 419407302,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxOTQwNzMwMg==",
      "updated_at" : "2018-09-07T11:14:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419407302",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/432385?v=4",
         "events_url" : "https://api.github.com/users/Flowdalic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Flowdalic/followers",
         "following_url" : "https://api.github.com/users/Flowdalic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Flowdalic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Flowdalic",
         "id" : 432385,
         "login" : "Flowdalic",
         "node_id" : "MDQ6VXNlcjQzMjM4NQ==",
         "organizations_url" : "https://api.github.com/users/Flowdalic/orgs",
         "received_events_url" : "https://api.github.com/users/Flowdalic/received_events",
         "repos_url" : "https://api.github.com/users/Flowdalic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Flowdalic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Flowdalic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Flowdalic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I haven't looked at the most recent code, but I still think that the location of the default config file depends on the datadir? See https://dev.visucore.com/bitcoin/doxygen/class_args_manager.html#aec848fd54ace0df3df48dac446feb7d2 which calls `GetDataDir`.\r\n\r\nSo you are changing how and what config files are read. Not sure if we want this behavior change without discussion first.\r\n",
      "created_at" : "2018-09-07T12:16:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-419421318",
      "id" : 419421318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxOTQyMTMxOA==",
      "updated_at" : "2018-09-07T12:16:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419421318",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Also, you modified how bitcoind and bitcoin-cli work, but not the gui. Wouldn't that lead to issues when the gui is used as rpc server via the bitcoin-cli?\r\n\r\nSo if you really want to go ahead with these changes, they need tests that fail on master but pass with your fixes for bitcoind as well as the bitcoin-qt and bitcoin-cli.",
      "created_at" : "2018-09-07T12:17:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13621#issuecomment-419421577",
      "id" : 419421577,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13621",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxOTQyMTU3Nw==",
      "updated_at" : "2018-09-07T12:18:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419421577",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
