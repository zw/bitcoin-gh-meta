{
   "assignee" : null,
   "body" : "With automatic tor HS support in place we should probably not be providing\r\n absolute protection for local peers, since HS inbound could be used to\r\n attack pretty easily.  Instead, this counts on the latency metric inside\r\n AttemptToEvictConnection to privilege actually local peers.\r\n\r\nThis change also makes eviction generally more aggressive by making it\r\n willing to evict the unprotected peer in a netgroup, if the new\r\n connection comes from a netgroup where we have no unprotected peers.\r\n\r\nIt also makes sure that in the case of tying group size to select the\r\n group with the newest member, since newest time is the final selection\r\n criteria.\r\n\r\nThe third commit protects four peers that most recently sent us a valid\r\n transaction to our memory pool.  This metric is costly for attackers to\r\n control since it requires sending acceptable transactions, and an\r\n attacker which is blocking transactions is inherently disadvantaged for this\r\n criteria.\r\n\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 6,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7082/comments",
   "created_at" : "2015-11-23T03:54:30Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7082/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/7082",
   "id" : 118316152,
   "labels" : [
      {
         "color" : "006b75",
         "name" : "P2P",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7082/labels{/name}",
   "locked" : false,
   "milestone" : {
      "closed_at" : null,
      "closed_issues" : 4,
      "created_at" : "2015-12-03T11:07:58Z",
      "creator" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      },
      "description" : "",
      "due_on" : null,
      "html_url" : "https://github.com/bitcoin/bitcoin/milestones/0.13.0",
      "id" : 1441894,
      "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/20/labels",
      "number" : 20,
      "open_issues" : 9,
      "state" : "open",
      "title" : "0.13.0",
      "updated_at" : "2016-03-21T12:41:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/20"
   },
   "number" : 7082,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/7082.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7082",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/7082.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7082"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Do not absolutely protect local peers and make eviction more aggressive.",
   "updated_at" : "2016-03-25T17:39:50Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7082",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
      "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
      "followers_url" : "https://api.github.com/users/gmaxwell/followers",
      "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/gmaxwell",
      "id" : 858454,
      "login" : "gmaxwell",
      "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
      "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
      "repos_url" : "https://api.github.com/users/gmaxwell/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/gmaxwell"
   }
}
