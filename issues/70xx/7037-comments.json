[
   {
      "body" : "utACK",
      "created_at" : "2015-11-17T07:31:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-157298980",
      "id" : 157298980,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-17T07:31:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157298980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "It's strange to have the *same* notification in two different moments.\r\n\r\nCan we make the inventory relay asynchronous and as a slot connected to `GetMainSignals().UpdatedBlockTip()`?\r\n\r\nIn other words, I don't see these kind of `tweaks` the right way to go, instead a refactor to fix these long operations.",
      "created_at" : "2015-11-17T11:11:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-157339807",
      "id" : 157339807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-17T11:11:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157339807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "I agree that it's strange to have notifications effectively three times, but I think we should wait to refactor until after #6494, which is tagged for 0.12.\r\n\r\nAlso I'd be surprised if it turns out the p2p block relay operations are slow, but I haven't timed yet; I'll do some analysis.  Anyway what's the reasoning behind having two different notification systems (`UpdatedBlockTip` and `NotifyBlockTip`)?  Is there a reason we can't or shouldn't consolidate down to one callback system for block notifications?",
      "created_at" : "2015-11-17T14:33:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-157386967",
      "id" : 157386967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-17T14:33:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157386967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "@sdaftuar One was historically for the wallet and the other for the GUI, but I don't think there is any reason to keep both now.",
      "created_at" : "2015-11-17T14:39:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-157388231",
      "id" : 157388231,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-17T14:39:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157388231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Don't forget cvBlockChange which is what lets getblocktemplate know the tip has changed and is called on every block connected or disconnected.  I haven't thought about it until just now, but does it make sense to be calling that inside of ActivateBestChainStep?  I guess it won't be able to do anything until ActivateBestChainStep releases cs_main, at which point it may have received several notifications in a reorg.\r\n",
      "created_at" : "2015-11-17T14:59:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-157394360",
      "id" : 157394360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-17T14:59:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157394360",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "@sdaftuar it would be great to have that analysis. Still, any slot connected to `UpdatedBlockTip` can be blocking causing RPC to wait for the lock.",
      "created_at" : "2015-11-17T15:16:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-157399957",
      "id" : 157399957,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-17T15:16:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157399957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=3",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "body" : "@promag They're not in different moments, there is a sequence of things that get notified. And this patch moves the last to the first because when present it's often the most latency critical and it won't block. \r\n\r\nThis is sufficient to make blocknotify faster. When the wallet fires is not latency critical.  Fortunately they already use different mechanisms, so it was easy to order them. ",
      "created_at" : "2015-11-18T04:32:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-157602160",
      "id" : 157602160,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-18T04:32:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157602160",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "The discussion above leaves me dangling. I think we should do this because its a simple and effectively free performance improvement... that it wouldn't be possible if everything were using the same signals, is IMO just an example of the limitations in that particular approach; but while we do, we should take the benefit available.",
      "created_at" : "2015-11-22T22:44:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-158815808",
      "id" : 158815808,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-22T22:44:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158815808",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "utACK. Won't hurt.",
      "created_at" : "2015-11-26T21:28:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-159995916",
      "id" : 159995916,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-26T21:28:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/159995916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I don't care about having two signals. \r\n\r\nI do think the zmq notify should use this as well. Having the old launch-a-process have less latency than zmq, which we supposedly added to have a lower latency notification mechanism, just isn't acceptable :) (especially if we're talking about seconds here)",
      "created_at" : "2015-11-27T12:56:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-160133976",
      "id" : 160133976,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-27T12:57:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160133976",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "AFAICT ZMQ and the wallet ride on the same notification, and there appears to be no way to control what order they execute in. Suggestions?",
      "created_at" : "2015-11-28T11:28:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-160278763",
      "id" : 160278763,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-28T11:28:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160278763",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Needs rebase",
      "created_at" : "2015-11-30T04:06:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7037#issuecomment-160511591",
      "id" : 160511591,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7037",
      "updated_at" : "2015-11-30T04:06:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/160511591",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   }
]
