[
   {
      "body" : "Don't ignore for whitelisted peers?",
      "created_at" : "2015-11-17T21:52:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-157520707",
      "id" : 157520707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-17T21:52:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157520707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "concept ACK, utACK",
      "created_at" : "2015-11-18T00:46:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-157560427",
      "id" : 157560427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-18T00:46:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157560427",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "utACK\r\n\r\nWe should probably document/popularize blocks only mode, because it can be very useful for some usecases - thank you for it!",
      "created_at" : "2015-11-18T19:47:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-157840820",
      "id" : 157840820,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-18T19:47:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/157840820",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "When documenting some care needs to be taken to ensure people don't enable this on their nodes thinking it will let them receive blocks faster, \"not processing transaction messages will leave more time to do blocks quickly\" isn't an unreasonable assumption to make. In actuality running with `blocksonly`  has a massive negative impact on the speed of block verification by never filling ECDSA signature cache.\r\n",
      "created_at" : "2015-11-20T06:41:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158296036",
      "id" : 158296036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-20T23:25:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158296036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15009664?v=3",
         "events_url" : "https://api.github.com/users/tulip0/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tulip0/followers",
         "following_url" : "https://api.github.com/users/tulip0/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tulip0/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tulip0",
         "id" : 15009664,
         "login" : "tulip0",
         "organizations_url" : "https://api.github.com/users/tulip0/orgs",
         "received_events_url" : "https://api.github.com/users/tulip0/received_events",
         "repos_url" : "https://api.github.com/users/tulip0/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tulip0/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tulip0/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tulip0"
      }
   },
   {
      "body" : "The impact on mining is much of why I wasn't thinking to promote it yet.  We also yet don't do smart things with peers that send no relay.  E.g. a node that somehow ends up with 8 blocksonly peers won't do anything smart about it, and probably we'd like to do something about that before encouraging it's widespread use.",
      "created_at" : "2015-11-20T08:12:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158317628",
      "id" : 158317628,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-20T08:12:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158317628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@gmaxwell wasn't this going undocumented (or at least, a huge \"highly discouraged\" warning) next to if it at all made it in to `0.12`?",
      "created_at" : "2015-11-20T16:47:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158456445",
      "id" : 158456445,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-20T16:47:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158456445",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "The help message is only displayed in debug more.\nOn Nov 20, 2015 8:48 AM, \"Daniel Cousens\" <notifications@github.com> wrote:\n\n> @gmaxwell <https://github.com/gmaxwell> wasn't this going undocumented\n> (or at least, a huge \"highly discouraged\" warning) next to if it at all\n> made it in to 0.12?\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158456445>.\n>\n",
      "created_at" : "2015-11-20T17:34:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158468164",
      "id" : 158468164,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-20T17:34:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158468164",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525665"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45525665"
         }
      },
      "body" : "Maybe I'm missing something, but why wouldn't a peer send us a inv? We're advertising NODE_NETWORK, and we haven't sent them a bloom filter.",
      "commit_id" : "16bc034731fa29189072ce6080f898048ef4bbf2",
      "created_at" : "2015-11-20T22:12:50Z",
      "diff_hunk" : "@@ -4243,6 +4246,13 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                     LogPrint(\"net\", \"getheaders (%d) %s to peer=%d\\n\", pindexBestHeader->nHeight, inv.hash.ToString(), pfrom->id);\n                 }\n             }\n+            else\n+            {\n+                if (fBlocksOnly)\n+                    LogPrint(\"net\", \"peer sent inv %s in violation of protocol peer=%d\\n\", inv.ToString(), pfrom->id);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525665",
      "id" : 45525665,
      "original_commit_id" : "67869e4575447659e1e2975cbc41819ad0f64f9f",
      "original_position" : 30,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046",
      "updated_at" : "2015-11-21T00:11:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45525665",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525814"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45525814"
         }
      },
      "body" : "In the previous PR (which was merged into master) we set fRelayTxs = false in the version message in blocks only mode.",
      "commit_id" : "16bc034731fa29189072ce6080f898048ef4bbf2",
      "created_at" : "2015-11-20T22:14:19Z",
      "diff_hunk" : "@@ -4243,6 +4246,13 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                     LogPrint(\"net\", \"getheaders (%d) %s to peer=%d\\n\", pindexBestHeader->nHeight, inv.hash.ToString(), pfrom->id);\n                 }\n             }\n+            else\n+            {\n+                if (fBlocksOnly)\n+                    LogPrint(\"net\", \"peer sent inv %s in violation of protocol peer=%d\\n\", inv.ToString(), pfrom->id);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525814",
      "id" : 45525814,
      "original_commit_id" : "67869e4575447659e1e2975cbc41819ad0f64f9f",
      "original_position" : 30,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046",
      "updated_at" : "2015-11-21T00:11:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45525814",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "@gmaxwell Re: the only blocksonly peers risk, it probably makes sense to have blocksonly unset NODE_NETWORK for now.",
      "created_at" : "2015-11-20T22:14:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158541067",
      "id" : 158541067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-20T22:14:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158541067",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525913"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45525913"
         }
      },
      "body" : "Weird, I can't seem to find the actual code that does that. :(",
      "commit_id" : "16bc034731fa29189072ce6080f898048ef4bbf2",
      "created_at" : "2015-11-20T22:15:32Z",
      "diff_hunk" : "@@ -4243,6 +4246,13 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                     LogPrint(\"net\", \"getheaders (%d) %s to peer=%d\\n\", pindexBestHeader->nHeight, inv.hash.ToString(), pfrom->id);\n                 }\n             }\n+            else\n+            {\n+                if (fBlocksOnly)\n+                    LogPrint(\"net\", \"peer sent inv %s in violation of protocol peer=%d\\n\", inv.ToString(), pfrom->id);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525913",
      "id" : 45525913,
      "original_commit_id" : "67869e4575447659e1e2975cbc41819ad0f64f9f",
      "original_position" : 30,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046",
      "updated_at" : "2015-11-21T00:11:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45525913",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525980"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45525980"
         }
      },
      "body" : "Ah! Sorry, I'm blind, found it!",
      "commit_id" : "16bc034731fa29189072ce6080f898048ef4bbf2",
      "created_at" : "2015-11-20T22:16:18Z",
      "diff_hunk" : "@@ -4243,6 +4246,13 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                     LogPrint(\"net\", \"getheaders (%d) %s to peer=%d\\n\", pindexBestHeader->nHeight, inv.hash.ToString(), pfrom->id);\n                 }\n             }\n+            else\n+            {\n+                if (fBlocksOnly)\n+                    LogPrint(\"net\", \"peer sent inv %s in violation of protocol peer=%d\\n\", inv.ToString(), pfrom->id);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45525980",
      "id" : 45525980,
      "original_commit_id" : "67869e4575447659e1e2975cbc41819ad0f64f9f",
      "original_position" : 30,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046",
      "updated_at" : "2015-11-21T00:11:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45525980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd I'd rather not, we still serve and relay blocks. You can IBD off a blocks only node, etc.  There are already quite a few nodes out there that silently won't relay transactions, at least with the option undocumented I don't think it's a huge marginal risk. -- also, compare to setting your fee settings very high, or your mempool very small. Same outcome.",
      "created_at" : "2015-11-20T22:31:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158544373",
      "id" : 158544373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-20T22:37:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158544373",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45532898"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45532898"
         }
      },
      "body" : "Reads better if reworded to say \"peer %d sent\"",
      "commit_id" : "16bc034731fa29189072ce6080f898048ef4bbf2",
      "created_at" : "2015-11-20T23:36:56Z",
      "diff_hunk" : "@@ -4367,6 +4377,14 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n \n     else if (strCommand == \"tx\")\n     {\n+        // Stop processing the transaction early if\n+        // We are in blocks only mode and peer is either not whitelisted or whitelistalwaysrelay is off\n+        if (GetBoolArg(\"-blocksonly\", DEFAULT_BLOCKSONLY) && (!pfrom->fWhitelisted || !GetBoolArg(\"-whitelistalwaysrelay\", DEFAULT_WHITELISTALWAYSRELAY)))\n+        {\n+            LogPrint(\"net\", \"peer sent transaction in violation of protocol peer=%d\\n\", pfrom->id);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45532898",
      "id" : 45532898,
      "original_commit_id" : "67869e4575447659e1e2975cbc41819ad0f64f9f",
      "original_position" : 45,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046",
      "updated_at" : "2015-11-21T00:11:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45532898",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45532915"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45532915"
         }
      },
      "body" : "Also reads better if reworded to say \"peer %d sent\"",
      "commit_id" : "16bc034731fa29189072ce6080f898048ef4bbf2",
      "created_at" : "2015-11-20T23:37:17Z",
      "diff_hunk" : "@@ -4243,6 +4246,13 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n                     LogPrint(\"net\", \"getheaders (%d) %s to peer=%d\\n\", pindexBestHeader->nHeight, inv.hash.ToString(), pfrom->id);\n                 }\n             }\n+            else\n+            {\n+                if (fBlocksOnly)\n+                    LogPrint(\"net\", \"peer sent inv %s in violation of protocol peer=%d\\n\", inv.ToString(), pfrom->id);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#discussion_r45532915",
      "id" : 45532915,
      "original_commit_id" : "67869e4575447659e1e2975cbc41819ad0f64f9f",
      "original_position" : 30,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7046",
      "updated_at" : "2015-11-21T00:11:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/45532915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Tests done:\r\n\r\n[x] Triggered inv and tx \"violation of protocol\" cases\r\n[x] Tested with a bitcoinj wallet, which just ignored the fRelayTxs (edit: actually, looks like it only does that in the \"trusted peer\" case)\r\n\r\nACK (modulo https://github.com/pstratem/bitcoin/pull/3)",
      "created_at" : "2015-11-20T23:55:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158562126",
      "id" : 158562126,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-20T23:58:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158562126",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@gmaxwell Fair enough; I'm convinced.",
      "created_at" : "2015-11-21T00:00:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7046#issuecomment-158562865",
      "id" : 158562865,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7046",
      "updated_at" : "2015-11-21T00:00:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/158562865",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   }
]
