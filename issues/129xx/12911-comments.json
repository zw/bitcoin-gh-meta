[
   {
      "author_association" : "MEMBER",
      "body" : "Concept NACK. `amount` is not guaranteed to be correct (default 0) for non-segwit inputs if users are specifying their own UTXOs. Since the input amount is not required for non-segwit inputs, it will be 0 and the fee will be negative. Furthermore, even if `complete=true`, we do not necessarily have all of the UTXOs that are being spent from so even then we can't accurately calculate the input amount.",
      "created_at" : "2018-04-08T04:06:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379518550",
      "id" : 379518550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-08T04:08:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379518550",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@achow101 Are you against even if it only displays fee when all input amounts are known? (I.e. add check instead of using fComplete)",
      "created_at" : "2018-04-08T04:33:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379519521",
      "id" : 379519521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-08T04:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379519521",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not against it if the input amounts are known.",
      "created_at" : "2018-04-08T07:20:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379527218",
      "id" : 379527218,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-08T07:20:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379527218",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@achow101 I believe I cover all cases of it being known/unknown with the updated code.",
      "created_at" : "2018-04-08T21:50:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379585583",
      "id" : 379585583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-08T21:50:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379585583",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK.\r\n\r\nThings to do:\r\n - [x] update to help message referring new response key;\r\n - [x] update existing tests or add new ones;\r\n - [x] release note.",
      "created_at" : "2018-04-08T22:25:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379587758",
      "id" : 379587758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-09T00:03:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379587758",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag Thanks, done. :)",
      "created_at" : "2018-04-08T23:54:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379592942",
      "id" : 379592942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-08T23:54:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379592942",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r179966881"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179966881"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Wrong alignment.",
      "commit_id" : "4cd8db17d5655634570f213018ed9d5d8a454d98",
      "created_at" : "2018-04-09T00:00:05Z",
      "diff_hunk" : "@@ -985,6 +997,7 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n             \"{\\n\"\n             \"  \\\"hex\\\" : \\\"value\\\",           (string) The hex-encoded raw transaction with signature(s)\\n\"\n             \"  \\\"complete\\\" : true|false,   (boolean) If the transaction has a complete set of signatures\\n\"\n+            \"  \\\"fee\\\" : n,                        (numeric) The fee (input amounts minus output amounts), if known\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r179966881",
      "id" : 179966881,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTk2Njg4MQ==",
      "original_commit_id" : "f2c41c7ca48774ecd75e5e0d2e100c2d09c44ef3",
      "original_position" : 46,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 110305879,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911",
      "updated_at" : "2018-11-19T04:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179966881",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r179967001"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179967001"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed",
      "commit_id" : "4cd8db17d5655634570f213018ed9d5d8a454d98",
      "created_at" : "2018-04-09T00:03:31Z",
      "diff_hunk" : "@@ -985,6 +997,7 @@ UniValue signrawtransaction(const JSONRPCRequest& request)\n             \"{\\n\"\n             \"  \\\"hex\\\" : \\\"value\\\",           (string) The hex-encoded raw transaction with signature(s)\\n\"\n             \"  \\\"complete\\\" : true|false,   (boolean) If the transaction has a complete set of signatures\\n\"\n+            \"  \\\"fee\\\" : n,                        (numeric) The fee (input amounts minus output amounts), if known\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r179967001",
      "id" : 179967001,
      "in_reply_to_id" : 179966881,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3OTk2NzAwMQ==",
      "original_commit_id" : "f2c41c7ca48774ecd75e5e0d2e100c2d09c44ef3",
      "original_position" : 46,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 110306000,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911",
      "updated_at" : "2018-11-19T04:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/179967001",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "LGTM, will test later.",
      "created_at" : "2018-04-09T00:04:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379593668",
      "id" : 379593668,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-09T00:04:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379593668",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I pushed another commit (a35bc32) which also shows fee rate (both in btc/kb and sat/b), as someone requested it. Will squash unless people speak against the idea.",
      "created_at" : "2018-04-09T05:44:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379639081",
      "id" : 379639081,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-09T05:44:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379639081",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fee rate is something the user can easily compute with the fee and hex size. Not sure about that.",
      "created_at" : "2018-04-09T07:15:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379657295",
      "id" : 379657295,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-09T07:15:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379657295",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag I agree it can be easily derived, but not sure there's any drawbacks to printing it either...",
      "created_at" : "2018-04-09T07:21:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379658665",
      "id" : 379658665,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-09T07:21:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379658665",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@kallewoof maybe just display in one unit only? And if it goes forward maybe add the same fee rate to `fundrawtransaction`?",
      "created_at" : "2018-04-09T11:17:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379718061",
      "id" : 379718061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-09T11:17:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379718061",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag Done.",
      "created_at" : "2018-04-10T02:16:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-379951930",
      "id" : 379951930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-10T02:16:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379951930",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "I'm not sure this is the right place. Hopefully you know the fee/feerate before deciding to sign something, and the fact that `signrawtransaction` happens to have all the necessary information (sometimes) is more an implementation accident than inherent to its function.\r\n\r\nIs there a pressing use case? Otherwise I would argue to instead move PSBT forward, and add an RPC to analyse a PSBT which can give this can of information, independent from the signing logic.",
      "created_at" : "2018-04-10T16:39:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-380167908",
      "id" : 380167908,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-10T16:39:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380167908",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sipa That is exactly the problem: I misread the input value and ended up throwing ~$10 away, which triggered my creating this PR.\r\n\r\nNote that the feerate is also listed in `fundrawtransaction` -- adding it to `signrawtransaction` seems like a natural complement.",
      "created_at" : "2018-04-11T04:42:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-380325161",
      "id" : 380325161,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "updated_at" : "2018-04-11T04:42:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380325161",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think an alternative fix to this problem, to make sure the user don't shoot himself in the foot is to have a `signrawtransactionwithwallet` parameter which cross check that what is sign is what is expected.\r\n\r\nFor example `signrawtransactionwithwallet hex=<hex> expect={\"destinations\": [ { \"Address\": \"blah\", \"Value\": 1000 }], \"maxFee\": 100 }`\r\n\r\nThis would actually simplify greatly calling code which right now need to verify such information manually before calling sign.\r\n\r\nThe solution of this PR is useful only when you are debugging stuff manually. An \"expect\" parameter on the other hand, would solve your issue, but also simplify the code because the callers would not need to verify by themselves the transaction with some custom code.\r\n\r\nI am not against this PR, just I think it has limited scope.",
      "created_at" : "2018-06-27T06:50:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-400562296",
      "id" : 400562296,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMDU2MjI5Ng==",
      "updated_at" : "2018-06-27T07:01:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400562296",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Talked with @kallewoof :\r\n\r\nAn easy alternative I was pointing out was also just a simple `expectedMaxFee=` parameter would be widely useful.\r\n\r\nHowever, he pointed me out that `fundrawtransaction` actually show the fees. I think it makes sense to support on `signtransaction` if `fundrawtransaction` do it already.\r\n\r\nConcept ACK.",
      "created_at" : "2018-06-27T07:07:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-400566023",
      "id" : 400566023,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMDU2NjAyMw==",
      "updated_at" : "2018-06-27T07:08:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400566023",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "A way to verify fees right now is to use fundrawtransaction on the resulting transaction:\r\n1. `createrawtransaction` with inputs and outputs\r\n2. Sign it using `signrawtransaction`\r\n3. Decode the results, using `vsize` as basis for fee\r\n4. Adjust outputs, reducing by the chosen fee\r\n5. Call `fundrawtransaction` on the result with option `{\\\"feeRate\\\":CHOSENFEERATE}`\r\n6. If returned hex is the same as the provided hex, you are good to go. As a bonus, `fundrawtransaction` also shows the fee rate (although this is before signing it, I guess).\r\n7. Sign the provided tx, and send it\r\n\r\nWith this PR:\r\n1-4 as above\r\n5. Sign it using `signrawtransaction`\r\n6. If resulting fee rate is correct, send it.\r\n",
      "created_at" : "2018-06-27T07:27:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-400570769",
      "id" : 400570769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMDU3MDc2OQ==",
      "updated_at" : "2018-06-27T07:27:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/400570769",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--5d09a71f8925f3f132321140b44b946d-->The last travis run for this pull request was 73 days ago and is thus outdated. To trigger a fresh travis build, this pull request should be closed and re-opened.",
      "created_at" : "2018-07-22T23:50:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-406906737",
      "id" : 406906737,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNjkwNjczNw==",
      "updated_at" : "2018-07-22T23:50:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/406906737",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14906](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14906.html) (refactor: Make explicit CMutableTransaction -> CTransaction conversion. by lucash-dev)\n* [#14459](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14459.html) (docs: Consistent type names in RPC help descriptions by ch4ot1c)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-09-21T13:21:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#issuecomment-423528779",
      "id" : 423528779,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12911",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMzUyODc3OQ==",
      "updated_at" : "2018-12-29T17:38:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/423528779",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r232176459"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232176459"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could use `std::accumulate`? :-)",
      "commit_id" : "bb8dde2a9ab6f8c20a74e853292693133fe3e3bc",
      "created_at" : "2018-11-09T08:45:19Z",
      "diff_hunk" : "@@ -886,8 +891,16 @@ UniValue SignTransaction(CMutableTransaction& mtx, const UniValue& prevTxsUnival\n     bool fComplete = vErrors.empty();\n \n     UniValue result(UniValue::VOBJ);\n-    result.pushKV(\"hex\", EncodeHexTx(mtx));\n+    std::string hex = EncodeHexTx(mtx);\n+    result.pushKV(\"hex\", hex);\n     result.pushKV(\"complete\", fComplete);\n+    if (known_inputs) {\n+        for (const CTxOut& txout : mtx.vout) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r232176459",
      "id" : 232176459,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjE3NjQ1OQ==",
      "original_commit_id" : "bb8dde2a9ab6f8c20a74e853292693133fe3e3bc",
      "original_position" : 30,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 30,
      "pull_request_review_id" : 173316124,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911",
      "updated_at" : "2018-11-09T08:45:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/232176459",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r233657481"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233657481"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You should also set `known_input = false` when `sigdata.witness` below is false (unless it's known that every input is spending a witness output, there is no guarantee that providing incorrect amounts will result in invalid signatures).",
      "commit_id" : "4cd8db17d5655634570f213018ed9d5d8a454d98",
      "created_at" : "2018-11-14T23:12:20Z",
      "diff_hunk" : "@@ -850,15 +850,20 @@ UniValue SignTransaction(CMutableTransaction& mtx, const UniValue& prevTxsUnival\n     // transaction to avoid rehashing.\n     const CTransaction txConst(mtx);\n     // Sign what we can:\n+    CAmount inout_amount = 0;\n+    bool known_inputs = true;\n     for (unsigned int i = 0; i < mtx.vin.size(); i++) {\n         CTxIn& txin = mtx.vin[i];\n         const Coin& coin = view.AccessCoin(txin.prevout);\n         if (coin.IsSpent()) {\n+            known_inputs = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r233657481",
      "id" : 233657481,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzY1NzQ4MQ==",
      "original_commit_id" : "f9a726a13a7fd15084ebb3825af892644d839755",
      "original_position" : 10,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 10,
      "pull_request_review_id" : 175124953,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911",
      "updated_at" : "2018-11-19T04:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233657481",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r233713257"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233713257"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not sure what you mean by \"providing incorrect amounts\". This is directly from the UTXO set of the node itself. When would it tell itself incorrect amounts?",
      "commit_id" : "4cd8db17d5655634570f213018ed9d5d8a454d98",
      "created_at" : "2018-11-15T05:06:54Z",
      "diff_hunk" : "@@ -850,15 +850,20 @@ UniValue SignTransaction(CMutableTransaction& mtx, const UniValue& prevTxsUnival\n     // transaction to avoid rehashing.\n     const CTransaction txConst(mtx);\n     // Sign what we can:\n+    CAmount inout_amount = 0;\n+    bool known_inputs = true;\n     for (unsigned int i = 0; i < mtx.vin.size(); i++) {\n         CTxIn& txin = mtx.vin[i];\n         const Coin& coin = view.AccessCoin(txin.prevout);\n         if (coin.IsSpent()) {\n+            known_inputs = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r233713257",
      "id" : 233713257,
      "in_reply_to_id" : 233657481,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzcxMzI1Nw==",
      "original_commit_id" : "f9a726a13a7fd15084ebb3825af892644d839755",
      "original_position" : 10,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 10,
      "pull_request_review_id" : 175192183,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911",
      "updated_at" : "2018-11-19T04:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233713257",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r233981496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233981496"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`view` is not the node's UTXO set, but a local variable which holds a few cached UTXO entries. Those *can* come from the UTXO set or mempool, but could also have been provided by the user (see the `prevTxsUnival` input argument to this function).",
      "commit_id" : "4cd8db17d5655634570f213018ed9d5d8a454d98",
      "created_at" : "2018-11-15T19:38:46Z",
      "diff_hunk" : "@@ -850,15 +850,20 @@ UniValue SignTransaction(CMutableTransaction& mtx, const UniValue& prevTxsUnival\n     // transaction to avoid rehashing.\n     const CTransaction txConst(mtx);\n     // Sign what we can:\n+    CAmount inout_amount = 0;\n+    bool known_inputs = true;\n     for (unsigned int i = 0; i < mtx.vin.size(); i++) {\n         CTxIn& txin = mtx.vin[i];\n         const Coin& coin = view.AccessCoin(txin.prevout);\n         if (coin.IsSpent()) {\n+            known_inputs = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r233981496",
      "id" : 233981496,
      "in_reply_to_id" : 233657481,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMzk4MTQ5Ng==",
      "original_commit_id" : "f9a726a13a7fd15084ebb3825af892644d839755",
      "original_position" : 10,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 10,
      "pull_request_review_id" : 175522591,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911",
      "updated_at" : "2018-11-19T04:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/233981496",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r234066344"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234066344"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Makes sense, thanks. I updated the code to only work with segwit inputs (i.e. added the change you requested).",
      "commit_id" : "4cd8db17d5655634570f213018ed9d5d8a454d98",
      "created_at" : "2018-11-16T01:34:40Z",
      "diff_hunk" : "@@ -850,15 +850,20 @@ UniValue SignTransaction(CMutableTransaction& mtx, const UniValue& prevTxsUnival\n     // transaction to avoid rehashing.\n     const CTransaction txConst(mtx);\n     // Sign what we can:\n+    CAmount inout_amount = 0;\n+    bool known_inputs = true;\n     for (unsigned int i = 0; i < mtx.vin.size(); i++) {\n         CTxIn& txin = mtx.vin[i];\n         const Coin& coin = view.AccessCoin(txin.prevout);\n         if (coin.IsSpent()) {\n+            known_inputs = false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12911#discussion_r234066344",
      "id" : 234066344,
      "in_reply_to_id" : 233657481,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNDA2NjM0NA==",
      "original_commit_id" : "f9a726a13a7fd15084ebb3825af892644d839755",
      "original_position" : 10,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 10,
      "pull_request_review_id" : 175629263,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12911",
      "updated_at" : "2018-11-19T04:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/234066344",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   }
]
