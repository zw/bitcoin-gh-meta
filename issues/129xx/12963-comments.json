[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Could you elaborate on why it needs the guidance?",
      "created_at" : "2018-04-12T06:37:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#issuecomment-380694972",
      "id" : 380694972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12963",
      "updated_at" : "2018-04-12T06:37:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380694972",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Empact See the report linked in #12961 :-)",
      "created_at" : "2018-04-12T06:39:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#issuecomment-380695282",
      "id" : 380695282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12963",
      "updated_at" : "2018-04-12T06:39:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380695282",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r180978952"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180978952"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Are you sure the analyzer doesn't realize a reference to an object is never null? Weird.",
      "commit_id" : "159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-12T06:45:30Z",
      "diff_hunk" : "@@ -525,6 +525,7 @@ UniValue getblocktemplate(const JSONRPCRequest& request)\n         // Need to update only after we know CreateNewBlock succeeded\n         pindexPrev = pindexPrevNew;\n     }\n+    assert(pindexPrev && &pblocktemplate->block);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r180978952",
      "id" : 180978952,
      "original_commit_id" : "2c6b31802fb4c431edd9bf42f76a4629508410fe",
      "original_position" : 4,
      "path" : "src/rpc/mining.cpp",
      "position" : null,
      "pull_request_review_id" : 111495971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963",
      "updated_at" : "2018-04-12T18:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180978952",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r180980302"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180980302"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@kallewoof Agreed Ã¢ÂÂ it should understand that. Checking `pindexPrev` should be sufficient. Updated. Please re-review :-)",
      "commit_id" : "159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-12T06:52:57Z",
      "diff_hunk" : "@@ -525,6 +525,7 @@ UniValue getblocktemplate(const JSONRPCRequest& request)\n         // Need to update only after we know CreateNewBlock succeeded\n         pindexPrev = pindexPrevNew;\n     }\n+    assert(pindexPrev && &pblocktemplate->block);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r180980302",
      "id" : 180980302,
      "in_reply_to_id" : 180978952,
      "original_commit_id" : "2c6b31802fb4c431edd9bf42f76a4629508410fe",
      "original_position" : 4,
      "path" : "src/rpc/mining.cpp",
      "position" : null,
      "pull_request_review_id" : 111497543,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963",
      "updated_at" : "2018-04-12T18:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180980302",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 7e95d97",
      "created_at" : "2018-04-12T07:26:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#issuecomment-380705562",
      "id" : 380705562,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12963",
      "updated_at" : "2018-04-12T07:26:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380705562",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181018489"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181018489"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should this be fixed by adding an `assert(rv == 1);` instead, matching the `LockCommand` case?",
      "commit_id" : "159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-12T09:26:30Z",
      "diff_hunk" : "@@ -949,7 +949,7 @@ static void TestOtherProcess(fs::path dirname, std::string lockname, int fd)\n         case UnlockCommand:\n             ReleaseDirectoryLocks();\n             ch = true; // Always succeeds\n-            rv = write(fd, &ch, 1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181018489",
      "id" : 181018489,
      "original_commit_id" : "2c7972f528d210ecb938757ced23b592c2780ad8",
      "original_position" : 4,
      "path" : "src/test/util_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 111543171,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963",
      "updated_at" : "2018-04-12T18:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181018489",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181020485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181020485"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Might make sense to reset `out_value` and `out_set` at the sample place that `target` actually gets defined.",
      "commit_id" : "159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-12T09:33:32Z",
      "diff_hunk" : "@@ -547,7 +547,6 @@ BOOST_AUTO_TEST_CASE(SelectCoins_test)\n     {\n         // Reset\n         out_value = 0;\n-        target = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181020485",
      "id" : 181020485,
      "original_commit_id" : "2c7972f528d210ecb938757ced23b592c2780ad8",
      "original_position" : 4,
      "path" : "src/wallet/test/coinselector_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 111543171,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963",
      "updated_at" : "2018-04-12T18:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181020485",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181030734"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181030734"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I believe the reason this is valid is that we've checked `IsInitialBlockDownload()` is false, and that ensures `chainActive->Tip()` is not nullptr, and we've just ensured `pindexPrev` is `chainActive->Tip()`. We did potentially release `cs_main` in the meantime, though. I wonder if asserting `chainActive->Tip() != nullptr` or `!IsInitialBlockDownload()` would be enough to satisfy to the static analysis; either seems like it would be easier to understand, to me?",
      "commit_id" : "159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-12T10:11:03Z",
      "diff_hunk" : "@@ -525,6 +525,7 @@ UniValue getblocktemplate(const JSONRPCRequest& request)\n         // Need to update only after we know CreateNewBlock succeeded\n         pindexPrev = pindexPrevNew;\n     }\n+    assert(pindexPrev);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181030734",
      "id" : 181030734,
      "original_commit_id" : "7e95d9772f3e576e514a73fbade932cf5024c474",
      "original_position" : 4,
      "path" : "src/rpc/mining.cpp",
      "position" : 4,
      "pull_request_review_id" : 111543171,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963",
      "updated_at" : "2018-04-12T18:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181030734",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181036522"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181036522"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@ajtowns On what line do you suggest placing that assertion?",
      "commit_id" : "159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-12T10:36:06Z",
      "diff_hunk" : "@@ -525,6 +525,7 @@ UniValue getblocktemplate(const JSONRPCRequest& request)\n         // Need to update only after we know CreateNewBlock succeeded\n         pindexPrev = pindexPrevNew;\n     }\n+    assert(pindexPrev);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181036522",
      "id" : 181036522,
      "in_reply_to_id" : 181030734,
      "original_commit_id" : "7e95d9772f3e576e514a73fbade932cf5024c474",
      "original_position" : 4,
      "path" : "src/rpc/mining.cpp",
      "position" : 4,
      "pull_request_review_id" : 111565484,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963",
      "updated_at" : "2018-04-12T18:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181036522",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated. Please re-review :-)",
      "created_at" : "2018-04-12T12:31:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#issuecomment-380788396",
      "id" : 380788396,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12963",
      "updated_at" : "2018-04-12T12:31:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380788396",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181065038"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181065038"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If it satisfied the analysis tool, I'd probably put `assert(chainActive->Tip() != nullptr);` somewhere around `static CBlockIndex* pindexPrev;`, I guess.",
      "commit_id" : "159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-12T12:37:42Z",
      "diff_hunk" : "@@ -525,6 +525,7 @@ UniValue getblocktemplate(const JSONRPCRequest& request)\n         // Need to update only after we know CreateNewBlock succeeded\n         pindexPrev = pindexPrevNew;\n     }\n+    assert(pindexPrev);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181065038",
      "id" : 181065038,
      "in_reply_to_id" : 181030734,
      "original_commit_id" : "7e95d9772f3e576e514a73fbade932cf5024c474",
      "original_position" : 4,
      "path" : "src/rpc/mining.cpp",
      "position" : 4,
      "pull_request_review_id" : 111600783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963",
      "updated_at" : "2018-04-12T18:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181065038",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181071654"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181071654"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The warning is only reasonable if an uninitialised `WitnessUnknown` is compared with something; that seems a bug in its own right, and not something that should be hidden by auto initialising everything to 0/empty?\r\n\r\nHow about:\r\n\r\n```\r\n+    template<typename T>\r\n+    inline WitnessUnknown(unsigned int _version, T _data)\r\n+      : version(_version), length(_data.size())\r\n+    {\r\n+        assert(length <= 40);\r\n+        std::copy(_data.begin(), _data.end(), program);\r\n+    }\r\n+\r\n+    WitnessUnknown() = delete;\r\n```\r\n\r\nand changing the various uses from:\r\n\r\n```\r\n-            WitnessUnknown unk;\r\n-            unk.version = version;\r\n-            std::copy(data.begin(), data.end(), unk.program);\r\n-            unk.length = data.size();\r\n-            return unk;\r\n```\r\n\r\nto just\r\n\r\n```\r\n+            return WitnessUnknown(version, data);\r\n```\r\n\r\nAs far as I can see the warning is a false-positive though?\r\n\r\nEDIT: oops, markdown formatting missed the `template<>`",
      "commit_id" : "159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-12T13:00:36Z",
      "diff_hunk" : "@@ -90,9 +90,9 @@ struct WitnessV0KeyHash : public uint160\n //! CTxDestination subtype to encode any future Witness version\n struct WitnessUnknown\n {\n-    unsigned int version;\n-    unsigned int length;\n-    unsigned char program[40];\n+    unsigned int version = 0;\n+    unsigned int length = 0;\n+    unsigned char program[40] = {};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181071654",
      "id" : 181071654,
      "original_commit_id" : "5b01fd9a4207e3b30cc0424449f203533188da54",
      "original_position" : 9,
      "path" : "src/script/standard.h",
      "position" : null,
      "pull_request_review_id" : 111608905,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963",
      "updated_at" : "2018-04-12T18:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181071654",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181074063"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181074063"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thinking about it a bit more, that doesn't guarantee the first `length` bytes of `program` are initialised. `std::copy_n(_data, length, program);` might arguably be better.",
      "commit_id" : "159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-12T13:08:39Z",
      "diff_hunk" : "@@ -90,9 +90,9 @@ struct WitnessV0KeyHash : public uint160\n //! CTxDestination subtype to encode any future Witness version\n struct WitnessUnknown\n {\n-    unsigned int version;\n-    unsigned int length;\n-    unsigned char program[40];\n+    unsigned int version = 0;\n+    unsigned int length = 0;\n+    unsigned char program[40] = {};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181074063",
      "id" : 181074063,
      "in_reply_to_id" : 181071654,
      "original_commit_id" : "5b01fd9a4207e3b30cc0424449f203533188da54",
      "original_position" : 9,
      "path" : "src/script/standard.h",
      "position" : null,
      "pull_request_review_id" : 111611855,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963",
      "updated_at" : "2018-04-12T18:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181074063",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181171858"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181171858"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Skipped this change to keep things easy to review. I might post a follow-up PR instead :-)",
      "commit_id" : "159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-12T18:03:35Z",
      "diff_hunk" : "@@ -90,9 +90,9 @@ struct WitnessV0KeyHash : public uint160\n //! CTxDestination subtype to encode any future Witness version\n struct WitnessUnknown\n {\n-    unsigned int version;\n-    unsigned int length;\n-    unsigned char program[40];\n+    unsigned int version = 0;\n+    unsigned int length = 0;\n+    unsigned char program[40] = {};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#discussion_r181171858",
      "id" : 181171858,
      "in_reply_to_id" : 181071654,
      "original_commit_id" : "5b01fd9a4207e3b30cc0424449f203533188da54",
      "original_position" : 9,
      "path" : "src/script/standard.h",
      "position" : null,
      "pull_request_review_id" : 111732000,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12963",
      "updated_at" : "2018-04-12T18:03:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/181171858",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 159c32d1f111e6bad490bd23ae215462e8ba4374",
      "created_at" : "2018-04-13T06:15:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#issuecomment-381034840",
      "id" : 381034840,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12963",
      "updated_at" : "2018-04-13T06:15:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/381034840",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kallewoof @Empact Would you mind re-reviewing the latest version? :-)",
      "created_at" : "2018-04-28T17:46:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12963#issuecomment-385193763",
      "id" : 385193763,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12963",
      "updated_at" : "2018-04-28T17:46:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385193763",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
