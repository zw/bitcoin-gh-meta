{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "<!-- This issue tracker is only for technical issues related to Bitcoin Core.\r\n\r\nThis is not a issue ,just a apply! Thanks.\r\n\r\n<!-- Describe the issue -->\r\n\r\n          I want to  get all transactions of all addresses, but bitcoind client is not  support this issue!\r\nSo I need to parse all the /blocks/blk????.dat Ã£ÂÂ/blocks/rev????.dat  Ã£ÂÂ/blocks/index/????.ldbÃ£ÂÂ\r\n/chainstate/???.ldb, but I can't get all data structure from Bitcoin official websiteÃ¯Â¼Â\r\n\r\n**1Ã£ÂÂwhen parse  /blocks/index/????.ldb filesÃ¯Â¼Âwhere the key startwith 'b', the value always startwith '88'\r\n   the offical description is :**\r\n      'b' + 32-byte block hash -> block index record. Each record stores:\r\n              * The block header\r\n              * The height.\r\n              * The number of transactions.\r\n              * To what extent this block is validated.\r\n              * In which file, and where in that file, the block data is stored.\r\n              * In which file, and where in that file, the undo data is stored.\r\n\r\n   but the source file chain.h is:\r\n        <pre><code>  inline void SerializationOp(Stream& s, Operation ser_action, int nType, int nVersion) {\r\n           if (!(nType & SER_GETHASH))\r\n                       READWRITE(VARINT(nVersion));\r\n         READWRITE(VARINT(nHeight));\r\n        READWRITE(VARINT(nStatus));\r\n        READWRITE(VARINT(nTx));\r\n        if (nStatus & (BLOCK_HAVE_DATA | BLOCK_HAVE_UNDO))\r\n            READWRITE(VARINT(nFile));\r\n        if (nStatus & BLOCK_HAVE_DATA)\r\n            READWRITE(VARINT(nDataPos));\r\n        if (nStatus & BLOCK_HAVE_UNDO)\r\n            READWRITE(VARINT(nUndoPos));\r\n\r\n        // block header\r\n        READWRITE(this->nVersion);\r\n        READWRITE(hashPrev);\r\n        READWRITE(hashMerkleRoot);\r\n        READWRITE(nTime);\r\n        READWRITE(nBits);\r\n        READWRITE(nNonce);\r\n    }\r\n</pre></code>\r\n          The front field is nVersion, but it is match with the index file(/blocks/index/????.ldb)\r\n         Also I can not understand   the code meaning \r\n         if (!(nType & SER_GETHASH))\r\n                    READWRITE(VARINT(nVersion));\r\n\r\n**2Ã£ÂÂwhen i parse blk01116.dat Ã¯Â¼Âbut the blk00000.dat file is normal!Ã¯Â¼Â**\r\n     Substring the hex data:\r\n<pre><code>f9beb4d936b70f0000000020a1769e87973780c18d51facb43ff54a8868884cd2c3656000000000000000000c5bf481f9aaa343adcd197fcfdbc0b55c513b976d1dd7d13dd2acb42f122b4e0ec94415a45960018f1838f04fd4005010000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff5f0330a5070004ec94415a04088de2130ce88c0b5a6fef505a6a3501002cfabe6d6dad1eee02260a202a3490ea2ae2fadf34071df069e68f152eb7e7bc65f7a13813\r\n\r\nf9beb4d9 magic\r\n36b70f00 blockNumber\r\n0000000020a1769e87973780c18d51facb43ff54a8868884cd2c3656000000000000000000c5bf481f9aaa343adcd197fcfdbc0b55c513b976d1dd7d13dd2acb42f122b4e0ec94415a45960018f1838f04f block header\r\nfd4005  ttradeSize \r\n01000000 transaction version \r\n**0101 what's the meaning of this?**\r\n000000000000000000000000000000000000000000000000000000000000000 trade hash\r\nffffffff trade index\r\n</pre></code>\r\n\r\n<!--- What behavior did you expect? -->\r\nI want to know the detail of local block infoÃ£ÂÂ\r\n\r\n\r\nThanksÃ¯Â¼ÂÃ¯Â¼ÂÃ¯Â¼ÂÃ¯Â¼Â",
   "closed_at" : "2018-04-13T07:50:31Z",
   "closed_by" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
      "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
      "followers_url" : "https://api.github.com/users/sipa/followers",
      "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/sipa",
      "id" : 548488,
      "login" : "sipa",
      "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
      "organizations_url" : "https://api.github.com/users/sipa/orgs",
      "received_events_url" : "https://api.github.com/users/sipa/received_events",
      "repos_url" : "https://api.github.com/users/sipa/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/sipa"
   },
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12975/comments",
   "created_at" : "2018-04-13T07:47:52Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12975/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/12975",
   "id" : 314002205,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12975/labels{/name}",
   "locked" : true,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWUzMTQwMDIyMDU=",
   "number" : 12975,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Can you provide me the detail data dictionary of level db and block data?",
   "updated_at" : "2018-04-13T07:55:21Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12975",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/9855750?v=4",
      "events_url" : "https://api.github.com/users/cyssxt/events{/privacy}",
      "followers_url" : "https://api.github.com/users/cyssxt/followers",
      "following_url" : "https://api.github.com/users/cyssxt/following{/other_user}",
      "gists_url" : "https://api.github.com/users/cyssxt/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/cyssxt",
      "id" : 9855750,
      "login" : "cyssxt",
      "node_id" : "MDQ6VXNlcjk4NTU3NTA=",
      "organizations_url" : "https://api.github.com/users/cyssxt/orgs",
      "received_events_url" : "https://api.github.com/users/cyssxt/received_events",
      "repos_url" : "https://api.github.com/users/cyssxt/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/cyssxt/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/cyssxt/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/cyssxt"
   }
}
