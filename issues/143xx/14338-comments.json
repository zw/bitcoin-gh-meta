[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It's actually a great API, it's just poorly understood.\r\n\r\nLet's say you consider 100 confirmations to be set-in-stone (probably pretty reasonable).  So really what you want to do is ask core \"Tell me everything that's happened in the last 100 blocks\".\r\n\r\nBut that makes for a terrible API, because if your software goes down for a while  -- you'll miss shit. So what you really want to do is say:\r\n\r\n\"Give me all transactions that have happened since $SET_IN_STONE\"  and then after you process that, you want to update $SET_IN_STONE, which should be 100 confirmations before the current best block. \r\n\r\nFrom an application point of view, it's much nicer to do that atomically.  And that's exactly what `listsinceblock` does. \r\n\r\nWe can write some psuedo code:\r\n```\r\nset_in_stone :=  \"genesis block hash\"\r\nwhile true {\r\n       transactions, new_set_in_stone :=  listsinceblock(set_in_stone, 100)\r\n       process(transactions)\r\n       set_in_stone = new_set_in_stone\r\n}\r\n```\r\n\r\n\r\nNow the _actual_ problem with `listsinceblock` is just how badly tested and undefined it is (especially around things like unconfirmed/double-spends). I forgot the exact details but I once had a processing system (including double-spend detection) with it working perfectly, then the behaviors silently broke, and then I fixed that and then it irreparably broke etc. I couldn't rely on something so unstable, so I had to just implement the exact same feature myself -- so I can't tell you ow usable it is or not.\r\n\r\n",
      "created_at" : "2018-10-03T16:35:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14338#issuecomment-426706574",
      "id" : 426706574,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14338",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNjcwNjU3NA==",
      "updated_at" : "2018-10-03T16:35:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426706574",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/9326759?v=4",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "node_id" : "MDQ6VXNlcjkzMjY3NTk=",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not sure if you're commending the RPC or condemning it. You seem to like the idea but you then say you rewrote what you needed separately as the current system is not working.\r\n\r\nI think we need to fix the docs for this (at least) and perhaps even change it to be sensible. What you describe sounds sensible, I think.",
      "created_at" : "2018-10-07T02:43:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14338#issuecomment-427621149",
      "id" : 427621149,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14338",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNzYyMTE0OQ==",
      "updated_at" : "2018-10-07T02:43:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/427621149",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   }
]
