[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17261](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17261.html) (Make ScriptPubKeyMan an actual interface and the wallet to have multiple by achow101)\n* [#17260](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17260.html) (Split some CWallet functions into new LegacyScriptPubKeyMan by achow101)\n* [#16546](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16546.html) ([WIP] External signer support - Wallet Box edition by Sjors)\n* [#16528](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16528.html) ([WIP] Native Descriptor Wallets (take 2) by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-10-03T22:11:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-426821168",
      "id" : 426821168,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNjgyMTE2OA==",
      "updated_at" : "2019-10-26T13:14:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426821168",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--32850dd3fdea838b4049e64f46995ea2-->\n| Coverage  | Change ([pull 14384](https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/14384/total.coverage/index.html)) | Reference ([master](https://drahtbot.github.io/reports/coverage/bitcoin/bitcoin/master/total.coverage/index.html))   |\n|-----------|-------------------------|--------------------|\n| Lines     | +0.0737 %            | 86.9985 %        |\n| Functions | +0.0488 %            | 84.1902 %        |\n| Branches  | +0.0540 %            | 51.5024 %        |\n",
      "created_at" : "2018-10-04T03:43:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-426875449",
      "id" : 426875449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNjg3NTQ0OQ==",
      "updated_at" : "2018-10-04T03:43:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426875449",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600485"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600485"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could `ptx` be moved to avoid unnecessary copies?",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2018-10-04T09:35:19Z",
      "diff_hunk" : "@@ -334,6 +335,21 @@ CTxMemPool::CTxMemPool(CBlockPolicyEstimator* estimator) :\n     nCheckFrequency = 0;\n }\n \n+void CTxMemPool::RegisterSignals() {\n+    NotifyEntryRemoved.connect(boost::bind(&CTxMemPool::MempoolEntryRemoved, this, _1, _2));\n+}\n+\n+void CTxMemPool::UnregisterSignals() {\n+    NotifyEntryRemoved.disconnect(boost::bind(&CTxMemPool::MempoolEntryRemoved, this, _1, _2));\n+}\n+\n+void CTxMemPool::MempoolEntryRemoved(CTransactionRef ptx, MemPoolRemovalReason reason)\n+{\n+    if (reason != MemPoolRemovalReason::BLOCK && reason != MemPoolRemovalReason::CONFLICT) {\n+        GetMainSignals().TransactionRemovedFromMempool(ptx);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600485",
      "id" : 222600485,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjYwMDQ4NQ==",
      "original_commit_id" : "a60a187158eeaeaa52d0a7b16d8b56732851cd21",
      "original_position" : 23,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 161524015,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600485",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600742"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600742"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Should be named `ptx` to match definition :-)",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2018-10-04T09:36:08Z",
      "diff_hunk" : "@@ -174,13 +170,10 @@ class CMainSignals {\n \n     size_t CallbacksPending();\n \n-    /** Register with mempool to call TransactionRemovedFromMempool callbacks */\n-    void RegisterWithMempoolSignals(CTxMemPool& pool);\n-    /** Unregister with mempool */\n-    void UnregisterWithMempoolSignals(CTxMemPool& pool);\n \n     void UpdatedBlockTip(const CBlockIndex *, const CBlockIndex *, bool fInitialDownload);\n     void TransactionAddedToMempool(const CTransactionRef &);\n+    void TransactionRemovedFromMempool(const CTransactionRef tx);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600742",
      "id" : 222600742,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjYwMDc0Mg==",
      "original_commit_id" : "a60a187158eeaeaa52d0a7b16d8b56732851cd21",
      "original_position" : 29,
      "path" : "src/validationinterface.h",
      "position" : null,
      "pull_request_review_id" : 161524341,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600742",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600988"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600988"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could be made `const` reference :-)",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2018-10-04T09:36:56Z",
      "diff_hunk" : "@@ -148,6 +131,12 @@ void CMainSignals::TransactionAddedToMempool(const CTransactionRef &ptx) {\n     });\n }\n \n+void CMainSignals::TransactionRemovedFromMempool(const CTransactionRef ptx) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600988",
      "id" : 222600988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjYwMDk4OA==",
      "original_commit_id" : "a60a187158eeaeaa52d0a7b16d8b56732851cd21",
      "original_position" : 43,
      "path" : "src/validationinterface.cpp",
      "position" : null,
      "pull_request_review_id" : 161524670,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222600988",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nLet's get rid of these ugly circular dependencies! :-)",
      "created_at" : "2018-10-04T09:37:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-426951893",
      "id" : 426951893,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNjk1MTg5Mw==",
      "updated_at" : "2018-10-04T09:37:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426951893",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222810948"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222810948"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @practicalswift fixed!",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2018-10-04T20:10:59Z",
      "diff_hunk" : "@@ -174,13 +170,10 @@ class CMainSignals {\n \n     size_t CallbacksPending();\n \n-    /** Register with mempool to call TransactionRemovedFromMempool callbacks */\n-    void RegisterWithMempoolSignals(CTxMemPool& pool);\n-    /** Unregister with mempool */\n-    void UnregisterWithMempoolSignals(CTxMemPool& pool);\n \n     void UpdatedBlockTip(const CBlockIndex *, const CBlockIndex *, bool fInitialDownload);\n     void TransactionAddedToMempool(const CTransactionRef &);\n+    void TransactionRemovedFromMempool(const CTransactionRef tx);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222810948",
      "id" : 222810948,
      "in_reply_to_id" : 222600742,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMjgxMDk0OA==",
      "original_commit_id" : "a60a187158eeaeaa52d0a7b16d8b56732851cd21",
      "original_position" : 29,
      "path" : "src/validationinterface.h",
      "position" : null,
      "pull_request_review_id" : 161789549,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/222810948",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/l2a5b1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/l2a5b1/followers",
         "following_url" : "https://api.github.com/users/l2a5b1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/l2a5b1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/l2a5b1",
         "id" : 13120787,
         "login" : "l2a5b1",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/l2a5b1/orgs",
         "received_events_url" : "https://api.github.com/users/l2a5b1/received_events",
         "repos_url" : "https://api.github.com/users/l2a5b1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/l2a5b1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/l2a5b1"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-11-05T11:16:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-435839542",
      "id" : 435839542,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNTgzOTU0Mg==",
      "updated_at" : "2018-11-05T11:16:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435839542",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-11-09T15:16:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-437390138",
      "id" : 437390138,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNzM5MDEzOA==",
      "updated_at" : "2018-11-09T15:16:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/437390138",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased b58bbc9",
      "created_at" : "2018-11-13T22:26:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-438462230",
      "id" : 438462230,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzODQ2MjIzMA==",
      "updated_at" : "2018-11-13T22:26:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/438462230",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/251Labs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/251Labs/followers",
         "following_url" : "https://api.github.com/users/251Labs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/251Labs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/251Labs",
         "id" : 13120787,
         "login" : "251Labs",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/251Labs/orgs",
         "received_events_url" : "https://api.github.com/users/251Labs/received_events",
         "repos_url" : "https://api.github.com/users/251Labs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/251Labs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/251Labs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/251Labs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-12-29T16:28:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-450504108",
      "id" : 450504108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MDUwNDEwOA==",
      "updated_at" : "2018-12-29T16:28:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/450504108",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "rebased fe6d863\r\n\r\nthanks @practicalswift for the review - fe6d863 addresses your feedback. \r\n\r\nTo answer your question https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600485: I don't think it is necessary to move the shared pointer as it is now passed by reference as per your suggestion: https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600988 . \r\n",
      "created_at" : "2019-04-10T10:26:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-481634169",
      "id" : 481634169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MTYzNDE2OQ==",
      "updated_at" : "2019-04-10T10:26:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/481634169",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/251Labs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/251Labs/followers",
         "following_url" : "https://api.github.com/users/251Labs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/251Labs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/251Labs",
         "id" : 13120787,
         "login" : "251Labs",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/251Labs/orgs",
         "received_events_url" : "https://api.github.com/users/251Labs/received_events",
         "repos_url" : "https://api.github.com/users/251Labs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/251Labs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/251Labs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/251Labs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r274416041"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/274416041"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @practicalswift. Good point. When `ptx` was passed by value I suspect we could have done that. However, per your suggestion https://github.com/bitcoin/bitcoin/pull/14384#discussion_r222600988 `ptx` is now passed by reference.",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2019-04-11T13:15:45Z",
      "diff_hunk" : "@@ -334,6 +335,21 @@ CTxMemPool::CTxMemPool(CBlockPolicyEstimator* estimator) :\n     nCheckFrequency = 0;\n }\n \n+void CTxMemPool::RegisterSignals() {\n+    NotifyEntryRemoved.connect(boost::bind(&CTxMemPool::MempoolEntryRemoved, this, _1, _2));\n+}\n+\n+void CTxMemPool::UnregisterSignals() {\n+    NotifyEntryRemoved.disconnect(boost::bind(&CTxMemPool::MempoolEntryRemoved, this, _1, _2));\n+}\n+\n+void CTxMemPool::MempoolEntryRemoved(CTransactionRef ptx, MemPoolRemovalReason reason)\n+{\n+    if (reason != MemPoolRemovalReason::BLOCK && reason != MemPoolRemovalReason::CONFLICT) {\n+        GetMainSignals().TransactionRemovedFromMempool(ptx);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r274416041",
      "id" : 274416041,
      "in_reply_to_id" : 222600485,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3NDQxNjA0MQ==",
      "original_commit_id" : "a60a187158eeaeaa52d0a7b16d8b56732851cd21",
      "original_position" : 23,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 225526475,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/274416041",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/l2a5b1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/l2a5b1/followers",
         "following_url" : "https://api.github.com/users/l2a5b1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/l2a5b1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/l2a5b1",
         "id" : 13120787,
         "login" : "l2a5b1",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/l2a5b1/orgs",
         "received_events_url" : "https://api.github.com/users/l2a5b1/received_events",
         "repos_url" : "https://api.github.com/users/l2a5b1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/l2a5b1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/l2a5b1"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased 35a63b2. \r\n\r\nUpdated the pull request description, since the `validation -> validationinterface -> validation` circular dependency was resolved in #16129 and removed from this pull request.\r\n\r\nTravis build error seems unrelated.",
      "created_at" : "2019-06-06T19:44:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-499639790",
      "id" : 499639790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5OTYzOTc5MA==",
      "updated_at" : "2019-06-06T19:44:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/499639790",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/l2a5b1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/l2a5b1/followers",
         "following_url" : "https://api.github.com/users/l2a5b1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/l2a5b1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/l2a5b1",
         "id" : 13120787,
         "login" : "l2a5b1",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/l2a5b1/orgs",
         "received_events_url" : "https://api.github.com/users/l2a5b1/received_events",
         "repos_url" : "https://api.github.com/users/l2a5b1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/l2a5b1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/l2a5b1"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased 80c3659",
      "created_at" : "2019-06-23T11:39:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-504743626",
      "id" : 504743626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwNDc0MzYyNg==",
      "updated_at" : "2019-06-23T11:39:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504743626",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/l2a5b1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/l2a5b1/followers",
         "following_url" : "https://api.github.com/users/l2a5b1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/l2a5b1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/l2a5b1",
         "id" : 13120787,
         "login" : "l2a5b1",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/l2a5b1/orgs",
         "received_events_url" : "https://api.github.com/users/l2a5b1/received_events",
         "repos_url" : "https://api.github.com/users/l2a5b1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/l2a5b1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/l2a5b1"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306083129"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306083129"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why is this not a CTxMemPool member?",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2019-07-23T00:12:02Z",
      "diff_hunk" : "@@ -16,6 +16,12 @@\n #include <util/system.h>\n #include <util/moneystr.h>\n #include <util/time.h>\n+#include <validationinterface.h>\n+\n+// This map has to a separate global instead of a member of MainSignalsInstance,\n+// because RegisterWithMempoolSignals is currently called before RegisterBackgroundSignalScheduler,\n+// so MainSignalsInstance hasn't been created yet.\n+static std::unordered_map<CTxMemPool*, boost::signals2::scoped_connection> g_connNotifyEntryRemoved;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306083129",
      "id" : 306083129,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjA4MzEyOQ==",
      "original_commit_id" : "80c365973fdcaad96c887376bb0e06dadaadec69",
      "original_position" : 9,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 265117469,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306083129",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306083196"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306083196"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why can't this be called in the mempool constructor?",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2019-07-23T00:12:24Z",
      "diff_hunk" : "@@ -333,6 +339,24 @@ CTxMemPool::CTxMemPool(CBlockPolicyEstimator* estimator) :\n     nCheckFrequency = 0;\n }\n \n+void CTxMemPool::RegisterSignals() {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306083196",
      "id" : 306083196,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjA4MzE5Ng==",
      "original_commit_id" : "80c365973fdcaad96c887376bb0e06dadaadec69",
      "original_position" : 17,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 265117469,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306083196",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306311431"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306311431"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Actually, this can be removed in one go:\r\n\r\n07c8420f4ddddde7103d8a564f918389357904c9",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2019-07-23T13:17:21Z",
      "diff_hunk" : "@@ -16,6 +16,12 @@\n #include <util/system.h>\n #include <util/moneystr.h>\n #include <util/time.h>\n+#include <validationinterface.h>\n+\n+// This map has to a separate global instead of a member of MainSignalsInstance,\n+// because RegisterWithMempoolSignals is currently called before RegisterBackgroundSignalScheduler,\n+// so MainSignalsInstance hasn't been created yet.\n+static std::unordered_map<CTxMemPool*, boost::signals2::scoped_connection> g_connNotifyEntryRemoved;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306311431",
      "id" : 306311431,
      "in_reply_to_id" : 306083129,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjMxMTQzMQ==",
      "original_commit_id" : "80c365973fdcaad96c887376bb0e06dadaadec69",
      "original_position" : 9,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 265398916,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306311431",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306474425"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306474425"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @MarcoFalke! Really appreciate your feedback. Please see 04390b2.",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2019-07-23T18:42:12Z",
      "diff_hunk" : "@@ -16,6 +16,12 @@\n #include <util/system.h>\n #include <util/moneystr.h>\n #include <util/time.h>\n+#include <validationinterface.h>\n+\n+// This map has to a separate global instead of a member of MainSignalsInstance,\n+// because RegisterWithMempoolSignals is currently called before RegisterBackgroundSignalScheduler,\n+// so MainSignalsInstance hasn't been created yet.\n+static std::unordered_map<CTxMemPool*, boost::signals2::scoped_connection> g_connNotifyEntryRemoved;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306474425",
      "id" : 306474425,
      "in_reply_to_id" : 306083129,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjQ3NDQyNQ==",
      "original_commit_id" : "80c365973fdcaad96c887376bb0e06dadaadec69",
      "original_position" : 9,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 265603596,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306474425",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/l2a5b1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/l2a5b1/followers",
         "following_url" : "https://api.github.com/users/l2a5b1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/l2a5b1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/l2a5b1",
         "id" : 13120787,
         "login" : "l2a5b1",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/l2a5b1/orgs",
         "received_events_url" : "https://api.github.com/users/l2a5b1/received_events",
         "repos_url" : "https://api.github.com/users/l2a5b1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/l2a5b1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/l2a5b1"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "04390b2 addresses feedback from @MarcoFalke.",
      "created_at" : "2019-07-23T18:42:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-514333934",
      "id" : 514333934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDMzMzkzNA==",
      "updated_at" : "2019-07-23T18:42:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514333934",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/l2a5b1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/l2a5b1/followers",
         "following_url" : "https://api.github.com/users/l2a5b1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/l2a5b1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/l2a5b1",
         "id" : 13120787,
         "login" : "l2a5b1",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/l2a5b1/orgs",
         "received_events_url" : "https://api.github.com/users/l2a5b1/received_events",
         "repos_url" : "https://api.github.com/users/l2a5b1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/l2a5b1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/l2a5b1"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306480219"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306480219"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: Does it makes sense to remove ` CTxMemPool::EntryRemoved`'s method and move its implementation to `CTxMemPool::removeUnchecked` ?\r\n\r\n```\r\nvoid CTxMemPool::removeUnchecked(txiter it, MemPoolRemovalReason reason)\r\n{\r\n    NotifyEntryRemoved(ptx, reason);\r\n    if (reason != MemPoolRemovalReason::BLOCK && reason != MemPoolRemovalReason::CONFLICT) {\r\n        GetMainSignals().TransactionRemovedFromMempool(ptx);\r\n    }\r\n    ...\r\n}\r\n```",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2019-07-23T18:55:39Z",
      "diff_hunk" : "@@ -16,6 +16,12 @@\n #include <util/system.h>\n #include <util/moneystr.h>\n #include <util/time.h>\n+#include <validationinterface.h>\n+\n+// This map has to a separate global instead of a member of MainSignalsInstance,\n+// because RegisterWithMempoolSignals is currently called before RegisterBackgroundSignalScheduler,\n+// so MainSignalsInstance hasn't been created yet.\n+static std::unordered_map<CTxMemPool*, boost::signals2::scoped_connection> g_connNotifyEntryRemoved;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306480219",
      "id" : 306480219,
      "in_reply_to_id" : 306083129,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjQ4MDIxOQ==",
      "original_commit_id" : "80c365973fdcaad96c887376bb0e06dadaadec69",
      "original_position" : 9,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 265610650,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306480219",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/l2a5b1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/l2a5b1/followers",
         "following_url" : "https://api.github.com/users/l2a5b1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/l2a5b1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/l2a5b1",
         "id" : 13120787,
         "login" : "l2a5b1",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/l2a5b1/orgs",
         "received_events_url" : "https://api.github.com/users/l2a5b1/received_events",
         "repos_url" : "https://api.github.com/users/l2a5b1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/l2a5b1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/l2a5b1"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306495835"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306495835"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> nit: Does it makes sense to remove CTxMemPool::EntryRemoved's method and move its implementation to CTxMemPool::removeUnchecked ?\r\n\r\nSure, if you wish so",
      "commit_id" : "28403ac8553091becd8b2e24048ec1be8f7d67b7",
      "created_at" : "2019-07-23T19:34:47Z",
      "diff_hunk" : "@@ -16,6 +16,12 @@\n #include <util/system.h>\n #include <util/moneystr.h>\n #include <util/time.h>\n+#include <validationinterface.h>\n+\n+// This map has to a separate global instead of a member of MainSignalsInstance,\n+// because RegisterWithMempoolSignals is currently called before RegisterBackgroundSignalScheduler,\n+// so MainSignalsInstance hasn't been created yet.\n+static std::unordered_map<CTxMemPool*, boost::signals2::scoped_connection> g_connNotifyEntryRemoved;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306495835",
      "id" : 306495835,
      "in_reply_to_id" : 306083129,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNjQ5NTgzNQ==",
      "original_commit_id" : "80c365973fdcaad96c887376bb0e06dadaadec69",
      "original_position" : 9,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 265630208,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/14384",
      "updated_at" : "2019-07-23T21:48:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/306495835",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\n`TransactionRemovedFromMempool` is used to notify of removed tx, excluding txs that were already notified via `BlockConnected`. However, we will miss those notifications, if we forgot to call `RegisterWithMempoolSignals`. This happened in the unit tests (`setup_common`).\r\n\r\nThis pull fixes that and cleans up a bunch of code on the way.",
      "created_at" : "2019-07-23T19:36:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-514353212",
      "id" : 514353212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDM1MzIxMg==",
      "updated_at" : "2019-07-23T19:36:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514353212",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "28403ac addresses a nit (https://github.com/bitcoin/bitcoin/pull/14384#discussion_r306480219) and updates the commit message.",
      "created_at" : "2019-07-23T21:52:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-514397656",
      "id" : 514397656,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDM5NzY1Ng==",
      "updated_at" : "2019-07-23T21:52:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514397656",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/l2a5b1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/l2a5b1/followers",
         "following_url" : "https://api.github.com/users/l2a5b1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/l2a5b1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/l2a5b1",
         "id" : 13120787,
         "login" : "l2a5b1",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/l2a5b1/orgs",
         "received_events_url" : "https://api.github.com/users/l2a5b1/received_events",
         "repos_url" : "https://api.github.com/users/l2a5b1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/l2a5b1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/l2a5b1"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Happy 1y anniversary! ",
      "created_at" : "2019-10-03T13:13:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-537939864",
      "id" : 537939864,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzkzOTg2NA==",
      "updated_at" : "2019-10-03T13:13:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537939864",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/13120787?v=4",
         "events_url" : "https://api.github.com/users/l2a5b1/events{/privacy}",
         "followers_url" : "https://api.github.com/users/l2a5b1/followers",
         "following_url" : "https://api.github.com/users/l2a5b1/following{/other_user}",
         "gists_url" : "https://api.github.com/users/l2a5b1/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/l2a5b1",
         "id" : 13120787,
         "login" : "l2a5b1",
         "node_id" : "MDQ6VXNlcjEzMTIwNzg3",
         "organizations_url" : "https://api.github.com/users/l2a5b1/orgs",
         "received_events_url" : "https://api.github.com/users/l2a5b1/received_events",
         "repos_url" : "https://api.github.com/users/l2a5b1/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/l2a5b1/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/l2a5b1/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/l2a5b1"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-10-29T13:21:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14384#issuecomment-547416292",
      "id" : 547416292,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14384",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzQxNjI5Mg==",
      "updated_at" : "2019-10-29T13:21:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547416292",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
