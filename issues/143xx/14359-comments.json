[
   {
      "author_association" : "NONE",
      "body" : "This works around the issue:\r\n\r\n```\r\ndiff --git a/src/qt/bitcoin.cpp b/src/qt/bitcoin.cpp\r\nindex 1e950e268..5cdcc52c5 100644\r\n--- a/src/qt/bitcoin.cpp\r\n+++ b/src/qt/bitcoin.cpp\r\n@@ -573,7 +573,7 @@ int main(int argc, char *argv[])\r\n #ifdef Q_OS_MAC\r\n     QApplication::setAttribute(Qt::AA_DontShowIconsInMenus);\r\n #endif\r\n-#if QT_VERSION >= 0x050500\r\n+#if QT_VERSION >= 0x050500 && 0\r\n     // Because of the POODLE attack it is recommended to disable SSLv3 (https://disablessl3.com/),\r\n     // so set SSL protocols to TLS1.0+.\r\n     QSslConfiguration sslconf = QSslConfiguration::defaultConfiguration();\r\n```\r\n\r\nWith this patch bitcoin-qt does not deadlock anymore and starts properly.\r\n\r\nI'm wondering what the correct fix would be.\r\nAny help is appreciated.\r\nThanks.",
      "created_at" : "2018-09-30T17:03:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-425735345",
      "id" : 425735345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNTczNTM0NQ==",
      "updated_at" : "2018-09-30T17:03:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/425735345",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3619761?v=4",
         "events_url" : "https://api.github.com/users/mbuesch/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mbuesch/followers",
         "following_url" : "https://api.github.com/users/mbuesch/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mbuesch/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mbuesch",
         "id" : 3619761,
         "login" : "mbuesch",
         "node_id" : "MDQ6VXNlcjM2MTk3NjE=",
         "organizations_url" : "https://api.github.com/users/mbuesch/orgs",
         "received_events_url" : "https://api.github.com/users/mbuesch/received_events",
         "repos_url" : "https://api.github.com/users/mbuesch/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mbuesch/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mbuesch/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mbuesch"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@mbuesch What OS is this running on? Are you using Qt from `depends` or installed via a package manager (if so what version)?\r\n\r\nPossibly related to #14273.",
      "created_at" : "2018-09-30T22:55:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-425758750",
      "id" : 425758750,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNTc1ODc1MA==",
      "updated_at" : "2018-09-30T22:55:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/425758750",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm pretty sure that this is exactly #14273. I use Arch Linux and have the same issue, i.e., this is the same OS, same symptoms, same line of code as #14273.  \r\n\r\nI haven't had time to verify the workaround, though.",
      "created_at" : "2018-10-01T12:06:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-425883539",
      "id" : 425883539,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNTg4MzUzOQ==",
      "updated_at" : "2018-10-01T12:06:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/425883539",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1071625?v=4",
         "events_url" : "https://api.github.com/users/real-or-random/events{/privacy}",
         "followers_url" : "https://api.github.com/users/real-or-random/followers",
         "following_url" : "https://api.github.com/users/real-or-random/following{/other_user}",
         "gists_url" : "https://api.github.com/users/real-or-random/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/real-or-random",
         "id" : 1071625,
         "login" : "real-or-random",
         "node_id" : "MDQ6VXNlcjEwNzE2MjU=",
         "organizations_url" : "https://api.github.com/users/real-or-random/orgs",
         "received_events_url" : "https://api.github.com/users/real-or-random/received_events",
         "repos_url" : "https://api.github.com/users/real-or-random/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/real-or-random/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/real-or-random/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/real-or-random"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Yes, this is indeed a duplicate of #14273.\r\nI am running Debian Sid with libqt5network5:amd64    5.11.1+dfsg-9\r\n\r\nI can also confirm that the sslLibraryVersionString() call from #14273 fixes the problem.\r\nCan we have that change to bitcoin-core?\r\nI understand that this is not a bitcoin-core bug, but rather a Qt bug. But the workaround seems simple enough. It might not be an option for people to update Qt easily.\r\n\r\n```\r\ndiff --git a/src/qt/bitcoin.cpp b/src/qt/bitcoin.cpp\r\nindex 1e950e268..38e412fcd 100644\r\n--- a/src/qt/bitcoin.cpp\r\n+++ b/src/qt/bitcoin.cpp\r\n@@ -576,6 +576,7 @@ int main(int argc, char *argv[])\r\n #if QT_VERSION >= 0x050500\r\n     // Because of the POODLE attack it is recommended to disable SSLv3 (https://disablessl3.com/),\r\n     // so set SSL protocols to TLS1.0+.\r\n+    QSslSocket::sslLibraryVersionString(); // Call to sslLibraryVersionString is a workaround for a Qt bug. See bitcoin issue #14273 / #14359\r\n     QSslConfiguration sslconf = QSslConfiguration::defaultConfiguration();\r\n     sslconf.setProtocol(QSsl::TlsV1_0OrLater);\r\n     QSslConfiguration::setDefaultConfiguration(sslconf);\r\n```\r\n\r\nIf that change is acceptable, I'll send a pull request.\r\n\r\nThanks for your comments.",
      "created_at" : "2018-10-01T17:19:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-425990078",
      "id" : 425990078,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNTk5MDA3OA==",
      "updated_at" : "2018-10-01T17:19:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/425990078",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3619761?v=4",
         "events_url" : "https://api.github.com/users/mbuesch/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mbuesch/followers",
         "following_url" : "https://api.github.com/users/mbuesch/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mbuesch/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mbuesch",
         "id" : 3619761,
         "login" : "mbuesch",
         "node_id" : "MDQ6VXNlcjM2MTk3NjE=",
         "organizations_url" : "https://api.github.com/users/mbuesch/orgs",
         "received_events_url" : "https://api.github.com/users/mbuesch/received_events",
         "repos_url" : "https://api.github.com/users/mbuesch/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mbuesch/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mbuesch/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mbuesch"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I am not sure if this is already filed against qt 5.11, but we should wait for a fix upstream or at least file it against upstream, if not done already.",
      "created_at" : "2018-10-01T22:57:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-426091490",
      "id" : 426091490,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNjA5MTQ5MA==",
      "updated_at" : "2018-10-01T22:57:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426091490",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@mbuesch thanks a bunch for the patch. Worked for me. =)",
      "created_at" : "2018-10-03T06:45:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-426528871",
      "id" : 426528871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNjUyODg3MQ==",
      "updated_at" : "2018-10-03T06:45:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426528871",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/83898?v=4",
         "events_url" : "https://api.github.com/users/zquestz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zquestz/followers",
         "following_url" : "https://api.github.com/users/zquestz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zquestz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zquestz",
         "id" : 83898,
         "login" : "zquestz",
         "node_id" : "MDQ6VXNlcjgzODk4",
         "organizations_url" : "https://api.github.com/users/zquestz/orgs",
         "received_events_url" : "https://api.github.com/users/zquestz/received_events",
         "repos_url" : "https://api.github.com/users/zquestz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zquestz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zquestz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zquestz"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@MarcoFalke I did not find an upstream report/fix, yet. But I can surely report this to Qt.\r\nBut I think the workaround should be applied to bitcoin-core regardless of that ASAP.\r\nWe are not really in control of what Qt versions are being used. And people will use that buggy version for some time to come. This bug has already been around for a couple of weeks, so I don't really see this buggy version to go away tomorrow.\r\n\r\nThis is a very non-intrusive workaround that I think we should have it in bitcoin-core to get stuff working again. This completely renders bitcoin-qt unusable, after all, if that Qt version is installed on the user's system.",
      "created_at" : "2018-10-03T18:36:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-426749093",
      "id" : 426749093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNjc0OTA5Mw==",
      "updated_at" : "2018-10-03T18:36:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426749093",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3619761?v=4",
         "events_url" : "https://api.github.com/users/mbuesch/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mbuesch/followers",
         "following_url" : "https://api.github.com/users/mbuesch/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mbuesch/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mbuesch",
         "id" : 3619761,
         "login" : "mbuesch",
         "node_id" : "MDQ6VXNlcjM2MTk3NjE=",
         "organizations_url" : "https://api.github.com/users/mbuesch/orgs",
         "received_events_url" : "https://api.github.com/users/mbuesch/received_events",
         "repos_url" : "https://api.github.com/users/mbuesch/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mbuesch/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mbuesch/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mbuesch"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It would still be nice to know why this workaround works or if there is a more suitable workaround.",
      "created_at" : "2018-10-04T01:10:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-426852920",
      "id" : 426852920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNjg1MjkyMA==",
      "updated_at" : "2018-10-04T01:10:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426852920",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Since this is a concurrency issue, the workaround could be spurious (e.g., just change the timing to avoid the deadlock). At least we don't know without talking to Qt. But yes, I think we should apply the workaround because it seems to help and it's really non-intrusive.",
      "created_at" : "2018-10-04T08:13:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-426925904",
      "id" : 426925904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNjkyNTkwNA==",
      "updated_at" : "2018-10-04T08:13:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426925904",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1071625?v=4",
         "events_url" : "https://api.github.com/users/real-or-random/events{/privacy}",
         "followers_url" : "https://api.github.com/users/real-or-random/followers",
         "following_url" : "https://api.github.com/users/real-or-random/following{/other_user}",
         "gists_url" : "https://api.github.com/users/real-or-random/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/real-or-random",
         "id" : 1071625,
         "login" : "real-or-random",
         "node_id" : "MDQ6VXNlcjEwNzE2MjU=",
         "organizations_url" : "https://api.github.com/users/real-or-random/orgs",
         "received_events_url" : "https://api.github.com/users/real-or-random/received_events",
         "repos_url" : "https://api.github.com/users/real-or-random/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/real-or-random/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/real-or-random/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/real-or-random"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It turns out that #6384 which introduced the code to disable SSLv3 was redundant because this is the default in Qt anyway due to new default flag `SecureProtocols` introduced in https://github.com/qt/qtbase/commit/3fd2d9eff8c1f948306ee5fbfe364ccded1c4b84, which landed in Qt 5.4.\r\n\r\nI guess #6384 was the result of a misunderstanding: @laanwj had opened https://bugreports.qt.io/browse/QTBUG-43168 to ask for a flag to disable SSLv3 two days before Qt 5.4 was tagged, so maybe he missed the new `SecureProtocols` default in Qt 5.4. But the Qt developers still picked up his suggestions to include more flags for specific SSL/TLS protocol versions and implemented it in Qt 5.5. Then @laanwj created #6384. \r\n\r\nAt this time, OpenSSL was the only TLS backend in Qt. Now there are more backend, and I checked that they all disable SSLv3 in the default configuration with `SecureProtocols`.\r\n\r\nSo I think the simplest way to get rid of this issue here is to remove the code disabling SSLv3, because Qt 5.4 enforces this anyway without any configuration tweaks.\r\n",
      "created_at" : "2018-10-04T09:16:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-426945601",
      "id" : 426945601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNjk0NTYwMQ==",
      "updated_at" : "2018-10-05T08:27:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/426945601",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1071625?v=4",
         "events_url" : "https://api.github.com/users/real-or-random/events{/privacy}",
         "followers_url" : "https://api.github.com/users/real-or-random/followers",
         "following_url" : "https://api.github.com/users/real-or-random/following{/other_user}",
         "gists_url" : "https://api.github.com/users/real-or-random/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/real-or-random",
         "id" : 1071625,
         "login" : "real-or-random",
         "node_id" : "MDQ6VXNlcjEwNzE2MjU=",
         "organizations_url" : "https://api.github.com/users/real-or-random/orgs",
         "received_events_url" : "https://api.github.com/users/real-or-random/received_events",
         "repos_url" : "https://api.github.com/users/real-or-random/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/real-or-random/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/real-or-random/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/real-or-random"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I created a Qt issue:\r\nhttps://bugreports.qt.io/browse/QTBUG-70956",
      "created_at" : "2018-10-05T12:50:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14359#issuecomment-427355124",
      "id" : 427355124,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14359",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyNzM1NTEyNA==",
      "updated_at" : "2018-10-05T12:50:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/427355124",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/3619761?v=4",
         "events_url" : "https://api.github.com/users/mbuesch/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mbuesch/followers",
         "following_url" : "https://api.github.com/users/mbuesch/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mbuesch/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mbuesch",
         "id" : 3619761,
         "login" : "mbuesch",
         "node_id" : "MDQ6VXNlcjM2MTk3NjE=",
         "organizations_url" : "https://api.github.com/users/mbuesch/orgs",
         "received_events_url" : "https://api.github.com/users/mbuesch/received_events",
         "repos_url" : "https://api.github.com/users/mbuesch/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mbuesch/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mbuesch/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mbuesch"
      }
   }
]
