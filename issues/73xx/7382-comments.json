[
   {
      "body" : "@Xekyo Did you receive this error when running 0.12rc1 or 0.11.x ?",
      "created_at" : "2016-01-20T09:30:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173143954",
      "id" : 173143954,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T09:30:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173143954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "@pstratem 0.12rc1",
      "created_at" : "2016-01-20T09:36:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173145383",
      "id" : 173145383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T09:36:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173145383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=3",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "body" : "@Xekyo what are the lines before this? (So I can take a guess at what was going on)",
      "created_at" : "2016-01-20T09:37:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173145602",
      "id" : 173145602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T09:37:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173145602",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "Unfortunately, only hundreds of lines repeating the above ERROR messages.\r\n\r\nWhen I tried to restart the process I got this:\r\n\r\n> 2016-01-20 09:35:02 Bitcoin version v0.12.0rc1 (2016-01-13 18:08:05 +0100)\r\n2016-01-20 09:35:02 Prune configured to target 20480MiB on disk for block and undo files.\r\n2016-01-20 09:35:02 Using OpenSSL version OpenSSL 1.0.1e 11 Feb 2013\r\n2016-01-20 09:35:02 Default data directory /home/pi/.bitcoin\r\n2016-01-20 09:35:02 Using data directory /home/pi/.bitcoin\r\n2016-01-20 09:35:02 Using config file /home/pi/.bitcoin/bitcoin.conf\r\n2016-01-20 09:35:02 Using at most 125 connections (1024 file descriptors available)\r\n2016-01-20 09:35:02 Using 4 threads for script verification\r\n2016-01-20 09:35:02 scheduler thread start\r\n2016-01-20 09:35:02 libevent: getaddrinfo: address family for nodename not supported\r\n2016-01-20 09:35:02 Binding RPC on address ::1 port 8332 failed.\r\n2016-01-20 09:35:02 HTTP: creating work queue of depth 16\r\n2016-01-20 09:35:02 Config options rpcuser and rpcpassword will soon be deprecated. Locally-run instances may remove rpcuser to us\r\ne cookie-based auth, or may be replaced with rpcauth. Please see share/rpcuser for rpcauth auth generation.HTTP: starting 4 worker\r\n threads\r\n2016-01-20 09:35:02 Error: Couldn't open socket for incoming connections (socket returned error Address family not supported by pr\r\notocol (97))\r\n2016-01-20 09:35:02 Bound to 0.0.0.0:8333\r\n2016-01-20 09:35:02 Cache configuration:\r\n2016-01-20 09:35:02 * Using 2.0MiB for block index database\r\n2016-01-20 09:35:02 * Using 20.0MiB for chain state database\r\n2016-01-20 09:35:02 * Using 28.0MiB for in-memory UTXO set\r\n2016-01-20 09:35:02 init message: Loading block index...\r\n2016-01-20 09:35:02 Opening LevelDB in /home/pi/.bitcoin/blocks/index\r\n2016-01-20 09:35:02 Opened LevelDB successfully\r\n2016-01-20 09:35:02 Using obfuscation key for /home/pi/.bitcoin/blocks/index: 0000000000000000\r\n2016-01-20 09:35:02 Opening LevelDB in /home/pi/.bitcoin/chainstate\r\n2016-01-20 09:35:02 Opened LevelDB successfully\r\n2016-01-20 09:35:02 Using obfuscation key for /home/pi/.bitcoin/chainstate: 0000000000000000\r\n2016-01-20 09:35:29 LoadBlockIndexDB: last block file = 421\r\n2016-01-20 09:35:29 LoadBlockIndexDB: last block file info: CBlockFileInfo(blocks=87, size=70324481, heights=393971...394057, time\r\n=2016-01-19...2016-01-19)\r\n2016-01-20 09:35:29 Checking all blk files are present...\r\n2016-01-20 09:35:29 LoadBlockIndexDB(): Block files have previously been pruned\r\n2016-01-20 09:35:29 LoadBlockIndexDB: transaction index disabled\r\n2016-01-20 09:35:30 LoadBlockIndexDB: hashBestChain=0000000000000000071f795753f5812d12305dbfda26303378a36b89ff33b15e height=394057\r\n date=2016-01-19 20:40:59 progress=0.999572\r\n2016-01-20 09:35:30 init message: Verifying blocks...\r\n2016-01-20 09:35:30 Verifying last 288 blocks at level 3\r\n2016-01-20 09:35:30 ERROR: DisconnectBlock(): added transaction mismatch? database corrupted\r\n2016-01-20 09:35:30 ERROR: ApplyTxInUndo: undo data overwriting existing output\r\n",
      "created_at" : "2016-01-20T09:44:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173146840",
      "id" : 173146840,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T09:44:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173146840",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=3",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "body" : "@pstratem Is there anything else I could provide or run to get more information?",
      "created_at" : "2016-01-20T09:54:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173150088",
      "id" : 173150088,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T09:54:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173150088",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=3",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "body" : "What is the memory usage of RAM and Storage?",
      "created_at" : "2016-01-20T10:10:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173155300",
      "id" : 173155300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T10:10:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173155300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@MarcoFalke: Since it won't run right now, I don't know how I would provide accurate numbers. I'm running this on a RaspberryPi 2B with 1 GiB RAM. I'm pruning to 20GiB, on a budget of 64GiB.\r\n\r\n> 1.2G\t./.bitcoin/chainstate\r\n60M\t./.bitcoin/blocks/index\r\n21G\t./.bitcoin/blocks\r\n22G\t./.bitcoin\r\n",
      "created_at" : "2016-01-20T10:25:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173162867",
      "id" : 173162867,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T10:25:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173162867",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=3",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "body" : "So to be clear: you were already using pruning in 0.11.x, without problems, but after running 0.12.0rc1 on the same data directory this problem occured?\r\n\r\nDo you have a backup of your chainstate before the test with rc1?",
      "created_at" : "2016-01-20T10:51:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173169871",
      "id" : 173169871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T10:51:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173169871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "laanwj: I was running 0.11.2 without problems with the same settings (pruning to 20GiB), I replaced it with 0.12.0rc1 on Monday evening (less than 48 hours ago), on the same directory.\r\n\r\nI don't have a backup of the chainstate before the test unfortunately.",
      "created_at" : "2016-01-20T11:06:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173173175",
      "id" : 173173175,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T11:06:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173173175",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=3",
         "events_url" : "https://api.github.com/users/Xekyo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Xekyo/followers",
         "following_url" : "https://api.github.com/users/Xekyo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Xekyo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Xekyo",
         "id" : 4060799,
         "login" : "Xekyo",
         "organizations_url" : "https://api.github.com/users/Xekyo/orgs",
         "received_events_url" : "https://api.github.com/users/Xekyo/received_events",
         "repos_url" : "https://api.github.com/users/Xekyo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Xekyo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Xekyo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Xekyo"
      }
   },
   {
      "body" : "@laanwj I've encountered the same issue running git master",
      "created_at" : "2016-01-20T21:37:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173367601",
      "id" : 173367601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T21:37:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173367601",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/620611?v=3",
         "events_url" : "https://api.github.com/users/pstratem/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pstratem/followers",
         "following_url" : "https://api.github.com/users/pstratem/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pstratem/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pstratem",
         "id" : 620611,
         "login" : "pstratem",
         "organizations_url" : "https://api.github.com/users/pstratem/orgs",
         "received_events_url" : "https://api.github.com/users/pstratem/received_events",
         "repos_url" : "https://api.github.com/users/pstratem/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pstratem/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pstratem/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pstratem"
      }
   },
   {
      "body" : "@pstratem Is your debug.log truncated as well? Did you save it?",
      "created_at" : "2016-01-20T22:09:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/7382#issuecomment-173377758",
      "id" : 173377758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7382",
      "updated_at" : "2016-01-20T22:09:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173377758",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
