[
   {
      "body" : "Thanks, better documentation is always welcome.\r\nutACK.",
      "created_at" : "2015-06-17T06:36:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6292#issuecomment-112673306",
      "id" : 112673306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6292",
      "updated_at" : "2015-06-17T06:36:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/112673306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "utACK.\r\n\r\nShort, unclear variable- and function names and missing comments are probably one of the main obstacle for new contributors to better understand the code.",
      "created_at" : "2015-06-17T06:57:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6292#issuecomment-112681554",
      "id" : 112681554,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6292",
      "updated_at" : "2015-06-17T06:57:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/112681554",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "I didn't understand these comments... until I read the code. Not sure how to make it clearer, though.\r\n",
      "created_at" : "2015-06-23T06:32:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6292#issuecomment-114376861",
      "id" : 114376861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6292",
      "updated_at" : "2015-06-23T06:32:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/114376861",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr Same story here.",
      "created_at" : "2015-06-23T17:49:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6292#issuecomment-114588966",
      "id" : 114588966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6292",
      "updated_at" : "2015-06-23T17:49:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/114588966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5394574?v=3",
         "events_url" : "https://api.github.com/users/prestotron/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prestotron/followers",
         "following_url" : "https://api.github.com/users/prestotron/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prestotron/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prestotron",
         "id" : 5394574,
         "login" : "prestotron",
         "organizations_url" : "https://api.github.com/users/prestotron/orgs",
         "received_events_url" : "https://api.github.com/users/prestotron/received_events",
         "repos_url" : "https://api.github.com/users/prestotron/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prestotron/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prestotron/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prestotron"
      }
   },
   {
      "body" : "I just realised this bug effects my pull request #6331 because I am relying on GetPriority() to give correct results.\r\n\r\nHow about fixing the bug?  I don't think it needs a complicated fix.  Just change GetPriority to calculate the priority of each of the inputs.  For unconfirmed inputs, they count as 0.  It's a more expensive calculation than the current method, but with my PR the calculation call will only need to be done once each time the active chain changes, and then the result is cached in CTxMemPoolEntry.\r\n\r\nI'm happy to include a fix in my PR if people agree.",
      "created_at" : "2015-06-25T06:38:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6292#issuecomment-115124372",
      "id" : 115124372,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6292",
      "updated_at" : "2015-06-25T06:39:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/115124372",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/549484?v=3",
         "events_url" : "https://api.github.com/users/ashleyholman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ashleyholman/followers",
         "following_url" : "https://api.github.com/users/ashleyholman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ashleyholman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ashleyholman",
         "id" : 549484,
         "login" : "ashleyholman",
         "organizations_url" : "https://api.github.com/users/ashleyholman/orgs",
         "received_events_url" : "https://api.github.com/users/ashleyholman/received_events",
         "repos_url" : "https://api.github.com/users/ashleyholman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ashleyholman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ashleyholman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ashleyholman"
      }
   },
   {
      "body" : "Hmm.  I actually think that would be too expensive to do it directly.  I had an idea for how to keep an on-the-fly calculation that would be more efficient.  I wouldn't mind implementing it or suggesting it for you to implement, but the big IF here is whether all this complication is necessary.  Even if this priority calculation were cheap, is looping the entire mempool on every block to update priorities something we actually want to do?  \r\n\r\nI'd be more in favor of ditching the priority sorting and free transaction inclusion policy altogether.  I'm not sure what purpose it serves especially as blocks are closer to getting full.\r\n\r\n",
      "created_at" : "2015-06-25T15:29:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6292#issuecomment-115293818",
      "id" : 115293818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6292",
      "updated_at" : "2015-06-25T15:29:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/115293818",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "edit: I get your point now.. dropping the priority calculation altogether would definitely simplify things.\r\n\r\nAside from that.. what was your idea for more efficient on-the-fly priority calculation?  I had thought about using the current 'delta' technique but making it correct by tracking the confirmation state of the inputs, but that sounds quite complex to implement.\r\n\r\nIntuitively I thought that a recalcing the priorities of all mempool inputs would be fairly fast, but I'll measure it on my crappy vm-inside-old-macbook and see how long it takes.",
      "created_at" : "2015-06-27T01:43:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6292#issuecomment-115934603",
      "id" : 115934603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6292",
      "updated_at" : "2015-06-27T01:45:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/115934603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/549484?v=3",
         "events_url" : "https://api.github.com/users/ashleyholman/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ashleyholman/followers",
         "following_url" : "https://api.github.com/users/ashleyholman/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ashleyholman/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ashleyholman",
         "id" : 549484,
         "login" : "ashleyholman",
         "organizations_url" : "https://api.github.com/users/ashleyholman/orgs",
         "received_events_url" : "https://api.github.com/users/ashleyholman/received_events",
         "repos_url" : "https://api.github.com/users/ashleyholman/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ashleyholman/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ashleyholman/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ashleyholman"
      }
   },
   {
      "body" : "@ashleyholman. yes that was my idea.  when a block comes in, you know which transactions in the mempool depend on each of the newly confirmed transactions, so you can just go update the current priority of those transactions and give them a new calculated priority, the height it was calculated at, and new delta for future priorities.  Maybe I'll take a pass at it... ",
      "created_at" : "2015-06-30T15:10:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6292#issuecomment-117221348",
      "id" : 117221348,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6292",
      "updated_at" : "2015-06-30T15:10:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/117221348",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   }
]
