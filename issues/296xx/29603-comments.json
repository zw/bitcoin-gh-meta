[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hi @reivanen, thanks for your report.\r\n\r\nIt is documented in https://github.com/bitcoin/bitcoin/blob/master/doc/reduce-memory.md#in-memory-caches that higher dbcache settings give better IBD performance, and I think it stands to reason that this effect would be more pronounced on slower hardware.\r\n\r\nI do agree though that it could be stated more clearly (other than in a doc titled \"reduce memory\") that this known effect occurs.\r\n\r\nThere is also a somewhat-related [PR open ](https://github.com/bitcoin/bitcoin/pull/28358)to increase the maximum dbcache value, to further speed up IBD.\r\n\r\nIn my opinion the current program model of having a constrained memory footprint is preferable to making it unconstrained. If you want to speed up IDB then you can temporarily increase your cache size (to another known maximum size), and after IDB is complete and you are in sync, the (known) memory constraints make Bitcoin Core a more stable program to run and use overall.\r\n\r\nAdditionally, having the program notified that \"memory is running out\" is often more simply said-than-done, usually requiring workarounds which also in turn can make other internals harder to reason about than fixed sizes.\r\n\r\nI have a spinning HDD so may get around to try your cache size cutoff and see if I can also notice the performance differences you mention.",
      "created_at" : "2024-03-08T17:01:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29603#issuecomment-1986067957",
      "id" : 1986067957,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29603",
      "node_id" : "IC_kwDOABII5852YP31",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1986067957/reactions"
      },
      "updated_at" : "2024-03-08T17:01:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1986067957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   }
]
