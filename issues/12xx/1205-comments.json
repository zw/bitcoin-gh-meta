[
   {
      "body" : "I looked around in your changes and there is much code in, I can't really say anything to most parts ^^. Does it compile fine on Windows? This takes more time for me to check this, sorry.",
      "created_at" : "2012-05-07T09:32:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1205#issuecomment-5546620",
      "id" : 5546620,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1205",
      "updated_at" : "2012-05-07T09:32:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5546620",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "It mostly needs sanity testing. The code should compile find on windows, as there's no OS specific changes. There should be no user-visible changes to behaviour (except for the small fixed problems) but this improves efficiency, prepares for multiple-wallet support and makes it easier to split the UI into a separate process at some point.",
      "created_at" : "2012-05-07T09:49:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1205#issuecomment-5546858",
      "id" : 5546858,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1205",
      "updated_at" : "2012-05-07T10:20:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5546858",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "This should help with lowering the current CPU usage of utilizing a full core, while initial block chain download is in progress, right? Is this an issue on non-Windows versions, too and have you verified this?",
      "created_at" : "2012-05-10T15:51:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1205#issuecomment-5628896",
      "id" : 5628896,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1205",
      "updated_at" : "2012-05-10T15:51:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5628896",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Well, this is not really meant as a performance fix, although it probably has that effect. AFAIK there are no pressing UI performance issues in 0.6.2.\r\n\r\nThe idea is to further formalize the interface between the UI and the core.\r\n\r\nInstead of a sledgehammer \"mainFrameRepaint\" event, the UI gets messages such as AddressBookChanged, TransactionChanged that tell the UI directly what has changed, so it can update its internal model (and display) without further checks. This has a positive effect on performance and lock contention.\r\n\r\nEventually I want to remove all locks and direct access in the UI to the core memory space, and handle everything through function calls. This is much safer, and from that point, it is easy(ish) to completely separate the processes by using message passing.\r\n",
      "created_at" : "2012-05-10T16:48:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1205#issuecomment-5630298",
      "id" : 5630298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1205",
      "updated_at" : "2012-05-11T06:14:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5630298",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "ACK on changed to core",
      "created_at" : "2012-05-17T18:57:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1205#issuecomment-5771366",
      "id" : 5771366,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1205",
      "updated_at" : "2012-05-17T18:57:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5771366",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "test_bitcoin fails to link:\n```\nobj/main.o: In function `InvalidChainFound':\n/home/luke-jr/Projects/Education/Tonal/BitCoin/bitcoin/src/main.cpp:949: undefined reference to `uiInterface'\nobj/main.o: In function `CBlock::AddToBlockIndex(unsigned int, unsigned int)':\n/home/luke-jr/Projects/Education/Tonal/BitCoin/bitcoin/src/main.cpp:1650: undefined reference to `uiInterface'\nobj/main.o: In function `CheckDiskSpace(unsigned long long)':\n/home/luke-jr/Projects/Education/Tonal/BitCoin/bitcoin/src/main.cpp:1861: undefined reference to `uiInterface'\n/home/luke-jr/Projects/Education/Tonal/BitCoin/bitcoin/src/main.cpp:1862: undefined reference to `uiInterface'\nobj/main.o: In function `CAlert::ProcessAlert()':\n/home/luke-jr/Projects/Education/Tonal/BitCoin/bitcoin/src/main.cpp:2207: undefined reference to `uiInterface'\nobj/main.o:/home/luke-jr/Projects/Education/Tonal/BitCoin/bitcoin/src/main.cpp:2213: more undefined references to `uiInterface' follow\n```",
      "created_at" : "2012-05-19T01:13:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1205#issuecomment-5798628",
      "id" : 5798628,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1205",
      "updated_at" : "2012-05-19T01:13:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5798628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Fix for test_bitcoin issue in 315fa37",
      "created_at" : "2012-05-19T05:13:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1205#issuecomment-5799524",
      "id" : 5799524,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1205",
      "updated_at" : "2012-05-19T05:13:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5799524",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/1205#discussion_r849219"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1205"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/849219"
         }
      },
      "body" : "http://msdn.microsoft.com/en-us/library/windows/desktop/ms647581(v=vs.85).aspx\nMF_HELP = 0x00004000L -- Indicates that the menu item has a vertical separator to its left.",
      "commit_id" : "239c11d0dd4287e74286c40fb338aea85f4b1996",
      "created_at" : "2012-05-19T05:14:51Z",
      "diff_hunk" : "@@ -6,45 +6,99 @@\n \n #include <string>\n #include \"util.h\" // for int64\n+#include <boost/signals2/signal.hpp>\n+#include <boost/signals2/last_value.hpp>\n \n-#define wxYES                   0x00000002\n-#define wxOK                    0x00000004\n-#define wxNO                    0x00000008\n-#define wxYES_NO                (wxYES|wxNO)\n-#define wxCANCEL                0x00000010\n-#define wxAPPLY                 0x00000020\n-#define wxCLOSE                 0x00000040\n-#define wxOK_DEFAULT            0x00000000\n-#define wxYES_DEFAULT           0x00000000\n-#define wxNO_DEFAULT            0x00000080\n-#define wxCANCEL_DEFAULT        0x80000000\n-#define wxICON_EXCLAMATION      0x00000100\n-#define wxICON_HAND             0x00000200\n-#define wxICON_WARNING          wxICON_EXCLAMATION\n-#define wxICON_ERROR            wxICON_HAND\n-#define wxICON_QUESTION         0x00000400\n-#define wxICON_INFORMATION      0x00000800\n-#define wxICON_STOP             wxICON_HAND\n-#define wxICON_ASTERISK         wxICON_INFORMATION\n-#define wxICON_MASK             (0x00000100|0x00000200|0x00000400|0x00000800)\n-#define wxFORWARD               0x00001000\n-#define wxBACKWARD              0x00002000\n-#define wxRESET                 0x00004000\n-#define wxHELP                  0x00008000\n-#define wxMORE                  0x00010000\n-#define wxSETUP                 0x00020000\n-// Force blocking, modal message box dialog (not just notification)\n-#define wxMODAL                 0x00040000\n-\n-/* These UI communication functions are implemented in bitcoin.cpp (for ui) and noui.cpp (no ui) */\n-\n-extern int ThreadSafeMessageBox(const std::string& message, const std::string& caption, int style=wxOK);\n-extern bool ThreadSafeAskFee(int64 nFeeRequired, const std::string& strCaption);\n-extern void ThreadSafeHandleURI(const std::string& strURI);\n-extern void MainFrameRepaint();\n-extern void AddressBookRepaint();\n-extern void QueueShutdown();\n-extern void InitMessage(const std::string &message);\n-extern std::string _(const char* psz);\n+class CBasicKeyStore;\n+class CWallet;\n+class uint256;\n+\n+/** Flags for CClientUIInterface::ThreadSafeMessageBox */\n+enum MessageBoxFlags\n+{\n+    MF_YES                   = 0x00000002,\n+    MF_OK                    = 0x00000004,\n+    MF_NO                    = 0x00000008,\n+    MF_YES_NO                = (MF_YES|MF_NO),\n+    MF_CANCEL                = 0x00000010,\n+    MF_APPLY                 = 0x00000020,\n+    MF_CLOSE                 = 0x00000040,\n+    MF_OK_DEFAULT            = 0x00000000,\n+    MF_YES_DEFAULT           = 0x00000000,\n+    MF_NO_DEFAULT            = 0x00000080,\n+    MF_CANCEL_DEFAULT        = 0x80000000,\n+    MF_ICON_EXCLAMATION      = 0x00000100,\n+    MF_ICON_HAND             = 0x00000200,\n+    MF_ICON_WARNING          = MF_ICON_EXCLAMATION,\n+    MF_ICON_ERROR            = MF_ICON_HAND,\n+    MF_ICON_QUESTION         = 0x00000400,\n+    MF_ICON_INFORMATION      = 0x00000800,\n+    MF_ICON_STOP             = MF_ICON_HAND,\n+    MF_ICON_ASTERISK         = MF_ICON_INFORMATION,\n+    MF_ICON_MASK             = (0x00000100|0x00000200|0x00000400|0x00000800),\n+    MF_FORWARD               = 0x00001000,\n+    MF_BACKWARD              = 0x00002000,\n+    MF_RESET                 = 0x00004000,\n+    MF_HELP                  = 0x00008000,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1205#discussion_r849219",
      "id" : 849219,
      "original_commit_id" : "a47c2286aa500df046feea4986b741dccc444e1a",
      "original_position" : 76,
      "path" : "src/ui_interface.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/1205",
      "updated_at" : "2012-05-20T08:50:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/849219",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Thanks for testing sipa and luke-jr.\n\nI've pushed a commit that should resolve the test build and windows build issues.\n",
      "created_at" : "2012-05-19T07:40:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1205#issuecomment-5800046",
      "id" : 5800046,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1205",
      "updated_at" : "2012-05-19T10:39:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/5800046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
