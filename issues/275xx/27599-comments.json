[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jb55 just repeating the open questions from IRC here:\r\n- Do you have a custom `maxmempool` setting?\r\n- Do you have the last UpdateTip line your node saw before the cache size messages?  the end of those UpdateTip lines shows how big your coins cache was at the end of block validation (@sdaftuar )\r\n- Did this happen around the time when we had the 2 block reorg ~20h ago, i.e. around 788685-788688 (not sure what timezone you are in with those logs)?\r\n- Can you say which version and OS you are on as well?\r\n\r\nThanks!",
      "created_at" : "2023-05-08T17:22:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27599#issuecomment-1538754014",
      "id" : 1538754014,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27599",
      "node_id" : "IC_kwDOABII585bt4Xe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1538754014/reactions"
      },
      "updated_at" : "2023-05-08T17:22:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1538754014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @jb55 just repeating the open questions from IRC here:\r\n> \r\n> * Do you have a custom `maxmempool` setting?\r\n> * Do you have the last UpdateTip line your node saw before the cache size messages?  the end of those UpdateTip lines shows how big your coins cache was at the end of block validation (@sdaftuar )\r\n> * Did this happen around the time when we had the 2 block reorg ~20h ago, i.e. around 788685-788688 (not sure what timezone you are in with those logs)?\r\n> * Can you say which version and OS you are on as well?\r\n> \r\n> Thanks!\r\n\r\nFrom IRC: \"sdaftuar: unfortunately no this is just a tmux backbuffer since I was rebuilding my utxo due to some kind of leveldb corruption. wasn't my main systemd logs. @fjahr: I don't have any custom maxmempool settings. This started happening 20hrs ago yes when mempool was hot\"",
      "created_at" : "2023-05-08T17:48:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27599#issuecomment-1538784739",
      "id" : 1538784739,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27599",
      "node_id" : "IC_kwDOABII585bt_3j",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1538784739/reactions"
      },
      "updated_at" : "2023-05-08T17:48:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1538784739",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "same here, not sure if it's related.\r\n\r\nI just changed the `dbcache` to `1000`, and I do have 8GB on this machine",
      "created_at" : "2023-10-04T23:43:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27599#issuecomment-1747796436",
      "id" : 1747796436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27599",
      "node_id" : "IC_kwDOABII585oLUHU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747796436/reactions"
      },
      "updated_at" : "2023-10-04T23:43:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747796436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7918067?v=4",
         "events_url" : "https://api.github.com/users/jaonoctus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jaonoctus/followers",
         "following_url" : "https://api.github.com/users/jaonoctus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jaonoctus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jaonoctus",
         "id" : 7918067,
         "login" : "jaonoctus",
         "node_id" : "MDQ6VXNlcjc5MTgwNjc=",
         "organizations_url" : "https://api.github.com/users/jaonoctus/orgs",
         "received_events_url" : "https://api.github.com/users/jaonoctus/received_events",
         "repos_url" : "https://api.github.com/users/jaonoctus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jaonoctus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jaonoctus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jaonoctus"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I am having the same problem. When I start bitcoind it logs UpdateTip continuously and uses a huge amount of cache. Currently, progress=0.09 and the cache is already 2.5GB.\r\nIt seems that when the tip is updated the cache memory is not released.",
      "created_at" : "2023-10-26T18:45:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27599#issuecomment-1781687962",
      "id" : 1781687962,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27599",
      "node_id" : "IC_kwDOABII585qMmaa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1781687962/reactions"
      },
      "updated_at" : "2023-10-26T18:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1781687962",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10747532?v=4",
         "events_url" : "https://api.github.com/users/BebeSparkelSparkel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BebeSparkelSparkel/followers",
         "following_url" : "https://api.github.com/users/BebeSparkelSparkel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BebeSparkelSparkel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BebeSparkelSparkel",
         "id" : 10747532,
         "login" : "BebeSparkelSparkel",
         "node_id" : "MDQ6VXNlcjEwNzQ3NTMy",
         "organizations_url" : "https://api.github.com/users/BebeSparkelSparkel/orgs",
         "received_events_url" : "https://api.github.com/users/BebeSparkelSparkel/received_events",
         "repos_url" : "https://api.github.com/users/BebeSparkelSparkel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BebeSparkelSparkel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BebeSparkelSparkel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BebeSparkelSparkel"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "The cache uses seems to have have stabilized now that the progress has reached 0.3 at around 7.3GB.\r\nSeems that with the earlier blocks it does not empty the cache properly but with later blocks it does.",
      "created_at" : "2023-10-26T20:56:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27599#issuecomment-1781882876",
      "id" : 1781882876,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27599",
      "node_id" : "IC_kwDOABII585qNV_8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1781882876/reactions"
      },
      "updated_at" : "2023-10-26T20:56:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1781882876",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10747532?v=4",
         "events_url" : "https://api.github.com/users/BebeSparkelSparkel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BebeSparkelSparkel/followers",
         "following_url" : "https://api.github.com/users/BebeSparkelSparkel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BebeSparkelSparkel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BebeSparkelSparkel",
         "id" : 10747532,
         "login" : "BebeSparkelSparkel",
         "node_id" : "MDQ6VXNlcjEwNzQ3NTMy",
         "organizations_url" : "https://api.github.com/users/BebeSparkelSparkel/orgs",
         "received_events_url" : "https://api.github.com/users/BebeSparkelSparkel/received_events",
         "repos_url" : "https://api.github.com/users/BebeSparkelSparkel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BebeSparkelSparkel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BebeSparkelSparkel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BebeSparkelSparkel"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The cache is flushed whenever it grows too large. Earlier blocks are smaller and thus don't grow the cache as fast.",
      "created_at" : "2023-10-26T20:57:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27599#issuecomment-1781884736",
      "id" : 1781884736,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27599",
      "node_id" : "IC_kwDOABII585qNWdA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1781884736/reactions"
      },
      "updated_at" : "2023-10-26T20:57:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1781884736",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> The cache is flushed whenever it grows too large. Earlier blocks are smaller and thus don't grow the cache as fast.\r\n\r\nYou are right. Makes sense now.\r\n\r\n```\r\nbest=000000000000000000005a92fbb18bc22d75d3a1c3c620c63c4af381c0a02072 height=774031 version=0x2e76c000 log2_work=93.972720 tx=800236955 date='2023-01-28T14:36:22Z' progress=0.997035 cache=726.0MiB(5447153txo)\r\n2023-02-05T10:59:56Z Cache size (762055408) exceeds total space (761373440)\r\n2023-02-05T10:59:56Z FlushStateToDisk: write coins cache to disk (5452863 coins, 762055kB) started\r\n2023-02-05T11:00:22Z connect() to 192.168.1.218:8333 failed: Permission denied (13)\r\n2023-02-05T11:00:35Z FlushStateToDisk: write coins cache to disk (5452863 coins, 762055kB) completed (39.36s)\r\n2023-02-05T11:00:35Z UpdateTip: new best=000000000000000000046a95c1c13aac123e804590d12be55cce7dc881bc36cf height=774032 version=0x20800000 log2_work=93.972732 tx=800240556 date='2023-01-28T15:10:08Z' progress=0.997044 cache=50.2MiB(0txo)\r\n```",
      "created_at" : "2023-10-26T21:58:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/27599#issuecomment-1781948712",
      "id" : 1781948712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27599",
      "node_id" : "IC_kwDOABII585qNmEo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1781948712/reactions"
      },
      "updated_at" : "2023-10-26T21:58:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1781948712",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10747532?v=4",
         "events_url" : "https://api.github.com/users/BebeSparkelSparkel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BebeSparkelSparkel/followers",
         "following_url" : "https://api.github.com/users/BebeSparkelSparkel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BebeSparkelSparkel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BebeSparkelSparkel",
         "id" : 10747532,
         "login" : "BebeSparkelSparkel",
         "node_id" : "MDQ6VXNlcjEwNzQ3NTMy",
         "organizations_url" : "https://api.github.com/users/BebeSparkelSparkel/orgs",
         "received_events_url" : "https://api.github.com/users/BebeSparkelSparkel/received_events",
         "repos_url" : "https://api.github.com/users/BebeSparkelSparkel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BebeSparkelSparkel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BebeSparkelSparkel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BebeSparkelSparkel"
      }
   }
]
