[
   {
      "author_association" : "NONE",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13386 (SHA256 implementations based on Intel SHA Extensions by sipa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-06-14T20:07:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#issuecomment-397422207",
      "id" : 397422207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13471",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NzQyMjIwNw==",
      "updated_at" : "2018-06-15T20:00:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397422207",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195572308"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195572308"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Possible to use `_xgetbv` intrinsic here? https://software.intel.com/en-us/node/694243",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-14T21:10:28Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()\n+{\n+    uint32_t a, d;\n+    __asm__(\"xgetbv\" : \"=a\"(a), \"=d\"(d) : \"c\"(0));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195572308",
      "id" : 195572308,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTU3MjMwOA==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 9,
      "path" : "src/crypto/sha256.cpp",
      "position" : 9,
      "pull_request_review_id" : 128970719,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-14T21:10:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195572308",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195572633"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195572633"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I tried that, but it doesn't seem GCC has that.",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-14T21:11:44Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()\n+{\n+    uint32_t a, d;\n+    __asm__(\"xgetbv\" : \"=a\"(a), \"=d\"(d) : \"c\"(0));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195572633",
      "id" : 195572633,
      "in_reply_to_id" : 195572308,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTU3MjYzMw==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 9,
      "path" : "src/crypto/sha256.cpp",
      "position" : 9,
      "pull_request_review_id" : 128971096,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-14T21:11:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195572633",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195573283"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195573283"
         }
      },
      "author_association" : "MEMBER",
      "body" : "How about something like this?:\r\n```\r\n#ifndef _xgetbv\r\nstatic inline unsigned long long _xgetbv(unsigned int index){\r\n  unsigned int eax, edx;\r\n  __asm__ __volatile__(\"xgetbv\" : \"=a\"(eax), \"=d\"(edx) : \"c\"(index));\r\n  return ((unsigned long long)edx << 32) | eax;\r\n}\r\n#endif\r\n```\r\nhttps://lists.macports.org/pipermail/macports-dev/2013-January/021782.html",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-14T21:14:12Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()\n+{\n+    uint32_t a, d;\n+    __asm__(\"xgetbv\" : \"=a\"(a), \"=d\"(d) : \"c\"(0));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195573283",
      "id" : 195573283,
      "in_reply_to_id" : 195572308,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTU3MzI4Mw==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 9,
      "path" : "src/crypto/sha256.cpp",
      "position" : 9,
      "pull_request_review_id" : 128971870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-14T21:14:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195573283",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195575244"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195575244"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's the same thing, just specialized for AVX (which AFAIK is the only thing it's useful for entirely).",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-14T21:21:26Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()\n+{\n+    uint32_t a, d;\n+    __asm__(\"xgetbv\" : \"=a\"(a), \"=d\"(d) : \"c\"(0));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195575244",
      "id" : 195575244,
      "in_reply_to_id" : 195572308,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTU3NTI0NA==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 9,
      "path" : "src/crypto/sha256.cpp",
      "position" : 9,
      "pull_request_review_id" : 128974208,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-14T21:21:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195575244",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195576227"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195576227"
         }
      },
      "author_association" : "MEMBER",
      "body" : "From gcc code I don't think `_xgetbv` is a mcro\r\nhttps://github.com/gcc-mirror/gcc/commit/154452f45aad4bfe7a1f719c65cd26837f416a48#diff-547c091edc6345b286585818a4ae7528R60",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-14T21:25:07Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()\n+{\n+    uint32_t a, d;\n+    __asm__(\"xgetbv\" : \"=a\"(a), \"=d\"(d) : \"c\"(0));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195576227",
      "id" : 195576227,
      "in_reply_to_id" : 195572308,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTU3NjIyNw==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 9,
      "path" : "src/crypto/sha256.cpp",
      "position" : 9,
      "pull_request_review_id" : 128975375,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-14T21:25:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195576227",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "node_id" : "MDQ6VXNlcjExMTU0MTE4",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195592817"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195592817"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Access to `_xgetbv` requires compiling with `-mxsave`, and you can't run any `-mxsave` code without verifying you're running on a CPU which supports XSAVE. There are a few options around this:\r\n* Add a separate libbitcoin_crypto_xsave.a library, with just the `AVXEnabled()` function (seems a lot of effort)\r\n* Put `AVXEnabled()` in libbitcoin_crypto_avx2.a (which would then be compiled with `-mavx2 -mxsave`). Downside is that we'd need to put it in all AVX libraries (there may be a `-mavx` and/or `-mbmi2` library too later).\r\n* Compile everything with `-mxsave` (when supported by the compiler) but just don't call `_xgetbv` without first checking (which in theory might be unsafe as the compiler could emit xgetbv instructions elsewhere).\r\n\r\nI think all 3 are worse than 1 line of inline asm.",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-14T22:41:44Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()\n+{\n+    uint32_t a, d;\n+    __asm__(\"xgetbv\" : \"=a\"(a), \"=d\"(d) : \"c\"(0));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195592817",
      "id" : 195592817,
      "in_reply_to_id" : 195572308,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTU5MjgxNw==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 9,
      "path" : "src/crypto/sha256.cpp",
      "position" : 9,
      "pull_request_review_id" : 128994974,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-14T23:08:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195592817",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195598850"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195598850"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agreed",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-14T23:18:55Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()\n+{\n+    uint32_t a, d;\n+    __asm__(\"xgetbv\" : \"=a\"(a), \"=d\"(d) : \"c\"(0));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195598850",
      "id" : 195598850,
      "in_reply_to_id" : 195572308,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTU5ODg1MA==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 9,
      "path" : "src/crypto/sha256.cpp",
      "position" : 9,
      "pull_request_review_id" : 129002069,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-14T23:18:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195598850",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195863575"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195863575"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Does this need ```#ifdef USE_ASM``` ? I'm really not even sure what the option is intended to mean anymore.",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-15T21:14:46Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()\n+{\n+    uint32_t a, d;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195863575",
      "id" : 195863575,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTg2MzU3NQ==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 8,
      "path" : "src/crypto/sha256.cpp",
      "position" : 8,
      "pull_request_review_id" : 129319498,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-15T21:14:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195863575",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-15T21:15:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#issuecomment-397744153",
      "id" : 397744153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13471",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5Nzc0NDE1Mw==",
      "updated_at" : "2018-06-15T21:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397744153",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195882699"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195882699"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's within a `#if defined(USE_ASM) && (defined(__x86_64__) || defined(__amd64__) || defined(__i386__))` block.",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-15T23:24:08Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()\n+{\n+    uint32_t a, d;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195882699",
      "id" : 195882699,
      "in_reply_to_id" : 195863575,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTg4MjY5OQ==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 8,
      "path" : "src/crypto/sha256.cpp",
      "position" : 8,
      "pull_request_review_id" : 129341505,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-15T23:24:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195882699",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195886181"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195886181"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Indeed, nevermind.",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-16T00:04:34Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()\n+{\n+    uint32_t a, d;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195886181",
      "id" : 195886181,
      "in_reply_to_id" : 195863575,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTg4NjE4MQ==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 8,
      "path" : "src/crypto/sha256.cpp",
      "position" : 8,
      "pull_request_review_id" : 129345521,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-16T00:04:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195886181",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195941092"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195941092"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Presuming this line is to avoid an unused function warning, how about instead either:\r\n* Commenting as to its purpose\r\n* Defining it in an `#else` block below\r\n* Only defining `AVXEnabled` when `defined(ENABLE_AVX2) && !defined(BUILD_BITCOIN_INTERNAL)`?",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-17T20:55:37Z",
      "diff_hunk" : "@@ -492,6 +500,7 @@ std::string SHA256AutoDetect()\n {\n     std::string ret = \"standard\";\n #if defined(USE_ASM) && (defined(__x86_64__) || defined(__amd64__) || defined(__i386__))\n+    (void)AVXEnabled;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r195941092",
      "id" : 195941092,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTk0MTA5Mg==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 19,
      "path" : "src/crypto/sha256.cpp",
      "position" : 19,
      "pull_request_review_id" : 129400716,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-17T20:55:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195941092",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r196127966"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196127966"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could be `static`",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-18T15:45:17Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r196127966",
      "id" : 196127966,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjEyNzk2Ng==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 6,
      "path" : "src/crypto/sha256.cpp",
      "position" : 6,
      "pull_request_review_id" : 129622881,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-18T15:45:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196127966",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r196129528"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196129528"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's inside an anonymous namespace.",
      "commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "created_at" : "2018-06-18T15:49:56Z",
      "diff_hunk" : "@@ -484,6 +484,14 @@ void inline cpuid(uint32_t leaf, uint32_t subleaf, uint32_t& a, uint32_t& b, uin\n {\n   __asm__ (\"cpuid\" : \"=a\"(a), \"=b\"(b), \"=c\"(c), \"=d\"(d) : \"0\"(leaf), \"2\"(subleaf));\n }\n+\n+/** Check whether the OS has enabled AVX registers. */\n+bool AVXEnabled()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13471#discussion_r196129528",
      "id" : 196129528,
      "in_reply_to_id" : 196127966,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjEyOTUyOA==",
      "original_commit_id" : "14a2ccccbc27bd136005c8b057809c8663418e4a",
      "original_position" : 6,
      "path" : "src/crypto/sha256.cpp",
      "position" : 6,
      "pull_request_review_id" : 129624819,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13471",
      "updated_at" : "2018-06-18T15:49:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196129528",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
