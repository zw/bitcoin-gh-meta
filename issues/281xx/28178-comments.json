[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28178).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [darosior](https://github.com/bitcoin/bitcoin/pull/28178#pullrequestreview-1552162689), [murchandamus](https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1747486963) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-07-28T08:45:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1655295534",
      "id" : 1655295534,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585iqc4u",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655295534/reactions"
      },
      "updated_at" : "2023-10-06T17:21:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655295534",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277296384"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277296384"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If we are going to set `max_len`, should we also set `len_control`?",
      "commit_id" : "fae4ff359c2a8f82c48aef447446682171b24e11",
      "created_at" : "2023-07-28T08:59:00Z",
      "diff_hunk" : "@@ -259,9 +261,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277296384",
      "id" : 1277296384,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585MIf8A",
      "original_commit_id" : "fa23beccc30b06261643c395ee5f88e9812e9b63",
      "original_line" : 264,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 13,
      "pull_request_review_id" : 1551671337,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277296384/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T09:00:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277296384",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277303930"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277303930"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The default of `-len_control=100` seems fine and applicable to all values of `-max_len`, no?",
      "commit_id" : "fae4ff359c2a8f82c48aef447446682171b24e11",
      "created_at" : "2023-07-28T09:06:29Z",
      "diff_hunk" : "@@ -259,9 +261,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277303930",
      "id" : 1277303930,
      "in_reply_to_id" : 1277296384,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585MIhx6",
      "original_commit_id" : "fa23beccc30b06261643c395ee5f88e9812e9b63",
      "original_line" : 264,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 13,
      "pull_request_review_id" : 1551683732,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277303930/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T09:06:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277303930",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Concept ACK.\r\n> \r\n> > Also, randomize -mutate_depth, for fun.\r\n> \r\n> Could you expand?\r\n\r\nNot sure. I am happy to drop this, but it was part of https://www.github.com/bitcoin/bitcoin/pull/20752/commits/1ff0dc525f051bbc7a93312dd622340ca8f4f52c, which is why I picked it up.",
      "created_at" : "2023-07-28T09:07:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1655335044",
      "id" : 1655335044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585iqmiE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655335044/reactions"
      },
      "updated_at" : "2023-07-28T09:07:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655335044",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Not sure. I am happy to drop this\n\nNo, i was just curious about the rationale. I guess i've a mild preference for sticking to defaults if there isn't any, but i don't think it hurts either.\n------- Original Message -------\nOn Friday, July 28th, 2023 at 11:07 AM, MacrabFalke ***@***.***> wrote:\n\n>> Concept ACK.\n>>\n>>> Also, randomize -mutate_depth, for fun.\n>>\n>> Could you expand?\n>\n> Not sure. I am happy to drop this, but it was part of https://www.github.com/bitcoin/bitcoin/pull/20752/commits/1ff0dc525f051bbc7a93312dd622340ca8f4f52c, which is why I picked it up.\n>\n> â\n> Reply to this email directly, [view it on GitHub](https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1655335044), or [unsubscribe](https://github.com/notifications/unsubscribe-auth/AFLK3FY4TZRP6W4Z5VBASP3XSN6ODANCNFSM6AAAAAA23GF5QY).\n> You are receiving this because you commented.Message ID: ***@***.***>",
      "created_at" : "2023-07-28T09:17:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1655353550",
      "id" : 1655353550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585iqrDO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655353550/reactions"
      },
      "updated_at" : "2023-07-28T09:17:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655353550",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277316390"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277316390"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, i guess 100 minutes is long enough for the fuzzer to eventually get to try larger inputs.",
      "commit_id" : "fae4ff359c2a8f82c48aef447446682171b24e11",
      "created_at" : "2023-07-28T09:19:03Z",
      "diff_hunk" : "@@ -259,9 +261,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277316390",
      "id" : 1277316390,
      "in_reply_to_id" : 1277296384,
      "line" : 264,
      "node_id" : "PRRC_kwDOABII585MIk0m",
      "original_commit_id" : "fa23beccc30b06261643c395ee5f88e9812e9b63",
      "original_line" : 264,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 13,
      "pull_request_review_id" : 1551703215,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277316390/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T09:19:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277316390",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks, generated some data and edited the description to support the `mutate_depth` choice. (Limited to [1,10] for now, but this can be changed back to [1,15], if there is at least one data point showing that values larger than 10 are useful)",
      "created_at" : "2023-07-28T11:44:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1655543843",
      "id" : 1655543843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585irZgj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655543843/reactions"
      },
      "updated_at" : "2023-07-28T11:44:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1655543843",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277494461"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277494461"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That's a large increase in runtime isn't it? Won't 100k iterations take much less than 100 minutes to complete on most of our targets currently?\r\n\r\nWe've got ~~115~~ 169 targets at the moments, this change makes it so running this script with `--generate` for all targets would take ~~around 8 days~~ more than a dozen of days.",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-07-28T12:34:19Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)\n         command = [\n             os.path.join(build_dir, 'src', 'test', 'fuzz', 'fuzz'),\n-            \"-runs=100000\",\n+            \"-max_total_time=6000\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277494461",
      "id" : 1277494461,
      "line" : 268,
      "node_id" : "PRRC_kwDOABII585MJQS9",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 268,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 18,
      "pull_request_review_id" : 1552033030,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277494461/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T12:57:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277494461",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277507602"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277507602"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The number of tasks that are spawned is ~300 (`294` for me, but it will likely be more in the future). So even if you run each task only for a minute, it will take longer than 4 hours already. But running for a minute seems entirely useless, so I am not sure if it is worth optimizing for. (For smoke testing I just edit this script to `-max_total_time=6`).\r\n\r\nIn any way, you can pass `--par 999` to run everything at the same time and be done in 100 minutes.\r\n\r\nHowever, to avoid an edit for smoke testing, someone can add a config option in a follow-up or separate pull.",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-07-28T12:49:01Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)\n         command = [\n             os.path.join(build_dir, 'src', 'test', 'fuzz', 'fuzz'),\n-            \"-runs=100000\",\n+            \"-max_total_time=6000\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277507602",
      "id" : 1277507602,
      "in_reply_to_id" : 1277494461,
      "line" : 268,
      "node_id" : "PRRC_kwDOABII585MJTgS",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 268,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 18,
      "pull_request_review_id" : 1552054164,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277507602/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T12:49:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277507602",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277548417"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277548417"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ok i'm confused. I'm aware i just gave this a superficial look but i'm absolutely not following here. *(Last comment and if i don't get it i'll look into it more in depth.)*\r\n\r\n> The number of tasks that are spawned is ~300\r\n\r\nHow comes? The default for `--par`Â is `4`.\r\n\r\n> So even if you run each task only for a minute, it will take longer than 4 hours already\r\n\r\nHow could, with 300 tasks, running 169 tasks for 1 minute take 4 hours?\r\n\r\n----\r\n\r\nMy main worry would be that increasing the runtime of the script by, i don't know, 100X, would make it so people would always stop it before it completes thereby never generating seeds for the last (alphabetically-sorted) targets.\r\n\r\nI may be missing underestimating how many tasks people usually spawn when running this script though. But `--par 169` sounds like a lot.",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-07-28T13:29:18Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)\n         command = [\n             os.path.join(build_dir, 'src', 'test', 'fuzz', 'fuzz'),\n-            \"-runs=100000\",\n+            \"-max_total_time=6000\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277548417",
      "id" : 1277548417,
      "in_reply_to_id" : 1277494461,
      "line" : 268,
      "node_id" : "PRRC_kwDOABII585MJdeB",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 268,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 18,
      "pull_request_review_id" : 1552127456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277548417/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T13:29:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277548417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277559716"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277559716"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> How comes?\r\n\r\nSorry, with \"The number of tasks that are spawned is ~300\" I meant \"The number of tasks that are spawned over the full runtime of the python script is ~300\".\r\n\r\n> How could\r\n\r\nFor example, with `-j1`: Running 300 1-minute-tasks spawned sequentially on one thread will take 300 minutes. (5 hours). Though, the main point is that 1 minute of runtime is useless. So optimizing for a short default runtime will quickly get you to make the entire script useless.\r\n\r\nI am happy to change the number or drop this change, but generally I don't think it will be possible to find a default number that makes everyone happy. There will always be a need to change the number some way or another.",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-07-28T13:40:23Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)\n         command = [\n             os.path.join(build_dir, 'src', 'test', 'fuzz', 'fuzz'),\n-            \"-runs=100000\",\n+            \"-max_total_time=6000\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277559716",
      "id" : 1277559716,
      "in_reply_to_id" : 1277494461,
      "line" : 268,
      "node_id" : "PRRC_kwDOABII585MJgOk",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 268,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 18,
      "pull_request_review_id" : 1552148259,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277559716/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T13:40:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277559716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277566436"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277566436"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Indeed a too short runtime could make the script useless (since people would basically start running it in a loop itself), but a too long one would likely introduce a bias toward the first (alphabetically sorted) targets.\r\n\r\nI guess it would be helpful to know who uses this script and how. For instance if they are continuously generating coverage most likely they are already running it in a loop of some sort and therefore a runtime of like 10minutes per target would spead the time spent over all targets instead of generating more for the first ones.\r\n\r\nBut i'll stop bikeshedding now, your change looks good. If someone wants to change it they can open a PR and we'll learn more about how the script is being used.",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-07-28T13:46:53Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)\n         command = [\n             os.path.join(build_dir, 'src', 'test', 'fuzz', 'fuzz'),\n-            \"-runs=100000\",\n+            \"-max_total_time=6000\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277566436",
      "id" : 1277566436,
      "in_reply_to_id" : 1277494461,
      "line" : 268,
      "node_id" : "PRRC_kwDOABII585MJh3k",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 268,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 18,
      "pull_request_review_id" : 1552159123,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277566436/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T13:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277566436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277568660"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277568660"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nice, do you happen to know why they don't only set it to `1` when `-jobs` is not `0`?",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-07-28T13:48:54Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)\n         command = [\n             os.path.join(build_dir, 'src', 'test', 'fuzz', 'fuzz'),\n-            \"-runs=100000\",\n+            \"-max_total_time=6000\",\n+            \"-reload=0\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277568660",
      "id" : 1277568660,
      "line" : 269,
      "node_id" : "PRRC_kwDOABII585MJiaU",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 269,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 19,
      "pull_request_review_id" : 1552162689,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277568660/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T13:49:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277568660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22457751?v=4",
         "events_url" : "https://api.github.com/users/darosior/events{/privacy}",
         "followers_url" : "https://api.github.com/users/darosior/followers",
         "following_url" : "https://api.github.com/users/darosior/following{/other_user}",
         "gists_url" : "https://api.github.com/users/darosior/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/darosior",
         "id" : 22457751,
         "login" : "darosior",
         "node_id" : "MDQ6VXNlcjIyNDU3NzUx",
         "organizations_url" : "https://api.github.com/users/darosior/orgs",
         "received_events_url" : "https://api.github.com/users/darosior/received_events",
         "repos_url" : "https://api.github.com/users/darosior/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/darosior/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/darosior/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/darosior"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277575619"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277575619"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It is possible to launch multiple libFuzzer *manually* on the same folder, but this script doesn't do it, and it seems unlikely that a user would do it.",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-07-28T13:55:34Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)\n         command = [\n             os.path.join(build_dir, 'src', 'test', 'fuzz', 'fuzz'),\n-            \"-runs=100000\",\n+            \"-max_total_time=6000\",\n+            \"-reload=0\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277575619",
      "id" : 1277575619,
      "in_reply_to_id" : 1277568660,
      "line" : 269,
      "node_id" : "PRRC_kwDOABII585MJkHD",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 269,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 19,
      "pull_request_review_id" : 1552173917,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277575619/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T13:55:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277575619",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277576883"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277576883"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@murchandamus may be using it ? ",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-07-28T13:56:45Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)\n         command = [\n             os.path.join(build_dir, 'src', 'test', 'fuzz', 'fuzz'),\n-            \"-runs=100000\",\n+            \"-max_total_time=6000\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1277576883",
      "id" : 1277576883,
      "in_reply_to_id" : 1277494461,
      "line" : 268,
      "node_id" : "PRRC_kwDOABII585MJkaz",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 268,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 18,
      "pull_request_review_id" : 1552175809,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277576883/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-28T13:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1277576883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think I'd prefer continuing to use the defaults but I also don't use the runner much for generating, so no super strong opinion. I would assume that the defaults are based on data/heuristics and probably work well most of the time, so maybe make this optional?\r\n\r\n> Sometimes a libFuzzer setting like -use_value_profile=1 helps [0], sometimes it hurts [1].\r\n> By picking a random value, it is ensured that at least some of the runs will have the beneficial configuration set.\r\n\r\nWouldn't this only make sense if the \"help\" outweighs the \"hurt\"? For example, the metric you used in [1] is \"iterations until bug found\", so if randomizing the fuzzer options results in roughly equal speedup (help) and slow down (hurt) then there is no gain on average.",
      "created_at" : "2023-08-01T13:37:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1660350895",
      "id" : 1660350895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585i9vGv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660350895/reactions"
      },
      "updated_at" : "2023-08-01T13:37:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660350895",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Except for `mutate_depth`, 70% of the time the default value is used for each setting. Happy to change `mutate_depth` as well, which would mean in `.7**3` runs you get a \"vanilla\" libfuzzer.\r\n\r\nI'd say the main goal here is to prevent a case where a bug isn't found at all (or only after a \"outlier\" long time) due to the default settings. I don't think we've seen such a bug in reality, so I am happy to close this pull.\r\n\r\nRegardless, `max_len` should probably be considered separate, where the goal is to reduce the storage requirements of the qa-assets fuzz inputs folder. I haven't collected any data on this either yet. Do you think it is worth it to try?",
      "created_at" : "2023-08-01T13:55:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1660386703",
      "id" : 1660386703,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585i932P",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660386703/reactions"
      },
      "updated_at" : "2023-08-01T13:55:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1660386703",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'd say the main goal here is to prevent a case where a bug isn't found at all (or only after a \"outlier\" long time) due to the default settings.\r\n\r\nThis sounds reasonable but also quite rare. Could you give me an example of a theoretical target where this could happen?\r\n\r\nAre there any other projects that do this (e.g. oss-fuzz)?\r\n\r\n> I don't think we've seen such a bug in reality, so I am happy to close this pull.\r\n\r\nOn a general note, I think it is fine to add to/improve on our fuzzing tools & techniques even if those haven't found any bugs yet but there should be some evidence that they are useful.\r\n\r\n> Regardless, max_len should probably be considered separate, where the goal is to reduce the storage requirements of the qa-assets fuzz inputs folder. I haven't collected any data on this either yet. Do you think it is worth it to try?\r\n\r\nFor `max_len` we could also consider adding size guards to the targets themselves, e.g. an early `if (fuzz_data_size > x) return;` which would result in fuzzers not adding (most) bigger inputs to the corpus.",
      "created_at" : "2023-08-02T12:06:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1662089886",
      "id" : 1662089886,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585jEXqe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662089886/reactions"
      },
      "updated_at" : "2023-08-02T12:07:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662089886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Are there any other projects that do this (e.g. oss-fuzz)?\r\n\r\nIIRC oss-fuzz did that with AFL build time settings, but removed it again because it would turn up bugs intermittently/non-deterministically.  I don't think they do it for libFuzzer runtime settings, but I found this, which claims that exponential search is turned into linear search.\r\n\r\n```\r\noss-fuzz]$ git grep -W -I use_value_profile \r\nprojects/java-example/ExampleValueProfileFuzzer.java=public class ExampleValueProfileFuzzer {\r\nprojects/java-example/ExampleValueProfileFuzzer.java-  private static String base64(byte[] input) {\r\nprojects/java-example/ExampleValueProfileFuzzer.java-    return Base64.getEncoder().encodeToString(input);\r\nprojects/java-example/ExampleValueProfileFuzzer.java-  }\r\nprojects/java-example/ExampleValueProfileFuzzer.java-\r\nprojects/java-example/ExampleValueProfileFuzzer.java-  private static long insecureEncrypt(long input) {\r\nprojects/java-example/ExampleValueProfileFuzzer.java-    long key = 0xefe4eb93215cb6b0L;\r\nprojects/java-example/ExampleValueProfileFuzzer.java-    return input ^ key;\r\nprojects/java-example/ExampleValueProfileFuzzer.java-  }\r\nprojects/java-example/ExampleValueProfileFuzzer.java-\r\nprojects/java-example/ExampleValueProfileFuzzer.java-  public static void fuzzerTestOneInput(FuzzedDataProvider data) {\r\nprojects/java-example/ExampleValueProfileFuzzer.java:    // Without -use_value_profile=1, the fuzzer gets stuck here as there is no direct correspondence\r\nprojects/java-example/ExampleValueProfileFuzzer.java-    // between the input bytes and the compared string. With value profile, the fuzzer can guess the\r\nprojects/java-example/ExampleValueProfileFuzzer.java-    // expected input byte by byte, which takes linear rather than exponential time.\r\nprojects/java-example/ExampleValueProfileFuzzer.java-    if (base64(data.consumeBytes(6)).equals(\"SmF6emVy\")) {\r\nprojects/java-example/ExampleValueProfileFuzzer.java-      long[] plaintextBlocks = data.consumeLongs(2);\r\nprojects/java-example/ExampleValueProfileFuzzer.java-      if (plaintextBlocks.length != 2)\r\nprojects/java-example/ExampleValueProfileFuzzer.java-        return;\r\nprojects/java-example/ExampleValueProfileFuzzer.java-      if (insecureEncrypt(plaintextBlocks[0]) == 0x9fc48ee64d3dc090L) {\r\nprojects/java-example/ExampleValueProfileFuzzer.java:        // Without --fake_pcs (enabled by default with -use_value_profile=1), the fuzzer would get\r\nprojects/java-example/ExampleValueProfileFuzzer.java-        // stuck here as the value profile information for long comparisons would not be able to\r\nprojects/java-example/ExampleValueProfileFuzzer.java-        // distinguish between this comparison and the one above.\r\nprojects/java-example/ExampleValueProfileFuzzer.java-        if (insecureEncrypt(plaintextBlocks[1]) == 0x888a82ff483ad9c2L) {\r\nprojects/java-example/ExampleValueProfileFuzzer.java-          mustNeverBeCalled();\r\nprojects/java-example/ExampleValueProfileFuzzer.java-        }\r\nprojects/java-example/ExampleValueProfileFuzzer.java-      }\r\nprojects/java-example/ExampleValueProfileFuzzer.java-    }\r\nprojects/java-example/ExampleValueProfileFuzzer.java-  }\r\nprojects/java-example/ExampleValueProfileFuzzer.java-\r\nprojects/java-example/ExampleValueProfileFuzzer.java-  private static void mustNeverBeCalled() {\r\nprojects/java-example/ExampleValueProfileFuzzer.java-    throw new IllegalStateException(\"mustNeverBeCalled has been called\");\r\nprojects/java-example/ExampleValueProfileFuzzer.java-  }\r\nprojects/java-example/ExampleValueProfileFuzzer.java-}\r\n```\r\n\r\n> there should be some evidence that they are useful.\r\n\r\nI think I provided some evidence, but I guess you are asking about evidence that they are useful in the *average* case, which is a bit harder to show.",
      "created_at" : "2023-08-02T12:23:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1662115396",
      "id" : 1662115396,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585jEd5E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662115396/reactions"
      },
      "updated_at" : "2023-08-02T12:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662115396",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1346327126"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346327126"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I tried using this script, but got away from that because it always tries to run all fuzz targets. I would either only be able to fuzz each target very briefly of which a big portion would just be the initialization, or if I were to kill the fuzzing when I need my computer for other things, always fuzz the same targets due to its determinism. I recently ended up making myself a bash script instead that randomly picks ten fuzz targets and fuzzes them for one hour each (with 12 processes in parallel). I run this nightly per a cronjob:\r\n\r\n`for i in $(find ../qa-assets-active-fuzzing/fuzz_seed_corpus/ -mindepth 1 -maxdepth 1 -type d | shuf | head -n10); do FUZZ=$(basename $i) src/test/fuzz/fuzz -jobs=12 -reload=1 -max_total_time=3600 $i; done`",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-10-04T18:58:18Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)\n         command = [\n             os.path.join(build_dir, 'src', 'test', 'fuzz', 'fuzz'),\n-            \"-runs=100000\",\n+            \"-max_total_time=6000\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1346327126",
      "id" : 1346327126,
      "in_reply_to_id" : 1277494461,
      "line" : 268,
      "node_id" : "PRRC_kwDOABII585QP1JW",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 268,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 18,
      "pull_request_review_id" : 1658291815,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346327126/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T18:58:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346327126",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1346327945"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346327945"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh, Iâve done that :)",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-10-04T18:59:06Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)\n         command = [\n             os.path.join(build_dir, 'src', 'test', 'fuzz', 'fuzz'),\n-            \"-runs=100000\",\n+            \"-max_total_time=6000\",\n+            \"-reload=0\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1346327945",
      "id" : 1346327945,
      "in_reply_to_id" : 1277568660,
      "line" : 269,
      "node_id" : "PRRC_kwDOABII585QP1WJ",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 269,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 19,
      "pull_request_review_id" : 1658293043,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346327945/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-04T18:59:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1346327945",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK fad32eb02c98d841e0cd9b585b61a698feec361a\r\n\r\nI would use this script instead of my hacky bash script, if there were a way of running just `n` random fuzz targets instead of all of them. I donât feel like I have a good intuition on the values youâre setting, but doing something non-default in 30% of the cases look reasonable to me, based on the evidence that those settings sometimes help.",
      "created_at" : "2023-10-04T19:12:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1747486963",
      "id" : 1747486963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585oKIjz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747486963/reactions"
      },
      "updated_at" : "2023-10-04T19:12:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1747486963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I would use this script instead of my hacky bash script, if there were a way of running just n random fuzz targets instead of all of them\r\n\r\nlike this, @murchandamus?\r\n```diff\r\ndiff --git a/test/fuzz/test_runner.py b/test/fuzz/test_runner.py\r\nindex a60f51f40a..6510102e6c 100755\r\n--- a/test/fuzz/test_runner.py\r\n+++ b/test/fuzz/test_runner.py\r\n@@ -80,6 +80,13 @@ def main():\r\n              ' the given targets for a finite number of times. Outputs them to'\r\n              ' the passed corpus_dir.'\r\n     )\r\n+    parser.add_argument(\r\n+        '--max_targets',\r\n+        '-mt',\r\n+        type=int,\r\n+        default=0,\r\n+        help='Max number of targets to run (chosen randomly). 0 means to run all of them.',\r\n+    )\r\n \r\n     args = parser.parse_args()\r\n     args.corpus_dir = Path(args.corpus_dir)\r\n@@ -121,6 +128,8 @@ def main():\r\n                 logging.error(\"Target \\\"{}\\\" not found in current target list.\".format(excluded_target))\r\n                 continue\r\n             test_list_selection.remove(excluded_target)\r\n+    if args.max_targets > 0:\r\n+        test_list_selection = random.sample(test_list_selection, args.max_targets)\r\n     test_list_selection.sort()\r\n \r\n     logging.info(\"{} of {} detected fuzz target(s) selected: {}\".format(len(test_list_selection), len(test_list_all), \" \".join(test_list_selection)))\r\n```",
      "created_at" : "2023-10-06T17:21:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1751145339",
      "id" : 1751145339,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585oYFt7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1751145339/reactions"
      },
      "updated_at" : "2023-10-06T17:21:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1751145339",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1349141496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1349141496"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What is the default value for `mutate_depth`?  5?",
      "commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "created_at" : "2023-10-06T17:40:51Z",
      "diff_hunk" : "@@ -259,9 +260,16 @@ def job(command, t, t_env):\n     for target, t_env in targets:\n         target_corpus_dir = corpus_dir / target\n         os.makedirs(target_corpus_dir, exist_ok=True)\n+        use_value_profile = int(random.random() < .3)\n+        max_len = 0 if random.random() < .7 else 2**random.randint(6, 12)\n+        mutate_depth = random.randint(1, 10)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#discussion_r1349141496",
      "id" : 1349141496,
      "line" : 265,
      "node_id" : "PRRC_kwDOABII585QakP4",
      "original_commit_id" : "fad32eb02c98d841e0cd9b585b61a698feec361a",
      "original_line" : 265,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "test/fuzz/test_runner.py",
      "position" : 14,
      "pull_request_review_id" : 1662524870,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28178",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1349141496/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-06T17:40:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1349141496",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--2e250dc3d92b2c9115b66051148d6e47-->\nð¤ There hasn't been much activity lately and the CI seems to be failing.\n\nIf no one reviewed the current pull request by commit hash, a [rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes) can be considered. While the CI failure may be a false positive, the CI hasn't been running for some time, so there may be a real issue hiding as well. A rebase triggers the latest CI and makes sure that no silent merge conflicts have snuck in.\n",
      "created_at" : "2024-02-05T14:34:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28178#issuecomment-1927142473",
      "id" : 1927142473,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28178",
      "node_id" : "IC_kwDOABII585y3dxJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1927142473/reactions"
      },
      "updated_at" : "2024-02-05T14:34:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1927142473",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
