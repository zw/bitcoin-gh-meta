[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [achow101](https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1656430144) |\n| Stale ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1662971265) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-07-27T10:30:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1653341608",
      "id" : 1653341608,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585ii_2o",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653341608/reactions"
      },
      "updated_at" : "2023-08-10T09:49:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653341608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nI agree that `BAD_OPCODE` is the wrong error for these opcodes. However, instead of adding a new opcode, I think these should just return the existing `DISABLED_OPCODE` error that is used for the other disabled opcodes.\r\n\r\nAlso `OP_VER` should be included here as well as that's really what is disabled. `OP_VERIF` and `OP_VERNOTIF` are really just variants of `OP_VER`.\r\n\r\nEdit: Oh, `OP_VER` is not an unconditional failure. Even so, it should still have the `DISABLED_OPCODE` error.",
      "created_at" : "2023-07-28T23:15:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1656430144",
      "id" : 1656430144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585iux5A",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1656430144/reactions"
      },
      "updated_at" : "2023-07-28T23:29:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1656430144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Ok thanks.",
      "created_at" : "2023-07-28T23:51:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1656471607",
      "id" : 1656471607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585iu8A3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1656471607/reactions"
      },
      "updated_at" : "2023-07-28T23:51:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1656471607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109772289?v=4",
         "events_url" : "https://api.github.com/users/Dearfor/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Dearfor/followers",
         "following_url" : "https://api.github.com/users/Dearfor/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Dearfor/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Dearfor",
         "id" : 109772289,
         "login" : "Dearfor",
         "node_id" : "U_kgDOBor-AQ",
         "organizations_url" : "https://api.github.com/users/Dearfor/orgs",
         "received_events_url" : "https://api.github.com/users/Dearfor/received_events",
         "repos_url" : "https://api.github.com/users/Dearfor/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Dearfor/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Dearfor/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Dearfor"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thx! I was also considering it but not 100% sure whether `OP_VERIF` and `OP_VERNOTIF` are also disabled. I will use the existing one as your suggestion.",
      "created_at" : "2023-07-31T02:13:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1657393698",
      "id" : 1657393698,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585iydIi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657393698/reactions"
      },
      "updated_at" : "2023-07-31T02:38:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657393698",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "updated and passed the tests",
      "created_at" : "2023-07-31T06:59:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1657781606",
      "id" : 1657781606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585iz71m",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657781606/reactions"
      },
      "updated_at" : "2023-07-31T06:59:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1657781606",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "squashed into single commit ceab6bf3ac6b09ae7f210c05614d2c898ef7ee37",
      "created_at" : "2023-07-31T22:22:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1659270516",
      "id" : 1659270516,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585i5nV0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1659270516/reactions"
      },
      "updated_at" : "2023-07-31T22:22:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1659270516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK ceab6bf3ac6b09ae7f210c05614d2c898ef7ee37\r\n\r\n- It looks like the first sentence of the PR description needs to be updated.\r\n- Would it be good to accompany this change with a release note?",
      "created_at" : "2023-07-31T22:29:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1659278229",
      "id" : 1659278229,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585i5pOV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 1,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1659278229/reactions"
      },
      "updated_at" : "2023-07-31T22:29:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1659278229",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "updated PR description",
      "created_at" : "2023-07-31T22:44:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1659290755",
      "id" : 1659290755,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585i5sSD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1659290755/reactions"
      },
      "updated_at" : "2023-07-31T22:44:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1659290755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1281126061"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281126061"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`OP_VER` can be included here too:\r\n\r\n```suggestion\r\n                opcode == OP_VERNOTIF ||\r\n                (fExec && opcode == OP_VER))\r\n```",
      "commit_id" : "ceab6bf3ac6b09ae7f210c05614d2c898ef7ee37",
      "created_at" : "2023-08-01T20:34:30Z",
      "diff_hunk" : "@@ -467,7 +467,9 @@ bool EvalScript(std::vector<std::vector<unsigned char> >& stack, const CScript&\n                 opcode == OP_DIV ||\n                 opcode == OP_MOD ||\n                 opcode == OP_LSHIFT ||\n-                opcode == OP_RSHIFT)\n+                opcode == OP_RSHIFT ||\n+                opcode == OP_VERIF ||\n+                opcode == OP_VERNOTIF)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1281126061",
      "id" : 1281126061,
      "line" : 472,
      "node_id" : "PRRC_kwDOABII585MXG6t",
      "original_commit_id" : "ceab6bf3ac6b09ae7f210c05614d2c898ef7ee37",
      "original_line" : 472,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/script/interpreter.cpp",
      "position" : 7,
      "pull_request_review_id" : 1557789439,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281126061/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-01T20:34:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281126061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1281323514"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281323514"
         }
      },
      "author_association" : "NONE",
      "body" : "cool, I've implemented!",
      "commit_id" : "a4dcdfde2e3d831a562d996fb2c21aa549764c44",
      "created_at" : "2023-08-02T02:49:06Z",
      "diff_hunk" : "@@ -467,7 +467,9 @@ bool EvalScript(std::vector<std::vector<unsigned char> >& stack, const CScript&\n                 opcode == OP_DIV ||\n                 opcode == OP_MOD ||\n                 opcode == OP_LSHIFT ||\n-                opcode == OP_RSHIFT)\n+                opcode == OP_RSHIFT ||\n+                opcode == OP_VERIF ||\n+                opcode == OP_VERNOTIF)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1281323514",
      "id" : 1281323514,
      "in_reply_to_id" : 1281126061,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MX3H6",
      "original_commit_id" : "ceab6bf3ac6b09ae7f210c05614d2c898ef7ee37",
      "original_line" : 472,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/script/interpreter.cpp",
      "position" : null,
      "pull_request_review_id" : 1558096379,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281323514/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-02T02:49:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1281323514",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK a4dcdfde2e3d831a562d996fb2c21aa549764c44",
      "created_at" : "2023-08-02T21:12:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1662971265",
      "id" : 1662971265,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585jHu2B",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662971265/reactions"
      },
      "updated_at" : "2023-08-02T21:12:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1662971265",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1285070870"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285070870"
         }
      },
      "author_association" : "MEMBER",
      "body" : "How does OP_VER differ from a non-existent opcode?",
      "commit_id" : "a4dcdfde2e3d831a562d996fb2c21aa549764c44",
      "created_at" : "2023-08-05T14:55:54Z",
      "diff_hunk" : "@@ -467,7 +467,10 @@ bool EvalScript(std::vector<std::vector<unsigned char> >& stack, const CScript&\n                 opcode == OP_DIV ||\n                 opcode == OP_MOD ||\n                 opcode == OP_LSHIFT ||\n-                opcode == OP_RSHIFT)\n+                opcode == OP_RSHIFT ||\n+                opcode == OP_VERIF ||\n+                opcode == OP_VERNOTIF ||\n+                (fExec && opcode == OP_VER))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1285070870",
      "id" : 1285070870,
      "line" : 473,
      "node_id" : "PRRC_kwDOABII585MmKAW",
      "original_commit_id" : "a4dcdfde2e3d831a562d996fb2c21aa549764c44",
      "original_line" : 473,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/script/interpreter.cpp",
      "position" : 8,
      "pull_request_review_id" : 1563931956,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285070870/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-05T14:55:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285070870",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1285078233"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285078233"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's actually defined and exists in documentation.",
      "commit_id" : "a4dcdfde2e3d831a562d996fb2c21aa549764c44",
      "created_at" : "2023-08-05T15:49:49Z",
      "diff_hunk" : "@@ -467,7 +467,10 @@ bool EvalScript(std::vector<std::vector<unsigned char> >& stack, const CScript&\n                 opcode == OP_DIV ||\n                 opcode == OP_MOD ||\n                 opcode == OP_LSHIFT ||\n-                opcode == OP_RSHIFT)\n+                opcode == OP_RSHIFT ||\n+                opcode == OP_VERIF ||\n+                opcode == OP_VERNOTIF ||\n+                (fExec && opcode == OP_VER))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1285078233",
      "id" : 1285078233,
      "in_reply_to_id" : 1285070870,
      "line" : 473,
      "node_id" : "PRRC_kwDOABII585MmLzZ",
      "original_commit_id" : "a4dcdfde2e3d831a562d996fb2c21aa549764c44",
      "original_line" : 473,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/script/interpreter.cpp",
      "position" : 8,
      "pull_request_review_id" : 1563943745,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285078233/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-05T15:49:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285078233",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't understand why we'd want to touch consensus code for something that's at most a slightly confusing error message? Just changing the error description as in #28234 seems a strictly better approach.\r\n\r\n~As it stands, `SCRIPT_ERR_DISABLED_OPCODE` covers opcodes that are unusable even in unexecuted IF/ELSE branches, while `SCRIPT_ERR_BAD_OPCODE` covers opcodes that are only unusable when evaluated.~ (VERIF and VERNOTIF are exceptions to this)",
      "created_at" : "2023-08-09T02:56:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1670579639",
      "id" : 1670579639,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585jkwW3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670579639/reactions"
      },
      "updated_at" : "2023-08-09T02:58:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670579639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@ajtowns https://github.com/bitcoin/bitcoin/pull/28234 is for reserved opcode, but this change is for disabled opcode.\r\nMoreover, it's not just about confusing err msg. I mentioned 2 other reasons(first and second reason above), especially for `OP_VERIF` and `OP_VERNOTIF`, which are unusable even in unexecuted IF/ELSE branches.\r\nI agree that we need to be conservative for consensus code, though I don't see the side effect of this change(let me know if there is!).",
      "created_at" : "2023-08-09T03:29:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1670599690",
      "id" : 1670599690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585jk1QK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670599690/reactions"
      },
      "updated_at" : "2023-08-09T03:41:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670599690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "There's no difference between \"reserving\" an opcode and \"disabling\" it other than the error message that's passed through when it's used. Having different error messages for \"error even if not executed\" and \"error only when it's executed\" might make sense, but that isn't what we currently do (OP_VERIF/OP_VERNOTIF are exceptions) and isn't what this PR currently does.\r\n\r\nHaving the error codes be:\r\n\r\n```\r\n        case SCRIPT_ERR_BAD_OPCODE:\r\n            return \"Attempted to execute invalid/reserved opcode\";\r\n        case SCRIPT_ERR_DISABLED_OPCODE:\r\n            return \"Disabled opcode present in script\";\r\n```\r\n\r\nor similar, and just changing the results for VERIF/VERNOTIF by:\r\n\r\n```c++\r\n    ...\r\n    default:\r\n        if (opcode == OP_VERIF || opcode == OP_VERNOTIF) {\r\n            return set_error(serror, SCRIPT_ERR_DISABLED_OPCODE);\r\n        } else {\r\n            return set_error(serror, SCRIPT_ERR_BAD_OPCODE);\r\n        }\r\n```\r\n\r\nseems simpler to ensure there's no meaningful consensus change.\r\n\r\n> 2\\. but it's such an inefficient to go through all cases even if it does not need to\r\n\r\nA switch statement isn't made inefficient by the presence of other cases, it's just a lookup and a jump. (It is made inefficient if the cases are sparse, but they're not here)",
      "created_at" : "2023-08-09T06:04:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1670725416",
      "id" : 1670725416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585jlT8o",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670725416/reactions"
      },
      "updated_at" : "2023-08-09T06:04:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670725416",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "just out of curiosity, what's the difference between this(just removed `fExec && opcode == OP_VER` check)\r\n```cpp\r\n            if (opcode == OP_CAT ||\r\n                opcode == OP_SUBSTR ||\r\n                opcode == OP_LEFT ||\r\n                opcode == OP_RIGHT ||\r\n                opcode == OP_INVERT ||\r\n                opcode == OP_AND ||\r\n                opcode == OP_OR ||\r\n                opcode == OP_XOR ||\r\n                opcode == OP_2MUL ||\r\n                opcode == OP_2DIV ||\r\n                opcode == OP_MUL ||\r\n                opcode == OP_DIV ||\r\n                opcode == OP_MOD ||\r\n                opcode == OP_LSHIFT ||\r\n                opcode == OP_RSHIFT ||\r\n                opcode == OP_VERIF ||\r\n                opcode == OP_VERNOTIF) \r\n                return set_error(serror, SCRIPT_ERR_DISABLED_OPCODE); // Disabled opcodes (CVE-2010-5137).\r\n```\r\nand this?\r\n\r\n```cpp\r\n    ...\r\n    default:\r\n        if (opcode == OP_VERIF || opcode == OP_VERNOTIF) {\r\n            return set_error(serror, SCRIPT_ERR_DISABLED_OPCODE);\r\n        } else {\r\n            return set_error(serror, SCRIPT_ERR_BAD_OPCODE);\r\n        }\r\n```\r\n\r\n\r\nand at first I didn't include `OP_VER` but @achow101 suggested to include it in disabled err(which makes sense to me).\r\nhowever, if simply changing err msg(https://github.com/bitcoin/bitcoin/pull/28234) could works for `OP_VER`, we can omit check for `OP_VER`.",
      "created_at" : "2023-08-09T07:33:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1670820372",
      "id" : 1670820372,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585jlrIU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670820372/reactions"
      },
      "updated_at" : "2023-08-09T07:33:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670820372",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Changing nothing other than the `default` clause makes it easy to see that the only functional change is in the error code being returned. Changing the logic outside the `switch` requires more care to see that there aren't any other weird behaviours being introduced. That is, it's optimising for simplicity of review.\r\n\r\nIf you're wanting to give the same error message for `OP_VER` (which is only invalid if executed) the same as `OP_VERIF` (which is invalid even if not executed) then an even simpler change is to just make both `SCRIPT_ERR_BAD_OPCODE` and `SCRIPT_ERR_DISABLED_OPCODE` give the same error message and not touch consensus code at all, eg:\r\n\r\n```c++\r\n    case SCRIPT_ERR_BAD_OPCODE:\r\n    case SCRIPT_ERR_DISABLED_OPCODE:\r\n        return \"Invalid opcode (disabled/reserved/unknown)\";\r\n```",
      "created_at" : "2023-08-09T08:16:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1670877495",
      "id" : 1670877495,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585jl5E3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670877495/reactions"
      },
      "updated_at" : "2023-08-09T08:16:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670877495",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1288145804"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1288145804"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think a more precise distinction is that `OP_VER`, `OP_VERIF` and `OP_VERNOTIF` all were defined and implemented in published versions of bitcoin (like `CAT`/`SUBSTR`/etc), while `OP_RESERVED`, `OP_RESERVED1`, `OP_RESERVERD2`, `OP_INVALIDOPCODE`, `OP_PUBKEY`, `OP_PUBKEYHASH` (etc) all have had assigned names, but never had a published implementation in `EvalScript` (not to mention opcodes 0xbb through 0xf8 or so which didn't even get given names).\r\n\r\nIt doesn't seem that useful to me to have different error messages based on how things were historically if that has no impact on how we interpret the blockchain today though. IMO, better to either just say \"invalid opcode\" in all cases, or, if  anything, document the difference the between \"invalid if present anywhere\" and \"invalid if executed\".",
      "commit_id" : "a4dcdfde2e3d831a562d996fb2c21aa549764c44",
      "created_at" : "2023-08-09T08:36:17Z",
      "diff_hunk" : "@@ -467,7 +467,10 @@ bool EvalScript(std::vector<std::vector<unsigned char> >& stack, const CScript&\n                 opcode == OP_DIV ||\n                 opcode == OP_MOD ||\n                 opcode == OP_LSHIFT ||\n-                opcode == OP_RSHIFT)\n+                opcode == OP_RSHIFT ||\n+                opcode == OP_VERIF ||\n+                opcode == OP_VERNOTIF ||\n+                (fExec && opcode == OP_VER))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1288145804",
      "id" : 1288145804,
      "in_reply_to_id" : 1285070870,
      "line" : 473,
      "node_id" : "PRRC_kwDOABII585Mx4uM",
      "original_commit_id" : "a4dcdfde2e3d831a562d996fb2c21aa549764c44",
      "original_line" : 473,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/script/interpreter.cpp",
      "position" : 8,
      "pull_request_review_id" : 1569038668,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1288145804/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-09T08:36:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1288145804",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I think it might be better to separate `OP_VER` and its variants as functionally different(based on executed branch or not).\r\njust throw `SCRIPT_ERR_DISABLED_OPCODE` for `OP_VERIF` and `OP_VERNOTIF`, not for `OP_VER`.\r\nlet `OP_VER` throw `SCRIPT_ERR_BAD_OPCODE` as it is.",
      "created_at" : "2023-08-09T09:01:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1670944317",
      "id" : 1670944317,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585jmJY9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670944317/reactions"
      },
      "updated_at" : "2023-08-09T09:01:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1670944317",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1290433669"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1290433669"
         }
      },
      "author_association" : "NONE",
      "body" : "If there's not any meaningful difference btw disabled and reserved ones, it would make sense to throw disabled error for both of them as it's how it works for disabled opcodes.\r\nlike below\r\n\r\n```cpp\r\n    ...\r\n    default:\r\n        if (opcode == OP_VERIF || \r\n            opcode == OP_VERNOTIF ||\r\n            opcode == OP_VER ||\r\n            opcode == OP_RESERVED ||\r\n            opcode == OP_RESERVED1 ||\r\n            opcode == OP_RESERVED2) {\r\n            return set_error(serror, SCRIPT_ERR_DISABLED_OPCODE);\r\n        } else {\r\n            return set_error(serror, SCRIPT_ERR_BAD_OPCODE);\r\n        }\r\n```\r\n\r\nin this way we don't need to add `reserved` in bad opcode error message.",
      "commit_id" : "17a0270da5536547850dca06885a278d3e0d3269",
      "created_at" : "2023-08-10T17:03:48Z",
      "diff_hunk" : "@@ -467,7 +467,10 @@ bool EvalScript(std::vector<std::vector<unsigned char> >& stack, const CScript&\n                 opcode == OP_DIV ||\n                 opcode == OP_MOD ||\n                 opcode == OP_LSHIFT ||\n-                opcode == OP_RSHIFT)\n+                opcode == OP_RSHIFT ||\n+                opcode == OP_VERIF ||\n+                opcode == OP_VERNOTIF ||\n+                (fExec && opcode == OP_VER))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#discussion_r1290433669",
      "id" : 1290433669,
      "in_reply_to_id" : 1285070870,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585M6nSF",
      "original_commit_id" : "a4dcdfde2e3d831a562d996fb2c21aa549764c44",
      "original_line" : 473,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/script/interpreter.cpp",
      "position" : null,
      "pull_request_review_id" : 1572358802,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28169",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1290433669/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-10T17:21:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1290433669",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I move the logic to default clause following @ajtowns opinion, but still include `OP_VER` to throw disabled error(because it's disabled opcode).\r\nI also added `reserved` for bad opcode error in 17a0270da5536547850dca06885a278d3e0d3269 which is for reserved opcode.\r\n\r\nI mentioned above, but If there's not any meaningful difference btw disabled and reserved ones, it would make sense to throw disabled error for both of them as it's how it works for disabled opcodes.\r\nlike below\r\n\r\n```cpp\r\n    ...\r\n    default:\r\n        if (opcode == OP_VERIF || \r\n            opcode == OP_VERNOTIF ||\r\n            opcode == OP_VER ||\r\n            opcode == OP_RESERVED ||\r\n            opcode == OP_RESERVED1 ||\r\n            opcode == OP_RESERVED2) {\r\n            return set_error(serror, SCRIPT_ERR_DISABLED_OPCODE);\r\n        } else {\r\n            return set_error(serror, SCRIPT_ERR_BAD_OPCODE);\r\n        }\r\n```\r\n\r\nin this way we don't need to add `reserved` in bad opcode error message.",
      "created_at" : "2023-08-10T17:23:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1673617042",
      "id" : 1673617042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585jwV6S",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1673617042/reactions"
      },
      "updated_at" : "2023-08-10T17:23:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1673617042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "If we're not differentiating between `OP_VER` and `OP_VERIF`, I think we should just merge the `DISABLED_OPCODE` and `BAD_OPCODE` errors.",
      "created_at" : "2023-08-11T05:43:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1674237747",
      "id" : 1674237747,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585jytcz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1674237747/reactions"
      },
      "updated_at" : "2023-08-11T05:43:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1674237747",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "If `DISABLED_OPCODE` and `BAD_OPCODE` error throw the same message, do we need to have both error case?\r\nnot sure about the grounds to differentiate opcodes throwing `DISABLED_OPCODE` and `BAD_OPCODE` if have same message.",
      "created_at" : "2023-08-11T06:02:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1674247997",
      "id" : 1674247997,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585jyv89",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1674247997/reactions"
      },
      "updated_at" : "2023-08-14T01:53:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1674247997",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73169711?v=4",
         "events_url" : "https://api.github.com/users/ChrisCho-H/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ChrisCho-H/followers",
         "following_url" : "https://api.github.com/users/ChrisCho-H/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ChrisCho-H/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ChrisCho-H",
         "id" : 73169711,
         "login" : "ChrisCho-H",
         "node_id" : "MDQ6VXNlcjczMTY5NzEx",
         "organizations_url" : "https://api.github.com/users/ChrisCho-H/orgs",
         "received_events_url" : "https://api.github.com/users/ChrisCho-H/received_events",
         "repos_url" : "https://api.github.com/users/ChrisCho-H/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ChrisCho-H/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ChrisCho-H/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ChrisCho-H"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--2e250dc3d92b2c9115b66051148d6e47-->\nð¤ There hasn't been much activity lately and the CI seems to be failing.\n\nIf no one reviewed the current pull request by commit hash, a [rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes) can be considered. While the CI failure may be a false positive, the CI hasn't been running for some time, so there may be a real issue hiding as well. A rebase triggers the latest CI and makes sure that no silent merge conflicts have snuck in.\n",
      "created_at" : "2024-02-05T14:34:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28169#issuecomment-1927142501",
      "id" : 1927142501,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28169",
      "node_id" : "IC_kwDOABII585y3dxl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1927142501/reactions"
      },
      "updated_at" : "2024-02-05T14:34:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1927142501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
