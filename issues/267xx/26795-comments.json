[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [MarcoFalke](https://github.com/bitcoin/bitcoin/pull/26795#issuecomment-1369512157) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-01-02T19:41:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26795#issuecomment-1369167875",
      "id" : 1369167875,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26795",
      "node_id" : "IC_kwDOABII585Rm9gD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1369167875/reactions"
      },
      "updated_at" : "2023-01-03T08:49:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1369167875",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke I couldn't figure out how to generate a documentation diff, is this included in bitcoin/bitcoin or another repository?",
      "created_at" : "2023-01-02T19:42:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26795#issuecomment-1369168212",
      "id" : 1369168212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26795",
      "node_id" : "IC_kwDOABII585Rm9lU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1369168212/reactions"
      },
      "updated_at" : "2023-01-02T19:42:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1369168212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/704789?v=4",
         "events_url" : "https://api.github.com/users/jdjkelly/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jdjkelly/followers",
         "following_url" : "https://api.github.com/users/jdjkelly/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jdjkelly/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jdjkelly",
         "id" : 704789,
         "login" : "jdjkelly",
         "node_id" : "MDQ6VXNlcjcwNDc4OQ==",
         "organizations_url" : "https://api.github.com/users/jdjkelly/orgs",
         "received_events_url" : "https://api.github.com/users/jdjkelly/received_events",
         "repos_url" : "https://api.github.com/users/jdjkelly/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jdjkelly/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jdjkelly/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jdjkelly"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "You can just write the help to a file and compare it. I use the following diff:\r\n\r\n\r\n```diff\r\ndiff --git a/src/rpc/server.cpp b/src/rpc/server.cpp\r\nindex 9f57a56297..be5fe4084f 100644\r\n--- a/src/rpc/server.cpp\r\n+++ b/src/rpc/server.cpp\r\n@@ -96,7 +96,7 @@ std::string CRPCTable::help(const std::string& strCommand, const JSONRPCRequest&\r\n     {\r\n         const CRPCCommand *pcmd = command.second;\r\n         std::string strMethod = pcmd->name;\r\n-        if ((strCommand != \"\" || pcmd->category == \"hidden\") && strMethod != strCommand)\r\n+        if ((strCommand != \"\") && strMethod != strCommand)\r\n             continue;\r\n         jreq.strMethod = strMethod;\r\n         try\r\ndiff --git a/test/functional/rpc_help.py b/test/functional/rpc_help.py\r\nindex 7acc3cbbd5..a5d8e28b8c 100755\r\n--- a/test/functional/rpc_help.py\r\n+++ b/test/functional/rpc_help.py\r\n@@ -103,7 +103,7 @@ class HelpRpcTest(BitcoinTestFramework):\r\n         # command titles\r\n         titles = [line[3:-3] for line in node.help().splitlines() if line.startswith('==')]\r\n \r\n-        components = ['Blockchain', 'Control', 'Mining', 'Network', 'Rawtransactions', 'Util']\r\n+        components = ['Blockchain', 'Control', 'Hidden', 'Mining', 'Network', 'Rawtransactions', 'Util']\r\n \r\n         if self.is_wallet_compiled():\r\n             components.append('Wallet')\r\n@@ -119,7 +119,8 @@ class HelpRpcTest(BitcoinTestFramework):\r\n     def dump_help(self):\r\n         dump_dir = os.path.join(self.options.tmpdir, 'rpc_help_dump')\r\n         os.mkdir(dump_dir)\r\n-        calls = [line.split(' ', 1)[0] for line in self.nodes[0].help().splitlines() if line and not line.startswith('==')]\r\n+        dump_dir = '/tmp/temp_git/' ##HACK\r\n+        calls = [line.split(' ', 1)[0].split('|', 1)[0] for line in self.nodes[0].help().splitlines() if line and not line.startswith('==')]\r\n         for call in calls:\r\n             with open(os.path.join(dump_dir, call), 'w', encoding='utf-8') as f:\r\n                 # Make sure the node can generate the help at runtime without crashing\r\n```\r\n\r\n\r\nWhich gives:\r\n\r\n\r\n```diff\r\ndiff --git a/fundrawtransaction b/fundrawtransaction\r\nindex e3cc549..5ffcb3a 100644\r\n--- a/fundrawtransaction\r\n+++ b/fundrawtransaction\r\n@@ -38,9 +38,11 @@ Arguments:\r\n          ...\r\n        ],\r\n        \"input_weights\": [             (json array, optional) Inputs and their corresponding weights\r\n-         \"txid\",                      (string, required) The transaction id\r\n-         vout,                        (numeric, required) The output index\r\n-         weight,                      (numeric, required) The maximum weight for this input, including the weight of the outpoint and sequence number. Note that serialized signature sizes are not guaranteed to be consistent, so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures.Remember to convert serialized sizes to weight units when necessary.\r\n+         {                            (json object)\r\n+           \"txid\": \"hex\",             (string, required) The transaction id\r\n+           \"vout\": n,                 (numeric, required) The output index\r\n+           \"weight\": n,               (numeric, required) The maximum weight for this input, including the weight of the outpoint and sequence number. Note that serialized signature sizes are not guaranteed to be consistent, so the maximum DER signatures size of 73 bytes should be used when considering ECDSA signatures.Remember to convert serialized sizes to weight units when necessary.\r\n+         },\r\n          ...\r\n        ],\r\n        \"conf_target\": n,              (numeric, optional, default=wallet -txconfirmtarget) Confirmation target in blocks\r\n",
      "created_at" : "2023-01-03T08:49:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26795#issuecomment-1369512157",
      "id" : 1369512157,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26795",
      "node_id" : "IC_kwDOABII585RoRjd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1369512157/reactions"
      },
      "updated_at" : "2023-01-03T08:49:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1369512157",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
