[
   {
      "author_association" : "NONE",
      "body" : "Other ideas to limit resource usage if you want to stick with one connection per transient address:\r\n\r\n- Limit to one tunnel each way with inbound.quantity=1 outbound.quantity=1\r\n- Reuse an address if the connection failed\r\n- Reuse an address after the connection closes\r\n\r\nLast two are subject to your security goals.\r\n",
      "created_at" : "2022-12-26T20:32:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365449401",
      "id" : 1365449401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RYxq5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365449401/reactions"
      },
      "updated_at" : "2022-12-26T20:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365449401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@zzzi2p thanks for reporting and the writeup / numbers.\n\ncc @vasild @jonatack ",
      "created_at" : "2022-12-26T21:09:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365460693",
      "id" : 1365460693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RY0bV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365460693/reactions"
      },
      "updated_at" : "2022-12-26T21:09:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365460693",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Here's some further background and another picture.\r\n\r\nThis is a graph of our exploratory tunnel build success rate, network average, which is a key network health metric for us. It correlates (inversely) to the graph linked above.\r\n\r\nIt's been cut almost in half, in only a week, to about 24%, which is the lowest it's been in seven years. We consider anything below 20% to be dire. We of course have multiple layers of defenses to try to prevent congestion collapse but it could still happen.\r\n\r\nA couple things that would help us:\r\n\r\n- If you have an estimate of how many addresses per minute or hour a typical node is creating\r\n- If you know or can guess what downstream project in particular might have enabled transient addresses by default or made it easy for users to do so, (the graph below may provide clues) so that we may contact the devs\r\n\r\nthanks\r\n\r\nhttps://geti2p.net/_static/images/tunnel.buildExploratorySuccess.10m_31_0.png",
      "created_at" : "2022-12-26T22:05:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365482169",
      "id" : 1365482169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RY5q5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365482169/reactions"
      },
      "updated_at" : "2022-12-26T22:05:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365482169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks. Discussion started at https://twitter.com/jonatack/status/1605652404862537728. Will reply here tomorrow.",
      "created_at" : "2022-12-26T22:42:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365493338",
      "id" : 1365493338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RY8Za",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365493338/reactions"
      },
      "updated_at" : "2022-12-26T22:42:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365493338",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "One of our users @Tracachang did some testing, and reported only 4 I2P connections with Tor enabled, and 9 with onlynet=i2p. That's less than I would have guessed and on its face shouldn't be a problem.\r\n\r\nOne theory I have is that i2pd doesn't have any tunnel build throttling, so it essentially gets into local congestion collapse after its builds get consistently rejected by other routers. I'm in discussions with i2pd's @orignal about adding some throttling so it doesn't spam the network when its builds get consistently rejected by other routers. Further investigation required.",
      "created_at" : "2022-12-26T23:44:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365510103",
      "id" : 1365510103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RZAfX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365510103/reactions"
      },
      "updated_at" : "2022-12-26T23:44:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365510103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I've refined my thesis, I do think it's individual i2pd routers getting pushed too hard.\r\n\r\nBitcoin tries to build too many tunnels, and i2pd starts getting all its build requests rejected. I2pd does not properly rate limit build requests, and ends up spamming the network. Please work with @orignal to reproduce and diagnose.",
      "created_at" : "2022-12-27T08:39:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365715941",
      "id" : 1365715941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RZyvl",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365715941/reactions"
      },
      "updated_at" : "2022-12-27T08:39:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365715941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "i2pd created 5 inbound and 5 outbound tunnels per destination by default.\r\nIf bitcoin maintains  16 peer connection, then 160 tunnel build requests at least per 10 minutes.",
      "created_at" : "2022-12-27T14:37:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1365947186",
      "id" : 1365947186,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RarMy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365947186/reactions"
      },
      "updated_at" : "2022-12-27T14:37:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1365947186",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5358364?v=4",
         "events_url" : "https://api.github.com/users/orignal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/orignal/followers",
         "following_url" : "https://api.github.com/users/orignal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/orignal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/orignal",
         "id" : 5358364,
         "login" : "orignal",
         "node_id" : "MDQ6VXNlcjUzNTgzNjQ=",
         "organizations_url" : "https://api.github.com/users/orignal/orgs",
         "received_events_url" : "https://api.github.com/users/orignal/received_events",
         "repos_url" : "https://api.github.com/users/orignal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/orignal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/orignal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/orignal"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Some quick notes:\r\n\r\n* Transient/disposable addresses are used only by non-listening nodes. Such nodes make only outbound connections.\r\n* It tries to maintain up to 10 outbound connections. Once they are established it would not attempt to make new ones.\r\n* For nodes that access other networks too, I2P is probably a small % of those 10 outbound. But for nodes accessing only I2P, then that is all 10 outbound connections.\r\n* With a high rate of failure to establish a connection, a node would keep trying to get to 10 outbound connections, making \"frequent\" attempts.\r\n\r\nI guess it makes sense to have a pool of transient addresses + a rate limit on how often entries from the pool are disposed. What would be a reasonable rate limit? Would it depend on the number of bitcoin nodes trying to establish I2P connections?\r\n\r\n> Limit to one tunnel each way with inbound.quantity=1 outbound.quantity=1\r\n\r\nDoes that mean max one outbound address at a time?\r\n\r\n> Reuse an address if the connection failed\r\n\r\nThat makes perfect sense!\r\n\r\n> If you have an estimate of how many addresses per minute or hour a typical node is creating\r\n\r\nFor the last week, my node made ~7 I2P connection attempts per day with ~5 of those attempts ending up with an error. That node is also accessing other networks. For an I2P-only node those numbers would be higher. For the same period that node made ~150 new outbound connections per day (~6 per hour, including to non-I2P addresses).\r\n\r\n> If bitcoin maintains 16 peer connection, then 160 tunnel build requests at least per 10 minutes.\r\n\r\nIt is max 10 peer connections (for the relevant case of transient addresses of a non listening node). It is 10 for I2P-only nodes, which I guess the majority are not. Where does the \"10 minutes\" come from?\r\n\r\nI will work on a patch to reuse the address if connection attempt fails, maybe also after connection is closed - aka pool of addresses.\r\n\r\nThanks!",
      "created_at" : "2022-12-27T18:13:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1366086144",
      "id" : 1366086144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RbNIA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366086144/reactions"
      },
      "updated_at" : "2022-12-27T18:14:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366086144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "NONE",
      "body" : ">Where does the \"10 minutes\" come from?\r\n\r\nI2P tunnel live time. Just 10 minutes, not more not less. Even if your tunnel is active you must build new one after 10 minutes and switch",
      "created_at" : "2022-12-27T19:45:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1366133677",
      "id" : 1366133677,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RbYut",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366133677/reactions"
      },
      "updated_at" : "2022-12-27T19:45:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366133677",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5358364?v=4",
         "events_url" : "https://api.github.com/users/orignal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/orignal/followers",
         "following_url" : "https://api.github.com/users/orignal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/orignal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/orignal",
         "id" : 5358364,
         "login" : "orignal",
         "node_id" : "MDQ6VXNlcjUzNTgzNjQ=",
         "organizations_url" : "https://api.github.com/users/orignal/orgs",
         "received_events_url" : "https://api.github.com/users/orignal/received_events",
         "repos_url" : "https://api.github.com/users/orignal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/orignal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/orignal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/orignal"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks everyone for sharing here. Some quick info:\r\n\r\n- My node continuously runs all of the networks supported by Bitcoin Core: IPv4, IPv6, Tor, I2P, and CJDNS, all with listening on and no settings to throttle bandwidth.  It generally has only 2 outbound I2P peers, if even that many, out of the possible 10, and those are often manual rather than automatic connections. OTOH, it usually has 10-20 inbound I2P peers and these tend to be stable connections.\r\n\r\n-  Running `-addrinfo` shows that my node is aware of only a couple hundred I2P peers on the network at this time. Of those, I'm not sure how many run v24 and changed the default behavior of I2P listening on (it is possible that very few node operators are aware of the transient I2P addresses added in v24).\r\n\r\n```\r\n$ ./src/bitcoin-cli -rpcwait -addrinfo\r\n{\r\n  \"addresses_known\": {\r\n    \"ipv4\": 46047,\r\n    \"ipv6\": 10580,\r\n    \"onion\": 11913,\r\n    \"i2p\": 238,\r\n    \"cjdns\": 3,\r\n    \"total\": 68781\r\n  }\r\n}\r\n```\r\n\r\n- A theoretical maximum number of outbound I2P connections for a node that only connects using I2P would be 10-11 automatic, and up to 8 additional manual ones if the user specifies that many. Note, however, that using only I2P with Bitcoin Core is not a good idea for the reasons given in https://jonatack.github.io/articles/using-alternative-p2p-networks-with-bitcoin-core (sybil/eclipse, network partitioning, and slow IBD). These are also partly discussed in `doc/i2p.md`.\r\n   \r\n> One of our users @Tracachang did some testing, and reported only 4 I2P connections with Tor enabled, and 9 with onlynet=i2p. That's less than I would have guessed and on its face shouldn't be a problem.\r\n\r\nYes, those sound about right.\r\n\r\n> I will work on a patch to reuse the address if connection attempt fails, maybe also after connection is closed - aka pool of addresses.\r\n\r\nSGTM.\r\n\r\n> In the meantime, please update your i2p doc to discourage the transient option.\r\nAlso in that doc, in the bandwidth section at the bottom, please encourage people to share as much bandwidth and transittunnels as they can, to increase their anonymity with the cover traffic, and so that bitcoin users contribute more to the i2p network than they consume. If a popular application uses more network resources than it contributes, it has the potential to take down the entire network.\r\n\r\nThat's fair. I'll work on your documentation suggestions.",
      "created_at" : "2022-12-27T21:32:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1366191237",
      "id" : 1366191237,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RbmyF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366191237/reactions"
      },
      "updated_at" : "2022-12-27T21:32:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366191237",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> * For nodes that access other networks too, I2P is probably a small % of those 10 outbound. But for nodes accessing only I2P, then that is all 10 outbound connections.\r\n\r\nIn addition to this, even when all outbound slots are full, bitcoind makes short-lived connections regularly: It makes an additional connection every 2 minutes on average to get to know more possible peers (\"feeler connections\"), and every 5 minutes to compare the tip (\"extra block-relay-only peers\").",
      "created_at" : "2022-12-27T21:35:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1366192133",
      "id" : 1366192133,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RbnAF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366192133/reactions"
      },
      "updated_at" : "2022-12-27T21:35:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366192133",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> even when all outbound slots are full, bitcoind makes short-lived connections regularly\r\n\r\nYes, thus my number of 10-11 (8 full-relay connections, 2 block-relay-only ones, and occasionally 1 short-lived feeler or extra outbound block-relay-only connection). It is true that the latter ones cause connection churn, but on my node they are very rarely connections to I2P or CJDNS nodes, which may not be surprising given how few there are currently. (Edit: running only with I2P would be different, but IBD can take a couple months in that case, i.e. don't do it.)",
      "created_at" : "2022-12-27T21:42:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1366194454",
      "id" : 1366194454,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RbnkW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366194454/reactions"
      },
      "updated_at" : "2022-12-27T21:45:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366194454",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > * For nodes that access other networks too, I2P is probably a small % of those 10 outbound. But for nodes accessing only I2P, then that is all 10 outbound connections.\n> \n> In addition to this, even when all outbound slots are full, bitcoind makes short-lived connections regularly: It makes an additional connection every 2 minutes on average to get to know more possible peers (\"feeler connections\"), and every 5 minutes to compare the tip (\"extra block-relay-only peers\").\n\nAnd multiple connections to same i2p address sometimes if it's a listening node: https://github.com/bitcoin/bitcoin/issues/26537",
      "created_at" : "2022-12-27T21:47:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1366196097",
      "id" : 1366196097,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585Rbn-B",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366196097/reactions"
      },
      "updated_at" : "2022-12-27T21:47:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1366196097",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94559964?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 94559964,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOBaLe3A",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thank you to all for your responses.\r\n\r\nThe Java I2P team is taking the following actions to protect the network:\r\n\r\n- Continuing to research possible causes and solutions\r\n- Communicate analysis of current network state to all\r\n- Provide advice to the i2pd team on tunnel build strategies\r\n- Tighten our current tunnel throttles in Java I2P to better protect the network\r\n- Fix numerous unrelated SSU2 transport bugs that are also contributing to poor network performance\r\n- Accelerate our next release by about a month and a half to early January to get fixes out to our users\r\n- Enhance our SAM documentation to provide more guidance to application developers\r\n\r\n\r\nWe have another picture for you, of average participating tunnels in the network.\r\nhttps://geti2p.net/_static/images/tunnel.participatingTunnels.60m_31_0.png\r\nWhile the build success rate (in the last graph I posted) is holding steady at about 22%,\r\nthe tunnel count continues to rise.\r\n\r\n\r\nOne thing I hadn't realized is that i2pd defaults to 5 tunnels each way per address. Java is 2.\r\nSo with onlynet=i2p and transient, that's 2x5x10 = 100 tunnels on i2pd, plus those abandoned\r\nwhen a connection fails. That compares to a typical user that might have 4-10 tunnels.\r\n@vasild what you call an address we call a destination or tunnel pool.\r\nYou configure it with additional \"I2CP\" options on the SESSION CREATE line.\r\nA tunnel pool meant to talk to a single peer really doesn't need more than two tunnels each way,\r\nand in this scenario where you have multiple peers for redundancy anyway, one each way makes sense.\r\nBy doing:\r\n\r\nSESSION CREATE DESTINATION=TRANSIENT inbound.quantity=1 outbound.quantity=1 ....\r\n\r\nyou will instantly reduce your resource usage by 5x. This does not affect other sessions or\r\nlimit simulataneous addresses. This configures this session only.\r\nYou should probably also specify desired quantity for your non-transient sessions, so you get\r\nconsistent performance with both i2pd and Java I2P.\r\n\r\nI agree with the analysis above that the total number of bitcoin+i2p+transient users\r\nappears to be small. Additionally, the bitcoin devs are confirming that the\r\nconnections, once up, are long term, with very few connection attempts per hour.\r\n\r\nThis is consistent with my thesis that the root cause, for now,\r\nis a collapse scenario, where i2pd + bitcoin are sending an even more overwhelming number\r\nof tunnel builds after getting rejected for sending an overwhelming number of tunnel builds.\r\nIt sounds like it might be more likely to happen at node startup.\r\nIf the common platform for this is an underpowered Raspberry Pi, that\r\nmay make collapse more likely. A Pi would be a good test case, at least.\r\n\r\nThe fixes would be both rate limiting of builds in i2pd and rate limiting of address generation in bitcoin.\r\n@vasild In bitcoin, a reasonable rate limit might be 1 or 2 every 15 seconds?\r\nBut the trick might be to also throttle connection attempts, because\r\na failed connection will take much longer to fail. This will naturally throttle things\r\nduring times of congestion. Once you create a session, i2pd is going to go off and\r\ntry hard (maybe too hard) to build tunnels for it, no matter what other sessions are doing.\r\nI encourage you to work directly with the i2pd team\r\nand also use the i2pd web console to see what's happening during your testing.\r\n\r\nReducing the tunnels per address (inbound.quantity and outbound.quantity), and the number\r\nof addresses generated, will also help the short term issue. It's also important for the\r\nlong term, to ensure that the application does not consume more network resources than it provides,\r\nas the bitcoin+i2p solution becomes more popular.\r\n\r\nWe're still looking for any downstream projects that may have enabled transient by default.\r\nopenoms/raspibiltz maybe? Any others?\r\n\r\nThanks again for your support. This is a complex issue where the causes and possible fixes are only now becoming apparent. We'll be monitoring the network closely; this weekend might be a wild ride.\r\n\r\nThe Java I2P team.",
      "created_at" : "2022-12-29T14:12:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1367356129",
      "id" : 1367356129,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RgDLh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367356129/reactions"
      },
      "updated_at" : "2022-12-29T14:12:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367356129",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Also, full disclosure: While I think I'm on the right track, others differ. After further discussions with the i2pd team: They are unconvinced of my thesis; nor have they reproduced the issue; nor have they offered any comprehensive alternative explanation for the data I've presented; nor are they especially concerned about the current network statistics. The best way to work with them is IRC irc.ilita.i2p #dev inside I2P. I'm doing what I can but I'm focused on the Java I2P users getting our next release ready. ",
      "created_at" : "2022-12-29T16:23:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1367444704",
      "id" : 1367444704,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RgYzg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367444704/reactions"
      },
      "updated_at" : "2022-12-29T16:23:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367444704",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the update and info! I think your technical suggestions make sense, and moreso in that I reckon many-to-most Bitcoin nodes are using i2pd based on feedback from users.\r\n\r\nThere is a twitter poll up for a few more hours [here](https://twitter.com/jonatack/status/1607913837298356224) and [here](https://twitter.com/jonatack/status/1607914274281906176). One large twitter account ([Matt Odell](https://twitter.com/ODELL)) retweeted it along with various I2P-related accounts and others (thanks!)\r\n\r\n> We're still looking for any downstream projects that may have enabled transient by default. openoms/raspibiltz maybe? Any others?\r\n\r\nOpenoms responded to that poll with this tweet: https://twitter.com/openoms/status/1608109633440284672: *\"There will be more nodes to connect to over I2P. The next v1.9.0 RaspiBlitz release (and the dev branch now) features i2pacceptincoming=1\"*. I'm verifying now the thesis that Raspiblitz doesn't currently support using Bitcoin Core with I2P prior to that new release. Edit: yes, [its I2P support is new](https://twitter.com/openoms/status/1608530254930546689), [uses i2pd](https://github.com/rootzoll/raspiblitz/pull/3330/files#diff-d1b9f4fd771f3f8a16a155dab645da627dbae02ec61fdc427058b0e51c7506e0R759) and has [inbound traffic enabled](https://github.com/rootzoll/raspiblitz/pull/3330/files#diff-7b0d033e74a93e0886964e684ebbf80e27d6950b81ae98c068d87a0cd7865f34R173).\r\n\r\nAt Adopting Bitcoin in November while doing a session on [using I2P and CJDNS with Bitcoin Core](https://jonatack.github.io/articles/using-alternative-p2p-networks-with-bitcoin-core), several in the room mentioned that node-in-a-box services were not yet providing I2P support and that they would give feedback to add it.\r\n\r\nOne hypothesis could be that adoption of I2P by Bitcoin nodes is increasing with the confluence of the v24 release, of recently spreading the message to users and node-in-the-box providers, and perhaps of time over the holidays for updating.\r\n\r\nEdit: Umbrel announced on December 22 that it [added I2P support](https://twitter.com/umbrel/status/1605906942555148288) to its latest release using i2pd. I believe Umbrel enables I2P inbound connections.\r\n\r\nIDK if this is related, but I'm now seeing i2pd failures (with version `2.44.0 (0.9.56)`) on my bitcoin core node running current master on macOS 13.1, my I2P local address disappears from -netinfo and getnetworkinfo, all I2P peer connections are lost, and I need to restart i2pd every few hours:\r\n\r\n```\r\n2022-12-29T12:45:45Z [i2p] Creating persistent SAM session bba4fdc409 with 127.0.0.1:7656\r\n2022-12-29T12:45:45Z connect() to 127.0.0.1:7656 failed after wait: Connection refused (61)\r\n2022-12-29T12:45:45Z [i2p] Error listening: Cannot connect to 127.0.0.1:7656\r\n2022-12-29T12:45:45Z [i2p] Control socket error: not connected\r\n\r\n... after restarting i2pd (but not bitcoind) with brew services restart i2pd ...\r\n\r\n2022-12-29T12:54:17Z [i2p] Creating persistent SAM session a82eb58150 with 127.0.0.1:7656\r\n2022-12-29T12:55:17Z [i2p] Persistent SAM session a82eb58150 created, my address=****.b32.i2p:0\r\n2022-12-29T12:55:17Z AddLocal(****.b32.i2p:0,4)\r\n```\r\n",
      "created_at" : "2022-12-29T17:09:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1367469689",
      "id" : 1367469689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585Rge55",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367469689/reactions"
      },
      "updated_at" : "2022-12-30T00:11:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367469689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> I'm now seeing i2pd failures (with version `2.44.0 (0.9.56)`)\r\n\r\nVersion built from latest commit https://github.com/PurpleI2P/i2pd/commit/126dc0ebe061f1d7fb1a5bd435a1a71ac7ba48b4 should have less crashes.",
      "created_at" : "2022-12-29T17:30:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1367481929",
      "id" : 1367481929,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585Rgh5J",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367481929/reactions"
      },
      "updated_at" : "2022-12-29T17:30:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367481929",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1242858?v=4",
         "events_url" : "https://api.github.com/users/Vort/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Vort/followers",
         "following_url" : "https://api.github.com/users/Vort/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Vort/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Vort",
         "id" : 1242858,
         "login" : "Vort",
         "node_id" : "MDQ6VXNlcjEyNDI4NTg=",
         "organizations_url" : "https://api.github.com/users/Vort/orgs",
         "received_events_url" : "https://api.github.com/users/Vort/received_events",
         "repos_url" : "https://api.github.com/users/Vort/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Vort/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Vort/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Vort"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks Jon.\r\n\r\nIndependent of the transient issue, at this early stage, it's important to provide guidance to downstream devs that are bundling and configuring i2pd, or simply giving advice to their users. Especially if those devs don't have much experience with I2P.\r\n\r\nFor the most part, defaults work fine, and the other network routers will rate the apparent capacity of the peer and route through them as appropriate. Guides or configs that (explicitly or implicitly) sharply limit the contributions of that peer may result in a whole generation of very-not-nice routers hogging capacity and contributing back.",
      "created_at" : "2022-12-29T22:30:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1367616391",
      "id" : 1367616391,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RhCuH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367616391/reactions"
      },
      "updated_at" : "2022-12-29T22:30:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367616391",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Here's our guide for any downstreams that may be bundling i2pd with bitcoin.\r\n\r\nhttps://geti2p.net/en/docs/applications/embedding\r\n\r\nIt also has some clues about the importance of configurations that may apply for non-bundlers. See the section \"Participating Traffic Considerations\"\r\n\r\nAlso, as promised, I have updated our SAM spec\r\n\r\nhttps://geti2p.net/en/docs/api/samv3\r\n\r\nto add a \"General Guidance\" section, note that i2pd and Java I2P have different tunnel quantity defaults, and explain how to override the defaults.",
      "created_at" : "2022-12-29T22:39:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1367619021",
      "id" : 1367619021,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RhDXN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367619021/reactions"
      },
      "updated_at" : "2022-12-29T22:39:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367619021",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   },
   {
      "author_association" : "NONE",
      "body" : ">all I2P peer connections are lost, and I need to restart i2pd every few hours:\r\n\r\nYou are just out of file descriptors. Make sure you set to 8192\r\n\r\n>While I think I'm on the right track, others differ\r\n\r\nYour theory doesn't explain high traffic.\r\n\r\n>nor have they reproduced the issue\r\n\r\nBecause it's not reproducible, e.g. many SAM sessions don't cause any issues.\r\n",
      "created_at" : "2022-12-29T22:55:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1367623435",
      "id" : 1367623435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RhEcL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367623435/reactions"
      },
      "updated_at" : "2022-12-29T22:55:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1367623435",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5358364?v=4",
         "events_url" : "https://api.github.com/users/orignal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/orignal/followers",
         "following_url" : "https://api.github.com/users/orignal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/orignal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/orignal",
         "id" : 5358364,
         "login" : "orignal",
         "node_id" : "MDQ6VXNlcjUzNTgzNjQ=",
         "organizations_url" : "https://api.github.com/users/orignal/orgs",
         "received_events_url" : "https://api.github.com/users/orignal/received_events",
         "repos_url" : "https://api.github.com/users/orignal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/orignal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/orignal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/orignal"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Status update:\r\n\r\n- Network stats bottomed out around 12/24-27 and have stabilized at that low level, we have not collapsed further\r\n- We identified a non-bitcoin project also creating ~150 tunnels and are working with them to reduce their resource usage\r\n- The relative contributions (if any) of Bitcoin, the other project, and various Java I2P and i2pd bugs and congestion control strategies to the current situation is still not clear\r\n- Embedding guide updated with additional advice https://geti2p.net/en/docs/applications/embedding\r\n- i2pd 2.45.0 released yesterday\r\n- Java I2P 2.1.0 release scheduled for Jan. 9\r\n- We're hopeful the network will pull itself out of congestion by mid-January; will provide another update at that time\r\n\r\n\r\nThe Java I2P team",
      "created_at" : "2023-01-04T11:34:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/26754#issuecomment-1370816923",
      "id" : 1370816923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26754",
      "node_id" : "IC_kwDOABII585RtQGb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1370816923/reactions"
      },
      "updated_at" : "2023-01-04T11:34:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1370816923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/62618568?v=4",
         "events_url" : "https://api.github.com/users/zzzi2p/events{/privacy}",
         "followers_url" : "https://api.github.com/users/zzzi2p/followers",
         "following_url" : "https://api.github.com/users/zzzi2p/following{/other_user}",
         "gists_url" : "https://api.github.com/users/zzzi2p/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/zzzi2p",
         "id" : 62618568,
         "login" : "zzzi2p",
         "node_id" : "MDQ6VXNlcjYyNjE4NTY4",
         "organizations_url" : "https://api.github.com/users/zzzi2p/orgs",
         "received_events_url" : "https://api.github.com/users/zzzi2p/received_events",
         "repos_url" : "https://api.github.com/users/zzzi2p/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/zzzi2p/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/zzzi2p/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/zzzi2p"
      }
   }
]
