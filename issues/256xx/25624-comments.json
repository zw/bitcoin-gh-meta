[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`include-what-you-use` told me to add these lines, is it correct?\r\n```\r\nâ¯ iwyu-tool src/test/fuzz/txorphan.cpp -p compile_commands.json\r\n\r\ntest/fuzz/txorphan.cpp should add these lines:\r\n#include \"consensus/validation.h\"          // for GetTransactionWeight\r\n#include \"node/eviction.h\"                 // for NodeId\r\n#include \"policy/policy.h\"                 // for MAX_STANDARD_TX_WEIGHT\r\n#include \"tinyformat.h\"                    // for format_error\r\n\r\ntest/fuzz/txorphan.cpp should remove these lines:\r\n- #include <net.h>  // lines 6-6\r\n\r\nThe full include-list for test/fuzz/txorphan.cpp:\r\n#include <consensus/amount.h>              // for CAmount\r\n#include <net_processing.h>                // for DEFAULT_MAX_ORPHAN_TRANSAC...\r\n#include <primitives/transaction.h>        // for COutPoint, CTxIn, CTxOut\r\n#include <script/script.h>                 // for CScript\r\n#include <sync.h>                          // for LOCK, WITH_LOCK\r\n#include <test/fuzz/FuzzedDataProvider.h>  // for FuzzedDataProvider\r\n#include <test/fuzz/fuzz.h>                // for FuzzBufferType, LIMITED_WHILE\r\n#include <test/fuzz/util.h>                // for ConsumeTime, CallOneOf\r\n#include <test/util/setup_common.h>        // for MakeNoLogFileContext\r\n#include <txorphanage.h>                   // for TxOrphanage, g_cs_orphans\r\n#include <uint256.h>                       // for uint256\r\n#include <util/check.h>                    // for inline_assertion_check\r\n#include <util/time.h>                     // for SetMockTime\r\n#include <algorithm>                       // for max\r\n#include <cstdint>                         // for uint32_t, uint8_t\r\n#include <memory>                          // for __shared_ptr_access, opera...\r\n#include <set>                             // for set\r\n#include <utility>                         // for swap, pair\r\n#include <vector>                          // for vector\r\n#include \"consensus/validation.h\"          // for GetTransactionWeight\r\n#include \"node/eviction.h\"                 // for NodeId\r\n#include \"policy/policy.h\"                 // for MAX_STANDARD_TX_WEIGHT\r\n#include \"tinyformat.h\"                    // for format_error\r\n```",
      "created_at" : "2022-07-16T02:58:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25624#issuecomment-1186074569",
      "id" : 1186074569,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25624",
      "node_id" : "IC_kwDOABII585Gsg_J",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186074569/reactions"
      },
      "updated_at" : "2022-07-16T02:58:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186074569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/24590067?v=4",
         "events_url" : "https://api.github.com/users/chinggg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chinggg/followers",
         "following_url" : "https://api.github.com/users/chinggg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chinggg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chinggg",
         "id" : 24590067,
         "login" : "chinggg",
         "node_id" : "MDQ6VXNlcjI0NTkwMDY3",
         "organizations_url" : "https://api.github.com/users/chinggg/orgs",
         "received_events_url" : "https://api.github.com/users/chinggg/received_events",
         "repos_url" : "https://api.github.com/users/chinggg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chinggg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chinggg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chinggg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@shaavan I made the wrong assumption that the tx will not be too big since I expect each tx will only have a few inputs/outputs. Before the PR got merged, I ran the fuzz target locally for 1 day and there was no crash. But OSS-Fuzz can produce a test case that can construct overweight tx with only a few bytes.\r\n\r\nFor `iwyu-tool`, I installed it from [AUR](https://aur.archlinux.org/packages/include-what-you-use), which should be the same as the latest upstream. I generated `compile_commands.json` using `bear`.",
      "created_at" : "2022-07-16T13:40:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25624#issuecomment-1186187611",
      "id" : 1186187611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25624",
      "node_id" : "IC_kwDOABII585Gs8lb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186187611/reactions"
      },
      "updated_at" : "2022-07-16T13:40:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186187611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/24590067?v=4",
         "events_url" : "https://api.github.com/users/chinggg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chinggg/followers",
         "following_url" : "https://api.github.com/users/chinggg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chinggg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chinggg",
         "id" : 24590067,
         "login" : "chinggg",
         "node_id" : "MDQ6VXNlcjI0NTkwMDY3",
         "organizations_url" : "https://api.github.com/users/chinggg/orgs",
         "received_events_url" : "https://api.github.com/users/chinggg/received_events",
         "repos_url" : "https://api.github.com/users/chinggg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chinggg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chinggg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chinggg"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "iwyu is run by the CI (https://cirrus-ci.com/task/5279630734131200?logs=ci#L7283):\r\n\r\n```\r\ntest/fuzz/txorphan.cpp should add these lines:\r\n#include \"consensus/validation.h\"          // for GetTransactionWeight\r\n#include \"node/eviction.h\"                 // for NodeId\r\n#include \"policy/policy.h\"                 // for MAX_STANDARD_TX_WEIGHT\r\ntest/fuzz/txorphan.cpp should remove these lines:\r\n- #include <net.h>  // lines 6-6\r\n```\r\n\r\nWhich looks correct.",
      "created_at" : "2022-07-16T14:29:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25624#issuecomment-1186199318",
      "id" : 1186199318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25624",
      "node_id" : "IC_kwDOABII585Gs_cW",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186199318/reactions"
      },
      "updated_at" : "2022-07-16T14:29:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186199318",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
