[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22751](https://github.com/bitcoin/bitcoin/pull/22751) (rpc/wallet: add simulaterawtransaction RPC by kallewoof)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-07-16T01:41:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#issuecomment-1186052141",
      "id" : 1186052141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25621",
      "node_id" : "IC_kwDOABII585Gsbgt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186052141/reactions"
      },
      "updated_at" : "2022-08-05T18:25:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186052141",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930287143"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287143"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Unrelated whitespace change",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:25:33Z",
      "diff_hunk" : "@@ -621,11 +642,8 @@ RPCHelpMan simulaterawtransaction()\n     std::shared_ptr<const CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n     if (!wallet) return NullUniValue;\n     const CWallet* pwallet = wallet.get();\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930287143",
      "id" : 930287143,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843cw4n",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 624,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 32,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287143/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287143",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930287191"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287191"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Unrelated whitespace change",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:25:36Z",
      "diff_hunk" : "@@ -621,11 +642,8 @@ RPCHelpMan simulaterawtransaction()\n     std::shared_ptr<const CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n     if (!wallet) return NullUniValue;\n     const CWallet* pwallet = wallet.get();\n-\n     RPCTypeCheck(request.params, {UniValue::VARR, UniValue::VOBJ}, true);\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930287191",
      "id" : 930287191,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843cw5X",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 626,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 34,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287191/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287191",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930287242"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287242"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Unrelated whitespace change",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:25:39Z",
      "diff_hunk" : "@@ -621,11 +642,8 @@ RPCHelpMan simulaterawtransaction()\n     std::shared_ptr<const CWallet> const wallet = GetWalletForJSONRPCRequest(request);\n     if (!wallet) return NullUniValue;\n     const CWallet* pwallet = wallet.get();\n-\n     RPCTypeCheck(request.params, {UniValue::VARR, UniValue::VOBJ}, true);\n-\n     LOCK(pwallet->cs_wallet);\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930287242",
      "id" : 930287242,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843cw6K",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 628,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 36,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287242/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930287298"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287298"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Unrelated whitespace change",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:25:43Z",
      "diff_hunk" : "@@ -637,68 +655,136 @@ RPCHelpMan simulaterawtransaction()\n \n         include_watchonly = options[\"include_watchonly\"];\n     }\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930287298",
      "id" : 930287298,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843cw7C",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 640,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 44,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287298/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930287298",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930296356"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930296356"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nThis comment is a little confusing to understand.\r\n\r\n``` suggestion\r\n            // Only apply changes the first time a transaction is seen. Otherwise duplicate transactions will give incorrect errors.\r\n```",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:33:59Z",
      "diff_hunk" : "@@ -637,68 +655,136 @@ RPCHelpMan simulaterawtransaction()\n \n         include_watchonly = options[\"include_watchonly\"];\n     }\n-\n     isminefilter filter = ISMINE_SPENDABLE;\n     if (ParseIncludeWatchonly(include_watchonly, *pwallet)) {\n         filter |= ISMINE_WATCH_ONLY;\n     }\n-\n+    // fetch transactions\n     const auto& txs = request.params[0].get_array();\n     CAmount changes{0};\n-    std::map<COutPoint, CAmount> new_utxos; // UTXO:s that were made available in transaction array\n-    std::set<COutPoint> spent;\n-\n+    // UTXOs that were made available in transaction array\n+    std::map<COutPoint, CAmount> new_utxos;\n+    // Tracks the indices of the txs spending an outpoint\n+    std::map<COutPoint, std::set<int>> outpoint_to_tx;\n+    // Tracks conflicting transactions(provided by the user) given a txid\n+    std::map<uint256, std::set<int>> internal_conflicts;\n+    // Tracks set of txids in the wallet that are conflicting with the provided transaction given txid of tx provided by the user\n+    std::map<uint256, std::set<std::string>> txids;\n+    // indices of duplicate transactions\n+    std::set<int> duplicates;\n+    //Tracks txid given index for the tx provided by the user\n+    std::map<int, uint256> txhash;\n+    // used for dealing with duplicates\n+    std::map<uint256, bool> done;\n     for (size_t i = 0; i < txs.size(); ++i) {\n         CMutableTransaction mtx;\n+        // decoding ith transaction hex\n         if (!DecodeHexTx(mtx, txs[i].get_str(), /* try_no_witness */ true, /* try_witness */ true)) {\n             throw JSONRPCError(RPC_DESERIALIZATION_ERROR, \"Transaction hex string decoding failure.\");\n         }\n-\n+        const auto hash = mtx.GetHash();\n+        done[hash] = false;\n+        // if the tx is a duplicate one then just add it to duplicates\n+        if (txids.count(hash)) {\n+            duplicates.insert(i);\n+            txhash[i] = hash;\n+            continue;\n+        }\n         // Fetch previous transactions (inputs)\n         std::map<COutPoint, Coin> coins;\n         for (const CTxIn& txin : mtx.vin) {\n             coins[txin.prevout]; // Create empty map entry keyed by prevout.\n         }\n         pwallet->chain().findCoins(coins);\n-\n         // Fetch debit; we are *spending* these; if the transaction is signed and\n         // broadcast, we will lose everything in these\n         for (const auto& txin : mtx.vin) {\n             auto& op = txin.prevout;\n-            if (spent.count(op)) {\n-                throw JSONRPCError(RPC_INVALID_PARAMETER, \"Transaction(s) are spending the same output more than once\");\n-            }\n-            if (new_utxos.count(op)) {\n-                changes -= new_utxos.at(op);\n-                new_utxos.erase(op);\n-            } else {\n-                if (!coins.count(op)) {\n-                    throw JSONRPCError(RPC_INVALID_PARAMETER, \"One or more transaction inputs are missing\");\n-                }\n-                if (coins.at(op).IsSpent()) {\n-                    throw JSONRPCError(RPC_INVALID_PARAMETER, \"One or more transaction inputs have been spent already\");\n+            // if user tries to double spend in the provided transactions themselves then without this condition we will get an inappropirate error",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930296356",
      "id" : 930296356,
      "line" : 703,
      "node_id" : "PRRC_kwDOABII5843czIk",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 703,
      "original_position" : 108,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 108,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930296356/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930296356",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930298700"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930298700"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Unrelated whitespace change",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:37:03Z",
      "diff_hunk" : "@@ -556,19 +555,26 @@ std::set<uint256> CWallet::GetConflicts(const uint256& txid) const\n         return result;\n     const CWalletTx& wtx = it->second;\n \n+    result = GetConflicts(*(wtx.tx), true);\n+\n+    return result;\n+}\n+// tx_is_in_wallet being true means the transaction belongs to wallet and tx_is_in_wallet being false means it is an external transaction\n+std::set<uint256> CWallet::GetConflicts(const CTransaction& tx, bool tx_is_in_wallet) const\n+{\n+    std::set<uint256> result;\n+    AssertLockHeld(cs_wallet);\n     std::pair<TxSpends::const_iterator, TxSpends::const_iterator> range;\n \n-    for (const CTxIn& txin : wtx.tx->vin)\n-    {\n-        if (mapTxSpends.count(txin.prevout) <= 1)\n-            continue;  // No conflict if zero or one spends\n+    for (const CTxIn& txin : tx.vin) {\n+        if (mapTxSpends.count(txin.prevout) <= (tx_is_in_wallet ? 1 : 0))\n+            continue;  // No conflict if number of tx spending given output <= tx_is_in_wallet\n         range = mapTxSpends.equal_range(txin.prevout);\n         for (TxSpends::const_iterator _it = range.first; _it != range.second; ++_it)\n             result.insert(_it->second);\n     }\n     return result;\n }\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930298700",
      "id" : 930298700,
      "line" : 571,
      "node_id" : "PRRC_kwDOABII5843cztM",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 571,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 36,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930298700/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930298700",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930298924"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930298924"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Unrelated whitespace change",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:37:21Z",
      "diff_hunk" : "@@ -545,7 +545,6 @@ void CWallet::SetMinVersion(enum WalletFeature nVersion, WalletBatch* batch_in)\n             delete batch;\n     }\n }\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930298924",
      "id" : 930298924,
      "line" : 548,
      "node_id" : "PRRC_kwDOABII5843czws",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 548,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 4,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930298924/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930298924",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930299192"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930299192"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nThis refactor of `GetConflicts` could be in a separate commit that precedes this commit.",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:37:42Z",
      "diff_hunk" : "@@ -556,19 +555,26 @@ std::set<uint256> CWallet::GetConflicts(const uint256& txid) const\n         return result;\n     const CWalletTx& wtx = it->second;\n \n+    result = GetConflicts(*(wtx.tx), true);\n+\n+    return result;\n+}\n+// tx_is_in_wallet being true means the transaction belongs to wallet and tx_is_in_wallet being false means it is an external transaction\n+std::set<uint256> CWallet::GetConflicts(const CTransaction& tx, bool tx_is_in_wallet) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930299192",
      "id" : 930299192,
      "line" : 563,
      "node_id" : "PRRC_kwDOABII5843cz04",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 563,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 17,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930299192/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930299192",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930299831"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930299831"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\n`result` is not needed here.\r\n\r\n```suggestion\r\n    return Getconflicts(*wtx.tx, true);\r\n````",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:38:28Z",
      "diff_hunk" : "@@ -556,19 +555,26 @@ std::set<uint256> CWallet::GetConflicts(const uint256& txid) const\n         return result;\n     const CWalletTx& wtx = it->second;\n \n+    result = GetConflicts(*(wtx.tx), true);\n+\n+    return result;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930299831",
      "id" : 930299831,
      "line" : 560,
      "node_id" : "PRRC_kwDOABII5843cz-3",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 560,
      "original_position" : 14,
      "original_start_line" : 558,
      "path" : "src/wallet/wallet.cpp",
      "position" : 14,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930299831/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 558,
      "start_side" : "RIGHT",
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930299831",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930300097"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930300097"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Unrelated whitespace change",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:38:50Z",
      "diff_hunk" : "@@ -46,41 +46,87 @@ def run_test(self):\n \n         # Add address1 as watch-only to w2\n         w2.importpubkey(pubkey=w1.getaddressinfo(address1)[\"pubkey\"])\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930300097",
      "id" : 930300097,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843c0DB",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 49,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/wallet_simulaterawtx.py",
      "position" : 4,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930300097/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930300097",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930300161"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930300161"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Unrelated whitespace change",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:38:53Z",
      "diff_hunk" : "@@ -46,41 +46,87 @@ def run_test(self):\n \n         # Add address1 as watch-only to w2\n         w2.importpubkey(pubkey=w1.getaddressinfo(address1)[\"pubkey\"])\n-\n         tx1 = node.createrawtransaction([], [{address1: 5.0}])\n         tx2 = node.createrawtransaction([], [{address2: 10.0}])\n \n         # w0 should be unaffected, w2 should see +5 for tx1\n         assert_equal(w0.simulaterawtransaction([tx1])[\"balance_change\"], 0.0)\n         assert_equal(w2.simulaterawtransaction([tx1])[\"balance_change\"], 5.0)\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930300161",
      "id" : 930300161,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5843c0EB",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 56,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "test/functional/wallet_simulaterawtx.py",
      "position" : 11,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930300161/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930300161",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930300678"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930300678"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nUnrelated change",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:39:32Z",
      "diff_hunk" : "@@ -46,41 +46,87 @@ def run_test(self):\n \n         # Add address1 as watch-only to w2\n         w2.importpubkey(pubkey=w1.getaddressinfo(address1)[\"pubkey\"])\n-\n         tx1 = node.createrawtransaction([], [{address1: 5.0}])\n         tx2 = node.createrawtransaction([], [{address2: 10.0}])\n \n         # w0 should be unaffected, w2 should see +5 for tx1\n         assert_equal(w0.simulaterawtransaction([tx1])[\"balance_change\"], 0.0)\n         assert_equal(w2.simulaterawtransaction([tx1])[\"balance_change\"], 5.0)\n-\n         # w1 should see +5 balance for tx1\n-        assert_equal(w1.simulaterawtransaction([tx1])[\"balance_change\"], 5.0)\n+\n+        tx1hex = node.decoderawtransaction(tx1)\n+\n+        details = [\n+            {\n+                \"txid\" : tx1hex[\"txid\"],\n+                \"wallet_conflicts\" : [],\n+                \"simulated_tx_conflicts\" : []\n+            },\n+        ]\n+        rpc_output = {\n+            \"balance_change\" : 5.0,\n+            \"details\" : details,\n+            \"duplicates\" : []\n+        }\n+        assert_equal(w1.simulaterawtransaction([tx1]), rpc_output)\n+\n \n         # w0 should be unaffected, w2 should see +5 for both transactions\n         assert_equal(w0.simulaterawtransaction([tx1, tx2])[\"balance_change\"], 0.0)\n         assert_equal(w2.simulaterawtransaction([tx1, tx2])[\"balance_change\"], 5.0)\n-\n+        rpc_output = {\n+            \"balance_change\" : 5.0,\n+            \"details\" : details,\n+            \"duplicates\" : []\n+        }\n         # w1 should see +15 balance for both transactions\n-        assert_equal(w1.simulaterawtransaction([tx1, tx2])[\"balance_change\"], 15.0)\n+        details = [\n+            {\n+                \"txid\" : tx1hex[\"txid\"],\n+                \"wallet_conflicts\" : [],\n+                \"simulated_tx_conflicts\" : []\n+            },\n+            {\n+                \"txid\" : node.decoderawtransaction(tx2)[\"txid\"],\n+                \"wallet_conflicts\" : [],\n+                \"simulated_tx_conflicts\" : []\n+            },\n+        ]\n+\n+        rpc_output = {\n+            \"balance_change\" : 15.0,\n+            \"details\" : details,\n+            \"duplicates\" : []\n+        }\n+        assert_equal(w1.simulaterawtransaction([tx1, tx2]), rpc_output)\n \n         # w0 funds transaction; it should now see a decrease in (tx fee and payment), and w1 should see the same as above\n         funding = w0.fundrawtransaction(tx1)\n         tx1 = funding[\"hex\"]\n         tx1changepos = funding[\"changepos\"]\n         bitcoin_fee = Decimal(funding[\"fee\"])\n-\n-        # w0 sees fee + 5 btc decrease, w2 sees + 5 btc\n+        # w0 sees (fee + 5) btc decrease, w2 sees + 5 btc",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930300678",
      "id" : 930300678,
      "line" : 108,
      "node_id" : "PRRC_kwDOABII5843c0MG",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 108,
      "original_position" : 70,
      "original_start_line" : 72,
      "path" : "test/functional/wallet_simulaterawtx.py",
      "position" : 70,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930300678/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930300678",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930301145"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930301145"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Extra blank lines can be removed.",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:40:09Z",
      "diff_hunk" : "@@ -125,5 +167,183 @@ def run_test(self):\n         assert_raises_rpc_error(-8, \"One or more transaction inputs have been spent already\", w1.simulaterawtransaction, [tx1, tx2])\n         assert_raises_rpc_error(-8, \"One or more transaction inputs have been spent already\", w2.simulaterawtransaction, [tx1, tx2])\n \n+\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930301145",
      "id" : 930301145,
      "line" : 171,
      "node_id" : "PRRC_kwDOABII5843c0TZ",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 171,
      "original_position" : 130,
      "original_start_line" : 170,
      "path" : "test/functional/wallet_simulaterawtx.py",
      "position" : 130,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930301145/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 170,
      "start_side" : "RIGHT",
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930301145",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930301218"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930301218"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Extra blank lines can be removed.",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:40:14Z",
      "diff_hunk" : "@@ -125,5 +167,183 @@ def run_test(self):\n         assert_raises_rpc_error(-8, \"One or more transaction inputs have been spent already\", w1.simulaterawtransaction, [tx1, tx2])\n         assert_raises_rpc_error(-8, \"One or more transaction inputs have been spent already\", w2.simulaterawtransaction, [tx1, tx2])\n \n+\n+\n+        node.sendrawtransaction(w0.signrawtransactionwithwallet(tx2)[\"hex\"])\n+\n+        # tx2 -> tx3 -> (tx4,tx5) (spending UTXO generated by tx4)\n+        # tx2 is a unconfirmed wallet transaction\n+        # tx3 is spending an UTXO generated by tx2\n+        # tx4 and tx5 are spending the same UTXO which is generated by tx3\n+        tx3 = node.createrawtransaction([{\"txid\": tx2ob[\"txid\"], \"vout\": 0}], {w0.getnewaddress(): 4.9999})\n+        tx3ob = node.decoderawtransaction(tx3)\n+        tx4 = node.createrawtransaction([{\"txid\": tx3ob[\"txid\"], \"vout\": 0}], {w0.getnewaddress(): 4.9999})\n+        tx4ob = node.decoderawtransaction(tx4)\n+        tx5 = node.createrawtransaction([{\"txid\": tx3ob[\"txid\"], \"vout\": 0}], {w0.getnewaddress(): 4.9998})\n+        tx5ob = node.decoderawtransaction(tx5)\n+\n+        # Test case : simulaterawtransaction([tx2,tx2,tx2])\n+        # No conflicts in wallet, transaction at index 1 and index 2 are duplicates of transaction at index 0 (0-based indexing)\n+        duplicates = [1, 2]\n+        details = [\n+            {\n+                \"txid\" : tx2ob[\"txid\"],\n+                \"wallet_conflicts\" : [tx2ob[\"txid\"]],\n+                \"simulated_tx_conflicts\" : []\n+            },\n+        ]\n+        sim_result = w0.simulaterawtransaction([tx2, tx2, tx2])\n+        assert_equal(sim_result[\"details\"], details)\n+        assert_equal(sim_result[\"duplicates\"], duplicates)\n+\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930301218",
      "id" : 930301218,
      "line" : 199,
      "node_id" : "PRRC_kwDOABII5843c0Ui",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 199,
      "original_position" : 158,
      "original_start_line" : 198,
      "path" : "test/functional/wallet_simulaterawtx.py",
      "position" : 158,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930301218/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 198,
      "start_side" : "RIGHT",
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930301218",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930301300"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930301300"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\nnit: Extra blank lines can be removed.",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:40:20Z",
      "diff_hunk" : "@@ -125,5 +167,183 @@ def run_test(self):\n         assert_raises_rpc_error(-8, \"One or more transaction inputs have been spent already\", w1.simulaterawtransaction, [tx1, tx2])\n         assert_raises_rpc_error(-8, \"One or more transaction inputs have been spent already\", w2.simulaterawtransaction, [tx1, tx2])\n \n+\n+\n+        node.sendrawtransaction(w0.signrawtransactionwithwallet(tx2)[\"hex\"])\n+\n+        # tx2 -> tx3 -> (tx4,tx5) (spending UTXO generated by tx4)\n+        # tx2 is a unconfirmed wallet transaction\n+        # tx3 is spending an UTXO generated by tx2\n+        # tx4 and tx5 are spending the same UTXO which is generated by tx3\n+        tx3 = node.createrawtransaction([{\"txid\": tx2ob[\"txid\"], \"vout\": 0}], {w0.getnewaddress(): 4.9999})\n+        tx3ob = node.decoderawtransaction(tx3)\n+        tx4 = node.createrawtransaction([{\"txid\": tx3ob[\"txid\"], \"vout\": 0}], {w0.getnewaddress(): 4.9999})\n+        tx4ob = node.decoderawtransaction(tx4)\n+        tx5 = node.createrawtransaction([{\"txid\": tx3ob[\"txid\"], \"vout\": 0}], {w0.getnewaddress(): 4.9998})\n+        tx5ob = node.decoderawtransaction(tx5)\n+\n+        # Test case : simulaterawtransaction([tx2,tx2,tx2])\n+        # No conflicts in wallet, transaction at index 1 and index 2 are duplicates of transaction at index 0 (0-based indexing)\n+        duplicates = [1, 2]\n+        details = [\n+            {\n+                \"txid\" : tx2ob[\"txid\"],\n+                \"wallet_conflicts\" : [tx2ob[\"txid\"]],\n+                \"simulated_tx_conflicts\" : []\n+            },\n+        ]\n+        sim_result = w0.simulaterawtransaction([tx2, tx2, tx2])\n+        assert_equal(sim_result[\"details\"], details)\n+        assert_equal(sim_result[\"duplicates\"], duplicates)\n+\n+\n+\n+        # Testcase : simulaterawtransaction([tx2, tx3, tx4])\n+        # tx2 has a wallet conflict with tx2 because tx2 is already in the wallet but no conflicts with any other transaction provided by the user(namely, tx3 and tx4)\n+        # tx3 and tx4 do not have any wallet conflicts or conflicts with any other transaction provided by the user\n+        details = [\n+            {\n+                \"txid\" : tx2ob[\"txid\"],\n+                \"wallet_conflicts\" : [tx2ob[\"txid\"]],\n+                \"simulated_tx_conflicts\" : []\n+            },\n+            {\n+                \"txid\" : tx3ob[\"txid\"],\n+                \"wallet_conflicts\" : [],\n+                \"simulated_tx_conflicts\" : []\n+            },\n+            {\n+                \"txid\" : tx4ob[\"txid\"],\n+                \"wallet_conflicts\" : [],\n+                \"simulated_tx_conflicts\" : []\n+            },\n+        ]\n+        sim_result = w0.simulaterawtransaction([tx2, tx3, tx4])\n+        assert_equal(sim_result[\"details\"], details)\n+        assert_equal(sim_result[\"duplicates\"], [])\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930301300",
      "id" : 930301300,
      "line" : 224,
      "node_id" : "PRRC_kwDOABII5843c0V0",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 224,
      "original_position" : 183,
      "original_start_line" : null,
      "path" : "test/functional/wallet_simulaterawtx.py",
      "position" : 183,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930301300/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930301300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930303513"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930303513"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In bf9deb407a8d73ac3b645b34c9bd6d28729a809c \"rpc/wallet: Add details and duplicate section for simulaterawtransaction\"\r\n\r\n`txid` is sufficient\r\n\r\n```suggestion\r\n                                {RPCResult::Type::STR_HEX, \"txid\", \"the txid of conflicting transactions in wallet\"},\r\n```",
      "commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "created_at" : "2022-07-26T18:43:13Z",
      "diff_hunk" : "@@ -610,6 +610,27 @@ RPCHelpMan simulaterawtransaction()\n             RPCResult::Type::OBJ, \"\", \"\",\n             {\n                 {RPCResult::Type::STR_AMOUNT, \"balance_change\", \"The wallet balance change (negative means decrease).\"},\n+                {RPCResult::Type::ARR, \"details\", \"\",\n+                {\n+                    {RPCResult::Type::OBJ, \"\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"the transaction hex of transaction provided by the user\"},\n+                            {RPCResult::Type::ARR, \"wallet_conflicts\", \"list of txids of transactions in the wallet that conflict with this transaction\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid_in_wallet\", \"the txid of conflicting transactions in wallet\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r930303513",
      "id" : 930303513,
      "line" : 620,
      "node_id" : "PRRC_kwDOABII5843c04Z",
      "original_commit_id" : "bf9deb407a8d73ac3b645b34c9bd6d28729a809c",
      "original_line" : 620,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 11,
      "pull_request_review_id" : 1051439199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930303513/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-26T18:44:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/930303513",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Can be rebased now that #22751 is merged.",
      "created_at" : "2022-08-05T19:34:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#issuecomment-1206794337",
      "id" : 1206794337,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25621",
      "node_id" : "IC_kwDOABII585H7jhh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1206794337/reactions"
      },
      "updated_at" : "2022-08-05T19:34:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1206794337",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\n This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-05T20:13:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#issuecomment-1206819796",
      "id" : 1206819796,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25621",
      "node_id" : "IC_kwDOABII585H7pvU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1206819796/reactions"
      },
      "updated_at" : "2022-08-05T20:13:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1206819796",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r943293522"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943293522"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Why are we returning indices in `simulated_tx_conflicts` instead of txids? As an end user, I think I'd prefer to have a consistent schema for the `details` object where both `*_conflicts` fields have txids.",
      "commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "created_at" : "2022-08-11T09:42:21Z",
      "diff_hunk" : "@@ -610,6 +610,27 @@ RPCHelpMan simulaterawtransaction()\n             RPCResult::Type::OBJ, \"\", \"\",\n             {\n                 {RPCResult::Type::STR_AMOUNT, \"balance_change\", \"The wallet balance change (negative means decrease).\"},\n+                {RPCResult::Type::ARR, \"details\", \"\",\n+                {\n+                    {RPCResult::Type::OBJ, \"\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"the transaction hex of transaction provided by the user\"},\n+                            {RPCResult::Type::ARR, \"wallet_conflicts\", \"list of txids of transactions in the wallet that conflict with this transaction\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"the txid of conflicting transactions in wallet\"},\n+                            }},\n+                            {RPCResult::Type::ARR, \"simulated_tx_conflicts\", \"indices of transactions provided by the user that conflict with this transaction\",\n+                            {\n+                                {RPCResult::Type::NUM, \"index\", \"index of conflicting transactions in list provided by user\"},\n+                            }},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r943293522",
      "id" : 943293522,
      "line" : 625,
      "node_id" : "PRRC_kwDOABII5844OYRS",
      "original_commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "original_line" : 625,
      "original_position" : 16,
      "original_start_line" : 622,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 1069447156,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943293522/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 622,
      "start_side" : "RIGHT",
      "updated_at" : "2022-08-11T10:04:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943293522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r943295459"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943295459"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't understand why this is needed. Wouldn't it be better to have the RPC fail fast and tell the user they are providing duplicates?  ",
      "commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "created_at" : "2022-08-11T09:44:30Z",
      "diff_hunk" : "@@ -610,6 +610,27 @@ RPCHelpMan simulaterawtransaction()\n             RPCResult::Type::OBJ, \"\", \"\",\n             {\n                 {RPCResult::Type::STR_AMOUNT, \"balance_change\", \"The wallet balance change (negative means decrease).\"},\n+                {RPCResult::Type::ARR, \"details\", \"\",\n+                {\n+                    {RPCResult::Type::OBJ, \"\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"the transaction hex of transaction provided by the user\"},\n+                            {RPCResult::Type::ARR, \"wallet_conflicts\", \"list of txids of transactions in the wallet that conflict with this transaction\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"the txid of conflicting transactions in wallet\"},\n+                            }},\n+                            {RPCResult::Type::ARR, \"simulated_tx_conflicts\", \"indices of transactions provided by the user that conflict with this transaction\",\n+                            {\n+                                {RPCResult::Type::NUM, \"index\", \"index of conflicting transactions in list provided by user\"},\n+                            }},\n+                        }\n+                    },\n+                }},\n+                {RPCResult::Type::ARR, \"duplicates\", \"indices of transactions provided by the user more than once and hence ignored\",\n+                {\n+                    {RPCResult::Type::NUM, \"index\", \"index of transactions provided by the user more than once\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r943295459",
      "id" : 943295459,
      "line" : 631,
      "node_id" : "PRRC_kwDOABII5844OYvj",
      "original_commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "original_line" : 631,
      "original_position" : 22,
      "original_start_line" : 629,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 22,
      "pull_request_review_id" : 1069447156,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943295459/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 629,
      "start_side" : "RIGHT",
      "updated_at" : "2022-08-11T10:04:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943295459",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r943298590"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943298590"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: adding comments which restate what existing code is doing aren't super valuable imo and can be distracting when trying to review the code changes",
      "commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "created_at" : "2022-08-11T09:47:55Z",
      "diff_hunk" : "@@ -642,63 +662,132 @@ RPCHelpMan simulaterawtransaction()\n     if (ParseIncludeWatchonly(include_watchonly, *pwallet)) {\n         filter |= ISMINE_WATCH_ONLY;\n     }\n-\n+    // fetch transactions",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r943298590",
      "id" : 943298590,
      "line" : 665,
      "node_id" : "PRRC_kwDOABII5844OZge",
      "original_commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "original_line" : 665,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 41,
      "pull_request_review_id" : 1069447156,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943298590/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-11T10:04:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943298590",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r943298841"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943298841"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "same nit re: comments",
      "commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "created_at" : "2022-08-11T09:48:15Z",
      "diff_hunk" : "@@ -642,63 +662,132 @@ RPCHelpMan simulaterawtransaction()\n     if (ParseIncludeWatchonly(include_watchonly, *pwallet)) {\n         filter |= ISMINE_WATCH_ONLY;\n     }\n-\n+    // fetch transactions\n     const auto& txs = request.params[0].get_array();\n     CAmount changes{0};\n-    std::map<COutPoint, CAmount> new_utxos; // UTXO:s that were made available in transaction array\n-    std::set<COutPoint> spent;\n-\n+    // UTXOs that were made available in transaction array\n+    std::map<COutPoint, CAmount> new_utxos;\n+    // Tracks the indices of the txs spending an outpoint\n+    std::map<COutPoint, std::set<int>> outpoint_to_tx;\n+    // Tracks conflicting transactions(provided by the user) given a txid\n+    std::map<uint256, std::set<int>> internal_conflicts;\n+    // Tracks set of txids in the wallet that are conflicting with the provided transaction given txid of tx provided by the user\n+    std::map<uint256, std::set<std::string>> txids;\n+    // indices of duplicate transactions\n+    std::set<int> duplicates;\n+    //Tracks txid given index for the tx provided by the user\n+    std::map<int, uint256> txhash;\n+    // used for dealing with duplicates\n+    std::map<uint256, bool> done;\n     for (size_t i = 0; i < txs.size(); ++i) {\n         CMutableTransaction mtx;\n+        // decoding ith transaction hex",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r943298841",
      "id" : 943298841,
      "line" : 684,
      "node_id" : "PRRC_kwDOABII5844OZkZ",
      "original_commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "original_line" : 684,
      "original_position" : 63,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 63,
      "pull_request_review_id" : 1069447156,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943298841/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-11T10:04:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/943298841",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7444140?v=4",
         "events_url" : "https://api.github.com/users/josibake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/josibake/followers",
         "following_url" : "https://api.github.com/users/josibake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/josibake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/josibake",
         "id" : 7444140,
         "login" : "josibake",
         "node_id" : "MDQ6VXNlcjc0NDQxNDA=",
         "organizations_url" : "https://api.github.com/users/josibake/orgs",
         "received_events_url" : "https://api.github.com/users/josibake/received_events",
         "repos_url" : "https://api.github.com/users/josibake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/josibake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/josibake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/josibake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r950790667"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/950790667"
         }
      },
      "author_association" : "NONE",
      "body" : "I did consider what you suggested but let's say we do that, then the user will remove those duplicate transactions from the list and re run the RPC? To me this seemed redundant and that's why I took this approach.",
      "commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "created_at" : "2022-08-21T05:48:49Z",
      "diff_hunk" : "@@ -610,6 +610,27 @@ RPCHelpMan simulaterawtransaction()\n             RPCResult::Type::OBJ, \"\", \"\",\n             {\n                 {RPCResult::Type::STR_AMOUNT, \"balance_change\", \"The wallet balance change (negative means decrease).\"},\n+                {RPCResult::Type::ARR, \"details\", \"\",\n+                {\n+                    {RPCResult::Type::OBJ, \"\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"the transaction hex of transaction provided by the user\"},\n+                            {RPCResult::Type::ARR, \"wallet_conflicts\", \"list of txids of transactions in the wallet that conflict with this transaction\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"the txid of conflicting transactions in wallet\"},\n+                            }},\n+                            {RPCResult::Type::ARR, \"simulated_tx_conflicts\", \"indices of transactions provided by the user that conflict with this transaction\",\n+                            {\n+                                {RPCResult::Type::NUM, \"index\", \"index of conflicting transactions in list provided by user\"},\n+                            }},\n+                        }\n+                    },\n+                }},\n+                {RPCResult::Type::ARR, \"duplicates\", \"indices of transactions provided by the user more than once and hence ignored\",\n+                {\n+                    {RPCResult::Type::NUM, \"index\", \"index of transactions provided by the user more than once\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r950790667",
      "id" : 950790667,
      "in_reply_to_id" : 943295459,
      "line" : 631,
      "node_id" : "PRRC_kwDOABII5844q-oL",
      "original_commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "original_line" : 631,
      "original_position" : 22,
      "original_start_line" : 629,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 22,
      "pull_request_review_id" : 1079624996,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/950790667/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 629,
      "start_side" : "RIGHT",
      "updated_at" : "2022-08-21T05:48:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/950790667",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44436898?v=4",
         "events_url" : "https://api.github.com/users/anibilthare/events{/privacy}",
         "followers_url" : "https://api.github.com/users/anibilthare/followers",
         "following_url" : "https://api.github.com/users/anibilthare/following{/other_user}",
         "gists_url" : "https://api.github.com/users/anibilthare/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/anibilthare",
         "id" : 44436898,
         "login" : "anibilthare",
         "node_id" : "MDQ6VXNlcjQ0NDM2ODk4",
         "organizations_url" : "https://api.github.com/users/anibilthare/orgs",
         "received_events_url" : "https://api.github.com/users/anibilthare/received_events",
         "repos_url" : "https://api.github.com/users/anibilthare/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/anibilthare/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/anibilthare/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/anibilthare"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r950791866"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/950791866"
         }
      },
      "author_association" : "NONE",
      "body" : "Returning txids increases the \"manual\" work on user's side, if that makes sense? Consider a case when user provides 50 transactions as input. As an end user I think I'd prefer the software telling me \"This transaction of yours conflicts with the transaction 11, 17 and 21 that you provided\" rather than \"This transaction of yours conflict with the transactions with txids <some-long-string1> <some-long-string2> <some-long-string3>\"",
      "commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "created_at" : "2022-08-21T06:03:16Z",
      "diff_hunk" : "@@ -610,6 +610,27 @@ RPCHelpMan simulaterawtransaction()\n             RPCResult::Type::OBJ, \"\", \"\",\n             {\n                 {RPCResult::Type::STR_AMOUNT, \"balance_change\", \"The wallet balance change (negative means decrease).\"},\n+                {RPCResult::Type::ARR, \"details\", \"\",\n+                {\n+                    {RPCResult::Type::OBJ, \"\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"the transaction hex of transaction provided by the user\"},\n+                            {RPCResult::Type::ARR, \"wallet_conflicts\", \"list of txids of transactions in the wallet that conflict with this transaction\",\n+                            {\n+                                {RPCResult::Type::STR_HEX, \"txid\", \"the txid of conflicting transactions in wallet\"},\n+                            }},\n+                            {RPCResult::Type::ARR, \"simulated_tx_conflicts\", \"indices of transactions provided by the user that conflict with this transaction\",\n+                            {\n+                                {RPCResult::Type::NUM, \"index\", \"index of conflicting transactions in list provided by user\"},\n+                            }},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25621#discussion_r950791866",
      "id" : 950791866,
      "in_reply_to_id" : 943293522,
      "line" : 625,
      "node_id" : "PRRC_kwDOABII5844q-66",
      "original_commit_id" : "c5087b3be6a90b077dba1176bc455ac537d50199",
      "original_line" : 625,
      "original_position" : 16,
      "original_start_line" : 622,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 16,
      "pull_request_review_id" : 1079625884,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25621",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/950791866/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 622,
      "start_side" : "RIGHT",
      "updated_at" : "2022-08-21T06:03:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/950791866",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44436898?v=4",
         "events_url" : "https://api.github.com/users/anibilthare/events{/privacy}",
         "followers_url" : "https://api.github.com/users/anibilthare/followers",
         "following_url" : "https://api.github.com/users/anibilthare/following{/other_user}",
         "gists_url" : "https://api.github.com/users/anibilthare/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/anibilthare",
         "id" : 44436898,
         "login" : "anibilthare",
         "node_id" : "MDQ6VXNlcjQ0NDM2ODk4",
         "organizations_url" : "https://api.github.com/users/anibilthare/orgs",
         "received_events_url" : "https://api.github.com/users/anibilthare/received_events",
         "repos_url" : "https://api.github.com/users/anibilthare/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/anibilthare/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/anibilthare/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/anibilthare"
      }
   }
]
