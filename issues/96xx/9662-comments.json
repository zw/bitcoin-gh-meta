[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems somewhat strange that this is set per-run and not per-wallet. Indeed, if it were set per-wallet, an easy way to get the intended behavior here is to simply encrypt your wallet with a garbage passphrase such that it can no longer be opened (not to say we shouldn't do this, better UX around that is good, but it might be easier to review/write if it re-used that infrastructure).",
      "created_at" : "2017-02-01T21:23:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-276786662",
      "id" : 276786662,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI3Njc4NjY2Mg==",
      "updated_at" : "2017-02-01T21:24:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276786662",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "node_id" : "MDQ6VXNlcjY0OTI0Ng==",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. I agree that this would be better as a mode on the wallet instead of yet another startup option.",
      "created_at" : "2017-02-02T08:03:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-276891978",
      "id" : 276891978,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI3Njg5MTk3OA==",
      "updated_at" : "2017-02-02T08:03:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276891978",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I would like to rebase on top of that for https://github.com/bitcoin/bitcoin/pull/9728, can you rebase?\r\nI would switch that on if hdwatchonly is used.",
      "created_at" : "2017-02-16T01:53:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-280205031",
      "id" : 280205031,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI4MDIwNTAzMQ==",
      "updated_at" : "2017-02-16T01:54:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280205031",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added two commit.\r\n* First commit adds a facility to store and check wallet flags (64bit). Made DISABLE_PRIVATE_KEYS the first flag.\r\n* Second commit makes the disablehot function per wallet (no longer a global state)\r\n\r\nDisabling private keys on a wallet that already contains private keys is not possible (also the other way around).",
      "created_at" : "2017-02-17T09:11:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-280596351",
      "id" : 280596351,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI4MDU5NjM1MQ==",
      "updated_at" : "2017-02-17T09:11:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280596351",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101719386"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101719386"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke: any idea how I can make this pass? Right now, staring bitcoind in this case with this setup will cause bitcoind to write to stderr (and halt) which then result in pass=false in `rpc-tests.py`. But it's actually the correct behaviour.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-02-17T09:37:35Z",
      "diff_hunk" : "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        try:\n+            self.nodes[1].getnewaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        try:\n+            self.nodes[1].getrawchangeaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        self.nodes[1].importpubkey(n0pubkR) #TODO switch to importmulti\n+        self.nodes[1].importpubkey(n0pubkC)\n+        assert_equal(self.nodes[1].getbalance(\"*\", 1, True), 10)\n+        rawtx = self.nodes[1].createrawtransaction([], {n0addr: 1.0})\n+        frawtx= self.nodes[1].fundrawtransaction(rawtx, {\"changeAddress\": n0addrC, \"includeWatching\": True})\n+\n+        # check if we can re-enable private keys\n+        assert_equal(self.nodes[1].signrawtransaction(frawtx['hex'])['complete'], False)\n+        print(\"restarting node with disablehot=0 (try to re-enable private keys which must not be possible)\")\n+        stop_nodes(self.nodes)\n+        try:\n+            self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot=0']])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101719386",
      "id" : 101719386,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMTcxOTM4Ng==",
      "original_commit_id" : "cd93c2da629fd35eea2ac83a7d8c0eeaaa640bae",
      "original_position" : 64,
      "path" : "qa/rpc-tests/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 22456345,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101719386",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101880736"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101880736"
         }
      },
      "author_association" : "MEMBER",
      "body" : "We might create a `assert_start_raises_init_error()` method. I will take a look at this tomorrow.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-02-18T02:10:13Z",
      "diff_hunk" : "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        try:\n+            self.nodes[1].getnewaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        try:\n+            self.nodes[1].getrawchangeaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        self.nodes[1].importpubkey(n0pubkR) #TODO switch to importmulti\n+        self.nodes[1].importpubkey(n0pubkC)\n+        assert_equal(self.nodes[1].getbalance(\"*\", 1, True), 10)\n+        rawtx = self.nodes[1].createrawtransaction([], {n0addr: 1.0})\n+        frawtx= self.nodes[1].fundrawtransaction(rawtx, {\"changeAddress\": n0addrC, \"includeWatching\": True})\n+\n+        # check if we can re-enable private keys\n+        assert_equal(self.nodes[1].signrawtransaction(frawtx['hex'])['complete'], False)\n+        print(\"restarting node with disablehot=0 (try to re-enable private keys which must not be possible)\")\n+        stop_nodes(self.nodes)\n+        try:\n+            self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot=0']])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101880736",
      "id" : 101880736,
      "in_reply_to_id" : 101719386,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMTg4MDczNg==",
      "original_commit_id" : "cd93c2da629fd35eea2ac83a7d8c0eeaaa640bae",
      "original_position" : 64,
      "path" : "qa/rpc-tests/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 22626838,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101880736",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101948618"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101948618"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Kind of confusing....\r\nI thought this would be equivalent to `CWallet::SetWalletFlags(uint64_t flags, false)`.\r\n\r\n However  while `CWallet::SetWalletFlags(uint64_t flags, bool memonly)` set the flags to the indicated value, `CWallet::SetWalletFlag(uint64_t flag)` **appends** to it.\r\n\r\nMaybe you should rename to `AddWalletFlags`.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-02-20T05:11:45Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101948618",
      "id" : 101948618,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMTk0ODYxOA==",
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 22689249,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101948618",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101954523"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101954523"
         }
      },
      "author_association" : "MEMBER",
      "body" : "does the `[]` arguments is on purpose? because I think it makes `-disablehot` ignored",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-02-20T06:33:22Z",
      "diff_hunk" : "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101954523",
      "id" : 101954523,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMTk1NDUyMw==",
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 17,
      "path" : "qa/rpc-tests/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 22695062,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101954523",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101956939"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101956939"
         }
      },
      "author_association" : "NONE",
      "body" : "`CWallet::AddWalletFlags(uint64_t flags, book memonly)` seems most consistent.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-02-20T07:03:48Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101956939",
      "id" : 101956939,
      "in_reply_to_id" : 101948618,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMTk1NjkzOQ==",
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 22697552,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101956939",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/22301423?v=4",
         "events_url" : "https://api.github.com/users/saleemrashid/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saleemrashid/followers",
         "following_url" : "https://api.github.com/users/saleemrashid/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saleemrashid/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saleemrashid",
         "id" : 22301423,
         "login" : "saleemrashid",
         "node_id" : "MDQ6VXNlcjIyMzAxNDIz",
         "organizations_url" : "https://api.github.com/users/saleemrashid/orgs",
         "received_events_url" : "https://api.github.com/users/saleemrashid/received_events",
         "repos_url" : "https://api.github.com/users/saleemrashid/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saleemrashid/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saleemrashid/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saleemrashid"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210332"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210332"
         }
      },
      "author_association" : "MEMBER",
      "body" : "IMO set flags seems most appropriate here. Flags are not getting *appended*. Either you set or unset IMO. For consistency, we should have a `UnsetWalletFlag()`.\r\nBut I agree its kind of confusing that we have a `SetWalletFlags` (plural) method that is capable or re-setting all 64 flags.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-02-21T13:51:29Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210332",
      "id" : 102210332,
      "in_reply_to_id" : 101948618,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjIxMDMzMg==",
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 22958806,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210332",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210491"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210491"
         }
      },
      "author_association" : "MEMBER",
      "body" : "We start two nodes here, the first node without startup parameters (thats why there is the `[]`). Only second node has `-disablehot`.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-02-21T13:52:15Z",
      "diff_hunk" : "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210491",
      "id" : 102210491,
      "in_reply_to_id" : 101954523,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjIxMDQ5MQ==",
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 17,
      "path" : "qa/rpc-tests/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 22958952,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210491",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102261457"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102261457"
         }
      },
      "author_association" : "NONE",
      "body" : "I think this method should be plural, since there is no distinction between a single flag and multiple flags in its operation and it might be useful to be able to do the latter.\r\n\r\nThen, of course, you have confusion. So, a verb change in the method name might be useful.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-02-21T17:04:04Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102261457",
      "id" : 102261457,
      "in_reply_to_id" : 101948618,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjI2MTQ1Nw==",
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 23013199,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102261457",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/22301423?v=4",
         "events_url" : "https://api.github.com/users/saleemrashid/events{/privacy}",
         "followers_url" : "https://api.github.com/users/saleemrashid/followers",
         "following_url" : "https://api.github.com/users/saleemrashid/following{/other_user}",
         "gists_url" : "https://api.github.com/users/saleemrashid/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/saleemrashid",
         "id" : 22301423,
         "login" : "saleemrashid",
         "node_id" : "MDQ6VXNlcjIyMzAxNDIz",
         "organizations_url" : "https://api.github.com/users/saleemrashid/orgs",
         "received_events_url" : "https://api.github.com/users/saleemrashid/received_events",
         "repos_url" : "https://api.github.com/users/saleemrashid/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/saleemrashid/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/saleemrashid/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/saleemrashid"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102371289"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102371289"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@jonasschnelli the strange thing is that [SetWalletFlag](https://github.com/bitcoin/bitcoin/pull/9662#discussion-diff-101948618R1410) switch a bit, when [SetWalletFlags](https://github.com/jonasschnelli/bitcoin/blob/e581d843f06d5fe71a4662b122f94577e5dccd55/src/wallet/wallet.cpp#L1417) set the walletFlags to a specific value. I was expecting SetWalletFlags to switch several bits.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-02-22T02:30:57Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102371289",
      "id" : 102371289,
      "in_reply_to_id" : 101948618,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjM3MTI4OQ==",
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 23124493,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102371289",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102403291"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102403291"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe renaming `SetWalletFlags` (plural) to `OverwriteWalletFlags`?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-02-22T08:12:01Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102403291",
      "id" : 102403291,
      "in_reply_to_id" : 101948618,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjQwMzI5MQ==",
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 23156144,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102403291",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needed rebase (#8775).\r\nTravis will fail because of the missing `assert_start_raises_init_error` (see #9832).",
      "created_at" : "2017-03-03T15:36:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-283985910",
      "id" : 283985910,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI4Mzk4NTkxMA==",
      "updated_at" : "2017-03-03T15:36:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283985910",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> ideal for a use-case where one likes to use Bitcoin-Core in conjunction with a hardware-wallet or another solutions for cold-stogare\r\n\r\nNice, so this guarantees that bitcoind process will contain no private key data at all?\r\nSeems like s a good step towards supporting hardware wallets too.\r\nConcept ACK.\r\n\r\nTravis should pass now that #9832 is merged.",
      "created_at" : "2017-03-06T09:13:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-284341246",
      "id" : 284341246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI4NDM0MTI0Ng==",
      "updated_at" : "2017-03-06T09:15:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284341246",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The `disablehot.py` now makes use of the new (#9832) `assert_start_raises_init_error` call.\r\n\r\n> Nice, so this guarantees that bitcoind process will contain no private key data at all?\r\n\r\nYes. Event the default key is disabled (while still detecting the first start correctly).",
      "created_at" : "2017-03-06T09:31:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-284345511",
      "id" : 284345511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI4NDM0NTUxMQ==",
      "updated_at" : "2017-03-06T09:31:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284345511",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105604719"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105604719"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you should use `fFirstRun` here instead of `walletInstance->vchDefaultKey.IsValid()`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-03-13T07:59:14Z",
      "diff_hunk" : "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105604719",
      "id" : 105604719,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNTYwNDcxOQ==",
      "original_commit_id" : "9549e2c90982966213153bcbf02505f848a808e7",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 26490968,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105604719",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105605594"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105605594"
         }
      },
      "author_association" : "MEMBER",
      "body" : "At this point `fFirstRun` is always `false`. And I think this also works in conjunction with `salvagewallet`.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-03-13T08:07:10Z",
      "diff_hunk" : "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105605594",
      "id" : 105605594,
      "in_reply_to_id" : 105604719,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNTYwNTU5NA==",
      "original_commit_id" : "9549e2c90982966213153bcbf02505f848a808e7",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 26491840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105605594",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105607706"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105607706"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Indeed. Might be out of this PR matter, in the case of hdwatchonly, `walletInstance->vchDefaultKey.IsValid()` will be true. So this would mean `disabledHot` is incompatible with hdwatchonly mode ?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-03-13T08:22:16Z",
      "diff_hunk" : "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105607706",
      "id" : 105607706,
      "in_reply_to_id" : 105604719,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNTYwNzcwNg==",
      "original_commit_id" : "9549e2c90982966213153bcbf02505f848a808e7",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 26493935,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105607706",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105608044"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105608044"
         }
      },
      "author_association" : "MEMBER",
      "body" : "OK forget what I said, there is no reason to have disabledHot with hdwatchonly at same time.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-03-13T08:24:45Z",
      "diff_hunk" : "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105608044",
      "id" : 105608044,
      "in_reply_to_id" : 105604719,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNTYwODA0NA==",
      "original_commit_id" : "9549e2c90982966213153bcbf02505f848a808e7",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 26494259,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105608044",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2017-03-29T14:44:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-290112718",
      "id" : 290112718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5MDExMjcxOA==",
      "updated_at" : "2017-03-29T14:44:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290112718",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase again (sorry)\r\nutACK otherwise.",
      "created_at" : "2017-05-02T13:32:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-298636396",
      "id" : 298636396,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5ODYzNjM5Ng==",
      "updated_at" : "2017-05-02T13:32:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298636396",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2017-05-04T13:11:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299180562",
      "id" : 299180562,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5OTE4MDU2Mg==",
      "updated_at" : "2017-05-04T13:11:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299180562",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114820212"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114820212"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Add -disablehot option to ensure pure watchonly-wallets\"\r\n\r\nI don't understand why we want to call these \"hot keys\" and not \"private keys,\" but I guess I'm out of the loop on terminology not knowing precisely what a \"hot key\" is.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-05-04T16:00:10Z",
      "diff_hunk" : "@@ -3915,6 +3948,7 @@ bool CWallet::ParameterInteraction()\n     nTxConfirmTarget = GetArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n     bSpendZeroConfChange = GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n     fWalletRbf = GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+    fDisableHotKeys = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114820212",
      "id" : 114820212,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDgyMDIxMg==",
      "original_commit_id" : "69d64075fc6b37972686684eb452bd99bfaf7a74",
      "original_position" : 107,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114820212",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114827067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114827067"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Add -disablehot option to ensure pure watchonly-wallets\"\r\n\r\nConsider using assert_raises_jsonrpc. (It's less verbose)",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-05-04T16:29:33Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        try:\n+            self.nodes[1].getnewaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114827067",
      "id" : 114827067,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDgyNzA2Nw==",
      "original_commit_id" : "69d64075fc6b37972686684eb452bd99bfaf7a74",
      "original_position" : 45,
      "path" : "qa/rpc-tests/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114827067",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114832472"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114832472"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Add -disablehot option to ensure pure watchonly-wallets\"\r\n\r\nDo you think it might be better to fail earlier in CreateTransaction, regardless of the nChange > 0 condition? I'm thinking it might be, just so calls would fail consistently instead of sometimes randomly succeeding. But I don't have much understanding of the real-world use-cases for this, so this is just a thought.\r\n\r\nConsidering adding a code comment here explaining more.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-05-04T16:54:41Z",
      "diff_hunk" : "@@ -2497,6 +2500,11 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n                         //  post-backup change.\n \n                         // Reserve a new key pair from key pool\n+                        if (fDisableHotKeys) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114832472",
      "id" : 114832472,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDgzMjQ3Mg==",
      "original_commit_id" : "69d64075fc6b37972686684eb452bd99bfaf7a74",
      "original_position" : 28,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114832472",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114834621"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114834621"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Make -disablehot per wallet (remove global state)\"\r\n\r\nExtra newline here",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-05-04T17:03:59Z",
      "diff_hunk" : "@@ -705,7 +705,8 @@ bool WalletModel::hdEnabled() const\n \n bool WalletModel::hotKeysDisabled() const\n {\n-    return fDisableHotKeys;\n+    return (pwalletMain->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS));\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114834621",
      "id" : 114834621,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDgzNDYyMQ==",
      "original_commit_id" : "4f3acb5d8c0c736a4c223274af2ca7da17fc8604",
      "original_position" : 6,
      "path" : "src/qt/walletmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114834621",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114860167"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114860167"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Maybe renaming SetWalletFlags (plural) to OverwriteWalletFlags?\r\n\r\nSince this is doing an `|` I'd call it `AddFlags` (which conceivably could be paired with a `RemoveFlags` doing `& ~`).",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-05-04T18:53:59Z",
      "diff_hunk" : "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114860167",
      "id" : 114860167,
      "in_reply_to_id" : 101948618,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDg2MDE2Nw==",
      "original_commit_id" : "e581d843f06d5fe71a4662b122f94577e5dccd55",
      "original_position" : 32,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114860167",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114862421"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114862421"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Add `-disablehot` mode: a sane mode for watchonly-wallets\r\n\r\nMaybe the error message could suggest passing `-disablehot` to avoid the problem. I think it would make the context of the error easier to understand for someone not expecting it.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-05-04T19:03:45Z",
      "diff_hunk" : "@@ -3737,7 +3754,20 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n-    else if (fDisableHotKeys) {\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));\n+            return NULL;\n+        }\n+        bool hotKeys = walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\n+        if (hotKeys && !disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable hot keys once you have initialized a wallet with disabled hot keys\"), walletFile));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114862421",
      "id" : 114862421,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDg2MjQyMQ==",
      "original_commit_id" : "4f3acb5d8c0c736a4c223274af2ca7da17fc8604",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 36312442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114862421",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114942079"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114942079"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Falling earlier would disallow creating watch-only transactions (over fundrawtransaction).",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-05-05T07:19:43Z",
      "diff_hunk" : "@@ -2497,6 +2500,11 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n                         //  post-backup change.\n \n                         // Reserve a new key pair from key pool\n+                        if (fDisableHotKeys) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114942079",
      "id" : 114942079,
      "in_reply_to_id" : 114832472,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDk0MjA3OQ==",
      "original_commit_id" : "69d64075fc6b37972686684eb452bd99bfaf7a74",
      "original_position" : 28,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 36445578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114942079",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "- Completely rewrote the commit history (as reported by @ryanofsky it was messy).\r\n- Fixed @ryanofsky points\r\n\r\nNo strong opinion if this should be called `-disableprivatekeys` (which somehow nails it but may confuse people who just want cold key storage). Other opinions?\b",
      "created_at" : "2017-05-05T07:27:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299400065",
      "id" : 299400065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5OTQwMDA2NQ==",
      "updated_at" : "2017-05-05T07:27:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299400065",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK fcea55a6ec6be57ee96458bde6fb24656269d3ee\r\n\r\nChanges from previous review: pwalletMain removal, SetWalletFlag rename, error message tweaks, assert_raises_jsonrpc usage, and history cleanup.",
      "created_at" : "2017-05-05T14:40:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299483081",
      "id" : 299483081,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5OTQ4MzA4MQ==",
      "updated_at" : "2017-05-05T14:40:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299483081",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK fcea55a6ec6be57ee96458bde6fb24656269d3ee",
      "created_at" : "2017-05-06T08:46:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299625564",
      "id" : 299625564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDI5OTYyNTU2NA==",
      "updated_at" : "2017-05-06T08:46:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299625564",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This has 3 utACKs so I'm building it now to provide a little testing. Maybe this PR should also update `doc/release-notes.md` since it's adding a new option.\r\n\r\nOn \"private keys\" vs \"hot keys\" naming, \"private keys\" still sounds more comprehensible to me, but I wouldn't weigh my opinion very heavily if \"hot key\" is a term users will know.",
      "created_at" : "2017-05-23T17:01:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-303466826",
      "id" : 303466826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDMwMzQ2NjgyNg==",
      "updated_at" : "2017-05-23T17:01:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303466826",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Tested ACK fcea55a6ec6be57ee96458bde6fb24656269d3ee. Confirmed disablehot option prevents generating keys, persists across reload even when disablehot option not specified in later runs, and that it prevents loading pre-existing or non-disablehot wallets. I don't think I encountered any bugs, and it seems to me this PR works well and is safe to merge.\r\n\r\nI was surprised by two things, and maybe these behaviors could be changed in the future if they aren't intentional:\r\n\r\n- I was surprised that -disablehot could only be used on a new wallet and would refuse to load a preexisting wallet that did not have any private keys.\r\n- I was surprised that -disablehot did seem to allow importing private keys via importprivkey and importwallet rpcs.\r\n",
      "created_at" : "2017-05-23T18:30:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-303490818",
      "id" : 303490818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDMwMzQ5MDgxOA==",
      "updated_at" : "2017-05-23T18:30:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303490818",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added two commits.\r\nThe first addresses the \"importprivkey\" / \"Importwallet\" issues reported by @ryanofsky (disable both commands in -disablehot mode).\r\nThe second fixes a rebase `pwallet`/`pwalletmain` issue.",
      "created_at" : "2017-05-24T09:20:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-303667459",
      "id" : 303667459,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDMwMzY2NzQ1OQ==",
      "updated_at" : "2017-05-24T09:20:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303667459",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "needs rebase, will review",
      "created_at" : "2017-06-19T13:34:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-309440853",
      "id" : 309440853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDMwOTQ0MDg1Mw==",
      "updated_at" : "2017-06-19T13:34:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309440853",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122707827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122707827"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe leave a comment here to make it clear there are two modes of detecting an initialized wallet here.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-06-19T13:35:08Z",
      "diff_hunk" : "@@ -2833,6 +2839,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n     if (nLoadWalletRet != DB_LOAD_OK)\n         return nLoadWalletRet;\n     fFirstRunRet = !vchDefaultKey.IsValid();\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122707827",
      "id" : 122707827,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMjcwNzgyNw==",
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 31,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 44846468,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122707827",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122708992"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122708992"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Return condition for this function is never checked. Only used here: https://github.com/bitcoin/bitcoin/blob/master/src/wallet/wallet.cpp#L639\r\n\r\nFor this mode do we even need the encrypt functionality? ",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-06-19T13:39:55Z",
      "diff_hunk" : "@@ -2957,6 +2966,9 @@ bool CWallet::SetDefaultKey(const CPubKey &vchPubKey)\n  */\n bool CWallet::NewKeyPool()\n {\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122708992",
      "id" : 122708992,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMjcwODk5Mg==",
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 41,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 44846468,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122708992",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "General comment while I wait for rebase: This is fundamentally in conflict with the hdwatchonly mode proposed in https://github.com/bitcoin/bitcoin/pull/9728 which was surprising to me. Perhaps the descriptions of the mode should stress that no (pub)key generation of any sort is allowed, or explicitly state that only imported watchonly keys are supported?\r\n\r\nAlso, I think to make this mode less brittle if an assert in `AddKeyPubKey` is added, since this should never be reachable.",
      "created_at" : "2017-06-19T14:20:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-309454311",
      "id" : 309454311,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDMwOTQ1NDMxMQ==",
      "updated_at" : "2017-06-19T14:20:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309454311",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126531651"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126531651"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree, and combine the two conditionals to make it clearer that that's what is happening.\r\n\r\n```\r\nfFirstRunRet = !vchDefaultKey.IsValid() && !IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\r\n```",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-07-10T20:44:28Z",
      "diff_hunk" : "@@ -2833,6 +2839,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n     if (nLoadWalletRet != DB_LOAD_OK)\n         return nLoadWalletRet;\n     fFirstRunRet = !vchDefaultKey.IsValid();\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126531651",
      "id" : 126531651,
      "in_reply_to_id" : 122707827,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzMTY1MQ==",
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 31,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 49025491,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126531651",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532024"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532024"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: place alphabetically (above `-disablewallet`)",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-07-10T20:46:00Z",
      "diff_hunk" : "@@ -3579,6 +3617,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n     strUsage += HelpMessageOpt(\"-disablewallet\", _(\"Do not load the wallet and disable wallet RPC calls\"));\n+    strUsage += HelpMessageOpt(\"-disablehot\", _(\"Disable the possibility of hot keys (only watchonlys are possible in this mode\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_DISABLE_HOT_WALLET));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532024",
      "id" : 126532024,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzMjAyNA==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 98,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532024",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532744"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532744"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This seems like the wrong error message: `You can't disable hot keys...` when the user has not specified the `-disablehot` parameter. Rather, this branch indicates some kind of wallet corruption: the DISABLE_HOT_KEYS flag is set, but the wallet contains private keys.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-07-10T20:49:11Z",
      "diff_hunk" : "@@ -3709,6 +3751,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));\n+            return NULL;\n+        }\n+        bool hotKeys = walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\n+        if (hotKeys && !disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable hot keys once you have initialized a wallet with disabled hot keys (use -disablehot instead)\"), walletFile));\n+            return NULL;\n+        }\n+    }\n+    else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        /* make sure we don't have hot keys */\n+        if (walletInstance->GetKeyPoolSize()) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532744",
      "id" : 126532744,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzMjc0NA==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 133,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532744",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535278"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535278"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You can avoid having to override this method by setting:\r\n\r\n```python\r\nself.extra_args = [[], ['-disablehot']]\r\n```\r\nin the `__init__()` method",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-07-10T20:58:53Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535278",
      "id" : 126535278,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzNTI3OA==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 16,
      "path" : "test/functional/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535278",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535353"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535353"
         }
      },
      "author_association" : "MEMBER",
      "body" : "please replace `print()` calls with `self.log.info()`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-07-10T20:59:09Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535353",
      "id" : 126535353,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzNTM1Mw==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 27,
      "path" : "test/functional/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535353",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535546"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535546"
         }
      },
      "author_association" : "MEMBER",
      "body" : "no `;` please :slightly_smiling_face: ",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-07-10T20:59:59Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535546",
      "id" : 126535546,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzNTU0Ng==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 37,
      "path" : "test/functional/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535546",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535722"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535722"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can you add a short docstring explaining what the test is testing and how it is testing?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-07-10T21:00:51Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535722",
      "id" : 126535722,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzNTcyMg==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 5,
      "path" : "test/functional/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535722",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126536260"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126536260"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Consider running a linter like flake8 over python modules to check for common nits.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-07-10T21:03:20Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126536260",
      "id" : 126536260,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzNjI2MA==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 1,
      "path" : "test/functional/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 49025865,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126536260",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147714977"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147714977"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I would think we should fail somehow, if an unrecognised flag is set?\r\n",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-10-30T14:18:26Z",
      "diff_hunk" : "@@ -537,6 +537,12 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 return false;\n             }\n         }\n+        else if (strType == \"flags\")\n+        {\n+            uint64_t flags;\n+            ssValue >> flags;\n+            pwallet->SetWalletFlags(flags, true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147714977",
      "id" : 147714977,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxNDk3Nw==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 8,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147714977",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716670"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why are we touching this logic at all? Seems we should just set a default key for watchonly-only wallets, until default keys are removed normally...\r\n",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-10-30T14:24:01Z",
      "diff_hunk" : "@@ -2833,6 +2839,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n     if (nLoadWalletRet != DB_LOAD_OK)\n         return nLoadWalletRet;\n     fFirstRunRet = !vchDefaultKey.IsValid();\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716670",
      "id" : 147716670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxNjY3MA==",
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 31,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716670",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716738"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716738"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Prefer:\r\n\r\n```C++\r\nstrprintf(_(\"Disable the possibility of hot keys (only watchonlys are possible in this mode; default: %u)\"), DEFAULT_DISABLE_HOT_WALLET)\r\n```",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-10-30T14:24:16Z",
      "diff_hunk" : "@@ -3598,6 +3617,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n     strUsage += HelpMessageOpt(\"-disablewallet\", _(\"Do not load the wallet and disable wallet RPC calls\"));\n+    strUsage += HelpMessageOpt(\"-disablehot\", _(\"Disable the possibility of hot keys (only watchonlys are possible in this mode\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_DISABLE_HOT_WALLET));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716738",
      "id" : 147716738,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxNjczOA==",
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 72,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716738",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147717783"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147717783"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should at least be abstracted somehow. vchDefaultKey's existence is not exactly identical to \"does this wallet have keys?\"",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-10-30T14:27:56Z",
      "diff_hunk" : "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147717783",
      "id" : 147717783,
      "in_reply_to_id" : 105604719,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxNzc4Mw==",
      "original_commit_id" : "9549e2c90982966213153bcbf02505f848a808e7",
      "original_position" : 122,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147717783",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718072"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718072"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Drop the \"`(use -disablehot instead)`\", since that will also fail in a multiwallet scenario.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-10-30T14:28:52Z",
      "diff_hunk" : "@@ -3728,6 +3751,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));\n+            return NULL;\n+        }\n+        bool hotKeys = walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\n+        if (hotKeys && !disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable hot keys once you have initialized a wallet with disabled hot keys (use -disablehot instead)\"), walletFile));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718072",
      "id" : 147718072,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxODA3Mg==",
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 99,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718072",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718724"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should also probably fake an encrypted wallet, so it can be read by older versions sanely.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-10-30T14:30:56Z",
      "diff_hunk" : "@@ -3717,6 +3737,9 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n             if (!walletInstance->SetHDMasterKey(masterPubKey))\n                 throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n         }\n+        if (GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_HOT_KEYS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718724",
      "id" : 147718724,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxODcyNA==",
      "original_commit_id" : "9935fbd829d4e1c3f9f054c49179e0751de45aee",
      "original_position" : 81,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718724",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719458"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719458"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It doesn't make sense to mention the option here, since it's tied to the wallet and can't just be toggled...",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-10-30T14:33:05Z",
      "diff_hunk" : "@@ -102,6 +102,10 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         );\n \n \n+    if (pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Error: Hot keys are disabled (-disablehot)\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719458",
      "id" : 147719458,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxOTQ1OA==",
      "original_commit_id" : "770db3a530ee4aa86c76a2d93d3f4098c91c953c",
      "original_position" : 5,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719458",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719524"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719524"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It doesn't make sense to mention the option here, since it's tied to the wallet and can't just be toggled...\r\n",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-10-30T14:33:17Z",
      "diff_hunk" : "@@ -470,6 +474,10 @@ UniValue importwallet(const JSONRPCRequest& request)\n     if (fPruneMode)\n         throw JSONRPCError(RPC_WALLET_ERROR, \"Importing wallets is disabled in pruned mode\");\n \n+    if (pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Error: Hot keys are disabled (-disablehot)\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719524",
      "id" : 147719524,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxOTUyNA==",
      "original_commit_id" : "770db3a530ee4aa86c76a2d93d3f4098c91c953c",
      "original_position" : 16,
      "path" : "src/wallet/rpcdump.cpp",
      "position" : null,
      "pull_request_review_id" : 72849013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719524",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811301"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811301"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```cpp\r\nui->receiveButton->setEnabled(!_model->hotKeysDisabled());\r\n```",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-11-03T15:16:30Z",
      "diff_hunk" : "@@ -93,6 +93,10 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n             SLOT(recentRequestsView_selectionChanged(QItemSelection, QItemSelection)));\n         // Last 2 columns are set by the columnResizingFixer, when the table geometry is ready.\n         columnResizingFixer = new GUIUtil::TableViewLastColumnResizingFixer(tableView, AMOUNT_MINIMUM_COLUMN_WIDTH, DATE_COLUMN_WIDTH, this);\n+\n+        if (_model->hotKeysDisabled()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811301",
      "id" : 148811301,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODgxMTMwMQ==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 5,
      "path" : "src/qt/receivecoinsdialog.cpp",
      "position" : null,
      "pull_request_review_id" : 74113773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811301",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811434"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811434"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Drop outer `()`?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-11-03T15:16:59Z",
      "diff_hunk" : "@@ -703,6 +703,11 @@ bool WalletModel::hdEnabled() const\n     return wallet->IsHDEnabled();\n }\n \n+bool WalletModel::hotKeysDisabled() const\n+{\n+    return (wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811434",
      "id" : 148811434,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODgxMTQzNA==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 6,
      "path" : "src/qt/walletmodel.cpp",
      "position" : null,
      "pull_request_review_id" : 74113773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811434",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814506"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814506"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Remove const.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-11-03T15:26:27Z",
      "diff_hunk" : "@@ -871,6 +877,12 @@ bool CWalletDB::WriteHDChain(const CHDChain& chain)\n     return batch.Write(std::string(\"hdchain\"), chain);\n }\n \n+bool CWalletDB::WriteWalletFlags(const uint64_t flags)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814506",
      "id" : 148814506,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODgxNDUwNg==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 17,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 74113773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814506",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814578"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814578"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Remove const.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-11-03T15:26:42Z",
      "diff_hunk" : "@@ -212,6 +212,7 @@ class CWalletDB\n     //! write the hdchain model (external chain child index counter)\n     bool WriteHDChain(const CHDChain& chain);\n \n+    bool WriteWalletFlags(const uint64_t flags);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814578",
      "id" : 148814578,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODgxNDU3OA==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 4,
      "path" : "src/wallet/walletdb.h",
      "position" : 4,
      "pull_request_review_id" : 74113773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814578",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814805"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814805"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`set_test_params` instead.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2017-11-03T15:27:26Z",
      "diff_hunk" : "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814805",
      "id" : 148814805,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODgxNDgwNQ==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 11,
      "path" : "test/functional/disablehot.py",
      "position" : null,
      "pull_request_review_id" : 74113773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814805",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase.\r\n\r\nTend to agree that this should be a per wallet thing and that this should be set upon wallet creation, rather than application launch.\r\n\r\nIf I understand correctly this is purely a safety feature. But I wonder if it doesn't make too many assumptions.\r\n\r\nThe term watch-only wallet is ambiguous. It could mean that the user doesn't have access to private keys at all, or that they do, but managed by an external device. They could also be part of a multisig arrangement, in which case it does have some keys and needs to generate (multisig) change addresses, but shouldn't generate \"solo\" keys.\r\n\r\nIf I understand correctly, the scope of this PR is wallets where keys are managed externally, e.g. a hardware wallet. Would such a wallet have it's own UI that uses the RPC, or would the user interact directly with the RPC somehow? In the first case, it would seem that the hardware wallet developer should just be careful about which RPC commands to call. Or am I missing something? Not that I'm against making it safer.",
      "created_at" : "2018-02-08T17:41:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-364190676",
      "id" : 364190676,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM2NDE5MDY3Ng==",
      "updated_at" : "2018-02-08T17:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/364190676",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r171240983"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171240983"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-02-28T13:18:13Z",
      "diff_hunk" : "@@ -871,6 +877,12 @@ bool CWalletDB::WriteHDChain(const CHDChain& chain)\n     return batch.Write(std::string(\"hdchain\"), chain);\n }\n \n+bool CWalletDB::WriteWalletFlags(const uint64_t flags)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r171240983",
      "id" : 171240983,
      "in_reply_to_id" : 148814506,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MTI0MDk4Mw==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 17,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 100057650,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171240983",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and fixed.\r\nRenamed `-disablehot` to `-disableprivatekeys`\r\n\r\nSince we have no dynamic wallet creation (something like #10740), disabling private keys is only possible during wallet creation and with the `-disableprivatekeys` option.\r\n\r\nUse case:\r\n* Splitting the private keys from the wallet (hardware wallets, cold storage, use wallet as pure index), one wants to make sure, fundrawtransaction, etc. won't accidentally use an internal private key as change address or something similar",
      "created_at" : "2018-02-28T13:25:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-369238078",
      "id" : 369238078,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM2OTIzODA3OA==",
      "updated_at" : "2018-02-28T13:25:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369238078",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased (and fixed travis issue)",
      "created_at" : "2018-03-03T05:45:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-370121406",
      "id" : 370121406,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM3MDEyMTQwNg==",
      "updated_at" : "2018-03-03T05:45:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370121406",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.",
      "created_at" : "2018-03-18T09:30:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-373984128",
      "id" : 373984128,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM3Mzk4NDEyOA==",
      "updated_at" : "2018-03-18T09:30:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373984128",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Had to rebase after #10244 (non trivial).\r\nGlad if utACKers can review again.",
      "created_at" : "2018-04-11T07:29:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-380355345",
      "id" : 380355345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM4MDM1NTM0NQ==",
      "updated_at" : "2018-04-11T07:29:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380355345",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Late so can be safely ignored, but we say `importprivkey` so maybe `disableprivkeys` for consistency? Will review.",
      "created_at" : "2018-04-11T08:28:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-380371005",
      "id" : 380371005,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM4MDM3MTAwNQ==",
      "updated_at" : "2018-04-11T08:28:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380371005",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180673561"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180673561"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Typo: `uint64_t`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:30:09Z",
      "diff_hunk" : "@@ -1149,6 +1150,15 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n \n     /** Whether a given output is spendable by this wallet */\n     bool OutputEligibleForSpending(const COutput& output, const CoinEligibilityFilter& eligibility_filter) const;\n+\n+    /** set a single wallet flag */\n+    void AddWalletFlag(uint64_t flags);\n+\n+    /** check if a certain wallet flag is set */\n+    bool IsWalletFlagSet(uint64_t flag);\n+\n+    /** overwrite all flags by the given unit64_t */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180673561",
      "id" : 180673561,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3MzU2MQ==",
      "original_commit_id" : "c572c52f19269ef8cec7ec1084de786d1e786edc",
      "original_position" : 19,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180673561",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180673696"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180673696"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:30:39Z",
      "diff_hunk" : "@@ -212,6 +212,7 @@ class CWalletDB\n     //! write the hdchain model (external chain child index counter)\n     bool WriteHDChain(const CHDChain& chain);\n \n+    bool WriteWalletFlags(const uint64_t flags);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180673696",
      "id" : 180673696,
      "in_reply_to_id" : 148814578,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3MzY5Ng==",
      "original_commit_id" : "9e94cc41b3180949011d2299da14c13471b6aa2b",
      "original_position" : 4,
      "path" : "src/wallet/walletdb.h",
      "position" : 4,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180673696",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674148"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674148"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: Why not just `GetWalletFlag`?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:32:17Z",
      "diff_hunk" : "@@ -1483,6 +1483,25 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::AddWalletFlag(uint64_t flags)\n+{\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674148",
      "id" : 180674148,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NDE0OA==",
      "original_commit_id" : "c572c52f19269ef8cec7ec1084de786d1e786edc",
      "original_position" : 11,
      "path" : "src/wallet/wallet.cpp",
      "position" : 28,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674148",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674529"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674529"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I wonder if this should `throw` here instead of being a `can-fail` method.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:33:46Z",
      "diff_hunk" : "@@ -1495,11 +1497,17 @@ bool CWallet::IsWalletFlagSet(uint64_t flag)\n     return (m_wallet_flags & flag);\n }\n \n-void CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n {\n     m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {\n+        // contains unkown non-tolerable wallet flags\n+        return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674529",
      "id" : 180674529,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NDUyOQ==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 26,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674529",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674803"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674803"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: `} else {`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:34:52Z",
      "diff_hunk" : "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674803",
      "id" : 180674803,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NDgwMw==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 97,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674803",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674966"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674966"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: `} else if (...) {`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:35:29Z",
      "diff_hunk" : "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new master key\n+            CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n+            if (!walletInstance->SetHDMasterKey(masterPubKey)) {\n+                throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+            }\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n+    }\n+    else if (gArgs.IsArgSet(\"-disableprivatekeys\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674966",
      "id" : 180674966,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NDk2Ng==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 114,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674966",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675089"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675089"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think we prefer `nullptr` over `NULL` these days.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:35:57Z",
      "diff_hunk" : "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new master key\n+            CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n+            if (!walletInstance->SetHDMasterKey(masterPubKey)) {\n+                throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+            }\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n+    }\n+    else if (gArgs.IsArgSet(\"-disableprivatekeys\")) {\n+        bool disablePrivKeys = gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if ((!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) && disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable private keys if your wallet already contains private keys\"), walletFile));\n+            return NULL;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675089",
      "id" : 180675089,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTA4OQ==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 119,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675089",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675114"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675114"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think we prefer `nullptr` over `NULL` these days.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:36:02Z",
      "diff_hunk" : "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new master key\n+            CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n+            if (!walletInstance->SetHDMasterKey(masterPubKey)) {\n+                throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+            }\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n+    }\n+    else if (gArgs.IsArgSet(\"-disableprivatekeys\")) {\n+        bool disablePrivKeys = gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if ((!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) && disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable private keys if your wallet already contains private keys\"), walletFile));\n+            return NULL;\n+        }\n+        if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable private keys once you have initialized a wallet with disabled private keys (use -disableprivatekeys instead)\"), walletFile));\n+            return NULL;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675114",
      "id" : 180675114,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTExNA==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 123,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675114",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675128"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675128"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think we prefer `nullptr` over `NULL` these days.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:36:06Z",
      "diff_hunk" : "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new master key\n+            CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n+            if (!walletInstance->SetHDMasterKey(masterPubKey)) {\n+                throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+            }\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n+    }\n+    else if (gArgs.IsArgSet(\"-disableprivatekeys\")) {\n+        bool disablePrivKeys = gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if ((!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) && disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable private keys if your wallet already contains private keys\"), walletFile));\n+            return NULL;\n+        }\n+        if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable private keys once you have initialized a wallet with disabled private keys (use -disableprivatekeys instead)\"), walletFile));\n+            return NULL;\n+        }\n+    }\n+    else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        /* make sure we don't have private keys */\n+        if (walletInstance->GetKeyPoolSize()) {\n+            InitError(strprintf(_(\"Error loading %s: Private keys present in a wallet where private keys are disabled\"), walletFile));\n+            return NULL;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675128",
      "id" : 180675128,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTEyOA==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 131,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675128",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675199"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675199"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: `} else if ...`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:36:20Z",
      "diff_hunk" : "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new master key\n+            CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n+            if (!walletInstance->SetHDMasterKey(masterPubKey)) {\n+                throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+            }\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n+    }\n+    else if (gArgs.IsArgSet(\"-disableprivatekeys\")) {\n+        bool disablePrivKeys = gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if ((!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) && disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable private keys if your wallet already contains private keys\"), walletFile));\n+            return NULL;\n+        }\n+        if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable private keys once you have initialized a wallet with disabled private keys (use -disableprivatekeys instead)\"), walletFile));\n+            return NULL;\n+        }\n+    }\n+    else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675199",
      "id" : 180675199,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTE5OQ==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 126,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675199",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675477"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675477"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Typo: `uint64_t`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:37:24Z",
      "diff_hunk" : "@@ -1157,8 +1167,9 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     /** check if a certain wallet flag is set */\n     bool IsWalletFlagSet(uint64_t flag);\n \n-    /** overwrite all flags by the given unit64_t */\n-    void SetWalletFlags(uint64_t overwriteFlags, bool memOnly);\n+    /** overwrite all flags by the given unit64_t",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675477",
      "id" : 180675477,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTQ3Nw==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 30,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675477",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675655"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675655"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: `} else`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:38:08Z",
      "diff_hunk" : "@@ -568,10 +571,14 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n             {\n                 // losing keys is considered a catastrophic error, anything else\n                 // we assume the user can live with:\n-                if (IsKeyType(strType) || strType == \"defaultkey\")\n+                if (IsKeyType(strType) || strType == \"defaultkey\") {\n                     result = DBErrors::CORRUPT;\n-                else\n-                {\n+                }\n+                else if(strType == \"flags\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675655",
      "id" : 180675655,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTY1NQ==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 22,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675655",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675671"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675671"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: `} else`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:38:13Z",
      "diff_hunk" : "@@ -568,10 +571,14 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n             {\n                 // losing keys is considered a catastrophic error, anything else\n                 // we assume the user can live with:\n-                if (IsKeyType(strType) || strType == \"defaultkey\")\n+                if (IsKeyType(strType) || strType == \"defaultkey\") {\n                     result = DBErrors::CORRUPT;\n-                else\n-                {\n+                }\n+                else if(strType == \"flags\") {\n+                    // reading the wallet flags can only fail if unknown flags are present\n+                    result = DBErrors::TOO_NEW;\n+                }\n+                else {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675671",
      "id" : 180675671,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTY3MQ==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 26,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675671",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180676447"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180676447"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Unsure why you're explicitly giving the `\"*\", 1, True` and not just doing `getbalance()` here.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:41:00Z",
      "diff_hunk" : "@@ -0,0 +1,58 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test running bitcoind with -disableprivatekeys options.\n+\n+- Start a wallet with -disableprivatekeys and make sure we can't execute private key operations\n+- Test that disabeling the option later (or enabling after creation) fails.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisablePrivKeysTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-disableprivatekeys\"]]\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].getaddressinfo(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].getaddressinfo(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10)\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled (-disableprivatekeys)\", self.nodes[1].getnewaddress)\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled (-disableprivatekeys)\", self.nodes[1].getrawchangeaddress)\n+\n+        self.nodes[1].importpubkey(n0pubkR) #TODO switch to importmulti\n+        self.nodes[1].importpubkey(n0pubkC)\n+        assert_equal(self.nodes[1].getbalance(\"*\", 1, True), 10)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180676447",
      "id" : 180676447,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NjQ0Nw==",
      "original_commit_id" : "74d25a289ea040ed33e0aaed120e77f3be7e5311",
      "original_position" : 40,
      "path" : "test/functional/wallet_disableprivkeys.py",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180676447",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180676767"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180676767"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe add a test that ensures it can `signrawtransactionwithkeys` (disabling privkeys should still let you sign, if you provide the keys, I think?).",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-04-11T08:42:10Z",
      "diff_hunk" : "@@ -0,0 +1,58 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test running bitcoind with -disableprivatekeys options.\n+\n+- Start a wallet with -disableprivatekeys and make sure we can't execute private key operations\n+- Test that disabeling the option later (or enabling after creation) fails.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisablePrivKeysTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-disableprivatekeys\"]]\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].getaddressinfo(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].getaddressinfo(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10)\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled (-disableprivatekeys)\", self.nodes[1].getnewaddress)\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled (-disableprivatekeys)\", self.nodes[1].getrawchangeaddress)\n+\n+        self.nodes[1].importpubkey(n0pubkR) #TODO switch to importmulti\n+        self.nodes[1].importpubkey(n0pubkC)\n+        assert_equal(self.nodes[1].getbalance(\"*\", 1, True), 10)\n+        rawtx = self.nodes[1].createrawtransaction([], {n0addr: 1.0})\n+        frawtx= self.nodes[1].fundrawtransaction(rawtx, {\"changeAddress\": n0addrC, \"includeWatching\": True})\n+        assert_equal(self.nodes[1].signrawtransactionwithwallet(frawtx['hex'])['complete'], False)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180676767",
      "id" : 180676767,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3Njc2Nw==",
      "original_commit_id" : "74d25a289ea040ed33e0aaed120e77f3be7e5311",
      "original_position" : 43,
      "path" : "test/functional/wallet_disableprivkeys.py",
      "position" : null,
      "pull_request_review_id" : 111131816,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180676767",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK on the use of flags that are stored in the wallet (I think I overlooked that the first time I reviewed). This prevents accidentally disabling the feature. I also think it's a safe choice that you can't enable this feature on a wallet that already has private keys.\r\n\r\nThere are some problems in a multi wallet environment though.\r\n\r\nIt correctly remembers which wallets have disabled private keys, disabling the payment request button in QT where appropriate. So that's good.\r\n\r\nBut if you try to load an existing normal wallet and create a new `-disableprivatekeys` wallet at the same time, you'll get an error upon launch \"You can't disable private keys if your wallet already contains private keys\".\r\n\r\nOne solution would be to explain in documentation that in order to create such a wallet you can only have one `-wallet` argument. But I think a better approach is to create a new `-createwallet` `RPC` which takes `disableprivatekeys` as an argument. Such an RPC could also be useful for dynamic loading #10740 .",
      "created_at" : "2018-04-11T11:05:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-380413793",
      "id" : 380413793,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM4MDQxMzc5Mw==",
      "updated_at" : "2018-04-11T11:06:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380413793",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Overhauled this PR.\r\n* Removed the global `-disableprivatkeys` argument.\r\n* Added an `options` object to `createwallet` with currently a single boolean `disableprivatekeys`.",
      "created_at" : "2018-06-13T20:46:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-397080622",
      "id" : 397080622,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NzA4MDYyMg==",
      "updated_at" : "2018-06-13T20:46:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397080622",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Much better!\r\n\r\nSome stray files made it into the PR though (Bitcoin-Core.*).",
      "created_at" : "2018-06-14T12:18:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-397273626",
      "id" : 397273626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NzI3MzYyNg==",
      "updated_at" : "2018-06-14T12:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397273626",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @Sjors. Removed the accidentally added IDE files.",
      "created_at" : "2018-06-14T12:21:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-397274582",
      "id" : 397274582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NzI3NDU4Mg==",
      "updated_at" : "2018-06-14T12:21:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397274582",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195403067"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195403067"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I was under the impression that named arguments is preferable to `options` object.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T12:30:01Z",
      "diff_hunk" : "@@ -3102,12 +3114,16 @@ UniValue loadwallet(const JSONRPCRequest& request)\n \n UniValue createwallet(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n-            \"createwallet \\\"wallet_name\\\"\\n\"\n+            \"createwallet \\\"wallet_name\\\" (\\\"options\\\"\\n\"\n             \"\\nCreates and loads a new wallet.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"wallet_name\\\"    (string, required) The name for the new wallet. If this is a path, the wallet will be created at the path location.\\n\"\n+            \"2. options          (json, optional)\\n\"\n+            \"  {\\n\"\n+            \"     \\\"disableprivatekeys\\\": <state>,         (boolean, optional, default: false) Disable the possibility of private keys (only watchonlys are possible in this mode).\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195403067",
      "id" : 195403067,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQwMzA2Nw==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 47,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 128764729,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195403067",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195439403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195439403"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I agree. Named arguments are much preferable. Using named arguments provides type- and error- checking for free, and simplify/flatten the interface\r\n\r\nFor example, if I typo the an option `disableprivtaekeys` here, this implementation will silently ignore the option. That's not possible with named arguments.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T14:14:01Z",
      "diff_hunk" : "@@ -3102,12 +3114,16 @@ UniValue loadwallet(const JSONRPCRequest& request)\n \n UniValue createwallet(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n-            \"createwallet \\\"wallet_name\\\"\\n\"\n+            \"createwallet \\\"wallet_name\\\" (\\\"options\\\"\\n\"\n             \"\\nCreates and loads a new wallet.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"wallet_name\\\"    (string, required) The name for the new wallet. If this is a path, the wallet will be created at the path location.\\n\"\n+            \"2. options          (json, optional)\\n\"\n+            \"  {\\n\"\n+            \"     \\\"disableprivatekeys\\\": <state>,         (boolean, optional, default: false) Disable the possibility of private keys (only watchonlys are possible in this mode).\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195439403",
      "id" : 195439403,
      "in_reply_to_id" : 195403067,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQzOTQwMw==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 47,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 128809060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195439403",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195443199"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195443199"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`if ((overwriteFlags & ^g_known_wallet_flags) >> 32) {` seems slightly more readable to me.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T14:23:49Z",
      "diff_hunk" : "@@ -1513,6 +1515,31 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::AddWalletFlag(uint64_t flags)\n+{\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)\n+{\n+    return (m_wallet_flags & flag);\n+}\n+\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+{\n+    m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195443199",
      "id" : 195443199,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0MzE5OQ==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 35,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 128809060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195443199",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195445038"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195445038"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This seems a little dangerous. If we get into this condition for any reason, it'll be impossible for the user to load the wallet and retrieve their private keys.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T14:27:45Z",
      "diff_hunk" : "@@ -4164,18 +4205,34 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new seed\n+            CPubKey seed = walletInstance->GenerateNewSeed();\n+            if (!walletInstance->SetHDSeed(seed))\n+                throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->ChainStateFlushed(chainActive.GetLocator());\n+    } else if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        // Make it impossible to disable private keys after creation\n+        InitError(strprintf(_(\"Error loading %s: Private keys can only be disabled during creation\"), walletFile));\n+        return NULL;\n+    } else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        if (!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) {\n+            InitError(strprintf(_(\"Error loading %s: Private keys detected in wallet with disabled private keys\"), walletFile));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195445038",
      "id" : 195445038,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NTAzOA==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 142,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 128809060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195445038",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195445562"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195445562"
         }
      },
      "author_association" : "MEMBER",
      "body" : "How does this interact with multiwallet? Loading/unloading wallets at run time?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T14:29:06Z",
      "diff_hunk" : "@@ -99,6 +99,9 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n         } else {\n             ui->useBech32->setCheckState(Qt::Unchecked);\n         }\n+\n+        // eventually disable the main receive button if private key operations are disabled",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195445562",
      "id" : 195445562,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NTU2Mg==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 5,
      "path" : "src/qt/receivecoinsdialog.cpp",
      "position" : 5,
      "pull_request_review_id" : 128809060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195445562",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195446539"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195446539"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: I'm not sure what the `R` is for here. In general, prefer to use `lower_case_with_underscores` for [variable names in Python](https://www.python.org/dev/peps/pep-0008/#id45).",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T14:31:39Z",
      "diff_hunk" : "@@ -151,7 +151,9 @@ def run_test(self):\n         assert_equal(w3.getbalance(), 0)\n         assert_equal(w4.getbalance(), 0)\n \n-        w1.sendtoaddress(w2.getnewaddress(), 1)\n+        w2addrR = w2.getnewaddress()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195446539",
      "id" : 195446539,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NjUzOQ==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 5,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : null,
      "pull_request_review_id" : 128809060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195446539",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195446746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195446746"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's not obvious to me why this test is in `wallet_multiwallet.py`. What does it have to do with multiwallet?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T14:32:11Z",
      "diff_hunk" : "@@ -231,8 +233,14 @@ def run_test(self):\n         assert_equal(loadwallet_name['name'], new_wallet_name)\n         w10 = node.get_wallet_rpc(new_wallet_name)\n         assert_equal(w10.getwalletinfo()['walletname'], new_wallet_name)\n-\n         assert new_wallet_name in self.nodes[0].listwallets()\n \n+        self.log.info(\"Test disableprivatekeys creation.\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195446746",
      "id" : 195446746,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0Njc0Ng==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 18,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : null,
      "pull_request_review_id" : 128809060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195446746",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195496583"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195496583"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Commit \"Add facility to store wallet flags (64 bits)\"\r\n\r\nMissing `LOCK(cs_wallet);`?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T16:52:48Z",
      "diff_hunk" : "@@ -1513,6 +1513,25 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::AddWalletFlag(uint64_t flags)\n+{\n+    m_wallet_flags |= flags;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195496583",
      "id" : 195496583,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ5NjU4Mw==",
      "original_commit_id" : "ec2fb56a3942a27172b2804cfa08225479ffa4ee",
      "original_position" : 6,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 128878380,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195496583",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195498922"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195498922"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Commit \"Add per option to disable private keys during internal wallet creation\"\r\n\r\nnit `} else {`.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T17:00:47Z",
      "diff_hunk" : "@@ -4183,18 +4205,34 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195498922",
      "id" : 195498922,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ5ODkyMg==",
      "original_commit_id" : "bf85f0b60d21062f165a35cfe27074beddd8a23e",
      "original_position" : 106,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 128878380,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195498922",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195528793"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195528793"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sounds like that should be a warning, not an error.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T18:35:05Z",
      "diff_hunk" : "@@ -4164,18 +4205,34 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new seed\n+            CPubKey seed = walletInstance->GenerateNewSeed();\n+            if (!walletInstance->SetHDSeed(seed))\n+                throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->ChainStateFlushed(chainActive.GetLocator());\n+    } else if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        // Make it impossible to disable private keys after creation\n+        InitError(strprintf(_(\"Error loading %s: Private keys can only be disabled during creation\"), walletFile));\n+        return NULL;\n+    } else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        if (!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) {\n+            InitError(strprintf(_(\"Error loading %s: Private keys detected in wallet with disabled private keys\"), walletFile));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195528793",
      "id" : 195528793,
      "in_reply_to_id" : 195445038,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTUyODc5Mw==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 142,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 128917365,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195528793",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195529932"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195529932"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I still think multiwallet should use one window per wallet rather than a dropdown inside a single window. Pending that, receive screen should at least be visible if any of the wallets aren't read-only. The receive button itself would have to be updated when the user switches between wallets.\r\n\r\nAnother question is: provided there's enough warnings (including about scams), why shouldn't a user be able to receive money on a watch-only address (assuming there's an unused one)?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T18:38:43Z",
      "diff_hunk" : "@@ -99,6 +99,9 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n         } else {\n             ui->useBech32->setCheckState(Qt::Unchecked);\n         }\n+\n+        // eventually disable the main receive button if private key operations are disabled",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195529932",
      "id" : 195529932,
      "in_reply_to_id" : 195445562,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTUyOTkzMg==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 5,
      "path" : "src/qt/receivecoinsdialog.cpp",
      "position" : 5,
      "pull_request_review_id" : 128918717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195529932",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195553112"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195553112"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I guess I placed it there because this was the only test that used `createwallet`. But right, I shall move it to a new test.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-14T20:01:39Z",
      "diff_hunk" : "@@ -231,8 +233,14 @@ def run_test(self):\n         assert_equal(loadwallet_name['name'], new_wallet_name)\n         w10 = node.get_wallet_rpc(new_wallet_name)\n         assert_equal(w10.getwalletinfo()['walletname'], new_wallet_name)\n-\n         assert new_wallet_name in self.nodes[0].listwallets()\n \n+        self.log.info(\"Test disableprivatekeys creation.\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195553112",
      "id" : 195553112,
      "in_reply_to_id" : 195446746,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTU1MzExMg==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 18,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : null,
      "pull_request_review_id" : 128947114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195553112",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196062770"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196062770"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@Sjors comment is orthogonal.\r\n\r\n@jnewbery: this seems to work perfectly fine with mtulitwallet. Not sure about unloading... but I guess unloading does also call `setModel()`... or can you be more specific why this should be a problem?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-18T12:44:22Z",
      "diff_hunk" : "@@ -99,6 +99,9 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n         } else {\n             ui->useBech32->setCheckState(Qt::Unchecked);\n         }\n+\n+        // eventually disable the main receive button if private key operations are disabled",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196062770",
      "id" : 196062770,
      "in_reply_to_id" : 195445562,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjA2Mjc3MA==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 5,
      "path" : "src/qt/receivecoinsdialog.cpp",
      "position" : 5,
      "pull_request_review_id" : 129544178,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196062770",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed @jnewbery s points.\r\n* Added `privatekeys_enabled` to `getwalletinfo`\r\n* Added unit test and own rpc test",
      "created_at" : "2018-06-18T12:45:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-398041800",
      "id" : 398041800,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5ODA0MTgwMA==",
      "updated_at" : "2018-06-18T12:45:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398041800",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916120"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916120"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Any reason for not naming these `SetWalletFlag`/`GetWalletFlag`/`SetWalletFlags`?",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-20T19:34:38Z",
      "diff_hunk" : "@@ -1198,6 +1209,16 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n \n     /** Whether a given output is spendable by this wallet */\n     bool OutputEligibleForSpending(const COutput& output, const CoinEligibilityFilter& eligibility_filter) const;\n+\n+    /** set a single wallet flag */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916120",
      "id" : 196916120,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkxNjEyMA==",
      "original_commit_id" : "4c2b3fc3bf17cf15dc8857bc68b91d36141c6df8",
      "original_position" : 39,
      "path" : "src/wallet/wallet.h",
      "position" : 39,
      "pull_request_review_id" : 130556896,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916120",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916238"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916238"
         }
      },
      "author_association" : "MEMBER",
      "body" : "not addressed",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-20T19:35:06Z",
      "diff_hunk" : "@@ -568,10 +571,14 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n             {\n                 // losing keys is considered a catastrophic error, anything else\n                 // we assume the user can live with:\n-                if (IsKeyType(strType) || strType == \"defaultkey\")\n+                if (IsKeyType(strType) || strType == \"defaultkey\") {\n                     result = DBErrors::CORRUPT;\n-                else\n-                {\n+                }\n+                else if(strType == \"flags\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916238",
      "id" : 196916238,
      "in_reply_to_id" : 180675655,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkxNjIzOA==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 22,
      "path" : "src/wallet/walletdb.cpp",
      "position" : null,
      "pull_request_review_id" : 130556896,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916238",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916606"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916606"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: s/unkown/unknown",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-20T19:36:28Z",
      "diff_hunk" : "@@ -1513,6 +1515,33 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::AddWalletFlag(uint64_t flags)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)\n+{\n+    return (m_wallet_flags & flag);\n+}\n+\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {\n+        // contains unkown non-tolerable wallet flags",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916606",
      "id" : 196916606,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkxNjYwNg==",
      "original_commit_id" : "4c2b3fc3bf17cf15dc8857bc68b91d36141c6df8",
      "original_position" : 38,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 130556896,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916606",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196919737"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196919737"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: rpc argument names should be in lower_case_with_underscores (https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#rpc-interface-guidelines). I think this should be disable_private_keys.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-20T19:48:12Z",
      "diff_hunk" : "@@ -3102,12 +3116,13 @@ UniValue loadwallet(const JSONRPCRequest& request)\n \n UniValue createwallet(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n-            \"createwallet \\\"wallet_name\\\"\\n\"\n+            \"createwallet \\\"wallet_name\\\" ( disableprivatekeys )\\n\"\n             \"\\nCreates and loads a new wallet.\\n\"\n             \"\\nArguments:\\n\"\n-            \"1. \\\"wallet_name\\\"    (string, required) The name for the new wallet. If this is a path, the wallet will be created at the path location.\\n\"\n+            \"1. \\\"wallet_name\\\"        (string, required) The name for the new wallet. If this is a path, the wallet will be created at the path location.\\n\"\n+            \"2. disableprivatekeys   (boolean, optional, default: false) Disable the possibility of private keys (only watchonlys are possible in this mode).\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196919737",
      "id" : 196919737,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkxOTczNw==",
      "original_commit_id" : "4c2b3fc3bf17cf15dc8857bc68b91d36141c6df8",
      "original_position" : 88,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : null,
      "pull_request_review_id" : 130556896,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196919737",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196924775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196924775"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, you're right that this works fine with multiwallet.\r\n\r\nIt would be nice if there was help text saying that the 'receive' button is disabled because the wallet has private keys disabled (and so can't generate new receiving addresses). However, that could be added in a separate PR.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-20T20:05:45Z",
      "diff_hunk" : "@@ -99,6 +99,9 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n         } else {\n             ui->useBech32->setCheckState(Qt::Unchecked);\n         }\n+\n+        // eventually disable the main receive button if private key operations are disabled",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196924775",
      "id" : 196924775,
      "in_reply_to_id" : 195445562,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkyNDc3NQ==",
      "original_commit_id" : "8cb2e81eaab0f749403d0522bb1284eed0c12842",
      "original_position" : 5,
      "path" : "src/qt/receivecoinsdialog.cpp",
      "position" : 5,
      "pull_request_review_id" : 130556896,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196924775",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197142640"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197142640"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-21T13:57:36Z",
      "diff_hunk" : "@@ -1513,6 +1513,25 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::AddWalletFlag(uint64_t flags)\n+{\n+    m_wallet_flags |= flags;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197142640",
      "id" : 197142640,
      "in_reply_to_id" : 195496583,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzE0MjY0MA==",
      "original_commit_id" : "ec2fb56a3942a27172b2804cfa08225479ffa4ee",
      "original_position" : 6,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 130827645,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197142640",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197144520"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197144520"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think a specific error handling makes more sense (see error handling in walletdb)",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-21T14:02:46Z",
      "diff_hunk" : "@@ -1495,11 +1497,17 @@ bool CWallet::IsWalletFlagSet(uint64_t flag)\n     return (m_wallet_flags & flag);\n }\n \n-void CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n {\n     m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {\n+        // contains unkown non-tolerable wallet flags\n+        return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197144520",
      "id" : 197144520,
      "in_reply_to_id" : 180674529,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzE0NDUyMA==",
      "original_commit_id" : "56c0798d32cad350c08ba56d35b116051288c594",
      "original_position" : 26,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 130830085,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197144520",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197147479"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197147479"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Agree... changed from AddWalletFlag to SetWalletFlag",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-21T14:10:45Z",
      "diff_hunk" : "@@ -1198,6 +1209,16 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n \n     /** Whether a given output is spendable by this wallet */\n     bool OutputEligibleForSpending(const COutput& output, const CoinEligibilityFilter& eligibility_filter) const;\n+\n+    /** set a single wallet flag */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197147479",
      "id" : 197147479,
      "in_reply_to_id" : 196916120,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzE0NzQ3OQ==",
      "original_commit_id" : "4c2b3fc3bf17cf15dc8857bc68b91d36141c6df8",
      "original_position" : 39,
      "path" : "src/wallet/wallet.h",
      "position" : 39,
      "pull_request_review_id" : 130833821,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-21T14:10:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197147479",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed remaining points reported by @jnewbery and @kallewoof ",
      "created_at" : "2018-06-21T14:11:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-399117527",
      "id" : 399117527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5OTExNzUyNw==",
      "updated_at" : "2018-06-21T14:11:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399117527",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197459599"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459599"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: `} else {`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-22T14:17:48Z",
      "diff_hunk" : "@@ -570,10 +578,13 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n             {\n                 // losing keys is considered a catastrophic error, anything else\n                 // we assume the user can live with:\n-                if (IsKeyType(strType) || strType == \"defaultkey\")\n+                if (IsKeyType(strType) || strType == \"defaultkey\") {\n                     result = DBErrors::CORRUPT;\n-                else\n-                {\n+                } else if(strType == \"flags\") {\n+                    // reading the wallet flags can only fail if unknown flags are present\n+                    result = DBErrors::TOO_NEW;\n+                }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197459599",
      "id" : 197459599,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1OTU5OQ==",
      "original_commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "original_position" : 29,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 29,
      "pull_request_review_id" : 131211773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-22T14:38:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459599",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197459791"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459791"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: `} else if (...) {`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-22T14:18:26Z",
      "diff_hunk" : "@@ -510,7 +510,15 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 strErr = \"Error reading wallet database: SetHDChain failed\";\n                 return false;\n             }\n-        } else if (strType != \"bestblock\" && strType != \"bestblock_nomerkle\"){\n+        } else if (strType == \"flags\") {\n+            uint64_t flags;\n+            ssValue >> flags;\n+            if (!pwallet->SetWalletFlags(flags, true)) {\n+                strErr = \"Error reading wallet database: Unknown non-tolerable wallet flags found\";\n+                return false;\n+            }\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197459791",
      "id" : 197459791,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1OTc5MQ==",
      "original_commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "original_position" : 12,
      "path" : "src/wallet/walletdb.cpp",
      "position" : 12,
      "pull_request_review_id" : 131211773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-22T14:38:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459791",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197461596"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197461596"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This introduces a new build warning for me:\r\n\r\n```\r\nwallet/rpcwallet.cpp: In function UniValue createwallet(const JSONRPCRequest&):\r\nwallet/rpcwallet.cpp:3155:152: warning: enumeral and non-enumeral type in conditional expression [-Wextra]\r\n     std::shared_ptr<CWallet> const wallet = CWallet::CreateWalletFromFile(wallet_name, fs::absolute(wallet_name, GetWalletDir()), (disable_privatekeys ? WALLET_FLAG_DISABLE_PRIVATE_KEYS : 0));\r\n                                                                                                                                                        ^\r\n```",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-22T14:23:54Z",
      "diff_hunk" : "@@ -3132,7 +3152,7 @@ UniValue createwallet(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet file verification failed: \" + error);\n     }\n \n-    std::shared_ptr<CWallet> const wallet = CWallet::CreateWalletFromFile(wallet_name, fs::absolute(wallet_name, GetWalletDir()));\n+    std::shared_ptr<CWallet> const wallet = CWallet::CreateWalletFromFile(wallet_name, fs::absolute(wallet_name, GetWalletDir()), (disable_privatekeys ? WALLET_FLAG_DISABLE_PRIVATE_KEYS : 0));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197461596",
      "id" : 197461596,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2MTU5Ng==",
      "original_commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "original_position" : 109,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 109,
      "pull_request_review_id" : 131211773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-22T14:38:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197461596",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197461728"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197461728"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: use constexpr",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-22T14:24:17Z",
      "diff_hunk" : "@@ -113,6 +113,16 @@ constexpr OutputType DEFAULT_ADDRESS_TYPE{OutputType::P2SH_SEGWIT};\n //! Default for -changetype\n constexpr OutputType DEFAULT_CHANGE_TYPE{OutputType::CHANGE_AUTO};\n \n+enum WalletFlags : uint64_t {\n+    // wallet flags in the upper section (> 1 << 31) will lead to not opening the wallet if flag is unknown\n+    // unkown wallet flags in the lower section <= (1 << 31) will be tolerated\n+\n+    // will enforce the rule that the wallet can't contain any private keys (only watch-only/pubkeys)\n+    WALLET_FLAG_DISABLE_PRIVATE_KEYS = (1ULL << 32),\n+};\n+\n+static const uint64_t g_known_wallet_flags = WALLET_FLAG_DISABLE_PRIVATE_KEYS;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197461728",
      "id" : 197461728,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2MTcyOA==",
      "original_commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "original_position" : 12,
      "path" : "src/wallet/wallet.h",
      "position" : 12,
      "pull_request_review_id" : 131211773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-22T14:38:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197461728",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197462633"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197462633"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: if block should have braces.",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-22T14:27:02Z",
      "diff_hunk" : "@@ -1513,6 +1515,33 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flags)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)\n+{\n+    return (m_wallet_flags & flag);\n+}\n+\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {\n+        // contains unknown non-tolerable wallet flags\n+        return false;\n+    }\n+    if (!memonly && !WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197462633",
      "id" : 197462633,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2MjYzMw==",
      "original_commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "original_position" : 42,
      "path" : "src/wallet/wallet.cpp",
      "position" : 42,
      "pull_request_review_id" : 131211773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-22T14:38:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197462633",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197463342"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197463342"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: if block should use braces",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-22T14:29:10Z",
      "diff_hunk" : "@@ -4164,18 +4207,32 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->SetWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        } else {\n+            // generate a new seed\n+            CPubKey seed = walletInstance->GenerateNewSeed();\n+            if (!walletInstance->SetHDSeed(seed))\n+                throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197463342",
      "id" : 197463342,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2MzM0Mg==",
      "original_commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "original_position" : 125,
      "path" : "src/wallet/wallet.cpp",
      "position" : 125,
      "pull_request_review_id" : 131211773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-22T14:38:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197463342",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197464249"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197464249"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: no need for double parens",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-22T14:31:55Z",
      "diff_hunk" : "@@ -4164,18 +4207,32 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->SetWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        } else {\n+            // generate a new seed\n+            CPubKey seed = walletInstance->GenerateNewSeed();\n+            if (!walletInstance->SetHDSeed(seed))\n+                throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->ChainStateFlushed(chainActive.GetLocator());\n+    } else if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197464249",
      "id" : 197464249,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2NDI0OQ==",
      "original_commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "original_position" : 136,
      "path" : "src/wallet/wallet.cpp",
      "position" : 136,
      "pull_request_review_id" : 131211773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-22T14:38:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197464249",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197464883"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197464883"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: change log to:\r\n\r\n`\"Warning: Private keys detected in wallet {%s} with disabled private keys\"), walletFile));`\r\n\r\n(since this is now a warning instead of an error)",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-22T14:33:42Z",
      "diff_hunk" : "@@ -4164,18 +4207,32 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->SetWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        } else {\n+            // generate a new seed\n+            CPubKey seed = walletInstance->GenerateNewSeed();\n+            if (!walletInstance->SetHDSeed(seed))\n+                throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->ChainStateFlushed(chainActive.GetLocator());\n+    } else if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        // Make it impossible to disable private keys after creation\n+        InitError(strprintf(_(\"Error loading %s: Private keys can only be disabled during creation\"), walletFile));\n+        return NULL;\n+    } else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        if (!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) {\n+            InitWarning(strprintf(_(\"Error loading %s: Private keys detected in wallet with disabled private keys\"), walletFile));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197464883",
      "id" : 197464883,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2NDg4Mw==",
      "original_commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "original_position" : 143,
      "path" : "src/wallet/wallet.cpp",
      "position" : 143,
      "pull_request_review_id" : 131211773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-22T14:38:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197464883",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197466439"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197466439"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: `private_keys_enabled`",
      "commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "created_at" : "2018-06-22T14:38:22Z",
      "diff_hunk" : "@@ -2970,19 +2982,20 @@ static UniValue getwalletinfo(const JSONRPCRequest& request)\n             \"Returns an object containing various wallet state info.\\n\"\n             \"\\nResult:\\n\"\n             \"{\\n\"\n-            \"  \\\"walletname\\\": xxxxx,             (string) the wallet name\\n\"\n-            \"  \\\"walletversion\\\": xxxxx,          (numeric) the wallet version\\n\"\n-            \"  \\\"balance\\\": xxxxxxx,              (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"unconfirmed_balance\\\": xxx,      (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"immature_balance\\\": xxxxxx,      (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"txcount\\\": xxxxxxx,              (numeric) the total number of transactions in the wallet\\n\"\n-            \"  \\\"keypoololdest\\\": xxxxxx,         (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n-            \"  \\\"keypoolsize\\\": xxxx,             (numeric) how many new keys are pre-generated (only counts external keys)\\n\"\n-            \"  \\\"keypoolsize_hd_internal\\\": xxxx, (numeric) how many new keys are pre-generated for internal use (used for change outputs, only appears if the wallet is using this feature, otherwise external keys are used)\\n\"\n-            \"  \\\"unlocked_until\\\": ttt,           (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n-            \"  \\\"paytxfee\\\": x.xxxx,              (numeric) the transaction fee configuration, set in \" + CURRENCY_UNIT + \"/kB\\n\"\n-            \"  \\\"hdseedid\\\": \\\"<hash160>\\\"          (string, optional) the Hash160 of the HD seed (only present when HD is enabled)\\n\"\n-            \"  \\\"hdmasterkeyid\\\": \\\"<hash160>\\\"     (string, optional) alias for hdseedid retained for backwards-compatibility. Will be removed in V0.18.\\n\"\n+            \"  \\\"walletname\\\": xxxxx,               (string) the wallet name\\n\"\n+            \"  \\\"walletversion\\\": xxxxx,            (numeric) the wallet version\\n\"\n+            \"  \\\"balance\\\": xxxxxxx,                (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"unconfirmed_balance\\\": xxx,        (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"immature_balance\\\": xxxxxx,        (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"txcount\\\": xxxxxxx,                (numeric) the total number of transactions in the wallet\\n\"\n+            \"  \\\"keypoololdest\\\": xxxxxx,           (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n+            \"  \\\"keypoolsize\\\": xxxx,               (numeric) how many new keys are pre-generated (only counts external keys)\\n\"\n+            \"  \\\"keypoolsize_hd_internal\\\": xxxx,   (numeric) how many new keys are pre-generated for internal use (used for change outputs, only appears if the wallet is using this feature, otherwise external keys are used)\\n\"\n+            \"  \\\"unlocked_until\\\": ttt,             (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n+            \"  \\\"paytxfee\\\": x.xxxx,                (numeric) the transaction fee configuration, set in \" + CURRENCY_UNIT + \"/kB\\n\"\n+            \"  \\\"hdseedid\\\": \\\"<hash160>\\\"            (string, optional) the Hash160 of the HD seed (only present when HD is enabled)\\n\"\n+            \"  \\\"hdmasterkeyid\\\": \\\"<hash160>\\\"       (string, optional) alias for hdseedid retained for backwards-compatibility. Will be removed in V0.18.\\n\"\n+            \"  \\\"privatekeys_enabled\\\": true|false  (boolean) false if privatekeys are disabled for this wallet (enforced watch-only wallet)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197466439",
      "id" : 197466439,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2NjQzOQ==",
      "original_commit_id" : "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
      "original_position" : 63,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 63,
      "pull_request_review_id" : 131211773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
      "updated_at" : "2018-06-22T14:38:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197466439",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed @jnewbery's nits.",
      "created_at" : "2018-06-28T19:15:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-401143462",
      "id" : 401143462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTE0MzQ2Mg==",
      "updated_at" : "2018-06-28T19:17:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401143462",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 5caf38f42f34b2aec7440dec752c10856e5d85a7",
      "created_at" : "2018-07-03T10:28:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-402098330",
      "id" : 402098330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMjA5ODMzMA==",
      "updated_at" : "2018-07-03T10:28:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402098330",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
