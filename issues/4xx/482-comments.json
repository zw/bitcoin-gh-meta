[
   {
      "body" : "Can somebody double-check to see if I'm reading the code correctly?\r\n\r\nLooks like both BitcoinMiner and getwork() call IncrementExtraNonce() to create unique coinbase transactions, so I don't think this is an issue.\r\n",
      "created_at" : "2011-09-01T16:27:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/482#issuecomment-1969860",
      "id" : 1969860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/482",
      "updated_at" : "2011-09-01T16:27:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1969860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "They both call IncrementExtraNonce... which resets the extra nonce every second after overflowing. This guarantees unique block candidates, but not unique coinbase transactions. When an infinite supply of pubkeys are available, this isn't a problem, because after creating a block, the previous default pubkey will be in use, and a new one will be used.\r\n\r\nMy suggestion: add the current timestamp to the coinbase when no fresh pubkeys are available.",
      "created_at" : "2011-09-06T10:01:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/482#issuecomment-2013255",
      "id" : 2013255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/482",
      "updated_at" : "2011-09-06T10:01:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2013255",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Also, the extra nonce used in IncrementExtraNonce isn't stored across restarts. This isn't normally an issue due to the timestamps in block headers - it's very unlikely a bitcoin restart will take less than a second - but it means that not resetting the extranonce isn't a solution.",
      "created_at" : "2011-09-06T19:55:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/482#issuecomment-2021617",
      "id" : 2021617,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/482",
      "updated_at" : "2011-09-06T19:55:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2021617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/252004?v=3",
         "events_url" : "https://api.github.com/users/makomk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/makomk/followers",
         "following_url" : "https://api.github.com/users/makomk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/makomk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/makomk",
         "id" : 252004,
         "login" : "makomk",
         "organizations_url" : "https://api.github.com/users/makomk/orgs",
         "received_events_url" : "https://api.github.com/users/makomk/received_events",
         "repos_url" : "https://api.github.com/users/makomk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/makomk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/makomk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/makomk"
      }
   }
]
