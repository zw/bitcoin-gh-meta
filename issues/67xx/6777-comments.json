[
   {
      "body" : "Tested, `\"gettxoutsetinfo\"` now works as expected.\r\n\r\nBased on a quick scan for `value()` it looks like the only other place where raw iterator data is used, is related to the block index DB: [src/txdb.cpp#L205](https://github.com/bitcoin/bitcoin/blob/42cb388167ef78f47a3a440eb651b6938c10f508/src/txdb.cpp#L205) (which isn't obfuscated)",
      "created_at" : "2015-10-08T00:28:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146379252",
      "id" : 146379252,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T00:28:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146379252",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "body" : "@dexX7 thanks for testing. I'm going to go ahead and apply the same treatment to the block index DB as well so that we won't have an issue if we decide to obfuscate it in the future.",
      "created_at" : "2015-10-08T00:31:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146379556",
      "id" : 146379556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T00:31:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146379556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=3",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "body" : "jamesob: I think the obfuscation/deobfuscation should be done in\nLeveldbwrapper, not in the individual clients.\n",
      "created_at" : "2015-10-08T00:34:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146379883",
      "id" : 146379883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T00:34:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146379883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Okay @sipa, I'm thinking I'll just subclass leveldb's Iterator for the purposes of `CLevelDBWrapper`, then return that type from `NewIterator`.",
      "created_at" : "2015-10-08T00:45:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146383381",
      "id" : 146383381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T00:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146383381",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=3",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "body" : "jamesob: see the code in #2802 for that :)\n",
      "created_at" : "2015-10-08T00:54:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146385088",
      "id" : 146385088,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T00:54:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146385088",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa ha! and like magic... wish writing code was always this easy ;). Will cherry-pick and layer on modifications if possible.",
      "created_at" : "2015-10-08T01:02:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146385962",
      "id" : 146385962,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T01:02:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146385962",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=3",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "body" : "Good catch @domob1812 , thanks for fix @jamesob @sipa \r\n\r\nI'm getting an issue starting bitcoind on my node w/ obfuscation, though:\r\n```assertion \"hashPrevBlock == view.GetBestBlock()\" failed: file \"main.cpp\", line 1694, function \"ConnectBlock\"\r\nAbort trap (core dumped) ```\r\n\r\nNot sure whether it's related to this, will investigate further. From debug.log:\r\n```\r\n2015-10-08 14:05:08 Using obfuscation key for /home/orion/.bitcoin/chainstate: 0000000000000000\r\n...\r\n2015-10-08 14:05:19 LoadBlockIndexDB: transaction index disabled\r\n2015-10-08 14:05:20 Initializing databases...\r\n```\r\nLooks like my obfuscation key was lost, and it's now trying to interpret the data in raw.\r\ndebug.log unfortunately doesn't go back far enough to check what the key was before.\r\n",
      "created_at" : "2015-10-08T14:15:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146558687",
      "id" : 146558687,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T14:15:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146558687",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Found the issue. Indeed has nothing to do with this pull. On my node I was using a previous version of your patch, using a different `OBFUSCATE_KEY_KEY`. So no, the key was not lost, just misplaced. This shouldn't affect anyone starting with master.\r\n```patch\r\n // Prefixed with null character to avoid collisions with other keys\r\n-const std::string CLevelDBWrapper::OBFUSCATE_KEY_KEY = \"\\000obfuscate_key\";\r\n+//\r\n+// We must use a string constructor which specifies length so that we copy\r\n+// past the null-terminator.\r\n+const std::string CLevelDBWrapper::OBFUSCATE_KEY_KEY(\"\\000obfuscate_key\", 14);\r\n```",
      "created_at" : "2015-10-08T14:42:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146566931",
      "id" : 146566931,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T14:42:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146566931",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Tested ACK. `gettxoutsetinfo` works again after this.",
      "created_at" : "2015-10-08T14:48:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146568849",
      "id" : 146568849,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T14:48:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146568849",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj good to hear. Thanks for testing.",
      "created_at" : "2015-10-08T15:34:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146580941",
      "id" : 146580941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T15:34:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146580941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=3",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "body" : "I've added some test coverage on the `CLevelDB` utilities. Provided travis is happy, I'm done adding changes.",
      "created_at" : "2015-10-08T16:16:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146598136",
      "id" : 146598136,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-08T16:16:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146598136",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=3",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6777#discussion_r41619739"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6777"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41619739"
         }
      },
      "body" : "Is this always deterministic?",
      "commit_id" : "139df09438977fcb87bdf2256b516659c54eed09",
      "created_at" : "2015-10-09T11:12:52Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test RPC calls related to blockchain state.\n+#\n+\n+import decimal\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    initialize_chain,\n+    assert_equal,\n+    start_nodes,\n+    connect_nodes_bi,\n+)\n+\n+class BlockchainTest(BitcoinTestFramework):\n+    \"\"\"\n+    Test blockchain-related RPC calls:\n+\n+        - gettxoutsetinfo\n+\n+    \"\"\"\n+\n+    def setup_chain(self):\n+        print(\"Initializing test directory \" + self.options.tmpdir)\n+        initialize_chain(self.options.tmpdir)\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(2, self.options.tmpdir)\n+        connect_nodes_bi(self.nodes, 0, 1)\n+        self.is_network_split = False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        res = node.gettxoutsetinfo()\n+\n+        assert_equal(res, {\n+            u'total_amount': decimal.Decimal('8725.00000000'),\n+            u'transactions': 200,\n+            u'height': 200,\n+            u'bestblock': u'6189e9cc58bedca8cb8e917cefe831839d296c2d12ae2e460066aa38d4a06f3e',",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#discussion_r41619739",
      "id" : 41619739,
      "original_commit_id" : "139df09438977fcb87bdf2256b516659c54eed09",
      "original_position" : 46,
      "path" : "qa/rpc-tests/blockchain.py",
      "position" : 46,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6777",
      "updated_at" : "2015-10-09T11:12:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41619739",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/6777#discussion_r41620664"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6777"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41620664"
         }
      },
      "body" : "Just to clarify: unfortunally it's not (due to the potentially different time to create the blocks + random address generation).\r\n\r\nEven if it were, I'm not sure, if such a strong coupling is desired. You might setup the chain or a few blocks manually and use [util.set_node_times](https://github.com/bitcoin/bitcoin/blob/master/qa/rpc-tests/test_framework/util.py#L221) + pre-generated key-pairs, but this seems pretty laborious.\r\n\r\nA middle ground could be to check, whether the JSON keys are available (as in your previous version), and then do some sanity checks, such as `res['height'] >= 0`, `len(res['bestblock']) == 64`, [...].",
      "commit_id" : "139df09438977fcb87bdf2256b516659c54eed09",
      "created_at" : "2015-10-09T11:26:47Z",
      "diff_hunk" : "@@ -0,0 +1,54 @@\n+#!/usr/bin/env python2\n+# Copyright (c) 2014 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#\n+# Test RPC calls related to blockchain state.\n+#\n+\n+import decimal\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    initialize_chain,\n+    assert_equal,\n+    start_nodes,\n+    connect_nodes_bi,\n+)\n+\n+class BlockchainTest(BitcoinTestFramework):\n+    \"\"\"\n+    Test blockchain-related RPC calls:\n+\n+        - gettxoutsetinfo\n+\n+    \"\"\"\n+\n+    def setup_chain(self):\n+        print(\"Initializing test directory \" + self.options.tmpdir)\n+        initialize_chain(self.options.tmpdir)\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(2, self.options.tmpdir)\n+        connect_nodes_bi(self.nodes, 0, 1)\n+        self.is_network_split = False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        node = self.nodes[0]\n+        res = node.gettxoutsetinfo()\n+\n+        assert_equal(res, {\n+            u'total_amount': decimal.Decimal('8725.00000000'),\n+            u'transactions': 200,\n+            u'height': 200,\n+            u'bestblock': u'6189e9cc58bedca8cb8e917cefe831839d296c2d12ae2e460066aa38d4a06f3e',",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#discussion_r41620664",
      "id" : 41620664,
      "original_commit_id" : "139df09438977fcb87bdf2256b516659c54eed09",
      "original_position" : 46,
      "path" : "qa/rpc-tests/blockchain.py",
      "position" : 46,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/6777",
      "updated_at" : "2015-10-09T11:26:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/41620664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "body" : "@sipa any comments here?",
      "created_at" : "2015-10-09T17:33:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146940499",
      "id" : 146940499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-09T17:33:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146940499",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=3",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "body" : "Code ACK, I haven't reviewed the tests.",
      "created_at" : "2015-10-09T17:42:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6777#issuecomment-146942747",
      "id" : 146942747,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6777",
      "updated_at" : "2015-10-09T17:42:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/146942747",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
