[
   {
      "body" : "Looks like Windows builds are failing, but probably not due to Windows per se.  I suspect the new configure.ac logic is not properly shutting off ENABLE_ZMQ when the library is not found.",
      "created_at" : "2015-10-01T18:01:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-144802071",
      "id" : 144802071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6743",
      "updated_at" : "2015-10-01T18:01:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/144802071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   },
   {
      "body" : "I think you need to keep the `else` with something similar to `AC_DEFINE_UNQUOTED([ENABLE_ZMQ],[0],[Define to 1 to enable ZMQ functions])`.\r\nTravis Win32/64 does not have a libzmq installed and therefore should not compile the zmq features.",
      "created_at" : "2015-10-01T18:05:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-144802933",
      "id" : 144802933,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6743",
      "updated_at" : "2015-10-01T18:05:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/144802933",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Ah, missed that, thanks.",
      "created_at" : "2015-10-01T19:14:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-144820809",
      "id" : 144820809,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6743",
      "updated_at" : "2015-10-01T19:14:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/144820809",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   },
   {
      "body" : "That didn't work.  Calling @theuni ...",
      "created_at" : "2015-10-01T19:37:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-144825249",
      "id" : 144825249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6743",
      "updated_at" : "2015-10-01T19:37:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/144825249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   },
   {
      "body" : "The fix required implementing the logic to test for zmq or not when use_pkgconfig was set to no.",
      "created_at" : "2015-10-01T23:33:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-144877093",
      "id" : 144877093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6743",
      "updated_at" : "2015-10-01T23:33:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/144877093",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   },
   {
      "body" : "@jmcorgan yep, that was the right fix. Although, the non-pkg-config check isn't testing versions. Can you change the AC_CHECK_LIB to test for something new in v4? If there's not a new symbol to check for, we'll have to resort to a quick compile test.\r\n\r\nEdit: If [this](http://upstream.rosalinux.ru/compat_reports/zeromq/3.2.5_to_4.0.1/abi_compat_report.html#Added) is to be believed, a check for ```zmq_ctx_shutdown``` should do the trick.",
      "created_at" : "2015-10-02T15:02:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-145052544",
      "id" : 145052544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6743",
      "updated_at" : "2015-10-02T15:08:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/145052544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Nit: Please move the new check up above the protobuf check, so it's not mixed in with the qt stuff.",
      "created_at" : "2015-10-02T15:05:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-145053211",
      "id" : 145053211,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6743",
      "updated_at" : "2015-10-02T15:05:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/145053211",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Understood about check for a 4.x only function in the non-pkgconfig section, but I'm confused by your request for moving the checks to a different place.  Can you be more specific about which lines of code you want to move and to which location?",
      "created_at" : "2015-10-02T15:35:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-145065440",
      "id" : 145065440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6743",
      "updated_at" : "2015-10-02T15:35:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/145065440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   }
]
