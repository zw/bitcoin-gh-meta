[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [MarcoFalke](https://github.com/bitcoin/bitcoin/pull/28473#pullrequestreview-1626474827), [TheCharlatan](https://github.com/bitcoin/bitcoin/pull/28473#pullrequestreview-1628710817) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28451](https://github.com/bitcoin/bitcoin/pull/28451) (Remove unused SER_DISK, SER_NETWORK, SER_GETHASH by MarcoFalke)\n* [#26859](https://github.com/bitcoin/bitcoin/pull/26859) (fuzz: extend ConsumeNetAddr() to return I2P and CJDNS addresses by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-09-14T00:30:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28473#issuecomment-1718484193",
      "id" : 1718484193,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28473",
      "node_id" : "IC_kwDOABII585mbfzh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1718484193/reactions"
      },
      "updated_at" : "2023-09-15T11:01:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1718484193",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think the last commit is incomplete? For example, the following removal compiles fine for me locally on top of this pull and master:\r\n\r\n```diff\r\ndiff --git a/src/test/net_tests.cpp b/src/test/net_tests.cpp\r\nindex 036355b5f1..37b670662f 100644\r\n--- a/src/test/net_tests.cpp\r\n+++ b/src/test/net_tests.cpp\r\n@@ -331,7 +331,7 @@ BOOST_AUTO_TEST_CASE(cnetaddr_serialize_v1)\r\n     DataStream s{};\r\n     const auto ser_params{CAddress::V1_NETWORK};\r\n \r\n-    s << WithParams(ser_params, addr);\r\n+    s << ser_params( addr);\r\n     BOOST_CHECK_EQUAL(HexStr(s), \"00000000000000000000000000000000\");\r\n     s.clear();\r\n \r\n```\r\n\r\nI think it may be good to try to nuke `WithParams` completely. This would also address the outstanding feedback:\r\n\r\n* https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1324470300\r\n* and https://github.com/bitcoin/bitcoin/pull/25284#discussion_r1306353261",
      "created_at" : "2023-09-14T10:07:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28473#issuecomment-1719159327",
      "id" : 1719159327,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28473",
      "node_id" : "IC_kwDOABII585meEof",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1719159327/reactions"
      },
      "updated_at" : "2023-09-14T10:07:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1719159327",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think the last commit is incomplete? For example, the following removal compiles fine for me locally on top of this pull and master:\r\n\r\n> -    s << WithParams(ser_params, addr);\r\n> +    s << ser_params( addr);\r\n\r\nI only changed the ones that had `constexpr` parameters -- it's pretty clear what `V1_DISK(info)` means, but if you generalise it to `anything(info)` it's a bit less clear that it's just applying serialization parameters -- a function call could well be doing just about anything after all. Leaving it as `WithParams(...)` makes it clear that it's just applying serialization params.\r\n\r\nNot sure that's necessarily ideal, but that's what I was thinking, fwiw.",
      "created_at" : "2023-09-14T10:33:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28473#issuecomment-1719196964",
      "id" : 1719196964,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28473",
      "node_id" : "IC_kwDOABII585meN0k",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1719196964/reactions"
      },
      "updated_at" : "2023-09-14T10:33:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1719196964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yeah, up to you. I personally don't see a risk in `s << ser_params(addr);` and it is shorter and consistent with the `s << V1(addr);` stuff. So I'll use it in new code, and potentially do the scripted-diff at some point, but no strong opinion.",
      "created_at" : "2023-09-14T10:40:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28473#issuecomment-1719207441",
      "id" : 1719207441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28473",
      "node_id" : "IC_kwDOABII585meQYR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1719207441/reactions"
      },
      "updated_at" : "2023-09-14T10:40:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1719207441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Also would have preferred `s << ser_params(addr);`.\r\n\r\nMaybe add this to #28451 when rebasing it?",
      "created_at" : "2023-09-15T19:06:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28473#issuecomment-1721721553",
      "id" : 1721721553,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28473",
      "node_id" : "IC_kwDOABII585mn2LR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1721721553/reactions"
      },
      "updated_at" : "2023-09-15T19:06:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1721721553",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Also would have preferred `s << ser_params(addr);`.\r\n\r\n@TheCharlatan You might want to review #28503\r\n",
      "created_at" : "2023-10-27T05:50:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28473#issuecomment-1782335666",
      "id" : 1782335666,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28473",
      "node_id" : "IC_kwDOABII585qPEiy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1782335666/reactions"
      },
      "updated_at" : "2023-10-27T05:50:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1782335666",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   }
]
