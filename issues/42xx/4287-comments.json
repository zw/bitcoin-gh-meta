[
   {
      "body" : "ACK -- as a **first step**.\r\n\r\nIt is disappointing that we handle disk errors in this way.  Surely we need to at least flush the wallet, before crashing??\r\n",
      "created_at" : "2014-06-04T14:22:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4287#issuecomment-45096598",
      "id" : 45096598,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4287",
      "updated_at" : "2014-06-04T14:22:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45096598",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Agree, but that should be solved by a better assert function that shows a message and calls StartShutdown() instead of aborting immediately (with special handling if already in shutdown sequence...). Doing anything else for this special case would leave the same problem in the 100's of other places where assert is used.\r\n",
      "created_at" : "2014-06-04T14:43:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4287#issuecomment-45099294",
      "id" : 45099294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4287",
      "updated_at" : "2014-06-04T14:45:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45099294",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Note that this is the only example of a ReadBlockFromDisk() call that fails so abruptly.  All the others handle failure more gracefully.",
      "created_at" : "2014-06-04T14:46:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4287#issuecomment-45099614",
      "id" : 45099614,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4287",
      "updated_at" : "2014-06-04T14:46:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45099614",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Sure, the error could be handled differently, for example by disconnecting the node.",
      "created_at" : "2014-06-04T14:49:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4287#issuecomment-45100073",
      "id" : 45100073,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4287",
      "updated_at" : "2014-06-04T14:49:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45100073",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I think if you cannot read a block from disk, Something Major Is Wrong, and shutting down the node ASAP is the right thing to do.  Both for this case, and any other case where we detect a fault in _already stored data_.  ie. Data that was previously hashed, verified, stored... and now fails checksum or disk read.",
      "created_at" : "2014-06-04T14:54:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4287#issuecomment-45100697",
      "id" : 45100697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4287",
      "updated_at" : "2014-06-04T14:54:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45100697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Well that brings us back to my suggestion above about a better assert...\r\n",
      "created_at" : "2014-06-04T14:54:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4287#issuecomment-45100794",
      "id" : 45100794,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4287",
      "updated_at" : "2014-06-04T14:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45100794",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/4a48a0671d2e02ba2a86af98282a452f23546b9e for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-06-04T14:56:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4287#issuecomment-45101056",
      "id" : 45101056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4287",
      "updated_at" : "2014-06-04T14:56:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45101056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   }
]
