[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r3975617"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/3975617"
         }
      },
      "body" : "Why convert strArg to a c_str() here?",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2013-04-26T12:04:05Z",
      "diff_hunk" : "@@ -426,6 +427,31 @@ void ThreadImport(std::vector<boost::filesystem::path> vImportFiles)\n     }\n }\n \n+// check proxies and (if they are valid) set them to be used by the client\n+bool ProxyInit(Network net, const std::string& strArg, int nSocksVersion, bool fIsBase)\n+{\n+    // if network is not limited and -no{proxy/proxy6/tor} was not specified\n+    if (!IsLimited(net) && mapArgs.count(strArg.c_str()) && !(mapArgs[strArg.c_str()] == \"0\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r3975617",
      "id" : 3975617,
      "original_commit_id" : "2d329f9526323a3560c8764c55b5ae4812850f7b",
      "original_position" : 22,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/3975617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r3979230"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/3979230"
         }
      },
      "body" : "Perhaps because I didn't know I could use strArg here ^^. Will update of course.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2013-04-26T15:49:47Z",
      "diff_hunk" : "@@ -426,6 +427,31 @@ void ThreadImport(std::vector<boost::filesystem::path> vImportFiles)\n     }\n }\n \n+// check proxies and (if they are valid) set them to be used by the client\n+bool ProxyInit(Network net, const std::string& strArg, int nSocksVersion, bool fIsBase)\n+{\n+    // if network is not limited and -no{proxy/proxy6/tor} was not specified\n+    if (!IsLimited(net) && mapArgs.count(strArg.c_str()) && !(mapArgs[strArg.c_str()] == \"0\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r3979230",
      "id" : 3979230,
      "original_commit_id" : "2d329f9526323a3560c8764c55b5ae4812850f7b",
      "original_position" : 22,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/3979230",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Removed some ``.c_str()`` which were unneeded.",
      "created_at" : "2013-04-26T15:54:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-17082968",
      "id" : 17082968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-04-26T15:54:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17082968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I left out changes needed in optionsmodel.cpp, that's why build fails...",
      "created_at" : "2013-04-26T17:48:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-17089153",
      "id" : 17089153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-04-26T17:48:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17089153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "updated optionsmodel.cpp",
      "created_at" : "2013-04-26T17:56:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-17089621",
      "id" : 17089621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-04-26T17:56:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17089621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r3987632"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/3987632"
         }
      },
      "body" : "Use \"GetArg(strArg)\" instead of \"!(mapArgs[strArg] == \"0\")\". Shorter and more flexible.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2013-04-26T23:55:48Z",
      "diff_hunk" : "@@ -426,6 +427,31 @@ void ThreadImport(std::vector<boost::filesystem::path> vImportFiles)\n     }\n }\n \n+// check proxies and (if they are valid) set them to be used by the client\n+bool ProxyInit(Network net, const std::string& strArg, int nSocksVersion, bool fIsBase)\n+{\n+    // if network is not limited and -no{proxy/proxy6/tor} was not specified\n+    if (!IsLimited(net) && mapArgs.count(strArg) && !(mapArgs[strArg] == \"0\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r3987632",
      "id" : 3987632,
      "original_commit_id" : "35c68a3482bb86d9b508cd8d5abebca285dd91e5",
      "original_position" : 22,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/3987632",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r3989384"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/3989384"
         }
      },
      "body" : "@sipa After looking at GetArg(), couldn't this all be replaced with:\r\n``if (!IsLimited(net) && GetArg(strArg, 0)) {``",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2013-04-27T15:35:22Z",
      "diff_hunk" : "@@ -426,6 +427,31 @@ void ThreadImport(std::vector<boost::filesystem::path> vImportFiles)\n     }\n }\n \n+// check proxies and (if they are valid) set them to be used by the client\n+bool ProxyInit(Network net, const std::string& strArg, int nSocksVersion, bool fIsBase)\n+{\n+    // if network is not limited and -no{proxy/proxy6/tor} was not specified\n+    if (!IsLimited(net) && mapArgs.count(strArg) && !(mapArgs[strArg] == \"0\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r3989384",
      "id" : 3989384,
      "original_commit_id" : "35c68a3482bb86d9b508cd8d5abebca285dd91e5",
      "original_position" : 22,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/3989384",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r3989469"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/3989469"
         }
      },
      "body" : "Indeed. I assumed the 0 was default.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2013-04-27T16:30:15Z",
      "diff_hunk" : "@@ -426,6 +427,31 @@ void ThreadImport(std::vector<boost::filesystem::path> vImportFiles)\n     }\n }\n \n+// check proxies and (if they are valid) set them to be used by the client\n+bool ProxyInit(Network net, const std::string& strArg, int nSocksVersion, bool fIsBase)\n+{\n+    // if network is not limited and -no{proxy/proxy6/tor} was not specified\n+    if (!IsLimited(net) && mapArgs.count(strArg) && !(mapArgs[strArg] == \"0\")) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r3989469",
      "id" : 3989469,
      "original_commit_id" : "35c68a3482bb86d9b508cd8d5abebca285dd91e5",
      "original_position" : 22,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/3989469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Use ``GetArg(strArg, 0)`` instead of ``mapArgs.count(strArg) && !(mapArgs[strArg] == \"0\")``, thanks sipa :).",
      "created_at" : "2013-04-27T17:04:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-17119469",
      "id" : 17119469,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-04-27T17:04:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17119469",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Update name proxy setup to use ``GetArg(\"-proxy\", 0)``.",
      "created_at" : "2013-04-28T15:55:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-17136285",
      "id" : 17136285,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-04-28T15:55:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17136285",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@sipa Further thoughts about this?",
      "created_at" : "2013-05-04T10:06:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-17430825",
      "id" : 17430825,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-05-04T10:06:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/17430825",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r4151302"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/4151302"
         }
      },
      "body" : "@sipa I need some input on ``GetArg(strArg, 0)``, which I added here because you suggested that earlier.\r\nI want to catch -noproxy or -proxy=0 here, but ``GetArg(strArg, 0)`` does more.\r\n\r\n-proxy=127.0.0.1 for example will also cause this to fail, because we use this GetArg()-version:\r\n<pre>\r\nint64 GetArg(const std::string& strArg, int64 nDefault)\r\n{\r\n    if (mapArgs.count(strArg))\r\n        return atoi64(mapArgs[strArg]);\r\n    return nDefault;\r\n}\r\n</pre>\r\n\r\nWhat hapens now is that ``atoi64(mapArgs[strArg]);`` will not work for \"127.0.0.1\" right ;). Too bad I didn't catch that earlier, as I only had the state -noproxy and -proxy=0 in mind, which indeed work here like they should.\r\n\r\nEdit: I guess this should be ``(GetArg(strArg, \"0\") != \"0\")``, right? -noproxy gets converted to proxy=0, which will return \"0\" here and every other proxy string will get into the if-clause then.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2013-05-09T11:43:52Z",
      "diff_hunk" : "@@ -434,6 +435,31 @@ void ThreadImport(std::vector<boost::filesystem::path> vImportFiles)\n     }\n }\n \n+// check proxies and (if they are valid) set them to be used by the client\n+bool ProxyInit(Network net, const std::string& strArg, int nSocksVersion, bool fIsBase)\n+{\n+    // if network is not limited and -no{proxy/proxy6/tor} was NOT specified\n+    if (!IsLimited(net) && GetArg(strArg, 0)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r4151302",
      "id" : 4151302,
      "original_commit_id" : "2bcb7500a2a02f97c1304fda683d25b1e77ea23c",
      "original_position" : 22,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/4151302",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r4182964"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/4182964"
         }
      },
      "body" : "Pull Updated!",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2013-05-11T10:39:36Z",
      "diff_hunk" : "@@ -434,6 +435,31 @@ void ThreadImport(std::vector<boost::filesystem::path> vImportFiles)\n     }\n }\n \n+// check proxies and (if they are valid) set them to be used by the client\n+bool ProxyInit(Network net, const std::string& strArg, int nSocksVersion, bool fIsBase)\n+{\n+    // if network is not limited and -no{proxy/proxy6/tor} was NOT specified\n+    if (!IsLimited(net) && GetArg(strArg, 0)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r4182964",
      "id" : 4182964,
      "original_commit_id" : "2bcb7500a2a02f97c1304fda683d25b1e77ea23c",
      "original_position" : 22,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/4182964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r4714259"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/4714259"
         }
      },
      "body" : "This field seems never used. Why change/split this data structure?",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2013-06-15T16:02:33Z",
      "diff_hunk" : "@@ -131,14 +131,20 @@ class CService : public CNetAddr\n             )\n };\n \n-typedef std::pair<CService, int> proxyType;\n+typedef struct proxyType {\n+    CService addrProxy;\n+    int nSocksVersion;\n+    bool fIsBase;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r4714259",
      "id" : 4714259,
      "original_commit_id" : "8cd9884f16de6d4b274b59fcefbda1878291b760",
      "original_position" : 8,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/4714259",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r4716209"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/4716209"
         }
      },
      "body" : "It's intended to be used in getinfo and the GUI to know wether Tor or IPv6 proxies are \"inherited\" by ``-proxy`` or if they were specified via ``-proxy6`` or ``-tor``. I didn't include these changes here as I didn't want to waste my time for things that perhaps don't get merged anyway.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2013-06-16T15:54:50Z",
      "diff_hunk" : "@@ -131,14 +131,20 @@ class CService : public CNetAddr\n             )\n };\n \n-typedef std::pair<CService, int> proxyType;\n+typedef struct proxyType {\n+    CService addrProxy;\n+    int nSocksVersion;\n+    bool fIsBase;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r4716209",
      "id" : 4716209,
      "original_commit_id" : "8cd9884f16de6d4b274b59fcefbda1878291b760",
      "original_position" : 8,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/4716209",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r4797876"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/4797876"
         }
      },
      "body" : "The most important scenario to test with any proxy code change is tor, I\nsuspect 99 percent of the users of proxy functionality use it for that.\nPlease make sure that stays working securely.\n\nI'd love to hear some of the use cases for all the exotic proxy options,\nI'm a bit in doubt whether all that complexity belongs in bitcoin instead\nof some network tunneling tool or the socks server, and though I'm not\nagainst merging this, I'm a bit afraid of forests of never-used and\nnever-tested combinations.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2013-06-20T14:26:34Z",
      "diff_hunk" : "@@ -131,14 +131,20 @@ class CService : public CNetAddr\n             )\n };\n \n-typedef std::pair<CService, int> proxyType;\n+typedef struct proxyType {\n+    CService addrProxy;\n+    int nSocksVersion;\n+    bool fIsBase;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r4797876",
      "id" : 4797876,
      "original_commit_id" : "8cd9884f16de6d4b274b59fcefbda1878291b760",
      "original_position" : 8,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/4797876",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Needs a test plan to test all the combinations, then needs testers to, you know, actually test them all.\r\n",
      "created_at" : "2013-06-20T16:21:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-19764281",
      "id" : 19764281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-06-20T16:21:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/19764281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen I'm fine with a test plan, as long as this has a real chance of getting merged. Is the code okay now or is ths not wanted anyway?",
      "created_at" : "2013-06-21T06:03:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-19799899",
      "id" : 19799899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-06-21T06:03:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/19799899",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Updated to include changes to ``getinfo``. I have not yet had the time to work out a test-plan, but everyone, who helps testing is welcome anyway :).",
      "created_at" : "2013-06-26T06:43:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-20029697",
      "id" : 20029697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-06-26T06:43:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/20029697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Anyone willing to help me doing that test-plan stuff and/or check out if it works like it should :)?",
      "created_at" : "2013-08-17T23:30:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-22821740",
      "id" : 22821740,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-08-17T23:30:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/22821740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I am the last guy who should be checking GUI changes, but I will gladly follow a test plan and report back on it. (Though I can only easily test Linux, and windows builds under wine).\r\n",
      "created_at" : "2013-08-19T01:51:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-22847156",
      "id" : 22847156,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-08-19T01:51:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/22847156",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@gmaxwell I'm glad you are interested in helping me with this one. You currently don't need to start Bitcoin-Qt to do so, as this can be tested completely via bitcoind. The only Bitcoin-Qt change is to make it compatible with a changed datastructure.\r\n\r\nShould I start by listing possible combinations of all proxy switches and how they should behave?",
      "created_at" : "2013-08-19T05:33:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-22851767",
      "id" : 22851767,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-08-19T05:33:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/22851767",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I'm going to describe the pull with some more details here.\r\n\r\nMost proxy-setup is now done using the new ``ProxyInit()`` function.\r\n\r\n``ProxyInit(Network net, const std::string& strArg, int nSocksVersion, bool fIsBase)`` parameter description:\r\n``net`` = network to setup proxy for (NET_IPV4, NET_IPV6 or NET_TOR)\r\n``strArg`` = command-line argument to get values from (-proxy, -proxy6 or -tor)\r\n``nSocksVersion`` = SOCKS version of the proxy\r\n``fIsBase`` = is that proxy a base (true) or separate proxy (false)?\r\n\r\n``ProxyInit(Network net, const std::string& strArg, int nSocksVersion, bool fIsBase)`` does the following:\r\n-pre-check, if ``net`` is not limited and -no{proxy/proxy6/tor} was NOT specified\r\n--pre-check passed: try to ``SetProxy()`` and return ``false`` on error\r\n---pre-check passed: only for ``net == NET_TOR`` call ``SetReachable();``\r\n---pre-check passed: return ``true``\r\n--pre-check failed: for base proxy (``fIsBase == true``) a failed pre-check is okay, return ``true``, otherwise ``false``",
      "created_at" : "2013-08-26T09:21:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-23252009",
      "id" : 23252009,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-08-26T09:25:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23252009",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "base proxy = ``-proxy``\r\nseparata IPv6 proxy = ``-proxy6``\r\nseparate Tor proxy = ``-tor``\r\n\r\nProxy initialisation flow (happens via ``ProxyInit()``, just name proxy is special cased in the code):\r\n-try to setup base IPv4 proxy\r\n--if SOCKS4:\r\n---try to setup separate Tor proxy, on failure disable Tor via ``SetLimited()`` (SOCKS4 = no Tor support)\r\n---try to setup separate IPv6 proxy, on failure disable IPv6 via ``SetLimited()`` (SOCKS4 = no IPv6 support)\r\n--if SOCKS5\r\n---try to setup separate Tor proxy, on failure try to setup Tor proxy via base proxy\r\n---try to setup separate IPv6 proxy, on failure try to setup IPv6 proxy via base proxy\r\n---try to setup base SOCKS5 name proxy\r\n\r\nErrors initialising base proxy or Tor/IPv6 proxies via base proxy lead to exit!",
      "created_at" : "2013-08-26T12:47:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-23260013",
      "id" : 23260013,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-08-26T12:50:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23260013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@gmaxwell Perhaps you could take a look at what I've written, if the current proxy handling of this pull sounds correct, before I start doing the test-plan.",
      "created_at" : "2013-08-26T12:50:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-23260171",
      "id" : 23260171,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-08-26T12:51:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23260171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Updated: Included suggestions from @sipa and introduced ``getproxyinfo`` and made ``ProxyInit()`` return ``fBase``.",
      "created_at" : "2013-10-06T12:52:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-25767583",
      "id" : 25767583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-10-06T12:52:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25767583",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Still needs a test plan.",
      "created_at" : "2013-10-21T01:40:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-26688611",
      "id" : 26688611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-10-21T01:40:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26688611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Updated:\r\n- greatly improved ``getproxyinfo`` call\r\n- rename fIsBase to fIsDefault and call -proxy the default proxy instead of the base proxy\r\n- add some missing ``#ifdef USE_IPV6`` guards in the code",
      "created_at" : "2013-11-16T02:17:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-28617612",
      "id" : 28617612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2013-11-16T02:17:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28617612",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Damn ``Error: Error: Disk space is low!``...\r\n\r\nI hope if we chose to remove SOCKS4 support this pull is much less complicated to test ;).",
      "created_at" : "2014-06-11T11:25:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-45729443",
      "id" : 45729443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-06-11T11:25:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45729443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I'm tending toward NACK, as it over-complicates things and introduces options that are difficult to test.\r\n- No one is asking to use a special proxy server for IPv6 connections. To be honest I think it is overkill and IPv4/IPv6 can be lumped together proxy-wise.\r\n- There should be no changes to `getinfo`. It only exists or backwards compatibility: don't remove `proxy`.\r\n- `getproxyinfo` looks like overkill. I'd rather have more condensed and useful information (for example, a sub-structure) integrated into `getnetworkinfo`.",
      "created_at" : "2014-06-25T09:24:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-47078925",
      "id" : 47078925,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-06-25T09:45:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47078925",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj I removed the changes to ``getinfo`` as we decided to not touch this anymore and deprecate it. I'm also fine with not adding ``getproxyinfo`` but add it to ``getnetworkinfo``.\r\n\r\nSo last point is ``-proxy6``, which can be discussed and which I think is even not the main point of this pull. Main point is to have a better and more clear proxy init, which this achieves IMHO. Perhaps I just remove ``-proxy6`` for now, rework the RPC call and you take another look?",
      "created_at" : "2014-06-26T09:21:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-47204664",
      "id" : 47204664,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-06-26T09:21:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47204664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Removed ``getproxyinfo`` and extend ``getnetworkinfo`` instead.",
      "created_at" : "2014-06-27T12:28:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-47337820",
      "id" : 47337820,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-06-27T12:28:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47337820",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r14499168"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14499168"
         }
      },
      "body" : "This would be better as a sub-object 'proxy' that contains the \"ipv4\", \"ipv6\" and \"onion\" fields.\r\n",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-03T06:50:52Z",
      "diff_hunk" : "@@ -361,26 +365,35 @@ Value getnetworkinfo(const Array& params, bool fHelp)\n             + HelpExampleRpc(\"getnetworkinfo\", \"\")\n         );\n \n-    proxyType proxy;\n-    GetProxy(NET_IPV4, proxy);\n+    // collect current proxy settings\n+    proxyType proxyIpv4;\n+    GetProxy(NET_IPV4, proxyIpv4);\n+    proxyType proxyIpv6;\n+    GetProxy(NET_IPV6, proxyIpv6);\n+    proxyType proxyTor;\n+    GetProxy(NET_TOR, proxyTor);\n \n     Object obj;\n-    obj.push_back(Pair(\"version\",       (int)CLIENT_VERSION));\n-    obj.push_back(Pair(\"protocolversion\",(int)PROTOCOL_VERSION));\n-    obj.push_back(Pair(\"localservices\",       strprintf(\"%016x\", nLocalServices)));\n-    obj.push_back(Pair(\"timeoffset\",    GetTimeOffset()));\n-    obj.push_back(Pair(\"connections\",   (int)vNodes.size()));\n-    obj.push_back(Pair(\"proxy\",         (proxy.first.IsValid() ? proxy.first.ToStringIPPort() : string())));\n-    obj.push_back(Pair(\"relayfee\",      ValueFromAmount(CTransaction::minRelayTxFee.GetFeePerK())));\n+    obj.push_back(Pair(\"version\",                   (int)CLIENT_VERSION));\n+    obj.push_back(Pair(\"protocolversion\",           (int)PROTOCOL_VERSION));\n+    obj.push_back(Pair(\"localservices\",             strprintf(\"%016x\", nLocalServices)));\n+    obj.push_back(Pair(\"timeoffset\",                GetTimeOffset()));\n+    obj.push_back(Pair(\"connections\",               (int)vNodes.size()));\n+    obj.push_back(Pair(\"proxy-default\",             proxyIpv4.addrProxy.IsValid() ? proxyIpv4.addrProxy.ToStringIPPort() : string()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r14499168",
      "id" : 14499168,
      "original_commit_id" : "3d3643ceed05552e54bd27d547f568a523bad6cc",
      "original_position" : 60,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14499168",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r14499180"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14499180"
         }
      },
      "body" : "I don't think it is useful to report the from-default here.\r\n",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-03T06:51:15Z",
      "diff_hunk" : "@@ -361,26 +365,35 @@ Value getnetworkinfo(const Array& params, bool fHelp)\n             + HelpExampleRpc(\"getnetworkinfo\", \"\")\n         );\n \n-    proxyType proxy;\n-    GetProxy(NET_IPV4, proxy);\n+    // collect current proxy settings\n+    proxyType proxyIpv4;\n+    GetProxy(NET_IPV4, proxyIpv4);\n+    proxyType proxyIpv6;\n+    GetProxy(NET_IPV6, proxyIpv6);\n+    proxyType proxyTor;\n+    GetProxy(NET_TOR, proxyTor);\n \n     Object obj;\n-    obj.push_back(Pair(\"version\",       (int)CLIENT_VERSION));\n-    obj.push_back(Pair(\"protocolversion\",(int)PROTOCOL_VERSION));\n-    obj.push_back(Pair(\"localservices\",       strprintf(\"%016x\", nLocalServices)));\n-    obj.push_back(Pair(\"timeoffset\",    GetTimeOffset()));\n-    obj.push_back(Pair(\"connections\",   (int)vNodes.size()));\n-    obj.push_back(Pair(\"proxy\",         (proxy.first.IsValid() ? proxy.first.ToStringIPPort() : string())));\n-    obj.push_back(Pair(\"relayfee\",      ValueFromAmount(CTransaction::minRelayTxFee.GetFeePerK())));\n+    obj.push_back(Pair(\"version\",                   (int)CLIENT_VERSION));\n+    obj.push_back(Pair(\"protocolversion\",           (int)PROTOCOL_VERSION));\n+    obj.push_back(Pair(\"localservices\",             strprintf(\"%016x\", nLocalServices)));\n+    obj.push_back(Pair(\"timeoffset\",                GetTimeOffset()));\n+    obj.push_back(Pair(\"connections\",               (int)vNodes.size()));\n+    obj.push_back(Pair(\"proxy-default\",             proxyIpv4.addrProxy.IsValid() ? proxyIpv4.addrProxy.ToStringIPPort() : string()));\n+    obj.push_back(Pair(\"proxy-ipv6\",                proxyIpv6.addrProxy.IsValid() ? proxyIpv6.addrProxy.ToStringIPPort() : string()));\n+    obj.push_back(Pair(\"proxy-ipv6-from-default\",   proxyIpv6.fIsDefault));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r14499180",
      "id" : 14499180,
      "original_commit_id" : "3d3643ceed05552e54bd27d547f568a523bad6cc",
      "original_position" : 62,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14499180",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Updated to include the changes after the SOCKS4 support removal and made ``proxy`` a separate object in ``getnetworkinfo``.",
      "created_at" : "2014-07-17T13:36:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-49307095",
      "id" : 49307095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-07-17T13:36:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49307095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@laanwj Can you take another look please? I also removed nameproxy, can you check the second commit.",
      "created_at" : "2014-07-19T18:30:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-49519287",
      "id" : 49519287,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-07-19T18:30:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49519287",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15348581"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15348581"
         }
      },
      "body" : "I think we don't need to store this flag?\r\nOnly a few weeks ago (in 0127a9be) we changed ProxyType to be just a CService. I like to keep it that way if possible.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-24T14:20:54Z",
      "diff_hunk" : "@@ -161,15 +161,17 @@ class CService : public CNetAddr\n             )\n };\n \n-typedef CService proxyType;\n+typedef struct proxyType {\n+    CService addrProxy;\n+    bool fIsDefault;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15348581",
      "id" : 15348581,
      "original_commit_id" : "e8bbf699f7773b65eb65a7118d6a35c019dec3db",
      "original_position" : 7,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15348581",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15349495"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15349495"
         }
      },
      "body" : "An invalid -proxy6 or -onion address should also lead to exit, IMO.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-24T14:35:21Z",
      "diff_hunk" : "@@ -801,34 +825,16 @@ bool AppInit2(boost::thread_group& threadGroup)\n         }\n     }\n \n-    CService addrProxy;\n-    bool fProxy = false;\n-    if (mapArgs.count(\"-proxy\")) {\n-        addrProxy = CService(mapArgs[\"-proxy\"], 9050);\n-        if (!addrProxy.IsValid())\n-            return InitError(strprintf(_(\"Invalid -proxy address: '%s'\"), mapArgs[\"-proxy\"]));\n-\n-        if (!IsLimited(NET_IPV4))\n-            SetProxy(NET_IPV4, addrProxy);\n-        if (!IsLimited(NET_IPV6))\n-            SetProxy(NET_IPV6, addrProxy);\n-        SetNameProxy(addrProxy);\n-        fProxy = true;\n-    }\n-\n-    // -onion can override normal proxy, -noonion disables tor entirely\n-    if (!(mapArgs.count(\"-onion\") && mapArgs[\"-onion\"] == \"0\") &&\n-        (fProxy || mapArgs.count(\"-onion\"))) {\n-        CService addrOnion;\n-        if (!mapArgs.count(\"-onion\"))\n-            addrOnion = addrProxy;\n-        else\n-            addrOnion = CService(mapArgs[\"-onion\"], 9050);\n-        if (!addrOnion.IsValid())\n-            return InitError(strprintf(_(\"Invalid -onion address: '%s'\"), mapArgs[\"-onion\"]));\n-        SetProxy(NET_TOR, addrOnion);\n-        SetReachable(NET_TOR);\n-    }\n+    // check for presence of default proxy to reach peers via IPv4\n+    if (!ProxyInit(NET_IPV4, \"-proxy\", true))\n+        return false; // errors with default proxy lead to exit\n+    // enable outgoing IPv6/Tor connections for default proxy (if no separate SOCKS5 proxy for IPv6/Tor will be used)\n+    if (!ProxyInit(NET_IPV6, \"-proxy6\", false))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15349495",
      "id" : 15349495,
      "original_commit_id" : "e8bbf699f7773b65eb65a7118d6a35c019dec3db",
      "original_position" : 83,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15349495",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15349972"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15349972"
         }
      },
      "body" : "Don't do these whitespace changes in this function, they will get undo'ed by @sipa's reformatter anyway.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-24T14:42:05Z",
      "diff_hunk" : "@@ -345,48 +345,76 @@ Value getnetworkinfo(const Array& params, bool fHelp)\n             \"getnetworkinfo\\n\"\n             \"Returns an object containing various state info regarding P2P networking.\\n\"\n             \"\\nResult:\\n\"\n-            \"{\\n\"\n-            \"  \\\"version\\\": xxxxx,           (numeric) the server version\\n\"\n-            \"  \\\"protocolversion\\\": xxxxx,   (numeric) the protocol version\\n\"\n-            \"  \\\"localservices\\\": \\\"xxxxxxxxxxxxxxxx\\\",   (string) the services we offer to the network\\n\"\n-            \"  \\\"timeoffset\\\": xxxxx,        (numeric) the time offset\\n\"\n-            \"  \\\"connections\\\": xxxxx,       (numeric) the number of connections\\n\"\n-            \"  \\\"proxy\\\": \\\"host:port\\\",     (string, optional) the proxy used by the server\\n\"\n-            \"  \\\"relayfee\\\": x.xxxx,         (numeric) minimum relay fee for non-free transactions in btc/kb\\n\"\n-            \"  \\\"localaddresses\\\": [,        (array) list of local addresses\\n\"\n-            \"    \\\"address\\\": \\\"xxxx\\\",      (string) network address\\n\"\n-            \"    \\\"port\\\": xxx,              (numeric) network port\\n\"\n-            \"    \\\"score\\\": xxx              (numeric) relative score\\n\"\n-            \"  ]\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"version\\\": xxxxx,                        (numeric) the server version\\n\"\n+            \"    \\\"protocolversion\\\": xxxxx,                (numeric) the protocol version\\n\"\n+            \"    \\\"localservices\\\": \\\"xxxxxxxxxxxxxxxx\\\",   (string) the services we offer to the network\\n\"\n+            \"    \\\"timeoffset\\\": xxxxx,                     (numeric) the time offset\\n\"\n+            \"    \\\"connections\\\": xxxxx                     (numeric) the number of connections\\n\"\n+            \"    \\\"relayfee\\\": x.xxxx,                      (numeric) minimum relay fee for non-free transactions in btc/kb\\n\"\n+            \"    \\\"localaddresses\\\": [                      (array) list of local addresses\\n\"\n+            \"    {\\n\"\n+            \"      \\\"address\\\": \\\"xxxx\\\",                   (string) network address\\n\"\n+            \"      \\\"port\\\": xxx,                           (numeric) network port\\n\"\n+            \"      \\\"score\\\": xxx                           (numeric) relative score\\n\"\n+            \"    }\\n\"\n+            \"    ,...\\n\"\n+            \"    ]\\n\"\n+            \"  },\\n\"\n+            \"  {\\n\"\n+            \"    \\\"proxy-default\\\": \\\"host:port\\\",          (string, optional) the default socks5 proxy used by the server\\n\"\n+            \"    \\\"proxy-ipv6\\\": \\\"host:port\\\",             (string, optional) the socks5 proxy for reaching peers via ipv6\\n\"\n+            \"    \\\"proxy-ipv6-from-default\\\": true|false,   (boolean) is this proxy derived from default socks5 proxy server\\n\"\n+            \"    \\\"proxy-onion\\\": \\\"host:port\\\",            (string, optional) the socks5 proxy for reaching peers via tor hidden services\\n\"\n+            \"    \\\"proxy-onion-from-default\\\": true|false   (boolean) is this proxy derived from default socks5 proxy server\\n\"\n+            \"  }\\n\"\n             \"}\\n\"\n             \"\\nExamples:\\n\"\n             + HelpExampleCli(\"getnetworkinfo\", \"\")\n             + HelpExampleRpc(\"getnetworkinfo\", \"\")\n         );\n \n-    proxyType proxy;\n-    GetProxy(NET_IPV4, proxy);\n+    // collect current proxy settings\n+    proxyType proxyIpv4;\n+    GetProxy(NET_IPV4, proxyIpv4);\n+    proxyType proxyIpv6;\n+    GetProxy(NET_IPV6, proxyIpv6);\n+    proxyType proxyTor;\n+    GetProxy(NET_TOR, proxyTor);\n+\n+    Array ret;\n \n     Object obj;\n-    obj.push_back(Pair(\"version\",       (int)CLIENT_VERSION));\n-    obj.push_back(Pair(\"protocolversion\",(int)PROTOCOL_VERSION));\n-    obj.push_back(Pair(\"localservices\",       strprintf(\"%016x\", nLocalServices)));\n-    obj.push_back(Pair(\"timeoffset\",    GetTimeOffset()));\n-    obj.push_back(Pair(\"connections\",   (int)vNodes.size()));\n-    obj.push_back(Pair(\"proxy\",         (proxy.IsValid() ? proxy.ToStringIPPort() : string())));\n-    obj.push_back(Pair(\"relayfee\",      ValueFromAmount(::minRelayTxFee.GetFeePerK())));\n+    obj.push_back(Pair(\"version\",                   (int)CLIENT_VERSION));\n+    obj.push_back(Pair(\"protocolversion\",           (int)PROTOCOL_VERSION));\n+    obj.push_back(Pair(\"localservices\",             strprintf(\"%016x\", nLocalServices)));\n+    obj.push_back(Pair(\"timeoffset\",                GetTimeOffset()));\n+    obj.push_back(Pair(\"connections\",               (int)vNodes.size()));\n+    obj.push_back(Pair(\"relayfee\",                  ValueFromAmount(::minRelayTxFee.GetFeePerK())));\n     Array localAddresses;\n     {\n         LOCK(cs_mapLocalHost);\n         BOOST_FOREACH(const PAIRTYPE(CNetAddr, LocalServiceInfo) &item, mapLocalHost)\n         {\n             Object rec;\n-            rec.push_back(Pair(\"address\", item.first.ToString()));\n-            rec.push_back(Pair(\"port\", item.second.nPort));\n-            rec.push_back(Pair(\"score\", item.second.nScore));\n+            rec.push_back(Pair(\"address\",   item.first.ToString()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15349972",
      "id" : 15349972,
      "original_commit_id" : "e8bbf699f7773b65eb65a7118d6a35c019dec3db",
      "original_position" : 82,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15349972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "All in all this looks fine to me now, apart from above-mentioned remarks.",
      "created_at" : "2014-07-24T14:42:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-50027253",
      "id" : 50027253,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-07-24T14:42:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50027253",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15407935"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15407935"
         }
      },
      "body" : "Right, I'm going to revert these and when making changes and they are alligned, I'll remove the alligning whitespaces.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-25T15:49:04Z",
      "diff_hunk" : "@@ -345,48 +345,76 @@ Value getnetworkinfo(const Array& params, bool fHelp)\n             \"getnetworkinfo\\n\"\n             \"Returns an object containing various state info regarding P2P networking.\\n\"\n             \"\\nResult:\\n\"\n-            \"{\\n\"\n-            \"  \\\"version\\\": xxxxx,           (numeric) the server version\\n\"\n-            \"  \\\"protocolversion\\\": xxxxx,   (numeric) the protocol version\\n\"\n-            \"  \\\"localservices\\\": \\\"xxxxxxxxxxxxxxxx\\\",   (string) the services we offer to the network\\n\"\n-            \"  \\\"timeoffset\\\": xxxxx,        (numeric) the time offset\\n\"\n-            \"  \\\"connections\\\": xxxxx,       (numeric) the number of connections\\n\"\n-            \"  \\\"proxy\\\": \\\"host:port\\\",     (string, optional) the proxy used by the server\\n\"\n-            \"  \\\"relayfee\\\": x.xxxx,         (numeric) minimum relay fee for non-free transactions in btc/kb\\n\"\n-            \"  \\\"localaddresses\\\": [,        (array) list of local addresses\\n\"\n-            \"    \\\"address\\\": \\\"xxxx\\\",      (string) network address\\n\"\n-            \"    \\\"port\\\": xxx,              (numeric) network port\\n\"\n-            \"    \\\"score\\\": xxx              (numeric) relative score\\n\"\n-            \"  ]\\n\"\n+            \"[\\n\"\n+            \"  {\\n\"\n+            \"    \\\"version\\\": xxxxx,                        (numeric) the server version\\n\"\n+            \"    \\\"protocolversion\\\": xxxxx,                (numeric) the protocol version\\n\"\n+            \"    \\\"localservices\\\": \\\"xxxxxxxxxxxxxxxx\\\",   (string) the services we offer to the network\\n\"\n+            \"    \\\"timeoffset\\\": xxxxx,                     (numeric) the time offset\\n\"\n+            \"    \\\"connections\\\": xxxxx                     (numeric) the number of connections\\n\"\n+            \"    \\\"relayfee\\\": x.xxxx,                      (numeric) minimum relay fee for non-free transactions in btc/kb\\n\"\n+            \"    \\\"localaddresses\\\": [                      (array) list of local addresses\\n\"\n+            \"    {\\n\"\n+            \"      \\\"address\\\": \\\"xxxx\\\",                   (string) network address\\n\"\n+            \"      \\\"port\\\": xxx,                           (numeric) network port\\n\"\n+            \"      \\\"score\\\": xxx                           (numeric) relative score\\n\"\n+            \"    }\\n\"\n+            \"    ,...\\n\"\n+            \"    ]\\n\"\n+            \"  },\\n\"\n+            \"  {\\n\"\n+            \"    \\\"proxy-default\\\": \\\"host:port\\\",          (string, optional) the default socks5 proxy used by the server\\n\"\n+            \"    \\\"proxy-ipv6\\\": \\\"host:port\\\",             (string, optional) the socks5 proxy for reaching peers via ipv6\\n\"\n+            \"    \\\"proxy-ipv6-from-default\\\": true|false,   (boolean) is this proxy derived from default socks5 proxy server\\n\"\n+            \"    \\\"proxy-onion\\\": \\\"host:port\\\",            (string, optional) the socks5 proxy for reaching peers via tor hidden services\\n\"\n+            \"    \\\"proxy-onion-from-default\\\": true|false   (boolean) is this proxy derived from default socks5 proxy server\\n\"\n+            \"  }\\n\"\n             \"}\\n\"\n             \"\\nExamples:\\n\"\n             + HelpExampleCli(\"getnetworkinfo\", \"\")\n             + HelpExampleRpc(\"getnetworkinfo\", \"\")\n         );\n \n-    proxyType proxy;\n-    GetProxy(NET_IPV4, proxy);\n+    // collect current proxy settings\n+    proxyType proxyIpv4;\n+    GetProxy(NET_IPV4, proxyIpv4);\n+    proxyType proxyIpv6;\n+    GetProxy(NET_IPV6, proxyIpv6);\n+    proxyType proxyTor;\n+    GetProxy(NET_TOR, proxyTor);\n+\n+    Array ret;\n \n     Object obj;\n-    obj.push_back(Pair(\"version\",       (int)CLIENT_VERSION));\n-    obj.push_back(Pair(\"protocolversion\",(int)PROTOCOL_VERSION));\n-    obj.push_back(Pair(\"localservices\",       strprintf(\"%016x\", nLocalServices)));\n-    obj.push_back(Pair(\"timeoffset\",    GetTimeOffset()));\n-    obj.push_back(Pair(\"connections\",   (int)vNodes.size()));\n-    obj.push_back(Pair(\"proxy\",         (proxy.IsValid() ? proxy.ToStringIPPort() : string())));\n-    obj.push_back(Pair(\"relayfee\",      ValueFromAmount(::minRelayTxFee.GetFeePerK())));\n+    obj.push_back(Pair(\"version\",                   (int)CLIENT_VERSION));\n+    obj.push_back(Pair(\"protocolversion\",           (int)PROTOCOL_VERSION));\n+    obj.push_back(Pair(\"localservices\",             strprintf(\"%016x\", nLocalServices)));\n+    obj.push_back(Pair(\"timeoffset\",                GetTimeOffset()));\n+    obj.push_back(Pair(\"connections\",               (int)vNodes.size()));\n+    obj.push_back(Pair(\"relayfee\",                  ValueFromAmount(::minRelayTxFee.GetFeePerK())));\n     Array localAddresses;\n     {\n         LOCK(cs_mapLocalHost);\n         BOOST_FOREACH(const PAIRTYPE(CNetAddr, LocalServiceInfo) &item, mapLocalHost)\n         {\n             Object rec;\n-            rec.push_back(Pair(\"address\", item.first.ToString()));\n-            rec.push_back(Pair(\"port\", item.second.nPort));\n-            rec.push_back(Pair(\"score\", item.second.nScore));\n+            rec.push_back(Pair(\"address\",   item.first.ToString()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15407935",
      "id" : 15407935,
      "original_commit_id" : "e8bbf699f7773b65eb65a7118d6a35c019dec3db",
      "original_position" : 82,
      "path" : "src/rpcnet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15407935",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15408185"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15408185"
         }
      },
      "body" : "@laanwj The idea and logic here is that -proxy could work, so I don't want to exit when -proxy6 or -tor fail to set a proxy.\r\n\r\nAs I wrote in the init description:\r\n<pre>\r\n-try to setup separate Tor proxy, on failure try to setup Tor proxy via default proxy\r\n-try to setup separate IPv6 proxy, on failure try to setup IPv6 proxy via default proxy\r\n</pre>",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-25T15:52:38Z",
      "diff_hunk" : "@@ -801,34 +825,16 @@ bool AppInit2(boost::thread_group& threadGroup)\n         }\n     }\n \n-    CService addrProxy;\n-    bool fProxy = false;\n-    if (mapArgs.count(\"-proxy\")) {\n-        addrProxy = CService(mapArgs[\"-proxy\"], 9050);\n-        if (!addrProxy.IsValid())\n-            return InitError(strprintf(_(\"Invalid -proxy address: '%s'\"), mapArgs[\"-proxy\"]));\n-\n-        if (!IsLimited(NET_IPV4))\n-            SetProxy(NET_IPV4, addrProxy);\n-        if (!IsLimited(NET_IPV6))\n-            SetProxy(NET_IPV6, addrProxy);\n-        SetNameProxy(addrProxy);\n-        fProxy = true;\n-    }\n-\n-    // -onion can override normal proxy, -noonion disables tor entirely\n-    if (!(mapArgs.count(\"-onion\") && mapArgs[\"-onion\"] == \"0\") &&\n-        (fProxy || mapArgs.count(\"-onion\"))) {\n-        CService addrOnion;\n-        if (!mapArgs.count(\"-onion\"))\n-            addrOnion = addrProxy;\n-        else\n-            addrOnion = CService(mapArgs[\"-onion\"], 9050);\n-        if (!addrOnion.IsValid())\n-            return InitError(strprintf(_(\"Invalid -onion address: '%s'\"), mapArgs[\"-onion\"]));\n-        SetProxy(NET_TOR, addrOnion);\n-        SetReachable(NET_TOR);\n-    }\n+    // check for presence of default proxy to reach peers via IPv4\n+    if (!ProxyInit(NET_IPV4, \"-proxy\", true))\n+        return false; // errors with default proxy lead to exit\n+    // enable outgoing IPv6/Tor connections for default proxy (if no separate SOCKS5 proxy for IPv6/Tor will be used)\n+    if (!ProxyInit(NET_IPV6, \"-proxy6\", false))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15408185",
      "id" : 15408185,
      "original_commit_id" : "e8bbf699f7773b65eb65a7118d6a35c019dec3db",
      "original_position" : 83,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15408185",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15408717"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15408717"
         }
      },
      "body" : "I'm going to need this for GUI changes later on to visually tell a user, if the default proxy is used for a certain net, I would be glad to keep this. We can remove or improve it later again, if you see the GUI changes and have a better suggestion?",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-25T16:01:21Z",
      "diff_hunk" : "@@ -161,15 +161,17 @@ class CService : public CNetAddr\n             )\n };\n \n-typedef CService proxyType;\n+typedef struct proxyType {\n+    CService addrProxy;\n+    bool fIsDefault;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15408717",
      "id" : 15408717,
      "original_commit_id" : "e8bbf699f7773b65eb65a7118d6a35c019dec3db",
      "original_position" : 7,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15408717",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15408826"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15408826"
         }
      },
      "body" : "@laanwj Can it be a problem if someone is using -onlynet=IPv6 for example and we use this? Can you think of a better way to select the right proxy used for name resolution?",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-25T16:02:51Z",
      "diff_hunk" : "@@ -1233,7 +1233,7 @@ void ThreadDNSAddressSeed()\n     LogPrintf(\"Loading addresses from DNS seeds (could take a while)\\n\");\n \n     BOOST_FOREACH(const CDNSSeedData &seed, vSeeds) {\n-        if (HaveNameProxy()) {\n+        if (HaveProxy(NET_IPV4)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15408826",
      "id" : 15408826,
      "original_commit_id" : "caea6b3986ad7e52e48d79cff533e04d0a2c3fa5",
      "original_position" : 5,
      "path" : "src/net.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15408826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Just an idea:\r\nOnly have -proxy, but allow it multiple times: -proxy=&lt;ip:port[:net]&gt;\r\nnet=IPv4, IPv6 or onion. Not specifying net means IPv4 and IPv6 (default).\r\n\r\n",
      "created_at" : "2014-07-26T02:51:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-50221318",
      "id" : 50221318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-07-26T02:51:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50221318",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "@cozz That's not more clear to me than the current scheme IMO. Let's not break backwards compatibility for no good reason.\r\n",
      "created_at" : "2014-07-26T05:13:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-50223718",
      "id" : 50223718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-07-26T05:13:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50223718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15432199"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15432199"
         }
      },
      "body" : "There is no better way. With a name you don't know if it is IPv4 or IPv6. Ofcourse you *can* know if it is onion/tor if it ends in `.onion`.\r\n\r\n*But* as I said before there is no good reason for allowing different proxies for IPv4 and IPv6. This is not possible right now and I do not intend to add this functionality. \r\n\r\nHaving a 'clearnet proxy' (`-proxy`) and a 'onion net proxy' (`-onion`) is enough. This makes this code valid: we just define NET_IPV4 to be the 'clearnet proxy'. \r\nInternally the proxy for NET_IPV6 should always be the same as that for NET_IPV4.\r\n\r\n",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-26T05:19:21Z",
      "diff_hunk" : "@@ -1233,7 +1233,7 @@ void ThreadDNSAddressSeed()\n     LogPrintf(\"Loading addresses from DNS seeds (could take a while)\\n\");\n \n     BOOST_FOREACH(const CDNSSeedData &seed, vSeeds) {\n-        if (HaveNameProxy()) {\n+        if (HaveProxy(NET_IPV4)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15432199",
      "id" : 15432199,
      "original_commit_id" : "caea6b3986ad7e52e48d79cff533e04d0a2c3fa5",
      "original_position" : 5,
      "path" : "src/net.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15432199",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15432258"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15432258"
         }
      },
      "body" : "Let me try to explain it differently. I want to move forward to an architecture in which details of *how* the options are configured are redundant after initialization. For the core to run it only needs configuration values. Speaking on a high level a list of (option, value) tuples goes in, and you get back a running node.\r\n\r\nPart of this is separating out the option processing from Init(). This function could also return the data that you need for the UI.\r\n\r\nBut adding a fIsDefault on the core proxyType feels like a kludge.\r\n\r\n",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-26T05:30:38Z",
      "diff_hunk" : "@@ -161,15 +161,17 @@ class CService : public CNetAddr\n             )\n };\n \n-typedef CService proxyType;\n+typedef struct proxyType {\n+    CService addrProxy;\n+    bool fIsDefault;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15432258",
      "id" : 15432258,
      "original_commit_id" : "e8bbf699f7773b65eb65a7118d6a35c019dec3db",
      "original_position" : 7,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15432258",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15459069"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15459069"
         }
      },
      "body" : "The third commit removes fIsDefault, like you suggested. Also this isn't needed anymore for the GUI.",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-28T12:31:46Z",
      "diff_hunk" : "@@ -161,15 +161,17 @@ class CService : public CNetAddr\n             )\n };\n \n-typedef CService proxyType;\n+typedef struct proxyType {\n+    CService addrProxy;\n+    bool fIsDefault;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15459069",
      "id" : 15459069,
      "original_commit_id" : "e8bbf699f7773b65eb65a7118d6a35c019dec3db",
      "original_position" : 7,
      "path" : "src/netbase.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:53:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15459069",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15459119"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15459119"
         }
      },
      "body" : "Right, I'm going to remove -proxy6, how you described it makes sense!\r\n@laanwj 4th commit reverts -proxy6 :).",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-28T12:33:19Z",
      "diff_hunk" : "@@ -1233,7 +1233,7 @@ void ThreadDNSAddressSeed()\n     LogPrintf(\"Loading addresses from DNS seeds (could take a while)\\n\");\n \n     BOOST_FOREACH(const CDNSSeedData &seed, vSeeds) {\n-        if (HaveNameProxy()) {\n+        if (HaveProxy(NET_IPV4)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15459119",
      "id" : 15459119,
      "original_commit_id" : "caea6b3986ad7e52e48d79cff533e04d0a2c3fa5",
      "original_position" : 5,
      "path" : "src/net.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-28T12:54:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15459119",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p2575_bb977eaccc5daeda5a05139f916fc4d00fe9f5ef/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-07-28T13:25:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-50337196",
      "id" : 50337196,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-07-28T13:25:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50337196",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "@laanwj If you can re-check the latest changes, I'm able to squash this into 2 commits and will rebase the GUI pull onto this.",
      "created_at" : "2014-07-30T07:55:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-50584860",
      "id" : 50584860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-07-30T07:55:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50584860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15576734"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15576734"
         }
      },
      "body" : "We still have a potential problem here. If NET_IPV4 is set as limited, the HaveProxy(NET_IPV4) will not be set due to the condition in ProxyInit. So my idea mentioned above to always use IPV4 proxy falls apart.\r\n\r\nMay be better to bring back the query for NameProxy but not the setter counterparts. Just pick the first proxy of IPV4/IPV6 that is actually set.\r\n\r\nSee here for my take on it: https://github.com/laanwj/bitcoin/commit/def586ab569ef62e5e1af8ca17817a903eb39dad\r\n",
      "commit_id" : "bb977eaccc5daeda5a05139f916fc4d00fe9f5ef",
      "created_at" : "2014-07-30T10:52:11Z",
      "diff_hunk" : "@@ -1233,7 +1233,7 @@ void ThreadDNSAddressSeed()\n     LogPrintf(\"Loading addresses from DNS seeds (could take a while)\\n\");\n \n     BOOST_FOREACH(const CDNSSeedData &seed, vSeeds) {\n-        if (HaveNameProxy()) {\n+        if (HaveProxy(NET_IPV4)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#discussion_r15576734",
      "id" : 15576734,
      "original_commit_id" : "caea6b3986ad7e52e48d79cff533e04d0a2c3fa5",
      "original_position" : 5,
      "path" : "src/net.cpp",
      "position" : 5,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2575",
      "updated_at" : "2014-07-30T10:52:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15576734",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "See #4605 for my take on the RPC changes. I've added some more information per network.\r\n",
      "created_at" : "2014-07-30T13:43:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-50615670",
      "id" : 50615670,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-07-30T13:43:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/50615670",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Did you close your nameproxy pull?",
      "created_at" : "2014-08-04T08:55:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-51032226",
      "id" : 51032226,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-08-04T08:55:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51032226",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I never had it as pull, because I'm not sure how I want to handle that yet. I may submit it as pull as some point.",
      "created_at" : "2014-08-04T09:24:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-51034823",
      "id" : 51034823,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-08-04T09:24:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51034823",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj If I remove the nameproxy changes are you fine with this then?",
      "created_at" : "2014-08-07T08:28:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-51444375",
      "id" : 51444375,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-08-07T08:28:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51444375",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo Also the RPC changes can be removed (in favor of #4605) .So to just keep the initialization changes? I think that would be a good unit to split off.\r\n",
      "created_at" : "2014-08-12T18:06:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-51953012",
      "id" : 51953012,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-08-12T18:06:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51953012",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj I'll rework this when I'm back in a few days.",
      "created_at" : "2014-08-14T13:26:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-52182345",
      "id" : 52182345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-08-14T13:26:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52182345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Closing this one for now. This thread has gotten too 'messy'. If you intend to do a reworked version at some point that just changes initialization, I'd suggest opening a new pull.",
      "created_at" : "2014-09-01T08:03:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2575#issuecomment-54031884",
      "id" : 54031884,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2575",
      "updated_at" : "2014-09-01T08:03:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54031884",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
