{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "The coin control dialog has a single static CCoinControl object (declared in CoinControlDialog::coinControl) that it uses for all purposes.\r\n\r\nThis causes an inappropriate mixing of state between different wallets, when multiple are loaded at the same time and you flip back and forth between them while using coin control on the sending page.\r\n\r\nFor example, pick a wallet, use coin control to select a UTXO, hit OK. Then switch to a different wallet -- so far nothing will be wrong -- but now open coin control again. The UTXO in the other wallet is still selected (it will show in the summary at the top), but is not visible and can't be unselected. If you now click 'ok', the main send pane will show that there is a UTXO (from the other wallet) selected.\r\n\r\nI can't reproduce this 100% reliably, but if I have several wallets open I can reliably make \"weird broken shit\" happen with a few tries.\r\n\r\nWhen I try to perform a send in this state (having selected a UTXO that does not belong to the current wallet) I get an insufficient balance error (even though both the current wallet and the selected UTXO have sufficient balance.)\r\n\r\nI think the only reasonable and correct way to fix this is to rip out the static CCoinControl object, and replace it with a per-wallet one. I am happy to do this ... at some point.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15725/comments",
   "created_at" : "2019-04-03T08:24:06Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15725/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/15725",
   "id" : 428628690,
   "labels" : [
      {
         "color" : "02d7e1",
         "default" : false,
         "id" : 135946,
         "name" : "GUI",
         "node_id" : "MDU6TGFiZWwxMzU5NDY=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI"
      },
      {
         "color" : "08a781",
         "default" : false,
         "id" : 149424,
         "name" : "Wallet",
         "node_id" : "MDU6TGFiZWwxNDk0MjQ=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15725/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU0Mjg2Mjg2OTA=",
   "number" : 15725,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Manual coin control dialog interacts badly with multiple wallets",
   "updated_at" : "2019-04-04T19:27:26Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15725",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/458997?v=4",
      "events_url" : "https://api.github.com/users/gwillen/events{/privacy}",
      "followers_url" : "https://api.github.com/users/gwillen/followers",
      "following_url" : "https://api.github.com/users/gwillen/following{/other_user}",
      "gists_url" : "https://api.github.com/users/gwillen/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/gwillen",
      "id" : 458997,
      "login" : "gwillen",
      "node_id" : "MDQ6VXNlcjQ1ODk5Nw==",
      "organizations_url" : "https://api.github.com/users/gwillen/orgs",
      "received_events_url" : "https://api.github.com/users/gwillen/received_events",
      "repos_url" : "https://api.github.com/users/gwillen/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/gwillen/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/gwillen/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/gwillen"
   }
}
