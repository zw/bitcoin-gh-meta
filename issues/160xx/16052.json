{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Using a `debian:buster-slim` Docker container, [available here](https://github.com/fanquake/core-review/blob/master/docker/debian.dockerfile), doing a depends build for `x86_64-apple-darwin14`, `cctools` bombs out with the following in `config.log`:\r\n```bash\r\nconfigure:3616: checking for x86_64-pc-linux-gnu-gcc\r\nconfigure:3643: result: /bitcoin/depends/work/build/x86_64-apple-darwin14/native_cctools/807d6fd1be5d2224872e381870c0a75387fe05e6-3e0a7ea9e07/toolchain/bin/clang\r\nconfigure:3912: checking for C compiler version\r\nconfigure:3921: /bitcoin/depends/work/build/x86_64-apple-darwin14/native_cctools/807d6fd1be5d2224872e381870c0a75387fe05e6-3e0a7ea9e07/toolchain/bin/clang --version >&5\r\nclang version 3.7.1 (tags/RELEASE_371/final)\r\nTarget: x86_64-unknown-linux-gnu\r\nThread model: posix\r\nconfigure:3932: $? = 0\r\nconfigure:3921: /bitcoin/depends/work/build/x86_64-apple-darwin14/native_cctools/807d6fd1be5d2224872e381870c0a75387fe05e6-3e0a7ea9e07/toolchain/bin/clang -v >&5\r\nclang version 3.7.1 (tags/RELEASE_371/final)\r\nTarget: x86_64-unknown-linux-gnu\r\nThread model: posix\r\nconfigure:3932: $? = 0\r\nconfigure:3921: /bitcoin/depends/work/build/x86_64-apple-darwin14/native_cctools/807d6fd1be5d2224872e381870c0a75387fe05e6-3e0a7ea9e07/toolchain/bin/clang -V >&5\r\nclang-3.7: error: argument to '-V' is missing (expected 1 value)\r\nclang-3.7: error: no input files\r\nconfigure:3932: $? = 1\r\nconfigure:3921: /bitcoin/depends/work/build/x86_64-apple-darwin14/native_cctools/807d6fd1be5d2224872e381870c0a75387fe05e6-3e0a7ea9e07/toolchain/bin/clang -qversion >&5\r\nclang-3.7: error: unknown argument: '-qversion'\r\nclang-3.7: error: no input files\r\nconfigure:3932: $? = 1\r\nconfigure:3952: checking whether the C compiler works\r\nconfigure:3974: /bitcoin/depends/work/build/x86_64-apple-darwin14/native_cctools/807d6fd1be5d2224872e381870c0a75387fe05e6-3e0a7ea9e07/toolchain/bin/clang -O3 -I/bitcoin/depends/x86_64-apple-darwin14/native/include     -L/bitcoin/depends/x86_64-apple-darwin14/native/lib -Wl,-rpath=\\$$ORIGIN/../lib     conftest.c  >&5\r\n/usr/bin/ld: cannot find crtbegin.o: No such file or directory\r\n/usr/bin/ld: cannot find -lgcc\r\n/usr/bin/ld: cannot find -lgcc_s\r\nclang-3.7: error: linker command failed with exit code 1 (use -v to see invocation)\r\nconfigure:3978: $? = 1\r\nconfigure:4016: result: no\r\nconfigure: failed program was:\r\n| /* confdefs.h */\r\n| #define PACKAGE_NAME \"cctools\"\r\n| #define PACKAGE_TARNAME \"cctools\"\r\n| #define PACKAGE_VERSION \"877.8\"\r\n| #define PACKAGE_STRING \"cctools 877.8\"\r\n| #define PACKAGE_BUGREPORT \"t.poechtrager@gmail.com\"\r\n| #define PACKAGE_URL \"\"\r\n| /* end confdefs.h.  */\r\n| \r\n| int\r\n| main ()\r\n| {\r\n| \r\n|   ;\r\n|   return 0;\r\n| }\r\nconfigure:4021: error: in `/bitcoin/depends/work/build/x86_64-apple-darwin14/native_cctools/807d6fd1be5d2224872e381870c0a75387fe05e6-3e0a7ea9e07/cctools':\r\nconfigure:4023: error: C compiler cannot create executables\r\nSee `config.log' for more details\r\n```\r\n\r\nCross-compiling with a `debian:stretch-slim` container works file, so my assumption is a change in Busters newer GCC (`8.3.0`) has broken our older Clang (`3.7.1`).\r\n\r\nA a similar issue [appeared in Clang previously](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=754963), which produced similar output, and was resolved in LLVM [here](https://reviews.llvm.org/rL213388).",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16052/comments",
   "created_at" : "2019-05-20T06:43:07Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16052/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/16052",
   "id" : 445946933,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      },
      {
         "color" : "660000",
         "default" : false,
         "id" : 234879,
         "name" : "macOS",
         "node_id" : "MDU6TGFiZWwyMzQ4Nzk=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16052/labels{/name}",
   "locked" : false,
   "milestone" : {
      "closed_at" : null,
      "closed_issues" : 36,
      "created_at" : "2018-05-31T19:40:07Z",
      "creator" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      },
      "description" : null,
      "due_on" : null,
      "html_url" : "https://github.com/bitcoin/bitcoin/milestone/37",
      "id" : 3391434,
      "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/37/labels",
      "node_id" : "MDk6TWlsZXN0b25lMzM5MTQzNA==",
      "number" : 37,
      "open_issues" : 19,
      "state" : "open",
      "title" : "0.19.0",
      "updated_at" : "2019-05-20T18:06:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/milestones/37"
   },
   "node_id" : "MDU6SXNzdWU0NDU5NDY5MzM=",
   "number" : 16052,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "depends: Issue cross compiling for macOS on Debian Buster",
   "updated_at" : "2019-05-20T17:05:54Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16052",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
