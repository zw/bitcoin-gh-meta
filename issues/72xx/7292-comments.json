[
   {
      "body" : "Concept ACK",
      "created_at" : "2016-01-05T03:19:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-168881433",
      "id" : 168881433,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-05T03:19:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/168881433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Concept ACK.\r\nSome concrete use-cases would be nice.\r\nNice to see the new RPC commands `cs_main` lock free.",
      "created_at" : "2016-01-05T08:08:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-168930592",
      "id" : 168930592,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-05T08:08:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/168930592",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Updated to remove dead code I inadvertently left in `rpcblockchain.cpp`.",
      "created_at" : "2016-01-05T14:28:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-169015862",
      "id" : 169015862,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-05T14:28:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169015862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "Here's an example of a tool that would benefit from the getdescendants function:\r\nhttps://github.com/sdaftuar/replace-by-fee-tools/blob/d0121b03d02c1a7e5e16425b55da1302ddf081aa/combine-transactions.py\r\n\r\nThis is a script that takes two txid's (that are signaling opt-in RBF) and combines them down to one -- consolidating duplicate output addresses (if any) and removing pay-to-self outputs, assumed for demo purposes to be change outputs -- and paying for all fees including those of descendants.  The main idea is that this avoids over-paying for descendants -- it calls getdescendants on each transaction and takes the union of the two sets so that each descendant is paid for once.  I don't know any simple or straightforward way to do this without this new RPC call.\r\n\r\nThere are similar benefits to having getancestors, such as if you wanted to understand why a stuck transaction wasn't confirming, then getancestors would give you the set of unconfirmed parents to look at (and you could write a replace-by-fee-tool that was smart enough to drop an input coming from a stuck unconfirmed parent, when possible, to replace a transaction with one likely to confirm sooner; or better still, replace such a stuck parent instead if possible).",
      "created_at" : "2016-01-06T18:43:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-169416234",
      "id" : 169416234,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-06T18:43:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169416234",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "Ultra nit before reading the code: it's not obvious from the RPC names that\nit's about the mempool.\n",
      "created_at" : "2016-01-06T19:14:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-169425046",
      "id" : 169425046,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-06T19:14:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169425046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa True.  Perhaps `getmempoolancestors/getmempooldescendants`?  I'm open to suggestions.\r\n\r\n@laanwj if this code is ok I think it would make sense to include this in 0.12",
      "created_at" : "2016-01-07T13:20:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-169661350",
      "id" : 169661350,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-07T13:20:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/169661350",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "Updated with new RPC names (`getmempoolancestors` and `getmempooldescendants`).",
      "created_at" : "2016-01-12T14:03:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-170920648",
      "id" : 170920648,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-12T14:03:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/170920648",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "Any reason not to just add the ancestors/descendants info to getrawmempool (and also the getmempoolentry)?",
      "created_at" : "2016-01-15T17:38:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-172027998",
      "id" : 172027998,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-15T17:38:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172027998",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "The goal was to avoid having to dump the entire mempool if you were only interested in a very small subset of it.  But I suppose there's no reason we couldn't also show the txid's of ancestors and descendants when you call `getrawmempool` (with verbose=true).  If that seems useful, I'm happy to add that.\r\n\r\n(edited)\r\nOh, right, you are suggesting that, and then yes I agree it would also make sense to update `getmempoolentry` to match.  Sure, I'll go ahead and do that.",
      "created_at" : "2016-01-15T17:48:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-172031960",
      "id" : 172031960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-15T17:52:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172031960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "@luke-jr  On further thought, the downside to that is that doing the calculation could cause `getrawmempool` to get up to ~25x slower (default policy allows length 25 ancestor and descendant chains, and the calculation of ancestors and descendants requires walking those chains), which on a full mempool could be a meaningful -- and perhaps unacceptable? -- slowdown.\r\n\r\nThe other possibility would be to add a new option to `getrawmempool` to determine whether to do the calculation or not, but I think we try to avoid adding new arguments to existing RPC calls?  So now I think it's probably better to leave as-is.  Let me know if you disagree...",
      "created_at" : "2016-01-18T15:45:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-172566178",
      "id" : 172566178,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-18T15:45:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/172566178",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2016-01-22T15:55:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-173960074",
      "id" : 173960074,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-01-22T15:55:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/173960074",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Needs rebase.",
      "created_at" : "2016-02-03T11:34:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-179178339",
      "id" : 179178339,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-02-03T11:34:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/179178339",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Rebased.  There weren't any actual conflicts though, so not sure why github thought it wouldn't merge cleanly?",
      "created_at" : "2016-02-11T20:47:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7292#issuecomment-183054628",
      "id" : 183054628,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7292",
      "updated_at" : "2016-02-11T20:47:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/183054628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   }
]
