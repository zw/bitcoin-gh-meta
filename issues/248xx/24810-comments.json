[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems that there is no information in `debug.log` about the error.\r\nCan the error file `/home/bitcoin/.bitcoin/break2/db.log` have anything?",
      "created_at" : "2022-04-08T18:49:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24810#issuecomment-1093225801",
      "id" : 1093225801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24810",
      "node_id" : "IC_kwDOABII585BKU1J",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1093225801/reactions"
      },
      "updated_at" : "2022-04-08T18:49:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1093225801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "No, it's empty. Here are the contents of the wallet folder if it helps. The db.log file is empty and wallet.dat is missing.\r\n\r\n```\r\nadmin@mynode:~$ sudo ls -lsa /home/bitcoin/.bitcoin/break2/\r\ntotal 12\r\n4 drwx------ 3 bitcoin bitcoin 4096 Apr  8 13:27 .\r\n4 drwxr-xr-x 7 bitcoin bitcoin 4096 Apr  8 13:43 ..\r\n4 drwx------ 2 bitcoin bitcoin 4096 Apr  8 13:27 database\r\n0 -rw------- 1 bitcoin bitcoin    0 Apr  8 13:27 db.log\r\n0 -rw------- 1 bitcoin bitcoin    0 Apr  8 13:27 .walletlock\r\nadmin@mynode:~$\r\n```",
      "created_at" : "2022-04-08T18:55:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24810#issuecomment-1093242300",
      "id" : 1093242300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24810",
      "node_id" : "IC_kwDOABII585BKY28",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1093242300/reactions"
      },
      "updated_at" : "2022-04-08T18:55:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1093242300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5722611?v=4",
         "events_url" : "https://api.github.com/users/tehelsper/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tehelsper/followers",
         "following_url" : "https://api.github.com/users/tehelsper/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tehelsper/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tehelsper",
         "id" : 5722611,
         "login" : "tehelsper",
         "node_id" : "MDQ6VXNlcjU3MjI2MTE=",
         "organizations_url" : "https://api.github.com/users/tehelsper/orgs",
         "received_events_url" : "https://api.github.com/users/tehelsper/received_events",
         "repos_url" : "https://api.github.com/users/tehelsper/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tehelsper/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tehelsper/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tehelsper"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@tehelsper Your issue reminded me of a similar one I am seeing -> #24816.",
      "created_at" : "2022-04-09T22:42:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24810#issuecomment-1094136009",
      "id" : 1094136009,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24810",
      "node_id" : "IC_kwDOABII585BNzDJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1094136009/reactions"
      },
      "updated_at" : "2022-04-09T22:42:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1094136009",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'm having a similar issue on a fresh install of Ubuntu server 22.04. My 20.04 server works fine.\r\n\r\nOn 22.04, the bitcoin-cli just sits there and does nothing for an eternity when you attempt to create a wallet. If you terminate the process, there's no wallet showing in the folder. There's nothing in debug.log relating to the failure.",
      "created_at" : "2022-05-28T18:41:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24810#issuecomment-1140312121",
      "id" : 1140312121,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24810",
      "node_id" : "IC_kwDOABII585D98g5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1140312121/reactions"
      },
      "updated_at" : "2022-05-28T18:41:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1140312121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/105594345?v=4",
         "events_url" : "https://api.github.com/users/nlightenme/events{/privacy}",
         "followers_url" : "https://api.github.com/users/nlightenme/followers",
         "following_url" : "https://api.github.com/users/nlightenme/following{/other_user}",
         "gists_url" : "https://api.github.com/users/nlightenme/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/nlightenme",
         "id" : 105594345,
         "login" : "nlightenme",
         "node_id" : "U_kgDOBks96Q",
         "organizations_url" : "https://api.github.com/users/nlightenme/orgs",
         "received_events_url" : "https://api.github.com/users/nlightenme/received_events",
         "repos_url" : "https://api.github.com/users/nlightenme/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/nlightenme/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/nlightenme/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/nlightenme"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> **Description** I expect to be able to create and load a wallet with Bitcoin CLI using the command \"bitcoin-cli createwallet mywallet.dat\" but it fails and Bitcoin Core crashes. The wallet appears to be partially created and the folder does exist.\r\n> \r\n> I also have that wallet listed as one to load via the config. The crash then causes bitcoin to restart via the systemd service and when it restarts it exits with an error indicating the wallet cannot be read.\r\n> \r\n> **Expected Behavior** I expected the wallet to be created. This works fine on Bitcoin Core 21.2, but fails on 22.0.\r\n> \r\n> **Actual Behavior** Bitcoin crashes and a corrupt wallet is made. This causes Bitcoin to reboot, attempt to read the new wallet, and exit again leading to a cyclic restart.\r\n> \r\n> **Reliability** I can reliably re-create it, but only on one device. On another very similar device, the issue is not present.\r\n> \r\n> **Version** v22.0 from the website.\r\n> \r\n> **Device Info** Debian, amd64.\r\n> \r\n> Linux mynode 4.19.0-20-amd64 #1 SMP Debian 4.19.235-1 (2022-03-17) x86_64 GNU/Linux\r\n> \r\n> **GUI** Not GUI related.\r\n> \r\n> **CLI output when creating wallet**\r\n> \r\n> ```\r\n> admin@mynode:~$ bitcoin-cli createwallet break2\r\n> error: timeout on transient error: Could not connect to the server 127.0.0.1:8332 (error code 1 - \"EOF reached\")\r\n> \r\n> Make sure the bitcoind server is running and that you are connecting to the correct RPC port.\r\n> admin@mynode:~$ \r\n> ```\r\n> \r\n> **Log when creating wallet** (read bottom to top)\r\n> \r\n> ```\r\n> ...\r\n> 2022-04-08T18:28:12Z Bitcoin Core version v22.0.0 (release build)\r\n> \r\n> <crash>\r\n> \r\n> 2022-04-08T18:27:41Z BerkeleyEnvironment::Open: LogDir=/home/bitcoin/.bitcoin/break2/database ErrorFile=/home/bitcoin/.bitcoin/break2/db.log\r\n> 2022-04-08T18:27:41Z Using wallet /home/bitcoin/.bitcoin/break2/wallet.dat\r\n> 2022-04-08T18:27:41Z Using BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010)\r\n> 2022-04-08T18:27:41Z UpdateTip: new best=00000000000000000011ce88f1e73e85f7463f002b093b635e6fbdfb937937c5 height=552252 version=0x20000000 log2_work=90.084721 tx=361369223 date='2018-12-02T09:47:52Z' progress=0.507781 cache=622.6MiB(4620436txo)\r\n> 2022-04-08T18:27:41Z UpdateTip: new best=00000000000000000026cd6e6d1ffad655908877051cc7b7b778d7236ae64e14 height=552251 version=0x20c00000 log2_work=90.084690 tx=361366404 date='2018-12-02T09:25:26Z' progress=0.507777 cache=622.4MiB(4618903txo)\r\n> ```\r\n\r\n https://www.wallsolution.xyz/ had similar issues and i used it and it worked",
      "created_at" : "2022-07-18T01:57:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24810#issuecomment-1186686173",
      "id" : 1186686173,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24810",
      "node_id" : "IC_kwDOABII585Gu2Td",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186686173/reactions"
      },
      "updated_at" : "2022-07-18T01:57:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186686173",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109486040?v=4",
         "events_url" : "https://api.github.com/users/Veterangrail/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Veterangrail/followers",
         "following_url" : "https://api.github.com/users/Veterangrail/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Veterangrail/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Veterangrail",
         "id" : 109486040,
         "login" : "Veterangrail",
         "node_id" : "U_kgDOBoaf2A",
         "organizations_url" : "https://api.github.com/users/Veterangrail/orgs",
         "received_events_url" : "https://api.github.com/users/Veterangrail/received_events",
         "repos_url" : "https://api.github.com/users/Veterangrail/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Veterangrail/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Veterangrail/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Veterangrail"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@tehelsper @nlightenme does this also happen with 23.0?",
      "created_at" : "2022-08-08T14:24:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24810#issuecomment-1208199199",
      "id" : 1208199199,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24810",
      "node_id" : "IC_kwDOABII585IA6gf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1208199199/reactions"
      },
      "updated_at" : "2022-08-08T14:24:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1208199199",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">  I can reliably re-create it, but only on one device. On another very similar device, the issue is not present.\r\n\r\nDid you reproduce on both devices the same way? Did you use self-compiled bdb? What are the exact steps to reproduce (ideally starting from a vanilla install of the OS)?",
      "created_at" : "2022-08-10T09:59:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24810#issuecomment-1210445171",
      "id" : 1210445171,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24810",
      "node_id" : "IC_kwDOABII585IJe1z",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210445171/reactions"
      },
      "updated_at" : "2022-08-10T09:59:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1210445171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
