[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141087275"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141087275"
         }
      },
      "author_association" : "MEMBER",
      "body" : "why not combine `['reject']['status']` with `['active']` below? Once these buried softforks are pinned, an active ISM softfork is equivalent to an active BIP9 softfork.",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T15:10:50Z",
      "diff_hunk" : "@@ -1137,12 +1128,15 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n             \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n-            \"  \\\"softforks\\\": [            (array) status of softforks in progress\\n\"\n+            \"  \\\"softforks\\\": [            (array) status of buried softfork deployments\\n\"\n             \"     {\\n\"\n             \"        \\\"id\\\": \\\"xxxx\\\",        (string) name of softfork\\n\"\n-            \"        \\\"version\\\": xx,         (numeric) block version\\n\"\n-            \"        \\\"reject\\\": {            (object) progress toward rejecting pre-softfork blocks\\n\"\n+            \"        \\\"height\\\": \\\"xxxxxx\\\",  (numeric) height of the first block which the rules are enforced\\n\"\n+            \"        \\\"type\\\": \\\"xxxx\\\",      (string) original activation mechanism (\\\"ism\\\" or \\\"bip9\\\")\\n\"\n+            \"        \\\"version\\\": xx,         (numeric) block version (only for \\\"ism\\\" type)\\n\"\n+            \"        \\\"reject\\\": {            (object) progress toward rejecting pre-softfork blocks (only for \\\"ism\\\" type)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141087275",
      "id" : 141087275,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 62,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 128,
      "pull_request_review_id" : 65251122,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141087275",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141087565"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141087565"
         }
      },
      "author_association" : "MEMBER",
      "body" : "assert is a statement, not a function. This should be:\r\n\r\n`assert get_buried_softforks_status(self.nodes[0], 'csv')`",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T15:11:46Z",
      "diff_hunk" : "@@ -368,12 +368,12 @@ def test_bip68_not_consensus(self):\n         assert_equal(self.nodes[0].getbestblockhash(), block.hash)\n \n     def activateCSV(self):\n-        # activation should happen at block height 432 (3 periods)\n-        min_activation_height = 432\n+        # activation should happen at block height 576 (4 periods)\n+        min_activation_height = 576\n         height = self.nodes[0].getblockcount()\n         assert(height < min_activation_height)\n         self.nodes[0].generate(min_activation_height-height)\n-        assert(get_bip9_status(self.nodes[0], 'csv')['status'] == 'active')\n+        assert(get_buried_softforks_status(self.nodes[0], 'csv'))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141087565",
      "id" : 141087565,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 21,
      "path" : "test/functional/bip68-sequence.py",
      "position" : null,
      "pull_request_review_id" : 65251122,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141087565",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141087838"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141087838"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: prefer a name like `buried_softfork_active()`, since this is returning a bool (True if the softfork is active)",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T15:12:27Z",
      "diff_hunk" : "@@ -308,6 +308,15 @@ def get_bip9_status(node, key):\n     info = node.getblockchaininfo()\n     return info['bip9_softforks'][key]\n \n+def get_buried_softforks_status(node, key):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141087838",
      "id" : 141087838,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 4,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 65251122,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141087838",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141088460"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141088460"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't understand what this is supposed to be doing. This will always assert if we drop down to this line (a string has truthiness `True`, so `not \"string\"` is always `False`)",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T15:14:19Z",
      "diff_hunk" : "@@ -308,6 +308,15 @@ def get_bip9_status(node, key):\n     info = node.getblockchaininfo()\n     return info['bip9_softforks'][key]\n \n+def get_buried_softforks_status(node, key):\n+    for fork in node.getblockchaininfo()['softforks']:\n+        if fork['id'] == key:\n+            if fork['type'] == \"ism\":\n+                return fork['reject']['status']\n+            else:\n+                return fork['active']\n+    assert(not \"unknown softfork\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141088460",
      "id" : 141088460,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 11,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 65251122,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141088460",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141125600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141125600"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No special reason. I just want to keep existing response untouched",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T17:25:32Z",
      "diff_hunk" : "@@ -1137,12 +1128,15 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n             \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n-            \"  \\\"softforks\\\": [            (array) status of softforks in progress\\n\"\n+            \"  \\\"softforks\\\": [            (array) status of buried softfork deployments\\n\"\n             \"     {\\n\"\n             \"        \\\"id\\\": \\\"xxxx\\\",        (string) name of softfork\\n\"\n-            \"        \\\"version\\\": xx,         (numeric) block version\\n\"\n-            \"        \\\"reject\\\": {            (object) progress toward rejecting pre-softfork blocks\\n\"\n+            \"        \\\"height\\\": \\\"xxxxxx\\\",  (numeric) height of the first block which the rules are enforced\\n\"\n+            \"        \\\"type\\\": \\\"xxxx\\\",      (string) original activation mechanism (\\\"ism\\\" or \\\"bip9\\\")\\n\"\n+            \"        \\\"version\\\": xx,         (numeric) block version (only for \\\"ism\\\" type)\\n\"\n+            \"        \\\"reject\\\": {            (object) progress toward rejecting pre-softfork blocks (only for \\\"ism\\\" type)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141125600",
      "id" : 141125600,
      "in_reply_to_id" : 141087275,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 62,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 128,
      "pull_request_review_id" : 65295203,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141125600",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141127102"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141127102"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It would drop down to this line only if `key` is not found in the results of `getblockchaininfo()`. I want it to exit with the error \"unknown softfork\" printed",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T17:31:08Z",
      "diff_hunk" : "@@ -308,6 +308,15 @@ def get_bip9_status(node, key):\n     info = node.getblockchaininfo()\n     return info['bip9_softforks'][key]\n \n+def get_buried_softforks_status(node, key):\n+    for fork in node.getblockchaininfo()['softforks']:\n+        if fork['id'] == key:\n+            if fork['type'] == \"ism\":\n+                return fork['reject']['status']\n+            else:\n+                return fork['active']\n+    assert(not \"unknown softfork\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141127102",
      "id" : 141127102,
      "in_reply_to_id" : 141088460,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 11,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 65296929,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141127102",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery \r\n1. Yes it needs a BIP. Not sure if it should be added to BIP90, or have a new BIP\r\n2. It's because `bip68-112-113-p2p.py` activates it at 576",
      "created_at" : "2017-09-26T17:34:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-332275775",
      "id" : 332275775,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-09-26T17:34:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332275775",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141143019"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141143019"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ok, in that case you can be much more compact:\r\n\r\n```python\r\ndef get_buried_softforks_status(node, key):\r\n    softforks = [sf for sf in node.getblockchaininfo()['softforks'] if sf['id'] == key]\r\n    assert softforks, \"get_buried_softforks_status() called with invalid softfork %s\" % key\r\n    return softforks[0]['active']\r\n```\r\n\r\n(assuming you make the change from `['reject']['status']` with `['active']` suggested above)",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T18:26:19Z",
      "diff_hunk" : "@@ -308,6 +308,15 @@ def get_bip9_status(node, key):\n     info = node.getblockchaininfo()\n     return info['bip9_softforks'][key]\n \n+def get_buried_softforks_status(node, key):\n+    for fork in node.getblockchaininfo()['softforks']:\n+        if fork['id'] == key:\n+            if fork['type'] == \"ism\":\n+                return fork['reject']['status']\n+            else:\n+                return fork['active']\n+    assert(not \"unknown softfork\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141143019",
      "id" : 141143019,
      "in_reply_to_id" : 141088460,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 11,
      "path" : "test/functional/test_framework/util.py",
      "position" : null,
      "pull_request_review_id" : 65314938,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141143019",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141146835"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141146835"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can remove these two lines",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T18:40:09Z",
      "diff_hunk" : "@@ -13,11 +13,8 @@\n activation after a further 144 blocks",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141146835",
      "id" : 141146835,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 1,
      "path" : "test/functional/bip68-112-113-p2p.py",
      "position" : null,
      "pull_request_review_id" : 65319251,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141146835",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141148275"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141148275"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I suggest you change this to 432 to avoid having to change bip68-sequence.py",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T18:45:08Z",
      "diff_hunk" : "@@ -271,6 +263,7 @@ class CRegTestParams : public CChainParams {\n         consensus.BIP34Hash = uint256();\n         consensus.BIP65Height = 1351; // BIP65 activated on regtest (Used in rpc activation tests)\n         consensus.BIP66Height = 1251; // BIP66 activated on regtest (Used in rpc activation tests)\n+        consensus.CSVHeight = 576; // CSV activated on regtest (Used in rpc activation tests)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141148275",
      "id" : 141148275,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 44,
      "path" : "src/chainparams.cpp",
      "position" : null,
      "pull_request_review_id" : 65319251,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141148275",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141148370"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141148370"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Suggestion: Change this to 345",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T18:45:25Z",
      "diff_hunk" : "@@ -209,35 +206,10 @@ def get_tests(self):\n         self.tip = int(\"0x\" + self.nodes[0].getbestblockhash(), 0)\n         self.nodeaddress = self.nodes[0].getnewaddress()\n \n-        assert_equal(get_bip9_status(self.nodes[0], 'csv')['status'], 'defined')\n-        test_blocks = self.generate_blocks(61, 4)\n+        # Activation height is hardcoded and the softfork will active with any block version\n+        test_blocks = self.generate_blocks(489, 4)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141148370",
      "id" : 141148370,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 21,
      "path" : "test/functional/bip68-112-113-p2p.py",
      "position" : null,
      "pull_request_review_id" : 65319251,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141148370",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141148442"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141148442"
         }
      },
      "author_association" : "MEMBER",
      "body" : "assert is a statement, not a function",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-26T18:45:39Z",
      "diff_hunk" : "@@ -275,9 +247,9 @@ def get_tests(self):\n \n         # 2 more version 4 blocks\n         test_blocks = self.generate_blocks(2, 4)\n-        yield TestInstance(test_blocks, sync_every_block=False) # 5\n+        yield TestInstance(test_blocks, sync_every_block=False) # 2\n         # Not yet advanced to ACTIVE, height = 574 (will activate for block 576, not 575)\n-        assert_equal(get_bip9_status(self.nodes[0], 'csv')['status'], 'locked_in')\n+        assert(not get_buried_softforks_status(self.nodes[0], 'csv'))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141148442",
      "id" : 141148442,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 61,
      "path" : "test/functional/bip68-112-113-p2p.py",
      "position" : null,
      "pull_request_review_id" : 65319251,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141148442",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If this is getting a BIP (I agree thats reasonable) it should perhaps be bundled with the ones for BIP143/BIP147.",
      "created_at" : "2017-09-27T00:56:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-332377472",
      "id" : 332377472,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-09-27T00:56:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332377472",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "As suggested I made another commit to hardcode SEGWIT deployment. To make it compatible with #11403, segwit is always active on regtest, unless overridden",
      "created_at" : "2017-09-27T18:16:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-332610478",
      "id" : 332610478,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-09-27T18:16:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332610478",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141445169"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141445169"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I honestly think `['reject']['status']` makes almost no sense in a post-ISM world. This PR is already a breaking API change (`getblockchaininfo` RPC no longer returns `bip9_softforks['csv']`) so why not use the opportunity to rationalize the way the information is presented to the user?",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-27T19:32:11Z",
      "diff_hunk" : "@@ -1137,12 +1128,15 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n             \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n-            \"  \\\"softforks\\\": [            (array) status of softforks in progress\\n\"\n+            \"  \\\"softforks\\\": [            (array) status of buried softfork deployments\\n\"\n             \"     {\\n\"\n             \"        \\\"id\\\": \\\"xxxx\\\",        (string) name of softfork\\n\"\n-            \"        \\\"version\\\": xx,         (numeric) block version\\n\"\n-            \"        \\\"reject\\\": {            (object) progress toward rejecting pre-softfork blocks\\n\"\n+            \"        \\\"height\\\": \\\"xxxxxx\\\",  (numeric) height of the first block which the rules are enforced\\n\"\n+            \"        \\\"type\\\": \\\"xxxx\\\",      (string) original activation mechanism (\\\"ism\\\" or \\\"bip9\\\")\\n\"\n+            \"        \\\"version\\\": xx,         (numeric) block version (only for \\\"ism\\\" type)\\n\"\n+            \"        \\\"reject\\\": {            (object) progress toward rejecting pre-softfork blocks (only for \\\"ism\\\" type)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141445169",
      "id" : 141445169,
      "in_reply_to_id" : 141087275,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 62,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 128,
      "pull_request_review_id" : 65660400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141445169",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141448246"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141448246"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`9` seems like an abuse of the `version` field here",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-27T19:45:15Z",
      "diff_hunk" : "@@ -1185,11 +1179,11 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n     CBlockIndex* tip = chainActive.Tip();\n     UniValue softforks(UniValue::VARR);\n     UniValue bip9_softforks(UniValue::VOBJ);\n-    softforks.push_back(SoftForkDesc(\"bip34\", 2, tip, consensusParams));\n-    softforks.push_back(SoftForkDesc(\"bip66\", 3, tip, consensusParams));\n-    softforks.push_back(SoftForkDesc(\"bip65\", 4, tip, consensusParams));\n-    BIP9SoftForkDescPushBack(bip9_softforks, \"csv\", consensusParams, Consensus::DEPLOYMENT_CSV);\n-    BIP9SoftForkDescPushBack(bip9_softforks, \"segwit\", consensusParams, Consensus::DEPLOYMENT_SEGWIT);\n+    softforks.push_back(BuriedSoftForkDesc(\"bip34\", 2, tip, consensusParams.BIP34Height));\n+    softforks.push_back(BuriedSoftForkDesc(\"bip66\", 3, tip, consensusParams.BIP66Height));\n+    softforks.push_back(BuriedSoftForkDesc(\"bip65\", 4, tip, consensusParams.BIP65Height));\n+    softforks.push_back(BuriedSoftForkDesc(\"csv\", 9, tip, consensusParams.CSVHeight));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141448246",
      "id" : 141448246,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 80,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 65664005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141448246",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141448858"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141448858"
         }
      },
      "author_association" : "MEMBER",
      "body" : "just pass `height` by value",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-27T19:47:52Z",
      "diff_hunk" : "@@ -1048,33 +1048,24 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip, nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n-\n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+/** For buried softforks */\n+static UniValue BuriedSoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const int &height)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141448858",
      "id" : 141448858,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 27,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 65664005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141448858",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141449373"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141449373"
         }
      },
      "author_association" : "MEMBER",
      "body" : "not addressed in 48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-27T19:50:04Z",
      "diff_hunk" : "@@ -13,11 +13,8 @@\n activation after a further 144 blocks",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141449373",
      "id" : 141449373,
      "in_reply_to_id" : 141146835,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 1,
      "path" : "test/functional/bip68-112-113-p2p.py",
      "position" : null,
      "pull_request_review_id" : 65664005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141449373",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141449978"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141449978"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This (and other comments in this test) need to be changed to reflect CSV activation at height 432",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-27T19:52:38Z",
      "diff_hunk" : "@@ -13,11 +13,8 @@\n activation after a further 144 blocks\n \n mine 82 blocks whose coinbases will be used to generate inputs for our tests\n-mine 61 blocks to transition from DEFINED to STARTED\n-mine 144 blocks only 100 of which are signaling readiness in order to fail to change state this period\n-mine 144 blocks with 108 signaling and verify STARTED->LOCKED_IN\n-mine 140 blocks and seed block chain with the 82 inputs will use for our tests at height 572\n-mine 3 blocks and verify still at LOCKED_IN and test that enforcement has not triggered\n+mine 345 blocks and seed block chain with the 82 inputs will use for our tests at height 428\n+mine 3 blocks and verify still not ACTIVE and test that enforcement has not triggered\n mine 1 block and test that enforcement has triggered (which triggers ACTIVE)\n Test BIP 113 is enforced\n Mine 4 blocks so next height is 580 and test BIP 68 is enforced for time and height",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141449978",
      "id" : 141449978,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 13,
      "path" : "test/functional/bip68-112-113-p2p.py",
      "position" : 17,
      "pull_request_review_id" : 65664005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141449978",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141451336"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141451336"
         }
      },
      "author_association" : "MEMBER",
      "body" : "sort alphabetically?",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-27T19:58:19Z",
      "diff_hunk" : "@@ -442,6 +442,7 @@ std::string HelpMessage(HelpMessageMode mode)\n         strUsage += HelpMessageOpt(\"-limitdescendantcount=<n>\", strprintf(\"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants (default: %u)\", DEFAULT_DESCENDANT_LIMIT));\n         strUsage += HelpMessageOpt(\"-limitdescendantsize=<n>\", strprintf(\"Do not accept transactions if any ancestor would have more than <n> kilobytes of in-mempool descendants (default: %u).\", DEFAULT_DESCENDANT_SIZE_LIMIT));\n         strUsage += HelpMessageOpt(\"-vbparams=deployment:start:end\", \"Use given start/end times for specified version bits deployment (regtest-only)\");\n+        strUsage += HelpMessageOpt(\"-segwitheight=<n>\", \"Set the activation height of segwit. -1 to disable. (regtest-only)\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141451336",
      "id" : 141451336,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 4,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 65664005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141451336",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141451669"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141451669"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: no hungarian notation please. `segwit_height` or `height` should do.",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-27T19:59:47Z",
      "diff_hunk" : "@@ -1144,6 +1145,21 @@ bool AppInitParameterInteraction()\n             }\n         }\n     }\n+\n+    if (gArgs.IsArgSet(\"-segwitheight\")) {\n+        if (!chainparams.MineBlocksOnDemand()) {\n+            return InitError(\"Segwit activation parameters may only be overridden on regtest.\");\n+        }\n+        int nHeight = gArgs.GetArg(\"-segwitheight\", chainparams.GetConsensus().SEGWITHeight);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141451669",
      "id" : 141451669,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 17,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 65664005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141451669",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141453310"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141453310"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: no hungarian notation.\r\n\r\nYou could just do away with the local variable entirely:\r\n\r\n```\r\n    return ((int)chainActive.Height() >= params.SEGWITHeight);\r\n```\r\n",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-27T20:06:46Z",
      "diff_hunk" : "@@ -2844,8 +2844,8 @@ bool CheckBlock(const CBlock& block, CValidationState& state, const Consensus::P\n \n bool IsWitnessEnabled(const CBlockIndex* pindexPrev, const Consensus::Params& params)\n {\n-    LOCK(cs_main);\n-    return (VersionBitsState(pindexPrev, params, Consensus::DEPLOYMENT_SEGWIT, versionbitscache) == THRESHOLD_ACTIVE);\n+    int nHeight = pindexPrev == nullptr ? 0 : pindexPrev->nHeight + 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141453310",
      "id" : 141453310,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 29,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 65664005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141453310",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141453624"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141453624"
         }
      },
      "author_association" : "MEMBER",
      "body" : "why do you need to check the `-segwitheight` argument here? Hasn't `consensusParams.SEGWITHeight` been updated by the time this function is called?",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-27T20:08:10Z",
      "diff_hunk" : "@@ -2880,7 +2880,7 @@ std::vector<unsigned char> GenerateCoinbaseCommitment(CBlock& block, const CBloc\n     std::vector<unsigned char> commitment;\n     int commitpos = GetWitnessCommitmentIndex(block);\n     std::vector<unsigned char> ret(32, 0x00);\n-    if (consensusParams.vDeployments[Consensus::DEPLOYMENT_SEGWIT].nTimeout != 0) {\n+    if (gArgs.GetArg(\"-segwitheight\", consensusParams.SEGWITHeight) >= 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141453624",
      "id" : 141453624,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 39,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 65664005,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141453624",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141522257"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141522257"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I try to keep the current behavior that the witness commitment is not made if segwit is disabled (before: nTimeout == 0 / after: SEGWITHeight < 0). If you use `-segwitheight=-1`, it should work identical to a non-segwit node. This is needed for some tests in p2p-segwit.py related to the witness commitment. (we could remove those tests, of course)",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-28T04:03:57Z",
      "diff_hunk" : "@@ -2880,7 +2880,7 @@ std::vector<unsigned char> GenerateCoinbaseCommitment(CBlock& block, const CBloc\n     std::vector<unsigned char> commitment;\n     int commitpos = GetWitnessCommitmentIndex(block);\n     std::vector<unsigned char> ret(32, 0x00);\n-    if (consensusParams.vDeployments[Consensus::DEPLOYMENT_SEGWIT].nTimeout != 0) {\n+    if (gArgs.GetArg(\"-segwitheight\", consensusParams.SEGWITHeight) >= 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141522257",
      "id" : 141522257,
      "in_reply_to_id" : 141453624,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 39,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 65747385,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141522257",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141522342"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141522342"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ok. Maybe I should use `consensusParams.SEGWITHeight != std::numeric_limits<int>::max()` instead",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-28T04:05:34Z",
      "diff_hunk" : "@@ -2880,7 +2880,7 @@ std::vector<unsigned char> GenerateCoinbaseCommitment(CBlock& block, const CBloc\n     std::vector<unsigned char> commitment;\n     int commitpos = GetWitnessCommitmentIndex(block);\n     std::vector<unsigned char> ret(32, 0x00);\n-    if (consensusParams.vDeployments[Consensus::DEPLOYMENT_SEGWIT].nTimeout != 0) {\n+    if (gArgs.GetArg(\"-segwitheight\", consensusParams.SEGWITHeight) >= 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141522342",
      "id" : 141522342,
      "in_reply_to_id" : 141453624,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 39,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 65747500,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141522342",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141545039"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141545039"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ok. Then I prefer to just unify `softforks` and `bit_softforks`, so we don't need to break the API everytime we bury a softfork",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-28T07:35:47Z",
      "diff_hunk" : "@@ -1137,12 +1128,15 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n             \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n-            \"  \\\"softforks\\\": [            (array) status of softforks in progress\\n\"\n+            \"  \\\"softforks\\\": [            (array) status of buried softfork deployments\\n\"\n             \"     {\\n\"\n             \"        \\\"id\\\": \\\"xxxx\\\",        (string) name of softfork\\n\"\n-            \"        \\\"version\\\": xx,         (numeric) block version\\n\"\n-            \"        \\\"reject\\\": {            (object) progress toward rejecting pre-softfork blocks\\n\"\n+            \"        \\\"height\\\": \\\"xxxxxx\\\",  (numeric) height of the first block which the rules are enforced\\n\"\n+            \"        \\\"type\\\": \\\"xxxx\\\",      (string) original activation mechanism (\\\"ism\\\" or \\\"bip9\\\")\\n\"\n+            \"        \\\"version\\\": xx,         (numeric) block version (only for \\\"ism\\\" type)\\n\"\n+            \"        \\\"reject\\\": {            (object) progress toward rejecting pre-softfork blocks (only for \\\"ism\\\" type)\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141545039",
      "id" : 141545039,
      "in_reply_to_id" : 141087275,
      "original_commit_id" : "947d28a3aa2599d4e5ab848f33a20035aedaacdd",
      "original_position" : 62,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 128,
      "pull_request_review_id" : 65773322,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141545039",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141691672"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141691672"
         }
      },
      "author_association" : "MEMBER",
      "body" : "sorry, I misunderstood. I think your existing change is fine (and I agree that we should remove this at a later date once the tests are updated)",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-28T17:57:39Z",
      "diff_hunk" : "@@ -2880,7 +2880,7 @@ std::vector<unsigned char> GenerateCoinbaseCommitment(CBlock& block, const CBloc\n     std::vector<unsigned char> commitment;\n     int commitpos = GetWitnessCommitmentIndex(block);\n     std::vector<unsigned char> ret(32, 0x00);\n-    if (consensusParams.vDeployments[Consensus::DEPLOYMENT_SEGWIT].nTimeout != 0) {\n+    if (gArgs.GetArg(\"-segwitheight\", consensusParams.SEGWITHeight) >= 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141691672",
      "id" : 141691672,
      "in_reply_to_id" : 141453624,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 39,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 65946535,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141691672",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141946408"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141946408"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Many different places use IsWitnessEnabled but not all look at the tip",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-09-29T19:15:00Z",
      "diff_hunk" : "@@ -2844,8 +2844,8 @@ bool CheckBlock(const CBlock& block, CValidationState& state, const Consensus::P\n \n bool IsWitnessEnabled(const CBlockIndex* pindexPrev, const Consensus::Params& params)\n {\n-    LOCK(cs_main);\n-    return (VersionBitsState(pindexPrev, params, Consensus::DEPLOYMENT_SEGWIT, versionbitscache) == THRESHOLD_ACTIVE);\n+    int nHeight = pindexPrev == nullptr ? 0 : pindexPrev->nHeight + 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r141946408",
      "id" : 141946408,
      "in_reply_to_id" : 141453310,
      "original_commit_id" : "48e683d18d4d3d995e7192048d4182c4c0eac0be",
      "original_position" : 29,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 66245932,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-10-01T19:50:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141946408",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, I was about to write this same thing on top of https://github.com/bitcoin/bitcoin/pull/11426\r\nWould you consider rebasing on top of it? I think it would make the code slightly nicer (you can just move DEPLOYMENT_CSV and DEPLOYMENT_SEGWIT from DeploymentPos to BuriedDeploymentPos instead of having to declare consensusParams.CSVHeight and consensusParams.SEGWITHeight ).\r\n",
      "created_at" : "2017-09-30T12:27:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-333305401",
      "id" : 333305401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-09-30T12:27:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333305401",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jtimon will do",
      "created_at" : "2017-09-30T12:49:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-333306457",
      "id" : 333306457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-09-30T12:49:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333306457",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased on #11426",
      "created_at" : "2017-09-30T17:38:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-333324034",
      "id" : 333324034,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-09-30T17:38:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333324034",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/8403418?v=4",
         "events_url" : "https://api.github.com/users/jl2012/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jl2012/followers",
         "following_url" : "https://api.github.com/users/jl2012/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jl2012/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jl2012",
         "id" : 8403418,
         "login" : "jl2012",
         "organizations_url" : "https://api.github.com/users/jl2012/orgs",
         "received_events_url" : "https://api.github.com/users/jl2012/received_events",
         "repos_url" : "https://api.github.com/users/jl2012/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jl2012/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jl2012/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jl2012"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Review by stages, so far up to 9ff60be3a45c9a02ac65e126976de9c54b188495\r\n\r\nEDIT: perhaps it would be nice to do the rpc preparations before chaging anything from bip9 to bip90.\r\n\r\nAlthough I know some people don't like dividing things so much, I wouldn't complain about this rebasing on top of a PR with all the common preparations and the move only for csv (than whatever extra test preparations for segwit and the move for segit in this PR).\r\n",
      "created_at" : "2017-09-30T18:09:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-333325969",
      "id" : 333325969,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-09-30T18:18:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333325969",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think this should be dependant on #11426. I'm indifferent to whether #11426 is merged, but there's at least some disagreement as to whether it's beneficial.\r\n\r\nThis PR had already received some code review prior to the rebase, so I think it makes sense to leave it based on master.",
      "created_at" : "2017-10-03T20:53:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-333974973",
      "id" : 333974973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-10-03T20:53:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333974973",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.  As @jnewbery pointed out in https://github.com/bitcoin/bitcoin/pull/11389#pullrequestreview-67450833, the script interpreter doesn't allow SCRIPT_VERIFY_WITNESS if P2SH is not also set.  I think we can just pin P2SH to also always be on in regtest to ensure this never happens?",
      "created_at" : "2017-10-10T19:46:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-335586581",
      "id" : 335586581,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-10-10T19:46:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335586581",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Perhaps this is beyond the scope of this PR, but I would prefer it if a buried deployment wouldn't require all code paths that check the BIP9 status to require changing (and instead plug in the burying into the BIP9 status logic, so that it just always returns DEFINED before the bury height, and always ACTIVE after?). Advantages:\r\n* Easier to review the change that buries a deployment.\r\n* Support making a deployment buried in regtest while it isn't yet in mainnet/testnet (which can simplify functional testing)\r\n",
      "created_at" : "2017-10-10T20:34:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-335599326",
      "id" : 335599326,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-10-10T20:34:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/335599326",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase",
      "created_at" : "2017-11-10T18:28:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-343550044",
      "id" : 343550044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2017-11-10T18:28:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/343550044",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r150392041"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150392041"
         }
      },
      "author_association" : "MEMBER",
      "body" : "bikeshed: s/bip9/versionbits/ ?",
      "commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "created_at" : "2017-11-11T19:53:34Z",
      "diff_hunk" : "@@ -1049,54 +1049,45 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip, nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+void SoftForkDescPushBack(UniValue& softforks, const std::string &name, const Consensus::Params& consensusParams, const Consensus::BuriedDeploymentPos id)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    int height = consensusParams.buried_deployments[id];\n+    if (height != std::numeric_limits<int>::max()) {\n+        UniValue rv(UniValue::VOBJ);\n+        rv.push_back(Pair(\"type\", \"buried\"));\n+        rv.push_back(Pair(\"height\", height));\n+        rv.push_back(Pair(\"active\", chainActive.Height() + 1 >= height));\n+        softforks.push_back(Pair(name, rv));\n     }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n }\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+void SoftForkDescPushBack(UniValue& softforks, const std::string &name, const Consensus::Params& consensusParams, Consensus::DeploymentPos id)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n-}\n-\n-static UniValue BIP9SoftForkDesc(const Consensus::Params& consensusParams, Consensus::DeploymentPos id)\n-{\n-    UniValue rv(UniValue::VOBJ);\n+    // For BIP9 deployments.\n+    // Deployments (e.g. testdummy) with timeout value before Jan 1, 2009 are hidden.\n+    // A timeout value of 0 guarantees a softfork will never be activated.\n+    // This is used when softfork codes are merged without specifying the deployment schedule.\n+    if (consensusParams.vDeployments[id].nTimeout <= 1230768000)\n+        return;\n+    UniValue bip9(UniValue::VOBJ);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#discussion_r150392041",
      "id" : 150392041,
      "original_commit_id" : "92c5eccf010967051e72da76f2309d1a4b256b73",
      "original_position" : 54,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 54,
      "pull_request_review_id" : 75940584,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11398",
      "updated_at" : "2017-11-11T19:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150392041",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase. @jl2012 - is this abandoned? I think it'd be great to get it merged around the same time as #11739 to formalize segwit activation rules and clear up the testing (although there are no dependencies between the two PRs).\r\n\r\nI still think you should remove the dependency on #11426.",
      "created_at" : "2018-01-26T19:05:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-360875203",
      "id" : 360875203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2018-01-26T19:05:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/360875203",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It appears that this PR is abandoned. I've opened #12360 as a replacement.",
      "created_at" : "2018-02-05T17:23:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-363156114",
      "id" : 363156114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2018-02-05T17:23:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363156114",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Closing in favour of #12360",
      "created_at" : "2018-02-05T22:24:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-363242004",
      "id" : 363242004,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11398",
      "updated_at" : "2018-02-05T22:24:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363242004",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
