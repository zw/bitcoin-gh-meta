[
   {
      "body" : "Is there a standard for the compact number representation? (if there is, link please)\n\nIf there is not (and, actually, maybe even if there is), then I would argue the implementation of BN_mpi2bn is the \"bitcoin standard.\"\n\nAlso, re-defining anything in the block or transaction data has to be done extremely carefully to avoid blockchain splits.\n",
      "created_at" : "2012-09-13T15:17:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1823#issuecomment-8531804",
      "id" : 8531804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1823",
      "updated_at" : "2012-09-13T15:17:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8531804",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen The problem is not that it doesn't follow some specification (afaik Satoshi invented this compact format), the problem is that the encode and decode functions are inconsistent with each other.\n\nI agree we should think about changing functions involved in block validation very carefully of course...",
      "created_at" : "2012-09-13T15:31:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1823#issuecomment-8532257",
      "id" : 8532257,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1823",
      "updated_at" : "2012-09-13T15:31:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8532257",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa It is not even that bad:  Currently `SetCompact()` produces negative results for compact numbers with `0x00800000` bit set, whereas other implementations leave the bit set in their interpretation of the compact number or fail during verification.  If a Satoshi client get's such a compact number it will pass it to CBigNum.getuint256, which will ignore the sign and thus interpret the compact number `0x08812345` as `0x0123450000000000` instead of `0x8123450000000000`.\n\nHowever, none of the implementations I've looked at actually generates such compact numbers and my proposed rewrite still makes sure not to generate them either.  The effect of the rewrite is that ''if'' a future implementation would produce such a number it would be interpreted in the most likely intended way instead of effectively stripping the bit in a convoluted way.\n\nThe reason for proposing this change is that I'm going through the bignum and base58 implementation extending the test-suite and simplifying the implementation.  This weird behavior of `SetCompact` was the first to trip-up my tests.\n\nIf we come to the conclusion not to accept this change, I'll change the test-suite accordingly.",
      "created_at" : "2012-09-13T18:21:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1823#issuecomment-8537872",
      "id" : 8537872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1823",
      "updated_at" : "2012-09-13T18:21:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8537872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/523218?v=3",
         "events_url" : "https://api.github.com/users/roques/events{/privacy}",
         "followers_url" : "https://api.github.com/users/roques/followers",
         "following_url" : "https://api.github.com/users/roques/following{/other_user}",
         "gists_url" : "https://api.github.com/users/roques/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/roques",
         "id" : 523218,
         "login" : "roques",
         "organizations_url" : "https://api.github.com/users/roques/orgs",
         "received_events_url" : "https://api.github.com/users/roques/received_events",
         "repos_url" : "https://api.github.com/users/roques/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/roques/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/roques/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/roques"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/3f0e14f5d2dd9671b2aa60b3dd5e3593fe47b3cf for binaries and test log.",
      "created_at" : "2012-09-13T18:54:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1823#issuecomment-8538923",
      "id" : 8538923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1823",
      "updated_at" : "2012-09-13T18:54:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8538923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "My current understanding is that backwards compatibility of the block chain is paramount, even in cases like this one where no known implementation would be incompatible, so I'm retracting this pull request in favor of Pull Request #1825: Bignum2\r\n",
      "created_at" : "2012-11-13T20:32:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1823#issuecomment-10342325",
      "id" : 10342325,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1823",
      "updated_at" : "2012-11-13T20:32:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10342325",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/523218?v=3",
         "events_url" : "https://api.github.com/users/roques/events{/privacy}",
         "followers_url" : "https://api.github.com/users/roques/followers",
         "following_url" : "https://api.github.com/users/roques/following{/other_user}",
         "gists_url" : "https://api.github.com/users/roques/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/roques",
         "id" : 523218,
         "login" : "roques",
         "organizations_url" : "https://api.github.com/users/roques/orgs",
         "received_events_url" : "https://api.github.com/users/roques/received_events",
         "repos_url" : "https://api.github.com/users/roques/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/roques/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/roques/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/roques"
      }
   }
]
