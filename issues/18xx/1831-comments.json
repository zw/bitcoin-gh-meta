[
   {
      "body" : "#1 sounds like a bug, #2 is not a bug though: the console emulates a 'bash' console with bitcoind, which also needs JSON arrays/objects quoted.\n\nI'm sure it's possible to switch to \"JSON objects separated by spaces\", or even full javascript syntax (Qt has a js interpreter, QtScript), but that would be a complete break from what we've done until now.",
      "created_at" : "2012-09-18T17:36:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1831#issuecomment-8663094",
      "id" : 8663094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1831",
      "updated_at" : "2012-09-18T17:36:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8663094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I'm not able to reproduce #1. To check space handling, I've temporarily added a command `test` that simply prints the first argument:\n\n  19:53:45 test \" 1234 \"\n  19:53:45 \" 1234 \"\n  19:53:49 test ' 1234 '\n  19:53:49 \" 1234 \"\n\nSpaces inside both single and double quotes seem to be handled as expected, at least by the console code. There might be something deeper in `RPCConvertValues` that causes the problem, but then you'd expect it as well when you use `bitcoind` as RPC client on the command line.\n\nCan you give exact input that produces the problem?\n",
      "created_at" : "2012-09-18T17:58:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1831#issuecomment-8663860",
      "id" : 8663860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1831",
      "updated_at" : "2012-09-18T17:58:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8663860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Weird... I cannot reproduce #1 now with a fresh build, I'll verify on a 0.7.0 release binary.\n\nInput that was causing my trouble before:\n\ncreaterawtransaction '[{\n\"txid\" : \"f28346bb47465584cfe65c1bf72b5a2f66ac40a4565a45d33b6e0b87ffd57637\",\n\"vout\" : 0}]' '{\"19DtwBKG7YHYTVraX6QWTv4Lb6nBxfWWSf\":0.925}'\n\nUPDATED: verified, works great on 0.7.0 final, maybe I was running an old release candidate Bitcoin-Qt by accident...",
      "created_at" : "2012-09-18T21:26:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1831#issuecomment-8671257",
      "id" : 8671257,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1831",
      "updated_at" : "2012-09-18T23:03:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8671257",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "That leaves \"JSON objects directly on the command line\". \n\n- I think it could be done unambiguously by detecting unquoted arguments that start with '[' or '{'  as the beginning of a JSON object, and then attempting to read a full JSON object using json_spirit, and continuing at the position where it stopped parsing (if that's available somewhere). It would mess up the pretty little state machine in `parseCommandLine` though...\n\n- Either that, or go all the way and integrate a Javascript interpreter using QScript. One could use normal function calls, ie `createrawtransaction([{...}], \"test\")`. You could even store the return values and use them in a next call, or run them through a script first. But I'm somewhat wary of pulling in a  script interpreter, as it will increase the attack surface.\n\nNah... this is very low priority, the console is already useful and I'm not sure that we need to make it even more developer friendly :-) Hmm... Or maybe that's the future niche of Bitcoin-Qt, \"the debug client\", as Sipa is talking about directing normal users to faster lightweight clients already.\n",
      "created_at" : "2012-09-19T06:08:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/1831#issuecomment-8680228",
      "id" : 8680228,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1831",
      "updated_at" : "2012-09-19T06:08:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8680228",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
