[
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/cf3b20c0496d99c80973b86c8f8bec11de7c2b3c for binaries and test log.",
      "created_at" : "2012-09-24T09:13:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-8811401",
      "id" : 8811401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-09-24T09:13:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8811401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Hmm, why set it by default? Presumably this new flag would indicate a disk-pruned node? I think it only makes sense to set this if the behaviour is non-default in some way, and this commit doesn't change behaviour.",
      "created_at" : "2012-09-24T12:04:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-8816527",
      "id" : 8816527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-09-24T12:04:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8816527",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "The roll out happens like\n\n1) Set this by default\n2) If you need validation but not block download, seek out NODE_VALIDATION nodes, otherwise seek out NODE_NETWORK\n3) Later, non-archive nodes drop NODE_NETWORK\n",
      "created_at" : "2012-09-24T13:36:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-8818898",
      "id" : 8818898,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-09-24T13:36:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8818898",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "ACKACKACK.",
      "created_at" : "2012-09-24T14:32:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-8820719",
      "id" : 8820719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-09-24T14:32:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8820719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "So if we do this now, we lose the ability to make NODE_VALIDATION signify an ability to serve UTXO SPV tree fragments but not blocks. (Because we currently can't serve them). Otherwise, sounds good to me.",
      "created_at" : "2012-09-24T14:36:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-8820887",
      "id" : 8820887,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-09-24T14:36:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8820887",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@gmaxwell I think a merkle-UTXO tree is further ahead than the need for separation between archive nodes and full nodes. I think the use case for those is separate from this issue, so I'd leave that for another network service bit.\n\n@mikehearn: service bits have to indicate (positive) support for a feature, as they are ORed together when storing in the address book. That can change too of course, but it's certainly easier if that weren't necessary.\n\nOriginally, I thought about adding two separate bits, NODE_VALIDATION (validation/relay of blocks and transactions, maintaining a mempool, keeping UTXO set, serving (very) recent blocks) and NODE_ARCHIVE (providing old blocks), and have NODE_NETWORK imply both. This proposal accomplishes the same, but forces every archive node to be a validation node as well. Not a problem as such, but I'm not sure that's necessary.",
      "created_at" : "2012-09-28T14:20:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-8977769",
      "id" : 8977769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-09-28T14:21:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/8977769",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa:\r\n\r\nIf archive nodes will always be validating (which seems logical), one additional ```NODE_VALIDATION``` bit is sufficient.\r\n\r\nIf archive nodes will sometimes _not_ validate, then yes, we need two bits.\r\n",
      "created_at" : "2012-10-03T21:23:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-9122778",
      "id" : 9122778,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-10-03T21:24:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9122778",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik Yes, that's my point. I don't think it makes sense to have that distinction now, but I'm not sure we should make it impossible to make that distinction in the future.",
      "created_at" : "2012-10-05T00:19:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-9161778",
      "id" : 9161778,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-10-05T00:19:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9161778",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@gmaxwell meh, I find that more protocol update than node service update...but I suppose leaving that up to the version king works best...\r\n@sipa Can always add a NODE_ARCHIVE later if we really need it to mean non-verified old block provider?",
      "created_at" : "2012-10-05T02:52:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-9163970",
      "id" : 9163970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-10-05T02:52:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9163970",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Closing, no consensus\r\n",
      "created_at" : "2012-10-05T05:37:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-9166007",
      "id" : 9166007,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-10-05T05:37:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9166007",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@TheBlueMatt Right, but at that point, an old client that needs to IBD and doesn't know yet about the new service bit will not be able to find the archive-only nodes.",
      "created_at" : "2012-10-05T08:53:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-9169273",
      "id" : 9169273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-10-05T08:53:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9169273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@jgarzik No consensus? I think every comment has been generally positive, and this is something we really need in the near future (I'd argue before ultraprune is merged).",
      "created_at" : "2012-10-05T15:45:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1860#issuecomment-9179862",
      "id" : 9179862,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1860",
      "updated_at" : "2012-10-05T15:45:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/9179862",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
