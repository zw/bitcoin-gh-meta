[
   {
      "body" : "This feels like the wrong level of abstraction to me.\r\n\r\nIf you want this level of control, then an even lower-level interface seems like the way to go-- something like \"here's a transaction, please sign it and broadcast it if it is valid (return txid if it is a valid transaction, error if not)\".\r\n\r\nI also don't like all the duplicated code in CreateTransaction/CreateExactTransaction, it may make bug fixing any problems in send or supporting new transaction types like 3-party escrows harder.\r\n\r\nFinally, what is the TxIn syntax?  Just txid?  What happens if you point this at a send-to-self or a receive-many where you own more than one TxOut of a previous transaction?\r\n",
      "created_at" : "2011-06-27T13:44:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/354#issuecomment-1447377",
      "id" : 1447377,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/354",
      "updated_at" : "2011-06-27T13:44:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1447377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Thanks for the feedback! I'm not sure about your suggestion of providing a raw transaction. I aim at something that is suitable for automated use, but at the same time users can still realistically use manually. It is not clear what exactly do you mean by \"here's a transaction\" - would you like something like, say:\r\n\r\n    { \"in\": [ { \"prev_out\": { \"hash\": \"...\", \"n\": \"...\" } } ], \"out\": [ { \"value\": ..., \"address\": \"...\" } ] }\r\n\r\nThere is a couple of questions here:\r\n* Identify prev_outs by specific n's instead of account-based autoselection (answer to your last question: all txouts claimable by the given account are selected). Maybe this really is the best way to go, but then gettransaction and listtransactions output needs to include an 'n' field too.\r\n* Switch syntax from two-object form to tx-like form. I don't see the benefit, IMO it just leads to a more baroque syntax.\r\n\r\nI'm all for switching to explicit n-form for inputs, but how to integrate this with the account system then? Currently, each transaction has single strFromAccount. Should the user still specify the account and the input amount just gets subtracted from that account's balance and it's the user's responsibility to sort out the account balance?\r\n\r\nI agree that the duplicated code is bad. I was a bit shy to do large changes in CreateTransaction(), but I will refactor this part of code and I agree it will make the code better. I just want to agree on the final way to select inputs first.",
      "created_at" : "2011-06-27T15:45:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/354#issuecomment-1448212",
      "id" : 1448212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/354",
      "updated_at" : "2011-06-27T15:45:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1448212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18439?v=3",
         "events_url" : "https://api.github.com/users/pasky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pasky/followers",
         "following_url" : "https://api.github.com/users/pasky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pasky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pasky",
         "id" : 18439,
         "login" : "pasky",
         "organizations_url" : "https://api.github.com/users/pasky/orgs",
         "received_events_url" : "https://api.github.com/users/pasky/received_events",
         "repos_url" : "https://api.github.com/users/pasky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pasky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pasky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pasky"
      }
   },
   {
      "body" : "By the way, thinking things through more, now I think that sendtxfee/paytxfee should not be imposed on these transactions (our goal is still creating transaction only based on pubkeys stored in our wallet, but no extra client automagic), but creating unrelayable transactions still should not be allowed. Does that make sense? In line with that, AIUI I should check against nMinFee but not nPayFee?",
      "created_at" : "2011-06-27T19:14:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/354#issuecomment-1449728",
      "id" : 1449728,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/354",
      "updated_at" : "2011-06-27T19:14:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1449728",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18439?v=3",
         "events_url" : "https://api.github.com/users/pasky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pasky/followers",
         "following_url" : "https://api.github.com/users/pasky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pasky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pasky",
         "id" : 18439,
         "login" : "pasky",
         "organizations_url" : "https://api.github.com/users/pasky/orgs",
         "received_events_url" : "https://api.github.com/users/pasky/received_events",
         "repos_url" : "https://api.github.com/users/pasky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pasky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pasky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pasky"
      }
   },
   {
      "body" : "When I say \"here's a transaction, please sign it (if you need to) and send it\" I'm imagining you hand it the serialized hex version of a transaction (with all-zeros placeholders for the ECDSA signatures).  Really extremely low-level.\r\n\r\nMy thinking is that a very-low-level routine like that might be the path to all sorts of interesting functionality, including things like escrow transactions where some of the transaction signing is done outside the p2p network.\r\n\r\nBut I haven't thought about this terribly hard, and, frankly, the high priorities right now are NOT new features like this but scalability and security.\r\n\r\n",
      "created_at" : "2011-06-27T21:43:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/354#issuecomment-1450672",
      "id" : 1450672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/354",
      "updated_at" : "2011-06-27T21:43:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1450672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Ok, I agree that such a command would open other interesting\npossibilities, but that is already something completely different from\nwhat I have in mind. You would not be able to use the wallet at all\nanymore and I am just personally not interested in figuring out how to\nexternally fetch a key from wallet while bitcoind is running and\nre-implementing all the cryptography and script execution. I want to\nstill make use of all these bitcoind facilities, just specify precise\ncoin flow.\n\nI will do the modifications I outlined before and re-submit, you guys\nwill see if you have time to review and merge the patch before you get\nyour high priorities done. If not, I will be a bit sad but try to\nmaintain my changes up-to-date against current code until they are\nmerged.",
      "created_at" : "2011-06-27T22:50:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/354#issuecomment-1451044",
      "id" : 1451044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/354",
      "updated_at" : "2011-06-27T22:50:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1451044",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/18439?v=3",
         "events_url" : "https://api.github.com/users/pasky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pasky/followers",
         "following_url" : "https://api.github.com/users/pasky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pasky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pasky",
         "id" : 18439,
         "login" : "pasky",
         "organizations_url" : "https://api.github.com/users/pasky/orgs",
         "received_events_url" : "https://api.github.com/users/pasky/received_events",
         "repos_url" : "https://api.github.com/users/pasky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pasky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pasky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pasky"
      }
   },
   {
      "body" : "Closing; specifying precise coin flow just isn't a high priority. Also, new RPC commands should be discussed on the mailing list or forum.\r\n",
      "created_at" : "2011-10-05T15:58:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/354#issuecomment-2299600",
      "id" : 2299600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/354",
      "updated_at" : "2011-10-05T15:58:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2299600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   }
]
