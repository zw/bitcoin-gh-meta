{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "Solves one of the last remaining blockers for #21778. Fixes lld linking shared libs for macos via libtool.\r\n\r\nlld fails one of libtool's earliest checks [because it happens to output a warning that contains a specific string](https://git.savannah.gnu.org/cgit/libtool.git/tree/m4/libtool.m4#n999):\r\n\r\n\r\n>     # If there is a non-empty error log, and \"single_module\"\r\n>     # appears in it, assume the flag caused a linker warning\r\n\r\nAnd here is the test being run:\r\n> x86_64-apple-darwin-ld: warning: Option `-single_module' is deprecated in ld64:\r\n> x86_64-apple-darwin-ld: warning: Unnecessary option: this is already the default\r\n\r\nBecause the warning is printed the test fails. So libtool falls back to a very primitive and broken link-line for shared libs.\r\n\r\nArguably this should be worked-around in upstream lld by changing the warning string, as otherwise every libtool project will fail to link with it.\r\n\r\nLike many other libtool hacks, the solution is to simply disable the check and hard-code the answer we know to be correct.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 5,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27628/comments",
   "created_at" : "2023-05-11T16:41:03Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27628/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/27628",
   "id" : 1706179371,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27628/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585QT8lv",
   "number" : 27628,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/27628.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27628",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/27628.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27628"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27628/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27628/timeline",
   "title" : "build: Fix shared lib linking for darwin with lld",
   "updated_at" : "2023-05-11T16:53:56Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27628",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=4",
      "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
      "followers_url" : "https://api.github.com/users/theuni/followers",
      "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/theuni",
      "id" : 417043,
      "login" : "theuni",
      "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
      "organizations_url" : "https://api.github.com/users/theuni/orgs",
      "received_events_url" : "https://api.github.com/users/theuni/received_events",
      "repos_url" : "https://api.github.com/users/theuni/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/theuni"
   }
}
