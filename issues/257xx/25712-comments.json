[
   {
      "author_association" : "MEMBER",
      "body" : ">  To keep the diff minimal and to avoid having to change the callers, \r\n\r\nI don't think there's any point keeping redundant code for the sake of a smaller diff. Someone is just going to open a PR to remove the code later on. Might as well remove it here.",
      "created_at" : "2022-07-26T13:54:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25712#issuecomment-1195516128",
      "id" : 1195516128,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25712",
      "node_id" : "IC_kwDOABII585HQiDg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195516128/reactions"
      },
      "updated_at" : "2022-07-26T13:54:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195516128",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > To keep the diff minimal and to avoid having to change the callers,\r\n> \r\n> I don't think there's any point keeping redundant code for the sake of a smaller diff. Someone is just going to open a PR to remove the code later on. Might as well remove it here.\r\n\r\nSure, but before tackling that I'd want to 1) have consensus first that there's really no need for 16-byte keys and 2) discuss which exact interface would make sense (e.g. only removing the size parameter and just keeping the pointer as input parameter seems to be fishy and dangerous; the burden of the length check would just move to all callers).",
      "created_at" : "2022-07-26T14:16:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25712#issuecomment-1195543471",
      "id" : 1195543471,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25712",
      "node_id" : "IC_kwDOABII585HQouv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195543471/reactions"
      },
      "updated_at" : "2022-07-26T14:16:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195543471",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25698](https://github.com/bitcoin/bitcoin/pull/25698) (crypto: avoid potential buffer overread in `ChaCha20::SetKey` by theStack)\n* [#25361](https://github.com/bitcoin/bitcoin/pull/25361) (BIP324: Cipher suite by dhruv)\n* [#25354](https://github.com/bitcoin/bitcoin/pull/25354) ([crypto] Reduce wasted pseudorandom bytes in ChaCha20 by dhruv)\n* [#25172](https://github.com/bitcoin/bitcoin/pull/25172) (refactor: use std:: prefix for std lib funcs by fanquake)\n* [#23561](https://github.com/bitcoin/bitcoin/pull/23561) (BIP324: Handshake prerequisites by dhruv)\n* [#23233](https://github.com/bitcoin/bitcoin/pull/23233) (BIP324: Add encrypted p2p transport {de}serializer by dhruv)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-07-26T17:27:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25712#issuecomment-1195769804",
      "id" : 1195769804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25712",
      "node_id" : "IC_kwDOABII585HRf_M",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195769804/reactions"
      },
      "updated_at" : "2022-07-26T17:27:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1195769804",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25712#discussion_r952954376"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25712"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/952954376"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could use\r\n\r\n```c++\r\ninput[0] = 0x61707865;\r\ninput[1] = 0x3320646e;\r\ninput[2] = 0x79622d32;\r\ninput[3] = 0x6b206574;\r\n```\r\n\r\nOr even better: make the input variable only 12 long, and replace accesses to input 0..3 with these constants.",
      "commit_id" : "88d2b510faa3498202e3e7b66d5b0ae05e989cf8",
      "created_at" : "2022-08-23T17:57:40Z",
      "diff_hunk" : "@@ -21,30 +22,23 @@ constexpr static inline uint32_t rotl32(uint32_t v, int c) { return (v << c) | (\n #define REPEAT10(a) do { {a}; {a}; {a}; {a}; {a}; {a}; {a}; {a}; {a}; {a}; } while(0)\n \n static const unsigned char sigma[] = \"expand 32-byte k\";\n-static const unsigned char tau[] = \"expand 16-byte k\";\n \n void ChaCha20::SetKey(const unsigned char* k, size_t keylen)\n {\n-    const unsigned char *constants;\n+    assert(keylen == 32);\n \n+    input[0] = ReadLE32(sigma + 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25712#discussion_r952954376",
      "id" : 952954376,
      "line" : 30,
      "node_id" : "PRRC_kwDOABII5844zO4I",
      "original_commit_id" : "88d2b510faa3498202e3e7b66d5b0ae05e989cf8",
      "original_line" : 30,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/crypto/chacha20.cpp",
      "position" : 21,
      "pull_request_review_id" : 1082618711,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25712",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/952954376/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-08-23T17:57:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/952954376",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
