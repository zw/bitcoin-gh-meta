{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "Built the 0.14 branch (ccb47bf83036f60dbef04f90aa06dd0f9c1917ac - well, I really built from a UASF fork, b0c9b332340341d7aa67cdc3c0cd5eb50dc72582, but it is functionally the same as that revision for now I think), without wallet support. It hung when I tried to shutdown.\r\n\r\nHere's the end of `debug.log`:\r\n\r\n    2017-04-14 11:33:50 UpdateTip: new best=0000000000000000017ae4b096e8c04705269760db371dfa10c7bc29108351d5 height=461466 version=0x20000000 log2_work=86.267575 tx=212456868 date='2017-04-11 18:02:48' progress=0.996460 cache=17.3MiB(17113tx)\r\n    2017-04-14 11:33:51 connect() to [2001:0:9d38:6ab8:c32:3462:e763:4c90]:8333 failed: Network is unreachable (101)\r\n    2017-04-14 11:33:51 connect() to 81.169.150.217:8333 failed after select(): Connection refused (111)\r\n    2017-04-14 11:33:53 tor: Thread interrupt\r\n    2017-04-14 11:33:53 addcon thread exit\r\n    2017-04-14 11:33:53 torcontrol thread exit\r\n    2017-04-14 11:33:53 net thread exit\r\n    2017-04-14 11:34:00 scheduler thread interrupt\r\n    2017-04-14 11:34:27 UpdateTip: new best=000000000000000001b4904ab88cb6f13b1f8ccbb9f183db51894cc521fabf23 height=461467 version=0x20000002 log2_work=86.267608 tx=212458675 date='2017-04-11 18:23:05' progress=0.996478 cache=18.5MiB(21415tx)\r\n    2017-04-14 11:34:27 Shutdown: In progress...\r\n    2017-04-14 11:34:27 opencon thread exit\r\n    2017-04-14 11:34:27 msghand thread exit\r\n\r\nAnd the stack traces:\r\n\r\n    (gdb) thread apply all where\r\n\r\n    Thread 3 (Thread 0x7fbdf8ff9700 (LWP 21708)):\r\n    #0  pthread_cond_wait@@GLIBC_2.3.2 () at ../nptl/sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:185\r\n    #1  0x00005626d2e807fb in BGThread (this=0x5626d3a33980) at leveldb/util/env_posix.cc:574\r\n    #2  leveldb::(anonymous namespace)::PosixEnv::BGThreadWrapper (arg=0x5626d3a33980) at leveldb/util/env_posix.cc:521\r\n    #3  0x00007fbe059e7184 in start_thread (arg=0x7fbdf8ff9700) at pthread_create.c:312\r\n    #4  0x00007fbe0571437d in __ecvt_r (value=9.532824124368238e-130, ndigit=0, decpt=0x0, sign=0x0, buf=0x7fbdf8ff99c0 \"\\220\\202\\277\\005\\276\\177\", len=140453903046400) at efgcvt_r.c:218\r\n    #5  0x0000000000000000 in ?? ()\r\n\r\n    Thread 2 (Thread 0x7fbdc3093700 (LWP 21739)):\r\n    #0  0x00007fbe059ee73d in connect () at ../sysdeps/unix/syscall-template.S:81\r\n    #1  0x00007fbdd40fe306 in send_vc (statp=statp@entry=0x7fbdc3093db8, buf=buf@entry=0x7fbdc3090cb0 \"m0\\001\", buflen=buflen@entry=42, buf2=buf2@entry=0x7fbdc3090cdc \"\\016L\\001\", buflen2=buflen2@entry=42, ansp=ansp@entry=0x7fbdc3090b38, anssizp=anssizp@entry=0x7fbdc3090c80, terrno=terrno@entry=0x7fbdc3090b40, ns=ns@entry=0, anscp=anscp@entry=0x7fbdc3092130, ansp2=ansp2@entry=0x7fbdc3092140, anssizp2=anssizp2@entry=0x7fbdc30920f0, resplen2=resplen2@entry=0x7fbdc3092100, ansp2_malloced=ansp2_malloced@entry=0x7fbdc3092110) at res_send.c:793\r\n    #2  0x00007fbdd40ff7a7 in __libc_res_nsend (statp=statp@entry=0x7fbdc3093db8, buf=buf@entry=0x7fbdc3090cb0 \"m0\\001\", buflen=42, buf2=buf2@entry=0x7fbdc3090cdc \"\\016L\\001\", buflen2=buflen2@entry=42, ans=ans@entry=0x7fbdc30918c0 \"\\016L\\203\\200\", anssiz=anssiz@entry=2048, ansp=ansp@entry=0x7fbdc3092130, ansp2=ansp2@entry=0x7fbdc3092140, nansp2=nansp2@entry=0x7fbdc30920f0, resplen2=resplen2@entry=0x7fbdc3092100, ansp2_malloced=ansp2_malloced@entry=0x7fbdc3092110) at res_send.c:566\r\n    #3  0x00007fbdd40fce2c in __GI___libc_res_nquery (statp=statp@entry=0x7fbdc3093db8, name=0x7fbda4000ff8 \"x9.seed.bitcoinstats.com\", class=class@entry=1, type=type@entry=62321, answer=answer@entry=0x7fbdc30918c0 \"\\016L\\203\\200\", anslen=anslen@entry=2048, answerp=answerp@entry=0x7fbdc3092130, answerp2=answerp2@entry=0x7fbdc3092140, nanswerp2=nanswerp2@entry=0x7fbdc30920f0, resplen2=resplen2@entry=0x7fbdc3092100, answerp2_malloced=answerp2_malloced@entry=0x7fbdc3092110) at res_query.c:227\r\n    #4  0x00007fbdd40fd863 in __libc_res_nquerydomain (domain=0x0, answerp2_malloced=0x7fbdc3092110, resplen2=0x7fbdc3092100, nanswerp2=0x7fbdc30920f0, answerp2=0x7fbdc3092140, answerp=0x7fbdc3092130, anslen=2048, answer=0x7fbdc30918c0 \"\\016L\\203\\200\", type=62321, class=1, name=0x7fbda4000ff8 \"x9.seed.bitcoinstats.com\", statp=0x7fbdc3093db8) at res_query.c:591\r\n    #5  __GI___libc_res_nsearch (statp=0x7fbdc3093db8, name=name@entry=0x7fbda4000ff8 \"x9.seed.bitcoinstats.com\", class=class@entry=1, type=type@entry=62321, answer=answer@entry=0x7fbdc30918c0 \"\\016L\\203\\200\", anslen=anslen@entry=2048, answerp=answerp@entry=0x7fbdc3092130, answerp2=answerp2@entry=0x7fbdc3092140, nanswerp2=nanswerp2@entry=0x7fbdc30920f0, resplen2=resplen2@entry=0x7fbdc3092100, answerp2_malloced=answerp2_malloced@entry=0x7fbdc3092110) at res_query.c:381\r\n    #6  0x00007fbdf80ddc73 in _nss_dns_gethostbyname4_r (name=0x7fbda4000ff8 \"x9.seed.bitcoinstats.com\", pat=0x7fbdc3092780, buffer=0x7fbdc30921e0 \"4\\036\\261\\060\", buflen=1064, errnop=0x7fbdc3092750, herrnop=0x7fbdc30927a0, ttlp=0x0) at nss_dns/dns-host.c:315\r\n    #7  0x00007fbe056e6607 in gaih_inet (name=0x5 <error: Cannot access memory at address 0x5>, service=0x7fbda4000d00, req=0x7fbdf80ddb70 <_nss_dns_gethostbyname4_r>, pai=0x7fbdc30927a0, naddrs=0x2a) at ../sysdeps/posix/getaddrinfo.c:321\r\n    #8  0x00007fbe056e9cbd in match_prefix (default_val=2147483647, list=0x5bc30927d0, in6=0x7fbdc3090b38) at ../sysdeps/posix/getaddrinfo.c:1499\r\n    #9  get_label (in6=0x9) at ../sysdeps/posix/getaddrinfo.c:1525\r\n    #10 rfc3484_sort (p1=<optimized out>, p2=<optimized out>, arg=0x7fbda4000ff8) at ../sysdeps/posix/getaddrinfo.c:1618\r\n    #11 0x00007fbda4000020 in ?? ()\r\n    #12 0x0000000000000000 in ?? ()\r\n\r\n    Thread 1 (Thread 0x7fbe078f1780 (LWP 21696)):\r\n    #0  0x00007fbe059e865b in pthread_join (threadid=140452997707520, thread_return=0x0) at pthread_join.c:92\r\n    #1  0x00007fbe061ca857 in std::thread::join() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\r\n    #2  0x00005626d2c87e3d in CConnman::Stop (this=this@entry=0x5626d38a6490) at net.cpp:2343\r\n    #3  0x00005626d2c87eea in CConnman::~CConnman (this=0x5626d38a6490, __in_chrg=<optimized out>) at net.cpp:2390\r\n    #4  0x00005626d2c4ceb3 in operator() (this=<optimized out>, __ptr=0x5626d38a6490) at /usr/include/c++/4.8/bits/unique_ptr.h:67\r\n    #5  reset (__p=0x5626d38a6490, this=0x5626d3225570 <g_connman>) at /usr/include/c++/4.8/bits/unique_ptr.h:262\r\n    #6  Shutdown () at init.cpp:209\r\n    #7  0x00005626d2c41587 in AppInit (argc=<optimized out>, argv=<optimized out>) at bitcoind.cpp:184\r\n    #8  0x00005626d2c3875f in main (argc=1, argv=0x7ffde3d1fe88) at bitcoind.cpp:196\r\n    (gdb) \r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 8,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10210/comments",
   "created_at" : "2017-04-14T11:51:45Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10210/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/10210",
   "id" : 221795412,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10210/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWUyMjE3OTU0MTI=",
   "number" : 10210,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Frozen (for 15 minutes) on shutdown [dnsseed thread]",
   "updated_at" : "2018-04-12T20:51:40Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10210",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
      "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
      "followers_url" : "https://api.github.com/users/dooglus/followers",
      "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
      "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/dooglus",
      "id" : 573356,
      "login" : "dooglus",
      "node_id" : "MDQ6VXNlcjU3MzM1Ng==",
      "organizations_url" : "https://api.github.com/users/dooglus/orgs",
      "received_events_url" : "https://api.github.com/users/dooglus/received_events",
      "repos_url" : "https://api.github.com/users/dooglus/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/dooglus"
   }
}
