[
   {
      "author_association" : "NONE",
      "body" : "```\r\n# make V=1\r\nMaking all in src\r\nmake[1]: Entering directory '/opt/local/src/bitcoin/src'\r\nmake[2]: Entering directory '/opt/local/src/bitcoin/src'\r\nmake[3]: Entering directory '/opt/local/src/bitcoin'\r\nmake[3]: Leaving directory '/opt/local/src/bitcoin'\r\ng++ -std=c++11 -DHAVE_CONFIG_H -I. -I../src/config   -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2 -I. -I/opt/local/include/db4/ -DBOOST_SP_USE_STD_ATOMIC -DBOOST_AC_USE_STD_ATOMIC -pthread -I/opt/local/include -I./leveldb/include -I./leveldb/helpers/memenv -I/opt/local/include -I/opt/local/include -I./secp256k1/include -I./univalue/include -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS  -Wstack-protector -fstack-protector-all -Wall -Wextra -Wformat -Wvla -Wno-unused-parameter    -fPIE -g -O2 -MT compat/libbitcoin_util_a-glibc_sanity.o -MD -MP -MF compat/.deps/libbitcoin_util_a-glibc_sanity.Tpo -c -o compat/libbitcoin_util_a-glibc_sanity.o `test -f 'compat/glibc_sanity.cpp' || echo './'`compat/glibc_sanity.cpp\r\nIn file included from compat/glibc_sanity.cpp:12:0:\r\ncompat/glibc_sanity.cpp: In function 'bool {anonymous}::sanity_test_fdelt()':\r\ncompat/glibc_sanity.cpp:53:5: error: 'memset' was not declared in this scope\r\n     FD_ZERO(&fds);\r\n     ^\r\nMakefile:6248: recipe for target 'compat/libbitcoin_util_a-glibc_sanity.o' failed\r\nmake[2]: *** [compat/libbitcoin_util_a-glibc_sanity.o] Error 1\r\nmake[2]: Leaving directory '/opt/local/src/bitcoin/src'\r\nMakefile:9824: recipe for target 'all-recursive' failed\r\nmake[1]: *** [all-recursive] Error 1\r\nmake[1]: Leaving directory '/opt/local/src/bitcoin/src'\r\nMakefile:757: recipe for target 'all-recursive' failed\r\nmake: *** [all-recursive] Error 1\r\n```",
      "created_at" : "2018-07-01T16:59:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-401619130",
      "id" : 401619130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTYxOTEzMA==",
      "updated_at" : "2018-07-01T16:59:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401619130",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/9366114?v=4",
         "events_url" : "https://api.github.com/users/stacepellegrino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stacepellegrino/followers",
         "following_url" : "https://api.github.com/users/stacepellegrino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stacepellegrino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stacepellegrino",
         "id" : 9366114,
         "login" : "stacepellegrino",
         "node_id" : "MDQ6VXNlcjkzNjYxMTQ=",
         "organizations_url" : "https://api.github.com/users/stacepellegrino/orgs",
         "received_events_url" : "https://api.github.com/users/stacepellegrino/received_events",
         "repos_url" : "https://api.github.com/users/stacepellegrino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stacepellegrino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stacepellegrino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stacepellegrino"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'll take this.",
      "created_at" : "2018-07-01T21:39:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-401635120",
      "id" : 401635120,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTYzNTEyMA==",
      "updated_at" : "2018-07-01T21:39:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401635120",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Could you try building my branch at #13584?",
      "created_at" : "2018-07-01T22:56:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-401639014",
      "id" : 401639014,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTYzOTAxNA==",
      "updated_at" : "2018-07-01T22:56:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401639014",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Just doing a cloning your branch to build now.",
      "created_at" : "2018-07-01T23:40:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-401641154",
      "id" : 401641154,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTY0MTE1NA==",
      "updated_at" : "2018-07-01T23:40:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401641154",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/9366114?v=4",
         "events_url" : "https://api.github.com/users/stacepellegrino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stacepellegrino/followers",
         "following_url" : "https://api.github.com/users/stacepellegrino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stacepellegrino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stacepellegrino",
         "id" : 9366114,
         "login" : "stacepellegrino",
         "node_id" : "MDQ6VXNlcjkzNjYxMTQ=",
         "organizations_url" : "https://api.github.com/users/stacepellegrino/orgs",
         "received_events_url" : "https://api.github.com/users/stacepellegrino/received_events",
         "repos_url" : "https://api.github.com/users/stacepellegrino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stacepellegrino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stacepellegrino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stacepellegrino"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "What commands do I use to fetch, merge and build your branch?",
      "created_at" : "2018-07-01T23:56:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-401641926",
      "id" : 401641926,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTY0MTkyNg==",
      "updated_at" : "2018-07-01T23:56:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401641926",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/9366114?v=4",
         "events_url" : "https://api.github.com/users/stacepellegrino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stacepellegrino/followers",
         "following_url" : "https://api.github.com/users/stacepellegrino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stacepellegrino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stacepellegrino",
         "id" : 9366114,
         "login" : "stacepellegrino",
         "node_id" : "MDQ6VXNlcjkzNjYxMTQ=",
         "organizations_url" : "https://api.github.com/users/stacepellegrino/orgs",
         "received_events_url" : "https://api.github.com/users/stacepellegrino/received_events",
         "repos_url" : "https://api.github.com/users/stacepellegrino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stacepellegrino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stacepellegrino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stacepellegrino"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Just figured it out...\r\n\r\n```\r\n# git remote show origin\r\n# git merge master\r\n# git config --global user.email stacey.pellegrino@gmail.com\r\n# git config --global user.name \"Stacey Pellegrino\"\r\n# git commit\r\n```",
      "created_at" : "2018-07-02T00:03:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-401642420",
      "id" : 401642420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTY0MjQyMA==",
      "updated_at" : "2018-07-02T00:06:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401642420",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/9366114?v=4",
         "events_url" : "https://api.github.com/users/stacepellegrino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stacepellegrino/followers",
         "following_url" : "https://api.github.com/users/stacepellegrino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stacepellegrino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stacepellegrino",
         "id" : 9366114,
         "login" : "stacepellegrino",
         "node_id" : "MDQ6VXNlcjkzNjYxMTQ=",
         "organizations_url" : "https://api.github.com/users/stacepellegrino/orgs",
         "received_events_url" : "https://api.github.com/users/stacepellegrino/received_events",
         "repos_url" : "https://api.github.com/users/stacepellegrino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stacepellegrino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stacepellegrino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stacepellegrino"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I don't think the branch pulled as I am still getting the same build error. What are the commands needed to pull your branch?",
      "created_at" : "2018-07-02T00:24:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-401643732",
      "id" : 401643732,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTY0MzczMg==",
      "updated_at" : "2018-07-02T00:24:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401643732",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/9366114?v=4",
         "events_url" : "https://api.github.com/users/stacepellegrino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stacepellegrino/followers",
         "following_url" : "https://api.github.com/users/stacepellegrino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stacepellegrino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stacepellegrino",
         "id" : 9366114,
         "login" : "stacepellegrino",
         "node_id" : "MDQ6VXNlcjkzNjYxMTQ=",
         "organizations_url" : "https://api.github.com/users/stacepellegrino/orgs",
         "received_events_url" : "https://api.github.com/users/stacepellegrino/received_events",
         "repos_url" : "https://api.github.com/users/stacepellegrino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stacepellegrino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stacepellegrino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stacepellegrino"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not at a computer to confirm, but I think this should work:\r\ngit remote add Empact https://github.com/Empact/bitcoin\r\ngit fetch Empact\r\ngit checkout -b cstring Empact/cstring\r\nmake",
      "created_at" : "2018-07-02T00:24:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-401643742",
      "id" : 401643742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTY0Mzc0Mg==",
      "updated_at" : "2018-07-02T00:24:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401643742",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Build now does not fail when compiling `compat/libbitcoin_util_a-glibc_sanity.o` now. @Empact 's fix solved the issue.\r\n\r\nHowever, build now fails with the following:\r\n\r\n```\r\nleveldb/util/env_posix.cc: In member function 'virtual leveldb::Status leveldb::{anonymous}::PosixSequentialFile::Read(std::size_t, leveldb::Slice*, char*)':\r\nleveldb/util/env_posix.cc:105:51: error: 'fread_unlocked' was not declared in this scope\r\n     size_t r = fread_unlocked(scratch, 1, n, file_);\r\n                                                   ^\r\nleveldb/util/env_posix.cc: In member function 'virtual leveldb::Status leveldb::{anonymous}::PosixWritableFile::Append(const leveldb::Slice&)':\r\nleveldb/util/env_posix.cc:234:66: error: 'fwrite_unlocked' was not declared in this scope\r\n     size_t r = fwrite_unlocked(data.data(), 1, data.size(), file_);\r\n                                                                  ^\r\nleveldb/util/env_posix.cc: In member function 'virtual leveldb::Status leveldb::{anonymous}::PosixWritableFile::Flush()':\r\nleveldb/util/env_posix.cc:251:30: error: 'fflush_unlocked' was not declared in this scope\r\n     if (fflush_unlocked(file_) != 0) {\r\n                              ^\r\nleveldb/util/env_posix.cc: In member function 'virtual leveldb::Status leveldb::{anonymous}::PosixWritableFile::Sync()':\r\nleveldb/util/env_posix.cc:290:30: error: 'fflush_unlocked' was not declared in this scope\r\n     if (fflush_unlocked(file_) != 0 ||\r\n                              ^\r\nMakefile:5044: recipe for target 'leveldb/util/leveldb_libleveldb_a-env_posix.o' failed\r\nmake[2]: *** [leveldb/util/leveldb_libleveldb_a-env_posix.o] Error 1\r\nmake[2]: Leaving directory '/opt/local/src/bitcoin/src'\r\nMakefile:9824: recipe for target 'all-recursive' failed\r\nmake[1]: *** [all-recursive] Error 1\r\nmake[1]: Leaving directory '/opt/local/src/bitcoin/src'\r\nMakefile:757: recipe for target 'all-recursive' failed\r\nmake: *** [all-recursive] Error 1\r\n\r\n```\r\n\r\nCreating a new issue regarding this build failure.",
      "created_at" : "2018-07-02T00:53:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-401645709",
      "id" : 401645709,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTY0NTcwOQ==",
      "updated_at" : "2018-07-02T00:53:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401645709",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/9366114?v=4",
         "events_url" : "https://api.github.com/users/stacepellegrino/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stacepellegrino/followers",
         "following_url" : "https://api.github.com/users/stacepellegrino/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stacepellegrino/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stacepellegrino",
         "id" : 9366114,
         "login" : "stacepellegrino",
         "node_id" : "MDQ6VXNlcjkzNjYxMTQ=",
         "organizations_url" : "https://api.github.com/users/stacepellegrino/orgs",
         "received_events_url" : "https://api.github.com/users/stacepellegrino/received_events",
         "repos_url" : "https://api.github.com/users/stacepellegrino/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stacepellegrino/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stacepellegrino/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stacepellegrino"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@stacepellegrino could you re-open this? We can close it when a fix is merged.",
      "created_at" : "2018-07-02T02:35:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-401655843",
      "id" : 401655843,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMTY1NTg0Mw==",
      "updated_at" : "2018-07-02T02:35:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401655843",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Empact Are you still working on a \"more targeted fix\"",
      "created_at" : "2018-07-09T19:00:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-403585601",
      "id" : 403585601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzU4NTYwMQ==",
      "updated_at" : "2018-07-09T19:00:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403585601",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sorry I forgot that PR fixed this issue. I can go with either restoring the specific include or merging the existing work, which I just reopened.\r\n\r\nThe \"more target fix\" I've been working on relates to applying iwyu to bitcoin, which I intend to use as a external / automated check on the include work, e.g. #13584. I'll post the related iwyu output today.",
      "created_at" : "2018-07-09T20:00:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-403601702",
      "id" : 403601702,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzYwMTcwMg==",
      "updated_at" : "2018-07-09T20:07:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403601702",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Here's a PR to fix just this instance: #13619. It may or may not be enough to get past this and onto #13585, but @stacepellegrino will have to confirm.",
      "created_at" : "2018-07-09T22:07:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-403635747",
      "id" : 403635747,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzYzNTc0Nw==",
      "updated_at" : "2018-07-09T22:28:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403635747",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@stacepellegrino I don't think you have your system properly setup, e.g. see this output from configure:\r\n```\r\nconfigure:28711: g++ -std=c++11 -o conftest -g -O2  -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS -DBOOST_SP_USE_STD_ATOMIC -DBOOST_AC_USE_STD_ATOMIC -pthread -I/opt/local/include  conftest.cpp -L/opt/local/lib -lboost_system -lboost_filesystem -lboost_program_options -lboost_thread -lboost_chrono  >&5\r\nconftest.cpp: In function 'int main()':\r\nconftest.cpp:85:5: error: 'choke' was not declared in this scope\r\n     choke;\r\n     ^\r\nconfigure:28711: $? = 1\r\nconfigure: failed program was:\r\n| /* confdefs.h */\r\n| #define PACKAGE_NAME \"Bitcoin Core\"\r\n| #define PACKAGE_TARNAME \"bitcoin\"\r\n| #define PACKAGE_VERSION \"0.16.99\"\r\n| #define PACKAGE_STRING \"Bitcoin Core 0.16.99\"\r\n| #define PACKAGE_BUGREPORT \"https://github.com/bitcoin/bitcoin/issues\"\r\n| #define PACKAGE_URL \"https://bitcoincore.org/\"\r\n| #define HAVE_CXX11 1\r\n| #define STDC_HEADERS 1\r\n| #define HAVE_SYS_TYPES_H 1\r\n| #define HAVE_SYS_STAT_H 1\r\n| #define HAVE_STDLIB_H 1\r\n```",
      "created_at" : "2018-07-10T06:38:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-403716930",
      "id" : 403716930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzcxNjkzMA==",
      "updated_at" : "2018-07-10T06:38:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403716930",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I believe this can be fixed by adding the missing include:\r\n\r\n```diff\r\ndiff --git a/src/compat/glibc_sanity.cpp b/src/compat/glibc_sanity.cpp\r\nindex 20d2ad3cb6..a99f260871 100644\r\n--- a/src/compat/glibc_sanity.cpp\r\n+++ b/src/compat/glibc_sanity.cpp\r\n@@ -7,6 +7,7 @@\r\n #endif\r\n \r\n #include <cstddef>\r\n+#include <cstring>\r\n \r\n #if defined(HAVE_SYS_SELECT_H)\r\n #include <sys/select.h>",
      "created_at" : "2018-07-11T19:02:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-404276721",
      "id" : 404276721,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDI3NjcyMQ==",
      "updated_at" : "2018-07-11T19:02:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404276721",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke agreed, similarly: #13619\r\n\r\nBut I'm doubting this SmartOS thread - if configure can not run successfully, then are there not some basic platform issues to address first? Seems configure should run cleanly before we tackle build errors.",
      "created_at" : "2018-07-11T19:21:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-404281815",
      "id" : 404281815,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDI4MTgxNQ==",
      "updated_at" : "2018-07-11T19:21:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404281815",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Empact sadly this is just a bug in SmartOS's libc. glibc [even makes a note](https://sourceware.org/git/?p=glibc.git;a=blob;f=bits/select.h;h=371c5c15cd1ecd4636495ff917593a7a2f909403;hb=HEAD#l23) about _not_ using memset for this reason.\r\n\r\nWe can work around it by splitting glibc_sanity.cpp into two pieces: One for ```sanity_test_memcpy``` and one for ```sanity_test_fdelt```. Once split, the file with ```sanity_test_fdelt``` can safely include ```string.h```.",
      "created_at" : "2018-07-11T20:41:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-404302561",
      "id" : 404302561,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNDMwMjU2MQ==",
      "updated_at" : "2018-07-11T20:41:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404302561",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/417043?v=4",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "node_id" : "MDQ6VXNlcjQxNzA0Mw==",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I ran into this issue as well and was able to fix it using the diff provided by @MarcoFalke \r\n\r\nI provisioned a fresh SmartOS 16Q4 LTS instance to do this:\r\n\r\n```\r\n$ uname -v\r\njoyent_20180927T004151Z\r\n$ cat /etc/product\r\nName: Joyent Instance\r\nImage: base-64-lts 16.4.1\r\nDocumentation: https://docs.joyent.com/images/smartos/base\r\n```\r\n\r\nInstalled deps:\r\n\r\n```\r\nsudo pkgin in build-essential autoconf pkg-config boost\r\n```\r\n\r\nPulled the source and checked out the latest version (at the time of this writing):\r\n\r\n```\r\ncd ~\r\ngit clone https://github.com/bitcoin/bitcoin.git\r\ncd bitcoin/\r\ngit checkout v0.17.1\r\n```\r\n\r\nAutogen + configure:\r\n\r\n```\r\n./autogen.sh\r\n./configure --disable-wallet --without-gui --without-miniupnpc --disable-tests\r\n```\r\n\r\nPatch the source:\r\n\r\n```\r\nvim ./src/compat/glibc_sanity.cpp\r\n```\r\n\r\n``` diff\r\n$ git diff\r\ndiff --git a/src/compat/glibc_sanity.cpp b/src/compat/glibc_sanity.cpp\r\nindex 1ef66e27b..0166fea90 100644\r\n--- a/src/compat/glibc_sanity.cpp\r\n+++ b/src/compat/glibc_sanity.cpp\r\n@@ -7,6 +7,7 @@\r\n #endif\r\n\r\n #include <cstddef>\r\n+#include <cstring>\r\n\r\n #if defined(HAVE_SYS_SELECT_H)\r\n #include <sys/select.h>\r\n```\r\n\r\nCompiled:\r\n\r\n```\r\nmake \r\n```\r\n\r\nEnsured it worked:\r\n\r\n```\r\n$ ./src/bitcoin-cli -version\r\nBitcoin Core RPC client version v0.17.1.0-ef70f9b52-dirty\r\n```",
      "created_at" : "2019-01-10T21:14:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-453256324",
      "id" : 453256324,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MzI1NjMyNA==",
      "updated_at" : "2019-01-10T21:14:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/453256324",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1205722?v=4",
         "events_url" : "https://api.github.com/users/bahamas10/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bahamas10/followers",
         "following_url" : "https://api.github.com/users/bahamas10/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bahamas10/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bahamas10",
         "id" : 1205722,
         "login" : "bahamas10",
         "node_id" : "MDQ6VXNlcjEyMDU3MjI=",
         "organizations_url" : "https://api.github.com/users/bahamas10/orgs",
         "received_events_url" : "https://api.github.com/users/bahamas10/received_events",
         "repos_url" : "https://api.github.com/users/bahamas10/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bahamas10/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bahamas10/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bahamas10"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@bahamas10 would you try building the code on this branch?: https://github.com/Empact/bitcoin/tree/glibc-sanity-string",
      "created_at" : "2019-01-11T02:25:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/13581#issuecomment-453348875",
      "id" : 453348875,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13581",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MzM0ODg3NQ==",
      "updated_at" : "2019-01-11T02:25:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/453348875",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   }
]
