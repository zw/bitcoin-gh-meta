[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [hebasto](https://github.com/bitcoin/bitcoin/pull/27353#pullrequestreview-1390422025) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#26403](https://github.com/bitcoin/bitcoin/pull/26403) ([POLICY] Ephemeral anchors by instagibbs)\n* [#25038](https://github.com/bitcoin/bitcoin/pull/25038) (policy: nVersion=3 and Package RBF by glozow)\n* [#24007](https://github.com/bitcoin/bitcoin/pull/24007) ([mempool] allow tx replacement by smaller witness by LarryRuane)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-03-28T10:08:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1486576555",
      "id" : 1486576555,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585Ym1ur",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486576555/reactions"
      },
      "updated_at" : "2023-04-18T15:39:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486576555",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The failure here is #27316.",
      "created_at" : "2023-03-28T10:47:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1486632813",
      "id" : 1486632813,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585YnDdt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486632813/reactions"
      },
      "updated_at" : "2023-03-28T10:47:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486632813",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Besides, I'm also not sold that this lint is an actual improvement.\r\n\r\nI think this PR diff _is_ an improvement.",
      "created_at" : "2023-03-31T12:55:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1491884798",
      "id" : 1491884798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585Y7Fr-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1491884798/reactions"
      },
      "updated_at" : "2023-03-31T12:55:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1491884798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think this PR diff is an improvement.\r\n\r\nI'll undraft this then, even if I still don't understand why `clang-tidy` seems to catch more with debug enabled.",
      "created_at" : "2023-03-31T13:18:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1491914824",
      "id" : 1491914824,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585Y7NBI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1491914824/reactions"
      },
      "updated_at" : "2023-03-31T13:18:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1491914824",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > Besides, I'm also not sold that this lint is an actual improvement.\r\n> \r\n> I think this PR diff _is_ an improvement.\r\n\r\nCould you explain why it's an improvement? It's unclear to me why const references to iterators would be an improvement, I was under the impression that iters by value were fine.",
      "created_at" : "2023-03-31T13:19:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1491916125",
      "id" : 1491916125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585Y7NVd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1491916125/reactions"
      },
      "updated_at" : "2023-03-31T13:19:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1491916125",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I'll undraft this then, even if I still don't understand why `clang-tidy` seems to catch more with debug enabled.\r\n\r\n~I suspect~ The culprit is the `-DBOOST_MULTI_INDEX_ENABLE_SAFE_MODE` definition.\r\n\r\nUPD. The mentioned defined macro makes `sizeof(CTxMemPool::txiter) == 40` on my Ubuntu 22.04 x86_64, which makes `clang-tidy` consider this type expensive to copy.",
      "created_at" : "2023-03-31T14:43:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1492035512",
      "id" : 1492035512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585Y7qe4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1492035512/reactions"
      },
      "updated_at" : "2023-03-31T18:18:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1492035512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > > Besides, I'm also not sold that this lint is an actual improvement.\r\n> > \r\n> > \r\n> > I think this PR diff _is_ an improvement.\r\n> \r\n> Could you explain why it's an improvement? It's unclear to me why const references to iterators would be an improvement, I was under the impression that iters by value were fine.\r\n\r\nWell, my main point was enforcing of const-corectness, but I _missed_ the fact that `CTxMemPool::txiter` _is_ a `const_iterator`.\r\n\r\nMaking a constness at the call site obvious for a code reader/reviewer is a very minor improvement, which could be just ignored.",
      "created_at" : "2023-03-31T14:48:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1492042782",
      "id" : 1492042782,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585Y7sQe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1492042782/reactions"
      },
      "updated_at" : "2023-03-31T14:49:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1492042782",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I'm having trouble understanding the relationship between this PR and that issue, am I missing something?\r\n\r\nThe CI was previously failing on the functional tests due to that issue.",
      "created_at" : "2023-04-03T08:55:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1493933961",
      "id" : 1493933961,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585ZC5-J",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1493933961/reactions"
      },
      "updated_at" : "2023-04-03T08:55:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1493933961",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The CI was previously failing on the functional tests due to that issue.\r\n\r\nHow is it possible for that functional test to fail due to using iters vs references to iters?\r\nWasn't the issue with #27316 not waiting for sync, i.e. addressed by #27318?\r\nDoes the problem still exist?\r\nStill trying to understand the motivation for this PR.",
      "created_at" : "2023-04-03T09:12:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1493961578",
      "id" : 1493961578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585ZDAtq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1493961578/reactions"
      },
      "updated_at" : "2023-04-03T09:12:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1493961578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The functional test failure was sporadic, and unrelated to the changes proposed here.",
      "created_at" : "2023-04-03T09:13:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1493963338",
      "id" : 1493963338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585ZDBJK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1493963338/reactions"
      },
      "updated_at" : "2023-04-03T09:13:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1493963338",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Ok, so it seems we agree there is no code quality benefit.\r\n\r\nTo clarify my point, this change _does_ improve code performance when the build is configured with `--enable-debug`.\r\n\r\nI'm not saying that this fact justifies this PR sufficiently, but it should be considered, at the very least.\r\n\r\n> Is the motivation = CI already failing or wanting to add --enable-debug to it?\r\n\r\nI'd avoid it as it will change code paths being parsed now (for example, the `DEBUG_LOCKCONTENTION` macro). Maybe  just provide `CPPFLAGS=-DBOOST_MULTI_INDEX_ENABLE_SAFE_MODE`?",
      "created_at" : "2023-04-03T12:51:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1494267607",
      "id" : 1494267607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585ZELbX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1494267607/reactions"
      },
      "updated_at" : "2023-04-03T12:51:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1494267607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 73afe2c3ac87049887e0633bd25c20f809e8090c -> efa1d5bb477dc2093bc06ffded382fdce6bc7703 ([clangTidyDebug_0](https://github.com/TheCharlatan/bitcoin/commits/clangTidyDebug_0) -> [clangTidyDebug_1](https://github.com/TheCharlatan/bitcoin/commits/clangTidyDebug_1), [compare](https://github.com/TheCharlatan/bitcoin/compare/clangTidyDebug_0..clangTidyDebug_1)).\r\n\r\n* Addressed @hebasto 's [suggestion](https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1494267607) for adding the flag to the CI tidy job.\r\n\r\nRebased efa1d5bb477dc2093bc06ffded382fdce6bc7703 -> 3e76aff9d4709f44d6439cd0cbc2fd6c90cae6ab ([clangTidyDebug_1](https://github.com/TheCharlatan/bitcoin/commits/clangTidyDebug_1) -> [clangTidyDebug_2](https://github.com/TheCharlatan/bitcoin/commits/clangTidyDebug_2), [compare](https://github.com/TheCharlatan/bitcoin/compare/clangTidyDebug_1..clangTidyDebug_2)).\r\n",
      "created_at" : "2023-04-18T15:17:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1513345473",
      "id" : 1513345473,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585aM9HB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1513345473/reactions"
      },
      "updated_at" : "2023-04-18T15:17:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1513345473",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Maybe just provide CPPFLAGS=-DBOOST_MULTI_INDEX_ENABLE_SAFE_MODE?\r\n\r\nConcept ~0 on making our clang-tidy usage dependant on some Boost define.",
      "created_at" : "2023-04-18T15:23:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1513355962",
      "id" : 1513355962,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585aM_q6",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1513355962/reactions"
      },
      "updated_at" : "2023-04-18T15:23:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1513355962",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> What are possible drawbacks here?\r\n\r\nI don't really understand adding it given [your comment above](https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1494267607):\r\n\r\n> I'd avoid it as it will change code paths being parsed now\r\n\r\nYou suggested avoiding changing the code paths being parsed, and then suggested adding a define that changes the code paths being parsed?\r\n\r\nIn its current state, this PR is adding a Boost define, because it has a side-effect that basically \"tricks\" `clang-tidy` into thinking some code is slightly less performant (but only in debug builds) than it actually is, and thus will \"lint\" this code, and tell us to add more code to keep it quiet.\r\n\r\nWe could instead probably just add the consts, and leave it at that, without trying to invoke some boost-safe-mode-based side effect to trick a linter, and enforce some code change that in reality, doesn't make any difference to anything.",
      "created_at" : "2023-04-18T18:13:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27353#issuecomment-1513602373",
      "id" : 1513602373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27353",
      "node_id" : "IC_kwDOABII585aN71F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1513602373/reactions"
      },
      "updated_at" : "2023-04-18T18:13:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1513602373",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
