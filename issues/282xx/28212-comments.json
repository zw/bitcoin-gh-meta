[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283470743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283470743"
         }
      },
      "author_association" : "NONE",
      "body" : "won't this pass if no exception is raised?\r\nShouldn't we add something like either:\r\n```Python\r\ntry:\r\n    self.do_test_k_of_n(1, 1000)\r\n    assert False, \"Expected exception was not raised for 1-of-1000 test\"\r\nexcept JSONRPCException as e:\r\n```\r\n\r\nor via unittest:\r\n```Python\r\nwith self.assertRaises(JSONRPCException) as cm:\r\n    self.do_test_k_of_n(1, 1000)\r\nself.assertEqual(cm.exception.error[\"code\"], -5)\r\nself.assertIn(\"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", cm.exception.error[\"message\"])\r\n```\r\n?",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T16:49:57Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283470743",
      "id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MgDWX",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561501885,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283470743/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T16:50:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283470743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283479802"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283479802"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for pointing this out ð  I agree it shouldn't be possible for this test to succeed so an exception should be raised.",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T16:58:04Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283479802",
      "id" : 1283479802,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MgFj6",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561514421,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283479802/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T16:58:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283479802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283587279"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283587279"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`assert_raises_rpc_error` is probably what you want",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T18:44:26Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283587279",
      "id" : 1283587279,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MgfzP",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561669634,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283587279/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T18:44:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283587279",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283597304"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283597304"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@paplorinc I like the second approach, it seems a bit cleaner and clearer to me. However, it doesn't seem to be used in other functional tests so maybe the first approach is better to be more consistent?",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T18:54:02Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283597304",
      "id" : 1283597304,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MgiP4",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561683594,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283597304/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T18:54:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283597304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283599461"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283599461"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@instagibbs Thanks! I was looking at that option too, however I couldn't see a way to use it in this context without having to change a lot of the code, but maybe I'm missing something obvious? ð¤ ",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T18:56:15Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283599461",
      "id" : 1283599461,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585Mgixl",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561686650,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283599461/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T18:56:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283599461",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283672181"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283672181"
         }
      },
      "author_association" : "MEMBER",
      "body" : "if something should raise an error and a specific code/message, you use `assert_raises_rpc_error`. Just take a look on how it's used elsewhere? ",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T20:13:35Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283672181",
      "id" : 1283672181,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585Mg0h1",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561792862,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283672181/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T20:13:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283672181",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283740534"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283740534"
         }
      },
      "author_association" : "NONE",
      "body" : "```Python\r\n# Test that 1-of-1000 and 999-of-1000 raise exception\r\nfor k in [1, 999]:\r\n    assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)\r\n```\r\n\r\nor maybe even:\r\n```Python\r\nfor k in [0, 1, 999, 1000]:\r\n```\r\nif that makes sense.",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-03T21:31:41Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283740534",
      "id" : 1283740534,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MhFN2",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1561889365,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283740534/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-03T21:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283740534",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283998840"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283998840"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I much appreciate the input @paplorinc, this was the syntax I was looking for ð  I saw the first version of your message and immediately thought about doing the other part ([0, 1, 999, 1000]). You read my mind, this makes very much sense! ~Also, doing [1, 999] would be quite time consuming because each run lasts about a second so in total it would need 1000 seconds to complete.~ Nvm, I was thinking about testing the whole range when in fact it's just two tests. I'll update the PR to support the version with four tests.",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-04T05:35:42Z",
      "diff_hunk" : "@@ -499,6 +508,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)\n+        # Test 1-of-1000, should not succeed\n+        try:\n+            self.do_test_k_of_n(1, 1000)\n+        except JSONRPCException as e:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1283998840",
      "id" : 1283998840,
      "in_reply_to_id" : 1283470743,
      "line" : 517,
      "node_id" : "PRRC_kwDOABII585MiER4",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 517,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1562200273,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283998840/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T05:47:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1283998840",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284003587"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284003587"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors Given my basic understanding of output descriptors, I'd much appreciate your thoughts on this block of code, to make sure it meets the issue criterias and if this is a good way to test it.",
      "commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "created_at" : "2023-08-04T05:45:02Z",
      "diff_hunk" : "@@ -387,6 +388,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284003587",
      "id" : 1284003587,
      "line" : 391,
      "node_id" : "PRRC_kwDOABII585MiFcD",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 391,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 30,
      "pull_request_review_id" : 1562207405,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284003587/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T05:45:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284003587",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284067105"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284067105"
         }
      },
      "author_association" : "NONE",
      "body" : "isn't it weird that the error message states \"Cannot have 1000 keys\" and k is ignored?\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/7edce77ff3725f8650bb1ae6b45b1cee100db280/src/script/descriptor.cpp#L1381\r\n\r\nBased on the error the k doesn't even matter (it fails for 500 as well), so is it even important to test multiple k values here?",
      "commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "created_at" : "2023-08-04T07:12:47Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284067105",
      "id" : 1284067105,
      "line" : 519,
      "node_id" : "PRRC_kwDOABII585MiU8h",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 57,
      "pull_request_review_id" : 1562306833,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284067105/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T07:32:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284067105",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284204363"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284204363"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe keep it simple and just test 1 of 1000.\r\n\r\nIn that case I also don't think you need the k_of_n helper function.",
      "commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "created_at" : "2023-08-04T09:31:49Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284204363",
      "id" : 1284204363,
      "in_reply_to_id" : 1284067105,
      "line" : 519,
      "node_id" : "PRRC_kwDOABII585Mi2dL",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 57,
      "pull_request_review_id" : 1562521995,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284204363/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T09:37:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284204363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284205838"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284205838"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why are you changing the fee rate?",
      "commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "created_at" : "2023-08-04T09:33:26Z",
      "diff_hunk" : "@@ -300,7 +304,7 @@ def do_test_sendtoaddress(self, comment, pattern, privmap, treefn, keys_pay, key\n             test_balance = int(rpc_online.getbalance() * 100000000)\n             ret_amnt = random.randrange(100000, test_balance)\n             # Increase fee_rate to compensate for the wallet's inability to estimate fees for script path spends.\n-            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=200)\n+            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=500)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284205838",
      "id" : 1284205838,
      "line" : 307,
      "node_id" : "PRRC_kwDOABII585Mi20O",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 307,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 20,
      "pull_request_review_id" : 1562524419,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284205838/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T09:33:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284205838",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284212036"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284212036"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I understand descriptors, but Python less well :-) What is this function trying to do?",
      "commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "created_at" : "2023-08-04T09:40:04Z",
      "diff_hunk" : "@@ -387,6 +388,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284212036",
      "id" : 1284212036,
      "in_reply_to_id" : 1284003587,
      "line" : 394,
      "node_id" : "PRRC_kwDOABII585Mi4VE",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 391,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 37,
      "pull_request_review_id" : 1562534441,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284212036/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T09:40:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284212036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284233075"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284233075"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "If I didn't bump the fee rate I would run into the two error codes mentioned in the PR message:\r\n```\r\nHad to bump fee rate to resolve assertions in sendtoaddress and psbt methods:\r\n\r\n    code -5: assert rpc_online.gettransaction(txid)[\"confirmations\"] > 0\r\n    code -26: min relay fee not met\r\n```\r\n\r\nThe previous `fee_rate = 200` limit seems to be sufficient up until `n ~ 500`. I assume this is because the script size increases with higher numbers of `n`.",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:01:04Z",
      "diff_hunk" : "@@ -300,7 +304,7 @@ def do_test_sendtoaddress(self, comment, pattern, privmap, treefn, keys_pay, key\n             test_balance = int(rpc_online.getbalance() * 100000000)\n             ret_amnt = random.randrange(100000, test_balance)\n             # Increase fee_rate to compensate for the wallet's inability to estimate fees for script path spends.\n-            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=200)\n+            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=500)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284233075",
      "id" : 1284233075,
      "in_reply_to_id" : 1284205838,
      "line" : 306,
      "node_id" : "PRRC_kwDOABII585Mi9dz",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 307,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 17,
      "pull_request_review_id" : 1562568719,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284233075/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:01:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284233075",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284239102"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284239102"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I guess that would do the trick, however I'm unsure if by doing so we modify the test to test the assertion, which seems a bit incomplete/unintuitive to me, rather than testing the edge cases in k-of-N wallets? ð¤ If you understand what I mean ð If you don't think it's an issue, I'm all for keeping it simple and just test 1-of-1000.",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:07:40Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284239102",
      "id" : 1284239102,
      "in_reply_to_id" : 1284067105,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Mi-7-",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : null,
      "pull_request_review_id" : 1562578496,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284239102/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:07:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284239102",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284246711"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284246711"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fee rate is the fee per vbyte, so the fee goes up as the script size goes up. But this may be related to #26573 ",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:16:20Z",
      "diff_hunk" : "@@ -300,7 +304,7 @@ def do_test_sendtoaddress(self, comment, pattern, privmap, treefn, keys_pay, key\n             test_balance = int(rpc_online.getbalance() * 100000000)\n             ret_amnt = random.randrange(100000, test_balance)\n             # Increase fee_rate to compensate for the wallet's inability to estimate fees for script path spends.\n-            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=200)\n+            res = rpc_online.sendtoaddress(address=self.boring.getnewaddress(), amount=Decimal(ret_amnt) / 100000000, subtractfeefromamount=True, fee_rate=500)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284246711",
      "id" : 1284246711,
      "in_reply_to_id" : 1284205838,
      "line" : 306,
      "node_id" : "PRRC_kwDOABII585MjAy3",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 307,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 17,
      "pull_request_review_id" : 1562590867,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284246711/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:16:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284246711",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284249102"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284249102"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Well the \"edge\" here is n = 999, but this test is varying `k`, not `n`.",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:19:03Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284249102",
      "id" : 1284249102,
      "in_reply_to_id" : 1284067105,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MjBYO",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : null,
      "pull_request_review_id" : 1562594581,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284249102/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:19:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284249102",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284252603"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284252603"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's a function that allows setup and testing of any k-of-n wallet. It builds on the idea of the existing test that @darosior pointed to, which starts on L495 https://github.com/bitcoin/bitcoin/blob/64440bb733896a7a2caf902825e0406cb993e666/test/functional/wallet_taproot.py#L495 where a random number of `n` is used.\r\n\r\nThe part that differs is how the `[KEY_1,...,KEY_N]` array inside the `multi_a` is built - where the previous function uses `([H_POINT] * rnd_pos)` up until `k1` and then `([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)` after, the new function uses `k1` for the whole array of.\r\n\r\nHowever, because this previous test is not documented, I'm not entirely sure about the H_POINT parts do and if I need them in my test somehow, or if the way I've written it is enough to verify the 999-of-999 and 1-of-1000 cases.",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:23:10Z",
      "diff_hunk" : "@@ -387,6 +388,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284252603",
      "id" : 1284252603,
      "in_reply_to_id" : 1284003587,
      "line" : 393,
      "node_id" : "PRRC_kwDOABII585MjCO7",
      "original_commit_id" : "1bc3a894659d8f45abe6b394b4b25851805b41aa",
      "original_line" : 391,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 34,
      "pull_request_review_id" : 1562600048,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284252603/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:23:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284252603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284253877"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284253877"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ah you're right. I'll simplify the test to only do 1-of-1000.",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T10:24:37Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284253877",
      "id" : 1284253877,
      "in_reply_to_id" : 1284067105,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MjCi1",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : null,
      "pull_request_review_id" : 1562601959,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284253877/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T10:24:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284253877",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284321897"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284321897"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Would it make sense to test the other edge, 1-of-0? ",
      "commit_id" : "8cfd2702ecccf5ee7d05784849f3cf88d40e1e72",
      "created_at" : "2023-08-04T11:44:21Z",
      "diff_hunk" : "@@ -511,16 +514,9 @@ def run_test(self):\n \n         # Test 999-of-999\n         self.do_test_k_of_n(999, 999)\n-        # Test 1-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(1, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n-        # Test 999-of-1000, should not succeed\n-        try:\n-            self.do_test_k_of_n(999, 1000)\n-        except JSONRPCException as e:\n-            assert e.error[\"code\"] == -5 and \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\" in e.error[\"message\"]\n+        # Test that all of the combinations 0-of-1000, 1-of-1000 and 999-of-1000 and 1000-of-1000 raise exception\n+        for k in [0, 1, 999, 1000]:\n+            assert_raises_rpc_error(-5, \"Cannot have 1000 keys in multi_a; must have between 1 and 999 keys, inclusive\", self.do_test_k_of_n, k, 1000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284321897",
      "id" : 1284321897,
      "in_reply_to_id" : 1284067105,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MjTJp",
      "original_commit_id" : "aa2a1aa671a673751dfda01535bff59b7a984787",
      "original_line" : 519,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : null,
      "pull_request_review_id" : 1562712487,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284321897/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T11:44:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284321897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284374826"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284374826"
         }
      },
      "author_association" : "NONE",
      "body" : "Slightly unrelated: are there any tests that check multisig with different keys rather than repeating the same one, to make it more representative of a real-world scenario?\r\nI'm just getting familiar with the codebase, I'm not sure whether it's important or not.",
      "commit_id" : "7b75803e0a410ec31013b97cb7f0f7c1659ad938",
      "created_at" : "2023-08-04T12:42:30Z",
      "diff_hunk" : "@@ -387,6 +390,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):\n+        self.do_test(\n+            f\"tr(XPUB,multi_a({k},XPRV_1,...,XPRV_N)\",\n+            f\"tr($2/*,multi_a({k}\" + (\",$1/*\" * n) + \"))\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284374826",
      "id" : 1284374826,
      "line" : 396,
      "node_id" : "PRRC_kwDOABII585MjgEq",
      "original_commit_id" : "7b75803e0a410ec31013b97cb7f0f7c1659ad938",
      "original_line" : 396,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 37,
      "pull_request_review_id" : 1562796266,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284374826/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T12:42:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284374826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1841944?v=4",
         "events_url" : "https://api.github.com/users/paplorinc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paplorinc/followers",
         "following_url" : "https://api.github.com/users/paplorinc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paplorinc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paplorinc",
         "id" : 1841944,
         "login" : "paplorinc",
         "node_id" : "MDQ6VXNlcjE4NDE5NDQ=",
         "organizations_url" : "https://api.github.com/users/paplorinc/orgs",
         "received_events_url" : "https://api.github.com/users/paplorinc/received_events",
         "repos_url" : "https://api.github.com/users/paplorinc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paplorinc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paplorinc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paplorinc"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284383877"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284383877"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it's very related and also my concern, is this test as good as one with K different keys. I'm hoping @Sjors can provide some insight here. My understanding of the other tests in this file is limited because they are not documented, but they seem to be doing something similar to this. On the other hand I could of course do what the previous test did, to use the \"H_POINT\" approach and just throw one XPRV in there somewhere. If that makes the test more real-world like or improves the test in some other way I'm all for it.",
      "commit_id" : "7b75803e0a410ec31013b97cb7f0f7c1659ad938",
      "created_at" : "2023-08-04T12:52:26Z",
      "diff_hunk" : "@@ -387,6 +390,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):\n+        self.do_test(\n+            f\"tr(XPUB,multi_a({k},XPRV_1,...,XPRV_N)\",\n+            f\"tr($2/*,multi_a({k}\" + (\",$1/*\" * n) + \"))\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1284383877",
      "id" : 1284383877,
      "in_reply_to_id" : 1284374826,
      "line" : 396,
      "node_id" : "PRRC_kwDOABII585MjiSF",
      "original_commit_id" : "7b75803e0a410ec31013b97cb7f0f7c1659ad938",
      "original_line" : 396,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 37,
      "pull_request_review_id" : 1562811095,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284383877/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-04T12:52:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1284383877",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1296928288"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296928288"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    assert_raises_rpc_error,\r\n```\r\n\r\nstyle-nit: Add the missing comma here? Otherwise someone will have to touch this line again when appending something.\r\n\r\nA (force) push should also make CI less red.",
      "commit_id" : "c1fa172971c8cc8a451211cb39b3a79f5d9c2f35",
      "created_at" : "2023-08-17T09:23:42Z",
      "diff_hunk" : "@@ -11,7 +11,10 @@\n from test_framework.address import output_key_to_p2tr\n from test_framework.key import H_POINT\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import assert_equal\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1296928288",
      "id" : 1296928288,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585NTY4g",
      "original_commit_id" : "2dcfce16aa952bdad0e327214e730f2d3e4707bc",
      "original_line" : 16,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : null,
      "pull_request_review_id" : 1582169023,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296928288/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-17T09:23:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1296928288",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1297001150"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297001150"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for the comments. ð I added the comma, rebased onto master and force pushed to trigger a new build to get the mac CI through.",
      "commit_id" : "c1fa172971c8cc8a451211cb39b3a79f5d9c2f35",
      "created_at" : "2023-08-17T10:06:36Z",
      "diff_hunk" : "@@ -11,7 +11,10 @@\n from test_framework.address import output_key_to_p2tr\n from test_framework.key import H_POINT\n from test_framework.test_framework import BitcoinTestFramework\n-from test_framework.util import assert_equal\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1297001150",
      "id" : 1297001150,
      "in_reply_to_id" : 1296928288,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585NTqq-",
      "original_commit_id" : "2dcfce16aa952bdad0e327214e730f2d3e4707bc",
      "original_line" : 16,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : null,
      "pull_request_review_id" : 1582280052,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297001150/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-17T10:06:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1297001150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1426591213"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426591213"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Testing different keys makes sense, but let's keep this PR simple and leave it to a followup.",
      "commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "created_at" : "2023-12-14T11:23:39Z",
      "diff_hunk" : "@@ -387,6 +390,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):\n+        self.do_test(\n+            f\"tr(XPUB,multi_a({k},XPRV_1,...,XPRV_N)\",\n+            f\"tr($2/*,multi_a({k}\" + (\",$1/*\" * n) + \"))\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1426591213",
      "id" : 1426591213,
      "in_reply_to_id" : 1284374826,
      "line" : 396,
      "node_id" : "PRRC_kwDOABII585VCA3t",
      "original_commit_id" : "7b75803e0a410ec31013b97cb7f0f7c1659ad938",
      "original_line" : 396,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 37,
      "pull_request_review_id" : 1781604091,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426591213/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-14T11:58:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426591213",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1426605372"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426605372"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Note to other reviewers: this `privmap` argument determines for which keys an xpriv is inserted into the descriptor. ",
      "commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "created_at" : "2023-12-14T11:38:15Z",
      "diff_hunk" : "@@ -387,6 +390,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):\n+        self.do_test(\n+            f\"tr(XPUB,multi_a({k},XPRV_1,...,XPRV_N)\",\n+            f\"tr($2/*,multi_a({k}\" + (\",$1/*\" * n) + \"))\",\n+            [True, False],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1426605372",
      "id" : 1426605372,
      "line" : 397,
      "node_id" : "PRRC_kwDOABII585VCEU8",
      "original_commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "original_line" : 397,
      "original_position" : 38,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 38,
      "pull_request_review_id" : 1781604091,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426605372/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-14T11:58:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426605372",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1426613810"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426613810"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Unfortunately this leads to extreme CPU usage and a `sendtoaddress` RPC timeout even on my 2019 MacBook Pro.\r\n\r\nI suggest sticking to a lower maximum for now, so we at least get this useful helper function, and leaving a note like:\r\n\r\n```\r\n// TODO: fix or work around performance bottleneck in `sendtoaddress`\r\n// in order to test the maximum Taproot allowed 999-of-999.\r\n```\r\n\r\nMy Macbook can easily handle 1-of-100. The 30 second timeout is hit somewhere between 1-of-750 and 1-of-1000. The CI machines may be slower.\r\n\r\nIn term of fixing the bottleneck, you could try the more modern `send` RPC though I doubt that makes a difference. Maybe @achow101 has an idea?",
      "commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "created_at" : "2023-12-14T11:47:00Z",
      "diff_hunk" : "@@ -499,6 +510,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1426613810",
      "id" : 1426613810,
      "line" : 515,
      "node_id" : "PRRC_kwDOABII585VCGYy",
      "original_commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "original_line" : 515,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1781604091,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426613810/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-14T11:59:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426613810",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1426614316"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426614316"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`...,XPRIV_{n}`",
      "commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "created_at" : "2023-12-14T11:47:29Z",
      "diff_hunk" : "@@ -387,6 +390,14 @@ def do_test_psbt(self, comment, pattern, privmap, treefn, keys_pay, keys_change)\n         psbt_online.unloadwallet()\n         psbt_offline.unloadwallet()\n \n+    def do_test_k_of_n(self, k, n):\n+        self.do_test(\n+            f\"tr(XPUB,multi_a({k},XPRV_1,...,XPRV_N)\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1426614316",
      "id" : 1426614316,
      "line" : 395,
      "node_id" : "PRRC_kwDOABII585VCGgs",
      "original_commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "original_line" : 395,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 36,
      "pull_request_review_id" : 1781604091,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426614316/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-14T11:58:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1426614316",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1427850857"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427850857"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'll lower it to 100 unless @achow101 thinks the `send` RPC approach would work efficiently here.",
      "commit_id" : "387c12e0813a863bc9728777719acbafe7b12a34",
      "created_at" : "2023-12-15T11:07:17Z",
      "diff_hunk" : "@@ -499,6 +510,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1427850857",
      "id" : 1427850857,
      "in_reply_to_id" : 1426613810,
      "line" : 515,
      "node_id" : "PRRC_kwDOABII585VG0Zp",
      "original_commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "original_line" : 515,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1783608956,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427850857/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-15T11:07:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427850857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1427861597"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427861597"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors just to make sure, did you mean 100-of-100? Or should I leave this out completely and just keep the 1-of-0 and 1-of-1000 tests further down that utilises the same new helper method?\r\n```\r\n        # Test 100-of-100 \r\n        self.do_test_k_of_n(100, 100)\r\n```",
      "commit_id" : "387c12e0813a863bc9728777719acbafe7b12a34",
      "created_at" : "2023-12-15T11:19:06Z",
      "diff_hunk" : "@@ -499,6 +510,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1427861597",
      "id" : 1427861597,
      "in_reply_to_id" : 1426613810,
      "line" : 515,
      "node_id" : "PRRC_kwDOABII585VG3Bd",
      "original_commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "original_line" : 515,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1783633621,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427861597/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-15T11:19:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427861597",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1427914041"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427914041"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The CI machines seem to make it through without timeout:\r\nhttps://github.com/bitcoin/bitcoin/actions/runs/7221218374/job/19675746505?pr=28212#step:7:3594\r\nhttps://github.com/bitcoin/bitcoin/actions/runs/7221218374/job/19675746796?pr=28212#step:27:330\r\n\r\nHowever, the test runs for 15 minutes on the Win64 job and for 20 minutes on the macOS job, making it the longest running functional test by far.",
      "commit_id" : "387c12e0813a863bc9728777719acbafe7b12a34",
      "created_at" : "2023-12-15T12:18:37Z",
      "diff_hunk" : "@@ -499,6 +510,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1427914041",
      "id" : 1427914041,
      "in_reply_to_id" : 1426613810,
      "line" : 515,
      "node_id" : "PRRC_kwDOABII585VHD05",
      "original_commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "original_line" : 515,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1783811893,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427914041/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-15T12:18:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427914041",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1427941674"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427941674"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If it still takes that long you probably want to pick a smaller K and/or N.\r\n\r\n> did you mean 100-of-100? Or should I leave this out completely and just keep the 1-of-0 and 1-of-1000 tests further down that utilises the same new helper method?\r\n\r\nThe other two tests only check the failure case. A 1-of-100 would check the success path. 100-of-100 might be fine too, but maybe slower?",
      "commit_id" : "387c12e0813a863bc9728777719acbafe7b12a34",
      "created_at" : "2023-12-15T12:49:37Z",
      "diff_hunk" : "@@ -499,6 +510,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1427941674",
      "id" : 1427941674,
      "in_reply_to_id" : 1426613810,
      "line" : 515,
      "node_id" : "PRRC_kwDOABII585VHKkq",
      "original_commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "original_line" : 515,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1783902771,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427941674/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-15T12:49:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427941674",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1427966127"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427966127"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "100-of-100 seems to run okay, less than 16 sec to complete the whole test. However, after the rebase I see the same behavior on my Mac M1 as you're seeing on your 2019 MacBook Pro. Even the 1-of-999 test doesn't pass without an RPC timeout, which it did before! So perhaps there's been some change while the PR has been open that now causes the test to perform slower? ð¤ \r\n\r\n1-of-999 gives me:\r\n`'sendall' RPC took longer than 30.000000 seconds. Consider using larger timeout for calls that take longer to return. (-344)`\r\n\r\n999-of-999 gives me\r\n`'sendtoaddress' RPC took longer than 30.000000 seconds. Consider using larger timeout for calls that take longer to return. (-344)`",
      "commit_id" : "387c12e0813a863bc9728777719acbafe7b12a34",
      "created_at" : "2023-12-15T13:17:27Z",
      "diff_hunk" : "@@ -499,6 +510,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1427966127",
      "id" : 1427966127,
      "in_reply_to_id" : 1426613810,
      "line" : 515,
      "node_id" : "PRRC_kwDOABII585VHQiv",
      "original_commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "original_line" : 515,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1783983025,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427966127/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-15T13:17:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427966127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1428018720"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428018720"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Interesting. Try cleaning your working directory (e.g. `git clean -dfx`) and building again. To try on an older version of master, you can you check out any old commit and then do a `git cherry-pick ...`.",
      "commit_id" : "387c12e0813a863bc9728777719acbafe7b12a34",
      "created_at" : "2023-12-15T14:12:17Z",
      "diff_hunk" : "@@ -499,6 +510,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1428018720",
      "id" : 1428018720,
      "in_reply_to_id" : 1426613810,
      "line" : 515,
      "node_id" : "PRRC_kwDOABII585VHdYg",
      "original_commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "original_line" : 515,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1784146018,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428018720/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-15T14:12:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428018720",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1428484311"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428484311"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Interesting. Try cleaning your working directory (e.g. `git clean -dfx`) and building again. To try on an older version of master, you can you check out any old commit and then do a `git cherry-pick ...`.\r\n\r\nGit bisecting this I found that the tests start timing out with commit 4f473ea515bc77b9138323dab8a741c063d32e8f \r\n\r\nAre you able to verify this on your setup?\r\n\r\n@darosior would you be able to check as well? ð\r\n\r\nThis is how I did it:\r\n```\r\ngit checkout 4f473ea515bc77b9138323dab8a741c063d32e8f\r\ngit cherry-pick 387c12e0813a863bc9728777719acbafe7b12a34\r\nmake\r\npython3 test/functional/wallet_taproot.py\r\n...\r\ntest_framework.authproxy.JSONRPCException: 'sendtoaddress' RPC took longer than 30.000000 seconds. Consider using larger timeout for calls that take longer to return. (-344)\r\n```\r\nTest previous commit:\r\n```\r\ngit checkout HEAD~1\r\ngit cherry-pick 387c12e0813a863bc9728777719acbafe7b12a34\r\nmake\r\npython3 test/functional/wallet_taproot.py\r\n...\r\n2023-12-15T20:46:16.689000Z TestFramework (INFO): Tests successful\r\n```",
      "commit_id" : "387c12e0813a863bc9728777719acbafe7b12a34",
      "created_at" : "2023-12-15T21:05:31Z",
      "diff_hunk" : "@@ -499,6 +510,20 @@ def run_test(self):\n             [True, False],\n             lambda k1, k2: (key(k2), [multi_a(1, ([H_POINT] * rnd_pos) + [k1] + ([H_POINT] * (MAX_PUBKEYS_PER_MULTI_A - 1 - rnd_pos)))])\n         )\n+\n+        # Test 999-of-999\n+        self.do_test_k_of_n(999, 999)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28212#discussion_r1428484311",
      "id" : 1428484311,
      "in_reply_to_id" : 1426613810,
      "line" : 515,
      "node_id" : "PRRC_kwDOABII585VJPDX",
      "original_commit_id" : "030ee8a44958a7cc8db0aa6f858d379e7170c0c8",
      "original_line" : 515,
      "original_position" : 51,
      "original_start_line" : null,
      "path" : "test/functional/wallet_taproot.py",
      "position" : 51,
      "pull_request_review_id" : 1784924455,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28212",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428484311/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-15T21:05:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428484311",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20860124?v=4",
         "events_url" : "https://api.github.com/users/eriknylund/events{/privacy}",
         "followers_url" : "https://api.github.com/users/eriknylund/followers",
         "following_url" : "https://api.github.com/users/eriknylund/following{/other_user}",
         "gists_url" : "https://api.github.com/users/eriknylund/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/eriknylund",
         "id" : 20860124,
         "login" : "eriknylund",
         "node_id" : "MDQ6VXNlcjIwODYwMTI0",
         "organizations_url" : "https://api.github.com/users/eriknylund/orgs",
         "received_events_url" : "https://api.github.com/users/eriknylund/received_events",
         "repos_url" : "https://api.github.com/users/eriknylund/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/eriknylund/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/eriknylund/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/eriknylund"
      }
   }
]
