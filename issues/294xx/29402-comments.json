[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29402).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [epiccurious](https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1937116907) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29256](https://github.com/bitcoin/bitcoin/pull/29256) (Improve new LogDebug/Trace/Info/Warning/Error Macros by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2024-02-07T13:07:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1932014527",
      "id" : 1932014527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zKDO_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932014527/reactions"
      },
      "updated_at" : "2024-02-10T20:47:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932014527",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Why is this needed? A progress log for something that takes less than a second does not sound useful",
      "created_at" : "2024-02-07T13:18:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1932034222",
      "id" : 1932034222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zKICu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932034222/reactions"
      },
      "updated_at" : "2024-02-07T13:18:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932034222",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Why is this needed? A progress log for something that takes less than a second does not sound useful\r\n\r\nThis is in response to this comment https://github.com/bitcoin/bitcoin/pull/29227#pullrequestreview-1817064507 \r\nthe logs I posted in the description are from testnet I can run this on mainnet to get the time it takes on shutdown there",
      "created_at" : "2024-02-07T13:41:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1932077013",
      "id" : 1932077013,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zKSfV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932077013/reactions"
      },
      "updated_at" : "2024-02-07T13:41:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932077013",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The delay is probably from leveldb, but it would be good to first check",
      "created_at" : "2024-02-07T13:47:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1932088394",
      "id" : 1932088394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zKVRK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932088394/reactions"
      },
      "updated_at" : "2024-02-07T13:47:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932088394",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Why is this needed? A progress log for something that takes less than a second does not sound useful\r\n\r\nI agree that logging the detailed progress in % is a bit overkill, but IMHO a single line \"Dumping xyz mempool transactions to disk...\" would still make sense. The \"less than a second\" data point seems to be closer to best-case, I have one machine here where dumping a full default-sized mempool takes more than 10 seconds.\r\n",
      "created_at" : "2024-02-07T14:39:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1932187117",
      "id" : 1932187117,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zKtXt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932187117/reactions"
      },
      "updated_at" : "2024-02-07T14:39:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932187117",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> 10 seconds.\r\n\r\nSure, it may take longer than one second, depending on the hardware and its size. However,\r\n\r\n* *Loading* a mempool can take hours, depending on the hardware and its size.\r\n* *Loading* is done in a background thread, so other stuff is going on and logged at the same time.\r\n\r\nShutdown should be single-threaded, so the debug log should contain the last timestamp, which is enough to derive how long it took to dump the mempool, or whether it is still ongoing. I don't expect anyone to poll the debug log every second to see an update on the progress.\r\n\r\n> IMHO a single line \"Dumping xyz mempool transactions to disk...\" would still make sense.\r\n\r\nAgree, if there isn't such a log line right now, it could make sense to add it.",
      "created_at" : "2024-02-07T14:57:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1932225006",
      "id" : 1932225006,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zK2nu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932225006/reactions"
      },
      "updated_at" : "2024-02-07T14:57:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932225006",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> logging the detailed progress in % is a bit overkill\r\n\r\n+1 to @theStack's comment. Logging the start and end would be sufficient, no need for the 10% increments.",
      "created_at" : "2024-02-07T14:58:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1932225974",
      "id" : 1932225974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zK222",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932225974/reactions"
      },
      "updated_at" : "2024-02-07T14:58:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932225974",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "force pushed [33153b0](https://github.com/bitcoin/bitcoin/pull/29402/commits/33153b0236346809c75f6f52a3000a4e18e3b385)\r\n\r\nThis removes the 10% increments and now logs a single line with the amount of mempool transactions being written to the disk",
      "created_at" : "2024-02-07T15:15:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1932261641",
      "id" : 1932261641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zK_kJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932261641/reactions"
      },
      "updated_at" : "2024-02-07T15:15:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1932261641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481672254"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481672254"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        uint64_t mempool_transactions_to_write(vinfo.size());\r\n```\r\n\r\nnit: No need to repeat the type",
      "commit_id" : "6312513b5074f160971ffec0b093b58b9d3cdaae",
      "created_at" : "2024-02-07T15:35:31Z",
      "diff_hunk" : "@@ -184,7 +184,9 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         file.SetXor(xor_key);\n \n-        file << (uint64_t)vinfo.size();\n+        uint64_t mempool_transactions_to_write = (uint64_t)vinfo.size();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481672254",
      "id" : 1481672254,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YUIY-",
      "original_commit_id" : "33153b0236346809c75f6f52a3000a4e18e3b385",
      "original_line" : 187,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1868128189,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481672254/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-07T15:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481672254",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481674077"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481674077"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Could add the mempool size in MB, if it is easy to add?",
      "commit_id" : "6312513b5074f160971ffec0b093b58b9d3cdaae",
      "created_at" : "2024-02-07T15:36:49Z",
      "diff_hunk" : "@@ -184,7 +184,9 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         file.SetXor(xor_key);\n \n-        file << (uint64_t)vinfo.size();\n+        uint64_t mempool_transactions_to_write = (uint64_t)vinfo.size();\n+        file << mempool_transactions_to_write;\n+        LogInfo(\"Writing %u mempool transactions to disk...\\n\", mempool_transactions_to_write);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481674077",
      "id" : 1481674077,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YUI1d",
      "original_commit_id" : "33153b0236346809c75f6f52a3000a4e18e3b385",
      "original_line" : 189,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1868128189,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481674077/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-07T15:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481674077",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481675864"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481675864"
         }
      },
      "author_association" : "MEMBER",
      "body" : "unrelated: In this file, I think it would be clearer to replace \"disk\" with \"file\", because the transactions are not dumped to separate files on disk, but to a single file.",
      "commit_id" : "6312513b5074f160971ffec0b093b58b9d3cdaae",
      "created_at" : "2024-02-07T15:38:03Z",
      "diff_hunk" : "@@ -184,7 +184,9 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         file.SetXor(xor_key);\n \n-        file << (uint64_t)vinfo.size();\n+        uint64_t mempool_transactions_to_write = (uint64_t)vinfo.size();\n+        file << mempool_transactions_to_write;\n+        LogInfo(\"Writing %u mempool transactions to disk...\\n\", mempool_transactions_to_write);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481675864",
      "id" : 1481675864,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YUJRY",
      "original_commit_id" : "33153b0236346809c75f6f52a3000a4e18e3b385",
      "original_line" : 189,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1868128189,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481675864/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-07T15:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481675864",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481713668"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481713668"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "updated in [6312513](https://github.com/bitcoin/bitcoin/pull/29402/commits/6312513b5074f160971ffec0b093b58b9d3cdaae)\r\nI just used `sizeof()` on `vinfo` to get this amount in bytes then divided by 1000000 to get MB\r\n\r\nIt will say 0 though if the size in bytes is small",
      "commit_id" : "6312513b5074f160971ffec0b093b58b9d3cdaae",
      "created_at" : "2024-02-07T16:00:34Z",
      "diff_hunk" : "@@ -184,7 +184,9 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         file.SetXor(xor_key);\n \n-        file << (uint64_t)vinfo.size();\n+        uint64_t mempool_transactions_to_write = (uint64_t)vinfo.size();\n+        file << mempool_transactions_to_write;\n+        LogInfo(\"Writing %u mempool transactions to disk...\\n\", mempool_transactions_to_write);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481713668",
      "id" : 1481713668,
      "in_reply_to_id" : 1481674077,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YUSgE",
      "original_commit_id" : "33153b0236346809c75f6f52a3000a4e18e3b385",
      "original_line" : 189,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1868192750,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481713668/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-07T16:39:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481713668",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481714088"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481714088"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "fix in [6312513](https://github.com/bitcoin/bitcoin/pull/29402/commits/6312513b5074f160971ffec0b093b58b9d3cdaae)",
      "commit_id" : "6312513b5074f160971ffec0b093b58b9d3cdaae",
      "created_at" : "2024-02-07T16:00:52Z",
      "diff_hunk" : "@@ -184,7 +184,9 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         file.SetXor(xor_key);\n \n-        file << (uint64_t)vinfo.size();\n+        uint64_t mempool_transactions_to_write = (uint64_t)vinfo.size();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481714088",
      "id" : 1481714088,
      "in_reply_to_id" : 1481672254,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YUSmo",
      "original_commit_id" : "33153b0236346809c75f6f52a3000a4e18e3b385",
      "original_line" : 187,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1868193396,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481714088/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-07T16:39:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481714088",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481757491"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481757491"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "should I update `disk` to `file` in this PR? I was trying to write the logs similar to the other ones in this file",
      "commit_id" : "6312513b5074f160971ffec0b093b58b9d3cdaae",
      "created_at" : "2024-02-07T16:27:36Z",
      "diff_hunk" : "@@ -184,7 +184,9 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         file.SetXor(xor_key);\n \n-        file << (uint64_t)vinfo.size();\n+        uint64_t mempool_transactions_to_write = (uint64_t)vinfo.size();\n+        file << mempool_transactions_to_write;\n+        LogInfo(\"Writing %u mempool transactions to disk...\\n\", mempool_transactions_to_write);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1481757491",
      "id" : 1481757491,
      "in_reply_to_id" : 1481675864,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YUdMz",
      "original_commit_id" : "33153b0236346809c75f6f52a3000a4e18e3b385",
      "original_line" : 189,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1868261979,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481757491/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-07T16:27:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1481757491",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "utACK 6312513b5074f160971ffec0b093b58b9d3cdaae. Planning to test as well.",
      "created_at" : "2024-02-07T22:55:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1933069979",
      "id" : 1933069979,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zOE6b",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1933069979/reactions"
      },
      "updated_at" : "2024-02-07T22:55:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1933069979",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1482672568"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1482672568"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Up to you. It is an unrelated comment, so you can add another commit to this pull to change all in this file, or not.",
      "commit_id" : "9f57a2ec49bf2c298acccbf8d889e692bb6894f7",
      "created_at" : "2024-02-08T09:36:03Z",
      "diff_hunk" : "@@ -184,7 +184,9 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         file.SetXor(xor_key);\n \n-        file << (uint64_t)vinfo.size();\n+        uint64_t mempool_transactions_to_write = (uint64_t)vinfo.size();\n+        file << mempool_transactions_to_write;\n+        LogInfo(\"Writing %u mempool transactions to disk...\\n\", mempool_transactions_to_write);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1482672568",
      "id" : 1482672568,
      "in_reply_to_id" : 1481675864,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YX8m4",
      "original_commit_id" : "33153b0236346809c75f6f52a3000a4e18e3b385",
      "original_line" : 189,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1869665934,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1482672568/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-08T09:36:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1482672568",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1483043429"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483043429"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "added this commit [9f57a2e](https://github.com/bitcoin/bitcoin/pull/29402/commits/9f57a2ec49bf2c298acccbf8d889e692bb6894f7) to change the wording from `disk` to `file`, disk is used in the file once still but I think it makes sense as it is \"opened mempool file from disk\"",
      "commit_id" : "9f57a2ec49bf2c298acccbf8d889e692bb6894f7",
      "created_at" : "2024-02-08T14:17:27Z",
      "diff_hunk" : "@@ -184,7 +184,9 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         file.SetXor(xor_key);\n \n-        file << (uint64_t)vinfo.size();\n+        uint64_t mempool_transactions_to_write = (uint64_t)vinfo.size();\n+        file << mempool_transactions_to_write;\n+        LogInfo(\"Writing %u mempool transactions to disk...\\n\", mempool_transactions_to_write);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1483043429",
      "id" : 1483043429,
      "in_reply_to_id" : 1481675864,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YZXJl",
      "original_commit_id" : "33153b0236346809c75f6f52a3000a4e18e3b385",
      "original_line" : 189,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1870337610,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483043429/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-08T14:17:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483043429",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'm seeing an issue during testing. The debug log incorrectly reports 0 MB. Are others able to reproduce my result?\r\n\r\n```\r\nuser1@comp1:~/Documents/GitHub/btc29402$ src/bitcoin-cli --rpcwait getmempoolinfo | jq -c '{ transactions: (.size), memory_usage_in_mb: (.usage/1000000) }' | jq; src/bitcoin-cli --rpcwait stop; sleep 10; grep -a Writing ~/.bitcoin/debug.log | tail -2\r\n{\r\n  \"transactions\": 2529,\r\n  \"memory_usage_in_mb\": 6.061648\r\n}\r\nBitcoin Core stopping\r\n2024-02-09T14:11:49Z Writing 2529 mempool transactions to file 0 MB...\r\n2024-02-09T14:11:49Z Writing 0 unbroadcast transactions to file.\r\n```",
      "created_at" : "2024-02-09T14:16:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1936008685",
      "id" : 1936008685,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zZSXt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936008685/reactions"
      },
      "updated_at" : "2024-02-09T14:16:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936008685",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1484386762"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1484386762"
         }
      },
      "author_association" : "NONE",
      "body" : "very minor nit - To make the log more readable, can you please add a comma after 'file'?\r\n\r\nSo it displays as:\r\n```\r\nWriting xx mempool transactions to file, xx MB...\r\n```",
      "commit_id" : "9f57a2ec49bf2c298acccbf8d889e692bb6894f7",
      "created_at" : "2024-02-09T14:20:49Z",
      "diff_hunk" : "@@ -184,7 +184,9 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         file.SetXor(xor_key);\n \n-        file << (uint64_t)vinfo.size();\n+        uint64_t mempool_transactions_to_write(vinfo.size());\n+        file << mempool_transactions_to_write;\n+        LogInfo(\"Writing %u mempool transactions to file %u MB...\\n\", mempool_transactions_to_write, sizeof(vinfo)/1000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1484386762",
      "id" : 1484386762,
      "line" : 189,
      "node_id" : "PRRC_kwDOABII585YefHK",
      "original_commit_id" : "9f57a2ec49bf2c298acccbf8d889e692bb6894f7",
      "original_line" : 189,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : 36,
      "pull_request_review_id" : 1872513734,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1484386762/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-09T14:22:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1484386762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I'm seeing an issue during testing. The debug log incorrectly reports 0 MB. Are others able to reproduce my result?\r\n> \r\n> ```\r\n> user1@comp1:~/Documents/GitHub/btc29402$ src/bitcoin-cli --rpcwait getmempoolinfo | jq -c '{ transactions: (.size), memory_usage_in_mb: (.usage/1000000) }' | jq; src/bitcoin-cli --rpcwait stop; sleep 10; grep -a Writing ~/.bitcoin/debug.log | tail -2\r\n> {\r\n>   \"transactions\": 2529,\r\n>   \"memory_usage_in_mb\": 6.061648\r\n> }\r\n> Bitcoin Core stopping\r\n> 2024-02-09T14:11:49Z Writing 2529 mempool transactions to file 0 MB...\r\n> 2024-02-09T14:11:49Z Writing 0 unbroadcast transactions to file.\r\n> ```\r\n\r\nIt looks like `usage` from `getmempoolinfo` is coming from `DynamicMemoryUsage` in `txmempool.cpp`\r\nWhere I'm calculating `sizeof(vinfo)` which comes from `infoAll` in `txmempool.cpp`. `infoAll` allocates only `mapTx.size()`\r\n\r\nDynamicMemoryUsage computes like this which includes `mapTx.size()`\r\n```\r\n    return memusage::MallocUsage(sizeof(CTxMemPoolEntry) + 15 * sizeof(void*)) * mapTx.size() + memusage::DynamicUsage(mapNextTx) + memusage::DynamicUsage(mapDeltas) + memusage::DynamicUsage(txns_randomized) + cachedInnerUsage;\r\n```\r\n\r\nI think it might make more sense to not have a MB amount on `vinfo` and print it out for the file size at the end of the creating the mempool file so users are not confused when they see xx amounts in MB and their file actually a different size",
      "created_at" : "2024-02-09T22:25:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1936684548",
      "id" : 1936684548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zb3YE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936684548/reactions"
      },
      "updated_at" : "2024-02-09T22:25:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936684548",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> it might make more sense to not have a MB amount on vinfo and print it out for the file size at the end of the creating the mempool file so users are not confused when they see xx amounts in MB and their file actually a different size\n\nApproach ACK.",
      "created_at" : "2024-02-09T22:29:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1936688373",
      "id" : 1936688373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zb4T1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936688373/reactions"
      },
      "updated_at" : "2024-02-09T22:29:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936688373",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "rebased and also updated code to get the size of the file after saving\r\n\r\nlogs now look like such and I tested to see that the `mempool.dat` file was the correct size by going to my data dir and doing `ls -alh` and they matched in sizes\r\n```\r\n2024-02-09T23:41:52Z DumpAnchors: Flush 2 outbound block-relay-only peer addresses to anchors.dat completed (0.02s)\r\n2024-02-09T23:41:52Z scheduler thread exit\r\n2024-02-09T23:41:52Z Writing 29 mempool transactions to file...\r\n2024-02-09T23:41:52Z Writing 0 unbroadcast transactions to file.\r\n2024-02-09T23:41:52Z Dumped mempool: 0.000s to copy, 0.022s to dump, 0.015 MB dumped to file\r\n2024-02-09T23:41:52Z Flushed fee estimates to fee_estimates.dat.\r\n2024-02-09T23:41:53Z Shutdown: done\r\n```",
      "created_at" : "2024-02-09T23:43:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1936745081",
      "id" : 1936745081,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zcGJ5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936745081/reactions"
      },
      "updated_at" : "2024-02-09T23:46:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936745081",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--85328a0da195eb286784d51f73fa0af9-->\n\nð§ At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/21427000553</sub>",
      "created_at" : "2024-02-09T23:46:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1936746394",
      "id" : 1936746394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zcGea",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936746394/reactions"
      },
      "updated_at" : "2024-02-09T23:46:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936746394",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Tested ACK 25482b5aea6fb910b74666414a6330ec53f6a4c9.\r\n\r\nThis output is clean. Solid approach piggy-backing on the `Dumped mempool: ` line that already exists.\r\n```\r\n2024-02-10T20:36:10Z Writing 5364 mempool transactions to file...\r\n2024-02-10T20:36:10Z Writing 0 unbroadcast transactions to file.\r\n2024-02-10T20:36:10Z Dumped mempool: 0.005s to copy, 0.101s to dump, 7.865 MB dumped to file\r\n```\r\n\r\n> they matched in sizes\r\n\r\nACK.\r\n```\r\nuser1@comp1:~$ ls -l .bitcoin/mempool.dat \r\n-rw------- 1 user1 user1 7865003 Feb 10 15:36 .bitcoin/mempool.dat\r\n```",
      "created_at" : "2024-02-10T20:47:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#issuecomment-1937116907",
      "id" : 1937116907,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29402",
      "node_id" : "IC_kwDOABII585zdg7r",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1937116907/reactions"
      },
      "updated_at" : "2024-02-10T20:47:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1937116907",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1485966299"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1485966299"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure about the argument dependent lookup here. Why not simply fix it the way the CI has instructed? (Add the include and use the fs namespace)?\r\n\r\nIf the CI error was unclear, suggestions to make it clearer are welcome.",
      "commit_id" : "a4ed80f5d4e6838b500a14169b40de44e9355074",
      "created_at" : "2024-02-12T10:09:06Z",
      "diff_hunk" : "@@ -205,9 +207,11 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         auto last = SteadyClock::now();\n \n-        LogPrintf(\"Dumped mempool: %.3fs to copy, %.3fs to dump\\n\",\n+        LogPrintf(\"Dumped mempool: %.3fs to copy, %.3fs to dump, %.3f MB dumped to file\\n\",\n                   Ticks<SecondsDouble>(mid - start),\n-                  Ticks<SecondsDouble>(last - mid));\n+                  Ticks<SecondsDouble>(last - mid),\n+                  (float)file_size(dump_path)/1000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1485966299",
      "id" : 1485966299,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Ykgvb",
      "original_commit_id" : "25482b5aea6fb910b74666414a6330ec53f6a4c9",
      "original_line" : 213,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1874894338,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1485966299/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-12T10:09:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1485966299",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1485967010"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1485967010"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: While touching this, could switch to LogInfo in this file, to avoid having to touch it yet again?",
      "commit_id" : "a4ed80f5d4e6838b500a14169b40de44e9355074",
      "created_at" : "2024-02-12T10:09:39Z",
      "diff_hunk" : "@@ -194,7 +196,7 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n \n         file << mapDeltas;\n \n-        LogPrintf(\"Writing %d unbroadcast transactions to disk.\\n\", unbroadcast_txids.size());\n+        LogPrintf(\"Writing %d unbroadcast transactions to file.\\n\", unbroadcast_txids.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1485967010",
      "id" : 1485967010,
      "line" : 199,
      "node_id" : "PRRC_kwDOABII585Ykg6i",
      "original_commit_id" : "25482b5aea6fb910b74666414a6330ec53f6a4c9",
      "original_line" : 199,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : 45,
      "pull_request_review_id" : 1874894338,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1485967010/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-12T10:09:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1485967010",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1486152101"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1486152101"
         }
      },
      "author_association" : "NONE",
      "body" : "+1",
      "commit_id" : "a4ed80f5d4e6838b500a14169b40de44e9355074",
      "created_at" : "2024-02-12T13:02:14Z",
      "diff_hunk" : "@@ -194,7 +196,7 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n \n         file << mapDeltas;\n \n-        LogPrintf(\"Writing %d unbroadcast transactions to disk.\\n\", unbroadcast_txids.size());\n+        LogPrintf(\"Writing %d unbroadcast transactions to file.\\n\", unbroadcast_txids.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1486152101",
      "id" : 1486152101,
      "in_reply_to_id" : 1485967010,
      "line" : 199,
      "node_id" : "PRRC_kwDOABII585YlOGl",
      "original_commit_id" : "25482b5aea6fb910b74666414a6330ec53f6a4c9",
      "original_line" : 199,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : 45,
      "pull_request_review_id" : 1875190946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1486152101/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-12T13:02:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1486152101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1488897358"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1488897358"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "updated in this commit [b9f449b](https://github.com/bitcoin/bitcoin/pull/29402/commits/b9f449b2d0637c09fd8dc3f44078355827af4a92)",
      "commit_id" : "a4ed80f5d4e6838b500a14169b40de44e9355074",
      "created_at" : "2024-02-14T05:24:37Z",
      "diff_hunk" : "@@ -194,7 +196,7 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n \n         file << mapDeltas;\n \n-        LogPrintf(\"Writing %d unbroadcast transactions to disk.\\n\", unbroadcast_txids.size());\n+        LogPrintf(\"Writing %d unbroadcast transactions to file.\\n\", unbroadcast_txids.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1488897358",
      "id" : 1488897358,
      "in_reply_to_id" : 1485967010,
      "line" : 199,
      "node_id" : "PRRC_kwDOABII585YvsVO",
      "original_commit_id" : "25482b5aea6fb910b74666414a6330ec53f6a4c9",
      "original_line" : 199,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : 45,
      "pull_request_review_id" : 1879380728,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1488897358/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-14T05:24:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1488897358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1488899166"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1488899166"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this is what you are talking about unless I'm getting confused [b9f449b](https://github.com/bitcoin/bitcoin/pull/29402/commits/b9f449b2d0637c09fd8dc3f44078355827af4a92)\r\n\r\nthe <util/fs.h> includes is already imported but I added `fs::` before `file_size`",
      "commit_id" : "a4ed80f5d4e6838b500a14169b40de44e9355074",
      "created_at" : "2024-02-14T05:26:10Z",
      "diff_hunk" : "@@ -205,9 +207,11 @@ bool DumpMempool(const CTxMemPool& pool, const fs::path& dump_path, FopenFn mock\n         }\n         auto last = SteadyClock::now();\n \n-        LogPrintf(\"Dumped mempool: %.3fs to copy, %.3fs to dump\\n\",\n+        LogPrintf(\"Dumped mempool: %.3fs to copy, %.3fs to dump, %.3f MB dumped to file\\n\",\n                   Ticks<SecondsDouble>(mid - start),\n-                  Ticks<SecondsDouble>(last - mid));\n+                  Ticks<SecondsDouble>(last - mid),\n+                  (float)file_size(dump_path)/1000000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29402#discussion_r1488899166",
      "id" : 1488899166,
      "in_reply_to_id" : 1485966299,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Yvsxe",
      "original_commit_id" : "25482b5aea6fb910b74666414a6330ec53f6a4c9",
      "original_line" : 213,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1879382783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29402",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1488899166/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-14T05:26:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1488899166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   }
]
