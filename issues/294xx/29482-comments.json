[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "First reported in https://github.com/bitcoin-core/gui/issues/567#issuecomment-1962422185",
      "created_at" : "2024-02-26T16:34:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29482#issuecomment-1964589707",
      "id" : 1964589707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29482",
      "node_id" : "IC_kwDOABII5851GUKL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1964589707/reactions"
      },
      "updated_at" : "2024-02-26T16:34:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1964589707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "So, `settings.json : listen=0` and `bitcoin.conf : listenonion=1` is interpreted as `bitcoind -listen=0 -listenonion=1` thus the rightful error. However `settings.json : listen=0` and `bitcoin.conf : listen=1` does not create a conflict even though, logically `listen=0` vs `listen=1` is even bigger conflict compared to `listen=0` vs `listenonion=1`.",
      "created_at" : "2024-02-26T16:40:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29482#issuecomment-1964605327",
      "id" : 1964605327,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29482",
      "node_id" : "IC_kwDOABII5851GX-P",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1964605327/reactions"
      },
      "updated_at" : "2024-02-26T16:40:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1964605327",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think the expected behavior you suggested above seems reasonable, that if -listen=0 and -listenonion=1 are specified the -listen=0 option takes precedence and incoming connections are not accepted. It would be nice to log or show a warning in this case.\r\n\r\nI think current behavior of treating it like an error is also reasonable, too.\r\n\r\nI'm not sure about about the new bug reported in https://github.com/bitcoin-core/gui/issues/567#issuecomment-1962422185 since it is i just a screenshot without steps to reproduce. If that bug is happening without anything specified on the command line or in bitcoin.conf like the original bug https://github.com/bitcoin-core/gui/issues/567 then that is a real unexpected problem and bug.",
      "created_at" : "2024-02-26T16:49:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29482#issuecomment-1964629704",
      "id" : 1964629704,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29482",
      "node_id" : "IC_kwDOABII5851Gd7I",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1964629704/reactions"
      },
      "updated_at" : "2024-02-26T16:49:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1964629704",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> When bitcoind is started with the following configuration files:\r\n\r\nCan you add steps for how bitcoind can get into this state (without manually creating a `settings.json`, which we don't support).",
      "created_at" : "2024-02-26T16:55:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29482#issuecomment-1964642114",
      "id" : 1964642114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29482",
      "node_id" : "IC_kwDOABII5851Gg9C",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1964642114/reactions"
      },
      "updated_at" : "2024-02-26T16:55:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1964642114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> However `settings.json : listen=0` and `bitcoin.conf : listen=1` does not create a conflict even though, logically `listen=0` vs `listen=1` is even bigger conflict compared to `listen=0` vs `listenonion=1`.\r\n\r\nsettings.json is supposed to take precdence over bitcoin.conf. The idea is bitcoin.conf can have static values set by packager or os which are treated as defaults, and settings.json has dynamic values chosen by the user which override the defaults. But if user is both creating a bitcoin.conf and also changing settings.json through the gui or rpcs, settings.json will take precedence in that case too.\r\n\r\n> > When bitcoind is started with the following configuration files:\r\n> \r\n> Can you add steps for how bitcoind can get into this state (without manually creating a `settings.json`, which we don't support).\r\n\r\nIt would be good to add steps to the description, but if you use the GUI and uncheck \"allow in coming connections\" in the gui network settings, \"listen\": false will be added to settings.json.",
      "created_at" : "2024-02-26T17:00:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29482#issuecomment-1964653446",
      "id" : 1964653446,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29482",
      "node_id" : "IC_kwDOABII5851GjuG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1964653446/reactions"
      },
      "updated_at" : "2024-02-26T17:00:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1964653446",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I'm not sure about about the new bug reported in https://github.com/bitcoin-core/gui/issues/567#issuecomment-1962422185 since it is i just a screenshot without steps to reproduce. If that bug is happening without anything specified on the command line or in bitcoin.conf like the original bug https://github.com/bitcoin-core/gui/issues/567 then that is a real unexpected problem and bug.\r\n\r\nIt requires `listenonion=1` in `bitcoin.conf`.\r\n\r\n> Can you add steps for how bitcoind can get into this state\r\n\r\nAdded elaborate steps to reproduce in the PR description.\r\n\r\nIs the solution here to set `listen: false, listenonion: false` in `settings.json` when \"Allow incoming connections\" is unchecked? Then any `listenonion=1` from `bitcoin.conf` would be overriden as well, like any `listen=1` is overriden now.",
      "created_at" : "2024-02-28T11:22:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29482#issuecomment-1968774486",
      "id" : 1968774486,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29482",
      "node_id" : "IC_kwDOABII5851WR1W",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1968774486/reactions"
      },
      "updated_at" : "2024-02-28T11:22:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1968774486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   }
]
