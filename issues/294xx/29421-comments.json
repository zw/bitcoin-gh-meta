[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29421).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [epiccurious](https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1937914503), [Empact](https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1965919604) |\n| Stale ACK | [willcl-ark](https://github.com/bitcoin/bitcoin/pull/29421#pullrequestreview-1880064231) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29418](https://github.com/bitcoin/bitcoin/pull/29418) (rpc: provide per message stats for global traffic via new RPC 'getnetmsgstats' by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2024-02-11T15:40:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1937788973",
      "id" : 1937788973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29421",
      "node_id" : "IC_kwDOABII585zgFAt",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1937788973/reactions"
      },
      "updated_at" : "2024-02-27T07:12:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1937788973",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Concept ACK 2e312ea909ae6c466007acf791ea0e3356e954cb.",
      "created_at" : "2024-02-11T23:40:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1937914503",
      "id" : 1937914503,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29421",
      "node_id" : "IC_kwDOABII585zgjqH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1937914503/reactions"
      },
      "updated_at" : "2024-02-11T23:40:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1937914503",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489333827"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489333827"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "There is a comment in src/protocol.h#56 which could be updated to reflect the new constant too:\r\n\r\n```cpp\r\n/**\r\n * Bitcoin protocol message types. When adding new message types, don't forget\r\n * to update allNetMessageTypes in protocol.cpp.\r\n */\r\n```",
      "commit_id" : "2e312ea909ae6c466007acf791ea0e3356e954cb",
      "created_at" : "2024-02-14T11:37:07Z",
      "diff_hunk" : "@@ -47,47 +47,6 @@ const char* WTXIDRELAY = \"wtxidrelay\";\n const char* SENDTXRCNCL = \"sendtxrcncl\";\n } // namespace NetMsgType\n \n-/** All known message types. Keep this in the same order as the list of",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489333827",
      "id" : 1489333827,
      "line" : 50,
      "node_id" : "PRRC_kwDOABII585YxW5D",
      "original_commit_id" : "2e312ea909ae6c466007acf791ea0e3356e954cb",
      "original_line" : 50,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/protocol.cpp",
      "position" : 4,
      "pull_request_review_id" : 1880064231,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489333827/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-14T11:46:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489333827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489781074"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489781074"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated, thanks!",
      "commit_id" : "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "created_at" : "2024-02-14T16:47:15Z",
      "diff_hunk" : "@@ -47,47 +47,6 @@ const char* WTXIDRELAY = \"wtxidrelay\";\n const char* SENDTXRCNCL = \"sendtxrcncl\";\n } // namespace NetMsgType\n \n-/** All known message types. Keep this in the same order as the list of",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489781074",
      "id" : 1489781074,
      "in_reply_to_id" : 1489333827,
      "line" : 50,
      "node_id" : "PRRC_kwDOABII585YzEFS",
      "original_commit_id" : "2e312ea909ae6c466007acf791ea0e3356e954cb",
      "original_line" : 50,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/protocol.cpp",
      "position" : 4,
      "pull_request_review_id" : 1880787749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489781074/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-14T16:47:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489781074",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`2e312ea909...808fe4ef80`: update comment, see https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1489333827",
      "created_at" : "2024-02-14T16:47:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1944215847",
      "id" : 1944215847,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29421",
      "node_id" : "IC_kwDOABII585z4mEn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1944215847/reactions"
      },
      "updated_at" : "2024-02-14T16:47:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1944215847",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490642807"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490642807"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    for (const auto& msg : g_all_net_message_types) {\r\n```\r\n\r\nnit: Add missing `{` while touching?",
      "commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "created_at" : "2024-02-15T08:46:45Z",
      "diff_hunk" : "@@ -3701,7 +3701,7 @@ CNode::CNode(NodeId idIn,\n {\n     if (inbound_onion) assert(conn_type_in == ConnectionType::INBOUND);\n \n-    for (const std::string &msg : getAllNetMessageTypes())\n+    for (const auto& msg : g_all_net_message_types)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490642807",
      "id" : 1490642807,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Y2Wd3",
      "original_commit_id" : "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "original_line" : 3704,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1882128538,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490642807/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T08:57:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490642807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490651364"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490651364"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why not constexpr?\r\n\r\nAlso, this may put a copy of this array in all translation units, but I guess this is fine, as there is no other way to achieve it.",
      "commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "created_at" : "2024-02-15T08:53:37Z",
      "diff_hunk" : "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490651364",
      "id" : 1490651364,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Y2Yjk",
      "original_commit_id" : "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "original_line" : 271,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 1882128538,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490651364/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T08:57:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490651364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490653235"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490653235"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why the sort? Also, are you sure that sorting pointers is comparing the content it points  to, as opposed to the memory address value?",
      "commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "created_at" : "2024-02-15T08:55:05Z",
      "diff_hunk" : "@@ -21,13 +21,12 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n     std::sort(g_all_messages.begin(), g_all_messages.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1490653235",
      "id" : 1490653235,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Y2ZAz",
      "original_commit_id" : "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "original_line" : 30,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/test/fuzz/p2p_transport_serialization.cpp",
      "position" : null,
      "pull_request_review_id" : 1882128538,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490653235/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T08:57:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1490653235",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491131500"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491131500"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "created_at" : "2024-02-15T14:47:18Z",
      "diff_hunk" : "@@ -3701,7 +3701,7 @@ CNode::CNode(NodeId idIn,\n {\n     if (inbound_onion) assert(conn_type_in == ConnectionType::INBOUND);\n \n-    for (const std::string &msg : getAllNetMessageTypes())\n+    for (const auto& msg : g_all_net_message_types)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491131500",
      "id" : 1491131500,
      "in_reply_to_id" : 1490642807,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Y4Nxs",
      "original_commit_id" : "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "original_line" : 3704,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1882985345,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491131500/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T14:47:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491131500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491133503"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491133503"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done as a separate commit because it required changing `NetMsgType::*` constants to `constexpr` as well.\r\n\r\nA +36 / -77 change, thanks!",
      "commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "created_at" : "2024-02-15T14:48:39Z",
      "diff_hunk" : "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491133503",
      "id" : 1491133503,
      "in_reply_to_id" : 1490651364,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Y4OQ_",
      "original_commit_id" : "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "original_line" : 271,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 1882988504,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491133503/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T14:48:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491133503",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491136346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491136346"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Why the sort?\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/28165#discussion_r1491029750\r\n\r\nYou are right that comparing the pointers here is wrong. I added a custom sort function to compare the contents. Thanks!",
      "commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "created_at" : "2024-02-15T14:50:31Z",
      "diff_hunk" : "@@ -21,13 +21,12 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n     std::sort(g_all_messages.begin(), g_all_messages.end());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491136346",
      "id" : 1491136346,
      "in_reply_to_id" : 1490653235,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Y4O9a",
      "original_commit_id" : "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "original_line" : 30,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/test/fuzz/p2p_transport_serialization.cpp",
      "position" : null,
      "pull_request_review_id" : 1882993054,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491136346/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T14:50:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491136346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491140321"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491140321"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: If `string_view` are stored, the compiler can derive this code and you won't have to change this line of code.",
      "commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "created_at" : "2024-02-15T14:53:05Z",
      "diff_hunk" : "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491140321",
      "id" : 1491140321,
      "line" : 33,
      "node_id" : "PRRC_kwDOABII585Y4P7h",
      "original_commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_line" : 33,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/p2p_transport_serialization.cpp",
      "position" : 16,
      "pull_request_review_id" : 1883000247,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491140321/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T14:53:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491140321",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491144268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491144268"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Now it may put all string literals in all translation units as well. Would be good to benchmark the effect, if any.",
      "commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "created_at" : "2024-02-15T14:55:32Z",
      "diff_hunk" : "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491144268",
      "id" : 1491144268,
      "in_reply_to_id" : 1490651364,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Y4Q5M",
      "original_commit_id" : "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "original_line" : 271,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 1883006434,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491144268/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T14:55:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491144268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491148886"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491148886"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Just tried that - if I store the constants as `string_view`, e.g. `constexpr std::string_view VERSION{\"version\"};`, then I get this greeting:\r\n\r\n```\r\ntest/util/net.cpp:34:9: error: no matching function for call to 'Make'\r\n   34 |         NetMsg::Make(NetMsgType::VERSION,\r\n      |         ^~~~~~~~~~~~\r\n./netmessagemaker.h:14:23: note: candidate function template not viable: no known conversion from 'const std::string_view' (aka 'const basic_string_view<char>') to 'std::string' (aka 'basic_string<char>') for 1st argument\r\n   14 |     CSerializedNetMsg Make(std::string msg_type, Args&&... args)\r\n      |                       ^    ~~~~~~~~~~~~~~~~~~~~\r\n```",
      "commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "created_at" : "2024-02-15T14:58:33Z",
      "diff_hunk" : "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491148886",
      "id" : 1491148886,
      "in_reply_to_id" : 1491140321,
      "line" : 33,
      "node_id" : "PRRC_kwDOABII585Y4SBW",
      "original_commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_line" : 33,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/p2p_transport_serialization.cpp",
      "position" : 16,
      "pull_request_review_id" : 1883013954,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491148886/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T14:58:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491148886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491483794"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491483794"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is relevant: https://stackoverflow.com/questions/45987571/difference-between-constexpr-and-static-constexpr-global-variable\r\n\r\nI made the following experiment:\r\n\r\n`s.h`:\r\n```cpp\r\nconstexpr const char* s{\"aabbcc\"};\r\n```\r\n\r\n`a.cc`:\r\n```cpp\r\n#include \"s.h\"\r\n#include <stdio.h>\r\nvoid a()\r\n{\r\n    printf(\"a(): %p, %s\\n\", &s, s);\r\n}\r\n```\r\n\r\n`b.cc`:\r\n```cpp\r\n#include \"s.h\"\r\n#include <stdio.h>\r\nvoid b()\r\n{\r\n    printf(\"b(): %p, %s\\n\", &s, s);\r\n}\r\n```\r\n`main.cc`:\r\n```cpp\r\nvoid a();\r\nvoid b();\r\nint main(int, char**)\r\n{\r\n    a();\r\n    b();\r\n    return 0;\r\n}\r\n```\r\n\r\n```sh\r\n$ clang++-devel -c a.cc -o a.o\r\n$ clang++-devel -c b.cc -o b.o\r\n$ clang++-devel -c main.cc -o main.o\r\n$ clang++-devel a.o b.o main.o -o main\r\n$ ./main\r\na(): 0x200578, aabbcc\r\nb(): 0x200580, aabbcc\r\n```\r\nAlso checked that the `main` executable contains the string `aabbcc` just once, so it is not duplicated. But there are two different pointers pointing to it.\r\n\r\nThen I changed the header `s.h` to:\r\n```cpp\r\ninline constexpr const char* s{\"aabbcc\"};\r\n```\r\n\r\nAnd re-ran:\r\n```sh\r\n$ ./main\r\na(): 0x200578, aabbcc\r\nb(): 0x200578, aabbcc\r\n```\r\n\r\nnow it is the same pointer.\r\n\r\nSo, I added `inline` to the variables involved.",
      "commit_id" : "c7c613c414e1c1456c63f63cd90367092788f840",
      "created_at" : "2024-02-15T19:00:48Z",
      "diff_hunk" : "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491483794",
      "id" : 1491483794,
      "in_reply_to_id" : 1490651364,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Y5jyS",
      "original_commit_id" : "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "original_line" : 271,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 1883600032,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491483794/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T19:00:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491483794",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1494531483"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494531483"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I meant just for the array, for now.\r\n\r\n```cpp\r\ninline constexpr std::array g_all_net_message_types{std::to_array<std::string_view>({",
      "commit_id" : "c7c613c414e1c1456c63f63cd90367092788f840",
      "created_at" : "2024-02-19T13:12:55Z",
      "diff_hunk" : "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1494531483",
      "id" : 1494531483,
      "in_reply_to_id" : 1491140321,
      "line" : 33,
      "node_id" : "PRRC_kwDOABII585ZFL2b",
      "original_commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_line" : 33,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/p2p_transport_serialization.cpp",
      "position" : 16,
      "pull_request_review_id" : 1888388367,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494531483/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-19T13:12:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494531483",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1503727466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1503727466"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You can drop `inline` as `constexpr` is implicitly `inline`.\r\n> A static data member (i.e. static class member or namespace-scope variable) declared constexpr on its first declaration is implicitly an inline variable.\r\nhttps://en.cppreference.com/w/cpp/language/inline",
      "commit_id" : "c7c613c414e1c1456c63f63cd90367092788f840",
      "created_at" : "2024-02-27T06:58:52Z",
      "diff_hunk" : "@@ -55,220 +55,255 @@ class CMessageHeader\n \n /**\n  * Bitcoin protocol message types. When adding new message types, don't forget\n- * to update allNetMessageTypes in protocol.cpp.\n+ * to update g_all_net_message_types below.\n  */\n namespace NetMsgType {\n-\n /**\n  * The version message provides information about the transmitting node to the\n  * receiving node at the beginning of a connection.\n  */\n-extern const char* VERSION;\n+inline constexpr const char* VERSION{\"version\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1503727466",
      "id" : 1503727466,
      "line" : 65,
      "node_id" : "PRRC_kwDOABII585ZoQ9q",
      "original_commit_id" : "c7c613c414e1c1456c63f63cd90367092788f840",
      "original_line" : 65,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : 14,
      "pull_request_review_id" : 1902666642,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1503727466/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-27T06:58:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1503727466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1503734070"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1503734070"
         }
      },
      "author_association" : "MEMBER",
      "body" : "As a constant rather than a variable, seems this should be `ALL_NET_MESSAGE_TYPES`. See developer-notes.md.",
      "commit_id" : "c7c613c414e1c1456c63f63cd90367092788f840",
      "created_at" : "2024-02-27T07:07:17Z",
      "diff_hunk" : "@@ -55,220 +55,255 @@ class CMessageHeader\n \n /**\n  * Bitcoin protocol message types. When adding new message types, don't forget\n- * to update allNetMessageTypes in protocol.cpp.\n+ * to update g_all_net_message_types below.\n  */\n namespace NetMsgType {\n-\n /**\n  * The version message provides information about the transmitting node to the\n  * receiving node at the beginning of a connection.\n  */\n-extern const char* VERSION;\n+inline constexpr const char* VERSION{\"version\"};\n /**\n  * The verack message acknowledges a previously-received version message,\n  * informing the connecting node that it can begin to send other messages.\n  */\n-extern const char* VERACK;\n+inline constexpr const char* VERACK{\"verack\"};\n /**\n  * The addr (IP address) message relays connection information for peers on the\n  * network.\n  */\n-extern const char* ADDR;\n+inline constexpr const char* ADDR{\"addr\"};\n /**\n  * The addrv2 message relays connection information for peers on the network just\n  * like the addr message, but is extended to allow gossiping of longer node\n  * addresses (see BIP155).\n  */\n-extern const char *ADDRV2;\n+inline constexpr const char* ADDRV2{\"addrv2\"};\n /**\n  * The sendaddrv2 message signals support for receiving ADDRV2 messages (BIP155).\n  * It also implies that its sender can encode as ADDRV2 and would send ADDRV2\n  * instead of ADDR to a peer that has signaled ADDRV2 support by sending SENDADDRV2.\n  */\n-extern const char *SENDADDRV2;\n+inline constexpr const char* SENDADDRV2{\"sendaddrv2\"};\n /**\n  * The inv message (inventory message) transmits one or more inventories of\n  * objects known to the transmitting peer.\n  */\n-extern const char* INV;\n+inline constexpr const char* INV{\"inv\"};\n /**\n  * The getdata message requests one or more data objects from another node.\n  */\n-extern const char* GETDATA;\n+inline constexpr const char* GETDATA{\"getdata\"};\n /**\n  * The merkleblock message is a reply to a getdata message which requested a\n  * block using the inventory type MSG_MERKLEBLOCK.\n  * @since protocol version 70001 as described by BIP37.\n  */\n-extern const char* MERKLEBLOCK;\n+inline constexpr const char* MERKLEBLOCK{\"merkleblock\"};\n /**\n  * The getblocks message requests an inv message that provides block header\n  * hashes starting from a particular point in the block chain.\n  */\n-extern const char* GETBLOCKS;\n+inline constexpr const char* GETBLOCKS{\"getblocks\"};\n /**\n  * The getheaders message requests a headers message that provides block\n  * headers starting from a particular point in the block chain.\n  * @since protocol version 31800.\n  */\n-extern const char* GETHEADERS;\n+inline constexpr const char* GETHEADERS{\"getheaders\"};\n /**\n  * The tx message transmits a single transaction.\n  */\n-extern const char* TX;\n+inline constexpr const char* TX{\"tx\"};\n /**\n  * The headers message sends one or more block headers to a node which\n  * previously requested certain headers with a getheaders message.\n  * @since protocol version 31800.\n  */\n-extern const char* HEADERS;\n+inline constexpr const char* HEADERS{\"headers\"};\n /**\n  * The block message transmits a single serialized block.\n  */\n-extern const char* BLOCK;\n+inline constexpr const char* BLOCK{\"block\"};\n /**\n  * The getaddr message requests an addr message from the receiving node,\n  * preferably one with lots of IP addresses of other receiving nodes.\n  */\n-extern const char* GETADDR;\n+inline constexpr const char* GETADDR{\"getaddr\"};\n /**\n  * The mempool message requests the TXIDs of transactions that the receiving\n  * node has verified as valid but which have not yet appeared in a block.\n  * @since protocol version 60002 as described by BIP35.\n  *   Only available with service bit NODE_BLOOM, see also BIP111.\n  */\n-extern const char* MEMPOOL;\n+inline constexpr const char* MEMPOOL{\"mempool\"};\n /**\n  * The ping message is sent periodically to help confirm that the receiving\n  * peer is still connected.\n  */\n-extern const char* PING;\n+inline constexpr const char* PING{\"ping\"};\n /**\n  * The pong message replies to a ping message, proving to the pinging node that\n  * the ponging node is still alive.\n  * @since protocol version 60001 as described by BIP31.\n  */\n-extern const char* PONG;\n+inline constexpr const char* PONG{\"pong\"};\n /**\n  * The notfound message is a reply to a getdata message which requested an\n  * object the receiving node does not have available for relay.\n  * @since protocol version 70001.\n  */\n-extern const char* NOTFOUND;\n+inline constexpr const char* NOTFOUND{\"notfound\"};\n /**\n  * The filterload message tells the receiving peer to filter all relayed\n  * transactions and requested merkle blocks through the provided filter.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERLOAD;\n+inline constexpr const char* FILTERLOAD{\"filterload\"};\n /**\n  * The filteradd message tells the receiving peer to add a single element to a\n  * previously-set bloom filter, such as a new public key.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERADD;\n+inline constexpr const char* FILTERADD{\"filteradd\"};\n /**\n  * The filterclear message tells the receiving peer to remove a previously-set\n  * bloom filter.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERCLEAR;\n+inline constexpr const char* FILTERCLEAR{\"filterclear\"};\n /**\n  * Indicates that a node prefers to receive new block announcements via a\n  * \"headers\" message rather than an \"inv\".\n  * @since protocol version 70012 as described by BIP130.\n  */\n-extern const char* SENDHEADERS;\n+inline constexpr const char* SENDHEADERS{\"sendheaders\"};\n /**\n  * The feefilter message tells the receiving peer not to inv us any txs\n  * which do not meet the specified min fee rate.\n  * @since protocol version 70013 as described by BIP133\n  */\n-extern const char* FEEFILTER;\n+inline constexpr const char* FEEFILTER{\"feefilter\"};\n /**\n  * Contains a 1-byte bool and 8-byte LE version number.\n  * Indicates that a node is willing to provide blocks via \"cmpctblock\" messages.\n  * May indicate that a node prefers to receive new block announcements via a\n  * \"cmpctblock\" message rather than an \"inv\", depending on message contents.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* SENDCMPCT;\n+inline constexpr const char* SENDCMPCT{\"sendcmpct\"};\n /**\n  * Contains a CBlockHeaderAndShortTxIDs object - providing a header and\n  * list of \"short txids\".\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* CMPCTBLOCK;\n+inline constexpr const char* CMPCTBLOCK{\"cmpctblock\"};\n /**\n  * Contains a BlockTransactionsRequest\n  * Peer should respond with \"blocktxn\" message.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* GETBLOCKTXN;\n+inline constexpr const char* GETBLOCKTXN{\"getblocktxn\"};\n /**\n  * Contains a BlockTransactions.\n  * Sent in response to a \"getblocktxn\" message.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* BLOCKTXN;\n+inline constexpr const char* BLOCKTXN{\"blocktxn\"};\n /**\n  * getcfilters requests compact filters for a range of blocks.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFILTERS;\n+inline constexpr const char* GETCFILTERS{\"getcfilters\"};\n /**\n  * cfilter is a response to a getcfilters request containing a single compact\n  * filter.\n  */\n-extern const char* CFILTER;\n+inline constexpr const char* CFILTER{\"cfilter\"};\n /**\n  * getcfheaders requests a compact filter header and the filter hashes for a\n  * range of blocks, which can then be used to reconstruct the filter headers\n  * for those blocks.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFHEADERS;\n+inline constexpr const char* GETCFHEADERS{\"getcfheaders\"};\n /**\n  * cfheaders is a response to a getcfheaders request containing a filter header\n  * and a vector of filter hashes for each subsequent block in the requested range.\n  */\n-extern const char* CFHEADERS;\n+inline constexpr const char* CFHEADERS{\"cfheaders\"};\n /**\n  * getcfcheckpt requests evenly spaced compact filter headers, enabling\n  * parallelized download and validation of the headers between them.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFCHECKPT;\n+inline constexpr const char* GETCFCHECKPT{\"getcfcheckpt\"};\n /**\n  * cfcheckpt is a response to a getcfcheckpt request containing a vector of\n  * evenly spaced filter headers for blocks on the requested chain.\n  */\n-extern const char* CFCHECKPT;\n+inline constexpr const char* CFCHECKPT{\"cfcheckpt\"};\n /**\n  * Indicates that a node prefers to relay transactions via wtxid, rather than\n  * txid.\n  * @since protocol version 70016 as described by BIP 339.\n  */\n-extern const char* WTXIDRELAY;\n+inline constexpr const char* WTXIDRELAY{\"wtxidrelay\"};\n /**\n  * Contains a 4-byte version number and an 8-byte salt.\n  * The salt is used to compute short txids needed for efficient\n  * txreconciliation, as described by BIP 330.\n  */\n-extern const char* SENDTXRCNCL;\n+inline constexpr const char* SENDTXRCNCL{\"sendtxrcncl\"};\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+inline constexpr std::array g_all_net_message_types{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1503734070",
      "id" : 1503734070,
      "line" : 270,
      "node_id" : "PRRC_kwDOABII585ZoSk2",
      "original_commit_id" : "c7c613c414e1c1456c63f63cd90367092788f840",
      "original_line" : 270,
      "original_position" : 255,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : 255,
      "pull_request_review_id" : 1902678013,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1503734070/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-27T07:07:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1503734070",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2024-02-27T07:12:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#issuecomment-1965919604",
      "id" : 1965919604,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29421",
      "node_id" : "IC_kwDOABII5851LY10",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1965919604/reactions"
      },
      "updated_at" : "2024-02-27T07:12:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1965919604",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1505975963"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1505975963"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Then another:\r\n\r\n```\r\nnet.cpp:3705:31: error: no viable overloaded operator[] for type 'mapMsgTypeSize' (aka 'map<basic_string<char>, unsigned long>')\r\n 3705 |         mapRecvBytesPerMsgType[msg] = 0;\r\n      |         ~~~~~~~~~~~~~~~~~~~~~~^~~~\r\n/usr/include/c++/v1/map:1203:18: note: candidate function not viable: no known conversion from 'const value_type' (aka 'const std::string_view') to 'const key_type' (aka 'const std::string') for 1st argument\r\n 1203 |     mapped_type& operator[](const key_type& __k);\r\n      |                  ^          ~~~~~~~~~~~~~~~~~~~\r\n```\r\n\r\nIt is possible to get over that by changing `mapMsgTypeSize` and `NET_MESSAGE_TYPE_OTHER` to:\r\n```cpp\r\ninline constexpr std::string_view NET_MESSAGE_TYPE_OTHER{\"*other*\"};\r\nusing mapMsgTypeSize = std::map</* message type */ std::string_view, /* total bytes */ uint64_t>;\r\n```\r\nbut then there is another error from `rpc/net.cpp` and I think this would spill off the scope of this PR.",
      "commit_id" : "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "created_at" : "2024-02-28T13:36:11Z",
      "diff_hunk" : "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1505975963",
      "id" : 1505975963,
      "in_reply_to_id" : 1491140321,
      "line" : 33,
      "node_id" : "PRRC_kwDOABII585Zw16b",
      "original_commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_line" : 33,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/p2p_transport_serialization.cpp",
      "position" : 16,
      "pull_request_review_id" : 1906289345,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1505975963/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-28T13:36:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1505975963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1505991495"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1505991495"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You are replacing a vector of `std::string` objects with an array of raw pointers. I don't think this is a benefit, as it will lead to silently wrong code. (Recall that you forgot to call `strcmp` initially?)\r\n\r\nReviewers will have to review everything in any case. Whether the code is touched or not doesn't matter. What matters is whether the code changes behavior or not, and whether the change in behavior is intentional.\r\n\r\n\r\n\r\n",
      "commit_id" : "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "created_at" : "2024-02-28T13:46:53Z",
      "diff_hunk" : "@@ -21,14 +21,17 @@\n \n namespace {\n \n-std::vector<std::string> g_all_messages;\n+auto g_all_messages = g_all_net_message_types;\n \n void initialize_p2p_transport_serialization()\n {\n     ECC_Start();\n     SelectParams(ChainType::REGTEST);\n-    g_all_messages = getAllNetMessageTypes();\n-    std::sort(g_all_messages.begin(), g_all_messages.end());\n+    // Sort, so that changes in the order of elements in g_all_net_message_types\n+    // do not cause changes in fuzzing for the same fuzz input.\n+    std::sort(g_all_messages.begin(), g_all_messages.end(), [](const char* a, const char* b) {\n+        return strcmp(a, b) < 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1505991495",
      "id" : 1505991495,
      "in_reply_to_id" : 1491140321,
      "line" : 33,
      "node_id" : "PRRC_kwDOABII585Zw5tH",
      "original_commit_id" : "c29350f4d72231ae44b12a783a8d4c6bd3af0f79",
      "original_line" : 33,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/fuzz/p2p_transport_serialization.cpp",
      "position" : 16,
      "pull_request_review_id" : 1906313864,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1505991495/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-28T13:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1505991495",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1506004519"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506004519"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In our case the variables are inside a namespace. Hinted by https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1503727466 I changed the above to put `s` inside a namespace and got the same result as above. Tried gcc 12, clang 15/17/19.",
      "commit_id" : "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "created_at" : "2024-02-28T13:55:46Z",
      "diff_hunk" : "@@ -267,8 +267,44 @@ extern const char* WTXIDRELAY;\n extern const char* SENDTXRCNCL;\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+static const std::array g_all_net_message_types{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1506004519",
      "id" : 1506004519,
      "in_reply_to_id" : 1490651364,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Zw84n",
      "original_commit_id" : "808fe4ef80d6bb59821c9186957b536d4598c26a",
      "original_line" : 271,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 1906334884,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506004519/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-28T13:55:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506004519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1506021433"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506021433"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> `constexpr` is implicitly `inline`\r\n\r\nNo, `static constexpr` is implicitly `inline`. And there is no `static` in our case. If I add `static`, then those would be defined in each `.cpp` file. See https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1491483794. The best is to leave it `inline constexpr` (without `static`) because then they are defined just once for all `.cpp` files.",
      "commit_id" : "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "created_at" : "2024-02-28T14:07:24Z",
      "diff_hunk" : "@@ -55,220 +55,255 @@ class CMessageHeader\n \n /**\n  * Bitcoin protocol message types. When adding new message types, don't forget\n- * to update allNetMessageTypes in protocol.cpp.\n+ * to update g_all_net_message_types below.\n  */\n namespace NetMsgType {\n-\n /**\n  * The version message provides information about the transmitting node to the\n  * receiving node at the beginning of a connection.\n  */\n-extern const char* VERSION;\n+inline constexpr const char* VERSION{\"version\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1506021433",
      "id" : 1506021433,
      "in_reply_to_id" : 1503727466,
      "line" : 65,
      "node_id" : "PRRC_kwDOABII585ZxBA5",
      "original_commit_id" : "c7c613c414e1c1456c63f63cd90367092788f840",
      "original_line" : 65,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : 14,
      "pull_request_review_id" : 1906362811,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506021433/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-28T14:07:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506021433",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1506071982"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506071982"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "fd6a481995592e166537c2e397a815a5e5e5e50f",
      "created_at" : "2024-02-28T14:38:29Z",
      "diff_hunk" : "@@ -55,220 +55,255 @@ class CMessageHeader\n \n /**\n  * Bitcoin protocol message types. When adding new message types, don't forget\n- * to update allNetMessageTypes in protocol.cpp.\n+ * to update g_all_net_message_types below.\n  */\n namespace NetMsgType {\n-\n /**\n  * The version message provides information about the transmitting node to the\n  * receiving node at the beginning of a connection.\n  */\n-extern const char* VERSION;\n+inline constexpr const char* VERSION{\"version\"};\n /**\n  * The verack message acknowledges a previously-received version message,\n  * informing the connecting node that it can begin to send other messages.\n  */\n-extern const char* VERACK;\n+inline constexpr const char* VERACK{\"verack\"};\n /**\n  * The addr (IP address) message relays connection information for peers on the\n  * network.\n  */\n-extern const char* ADDR;\n+inline constexpr const char* ADDR{\"addr\"};\n /**\n  * The addrv2 message relays connection information for peers on the network just\n  * like the addr message, but is extended to allow gossiping of longer node\n  * addresses (see BIP155).\n  */\n-extern const char *ADDRV2;\n+inline constexpr const char* ADDRV2{\"addrv2\"};\n /**\n  * The sendaddrv2 message signals support for receiving ADDRV2 messages (BIP155).\n  * It also implies that its sender can encode as ADDRV2 and would send ADDRV2\n  * instead of ADDR to a peer that has signaled ADDRV2 support by sending SENDADDRV2.\n  */\n-extern const char *SENDADDRV2;\n+inline constexpr const char* SENDADDRV2{\"sendaddrv2\"};\n /**\n  * The inv message (inventory message) transmits one or more inventories of\n  * objects known to the transmitting peer.\n  */\n-extern const char* INV;\n+inline constexpr const char* INV{\"inv\"};\n /**\n  * The getdata message requests one or more data objects from another node.\n  */\n-extern const char* GETDATA;\n+inline constexpr const char* GETDATA{\"getdata\"};\n /**\n  * The merkleblock message is a reply to a getdata message which requested a\n  * block using the inventory type MSG_MERKLEBLOCK.\n  * @since protocol version 70001 as described by BIP37.\n  */\n-extern const char* MERKLEBLOCK;\n+inline constexpr const char* MERKLEBLOCK{\"merkleblock\"};\n /**\n  * The getblocks message requests an inv message that provides block header\n  * hashes starting from a particular point in the block chain.\n  */\n-extern const char* GETBLOCKS;\n+inline constexpr const char* GETBLOCKS{\"getblocks\"};\n /**\n  * The getheaders message requests a headers message that provides block\n  * headers starting from a particular point in the block chain.\n  * @since protocol version 31800.\n  */\n-extern const char* GETHEADERS;\n+inline constexpr const char* GETHEADERS{\"getheaders\"};\n /**\n  * The tx message transmits a single transaction.\n  */\n-extern const char* TX;\n+inline constexpr const char* TX{\"tx\"};\n /**\n  * The headers message sends one or more block headers to a node which\n  * previously requested certain headers with a getheaders message.\n  * @since protocol version 31800.\n  */\n-extern const char* HEADERS;\n+inline constexpr const char* HEADERS{\"headers\"};\n /**\n  * The block message transmits a single serialized block.\n  */\n-extern const char* BLOCK;\n+inline constexpr const char* BLOCK{\"block\"};\n /**\n  * The getaddr message requests an addr message from the receiving node,\n  * preferably one with lots of IP addresses of other receiving nodes.\n  */\n-extern const char* GETADDR;\n+inline constexpr const char* GETADDR{\"getaddr\"};\n /**\n  * The mempool message requests the TXIDs of transactions that the receiving\n  * node has verified as valid but which have not yet appeared in a block.\n  * @since protocol version 60002 as described by BIP35.\n  *   Only available with service bit NODE_BLOOM, see also BIP111.\n  */\n-extern const char* MEMPOOL;\n+inline constexpr const char* MEMPOOL{\"mempool\"};\n /**\n  * The ping message is sent periodically to help confirm that the receiving\n  * peer is still connected.\n  */\n-extern const char* PING;\n+inline constexpr const char* PING{\"ping\"};\n /**\n  * The pong message replies to a ping message, proving to the pinging node that\n  * the ponging node is still alive.\n  * @since protocol version 60001 as described by BIP31.\n  */\n-extern const char* PONG;\n+inline constexpr const char* PONG{\"pong\"};\n /**\n  * The notfound message is a reply to a getdata message which requested an\n  * object the receiving node does not have available for relay.\n  * @since protocol version 70001.\n  */\n-extern const char* NOTFOUND;\n+inline constexpr const char* NOTFOUND{\"notfound\"};\n /**\n  * The filterload message tells the receiving peer to filter all relayed\n  * transactions and requested merkle blocks through the provided filter.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERLOAD;\n+inline constexpr const char* FILTERLOAD{\"filterload\"};\n /**\n  * The filteradd message tells the receiving peer to add a single element to a\n  * previously-set bloom filter, such as a new public key.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERADD;\n+inline constexpr const char* FILTERADD{\"filteradd\"};\n /**\n  * The filterclear message tells the receiving peer to remove a previously-set\n  * bloom filter.\n  * @since protocol version 70001 as described by BIP37.\n  *   Only available with service bit NODE_BLOOM since protocol version\n  *   70011 as described by BIP111.\n  */\n-extern const char* FILTERCLEAR;\n+inline constexpr const char* FILTERCLEAR{\"filterclear\"};\n /**\n  * Indicates that a node prefers to receive new block announcements via a\n  * \"headers\" message rather than an \"inv\".\n  * @since protocol version 70012 as described by BIP130.\n  */\n-extern const char* SENDHEADERS;\n+inline constexpr const char* SENDHEADERS{\"sendheaders\"};\n /**\n  * The feefilter message tells the receiving peer not to inv us any txs\n  * which do not meet the specified min fee rate.\n  * @since protocol version 70013 as described by BIP133\n  */\n-extern const char* FEEFILTER;\n+inline constexpr const char* FEEFILTER{\"feefilter\"};\n /**\n  * Contains a 1-byte bool and 8-byte LE version number.\n  * Indicates that a node is willing to provide blocks via \"cmpctblock\" messages.\n  * May indicate that a node prefers to receive new block announcements via a\n  * \"cmpctblock\" message rather than an \"inv\", depending on message contents.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* SENDCMPCT;\n+inline constexpr const char* SENDCMPCT{\"sendcmpct\"};\n /**\n  * Contains a CBlockHeaderAndShortTxIDs object - providing a header and\n  * list of \"short txids\".\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* CMPCTBLOCK;\n+inline constexpr const char* CMPCTBLOCK{\"cmpctblock\"};\n /**\n  * Contains a BlockTransactionsRequest\n  * Peer should respond with \"blocktxn\" message.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* GETBLOCKTXN;\n+inline constexpr const char* GETBLOCKTXN{\"getblocktxn\"};\n /**\n  * Contains a BlockTransactions.\n  * Sent in response to a \"getblocktxn\" message.\n  * @since protocol version 70014 as described by BIP 152\n  */\n-extern const char* BLOCKTXN;\n+inline constexpr const char* BLOCKTXN{\"blocktxn\"};\n /**\n  * getcfilters requests compact filters for a range of blocks.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFILTERS;\n+inline constexpr const char* GETCFILTERS{\"getcfilters\"};\n /**\n  * cfilter is a response to a getcfilters request containing a single compact\n  * filter.\n  */\n-extern const char* CFILTER;\n+inline constexpr const char* CFILTER{\"cfilter\"};\n /**\n  * getcfheaders requests a compact filter header and the filter hashes for a\n  * range of blocks, which can then be used to reconstruct the filter headers\n  * for those blocks.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFHEADERS;\n+inline constexpr const char* GETCFHEADERS{\"getcfheaders\"};\n /**\n  * cfheaders is a response to a getcfheaders request containing a filter header\n  * and a vector of filter hashes for each subsequent block in the requested range.\n  */\n-extern const char* CFHEADERS;\n+inline constexpr const char* CFHEADERS{\"cfheaders\"};\n /**\n  * getcfcheckpt requests evenly spaced compact filter headers, enabling\n  * parallelized download and validation of the headers between them.\n  * Only available with service bit NODE_COMPACT_FILTERS as described by\n  * BIP 157 & 158.\n  */\n-extern const char* GETCFCHECKPT;\n+inline constexpr const char* GETCFCHECKPT{\"getcfcheckpt\"};\n /**\n  * cfcheckpt is a response to a getcfcheckpt request containing a vector of\n  * evenly spaced filter headers for blocks on the requested chain.\n  */\n-extern const char* CFCHECKPT;\n+inline constexpr const char* CFCHECKPT{\"cfcheckpt\"};\n /**\n  * Indicates that a node prefers to relay transactions via wtxid, rather than\n  * txid.\n  * @since protocol version 70016 as described by BIP 339.\n  */\n-extern const char* WTXIDRELAY;\n+inline constexpr const char* WTXIDRELAY{\"wtxidrelay\"};\n /**\n  * Contains a 4-byte version number and an 8-byte salt.\n  * The salt is used to compute short txids needed for efficient\n  * txreconciliation, as described by BIP 330.\n  */\n-extern const char* SENDTXRCNCL;\n+inline constexpr const char* SENDTXRCNCL{\"sendtxrcncl\"};\n }; // namespace NetMsgType\n \n-/* Get a vector of all valid message types (see above) */\n-const std::vector<std::string>& getAllNetMessageTypes();\n+/** All known message types (see above). Keep this in the same order as the list of messages above. */\n+inline constexpr std::array g_all_net_message_types{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29421#discussion_r1506071982",
      "id" : 1506071982,
      "in_reply_to_id" : 1503734070,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ZxNWu",
      "original_commit_id" : "c7c613c414e1c1456c63f63cd90367092788f840",
      "original_line" : 270,
      "original_position" : 255,
      "original_start_line" : null,
      "path" : "src/protocol.h",
      "position" : null,
      "pull_request_review_id" : 1906445388,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29421",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506071982/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-28T14:38:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1506071982",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   }
]
