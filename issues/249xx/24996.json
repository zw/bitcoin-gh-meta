{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "In the https://github.com/bitcoin/bitcoin/blob/master/src/net_processing.cpp\r\nvoid PeerManagerImpl::FindNextBlocksToDownload(.....)\r\n......\r\nfor (const CBlockIndex* pindex : vToFetch) {\r\n            if (!pindex->IsValid(BLOCK_VALID_TREE)) {\r\n                // We consider the chain that this peer is on invalid.\r\n                return;\r\n            }\r\n            if (!State(nodeid)->fHaveWitness && DeploymentActiveAt(*pindex, consensusParams, Consensus::DEPLOYMENT_SEGWIT)) {\r\n                // We wouldn't download this block or its descendants from this peer.\r\n                return;\r\n            }\r\n......\r\nIn fact, the State(nodeid) returns variable is already initialized at the beginning of the function, there is no need to repeat the call here.   In addition, the fHaveWitness is only set in the NetMsgType::VERSION phase.\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24996/comments",
   "created_at" : "2022-04-27T03:23:38Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24996/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/24996",
   "id" : 1216728779,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24996/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "I_kwDOABII585Ihc7L",
   "number" : 24996,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24996/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24996/timeline",
   "title" : "The problem of repeated calls",
   "updated_at" : "2022-04-27T03:23:38Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24996",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1137630?v=4",
      "events_url" : "https://api.github.com/users/guoyl/events{/privacy}",
      "followers_url" : "https://api.github.com/users/guoyl/followers",
      "following_url" : "https://api.github.com/users/guoyl/following{/other_user}",
      "gists_url" : "https://api.github.com/users/guoyl/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/guoyl",
      "id" : 1137630,
      "login" : "guoyl",
      "node_id" : "MDQ6VXNlcjExMzc2MzA=",
      "organizations_url" : "https://api.github.com/users/guoyl/orgs",
      "received_events_url" : "https://api.github.com/users/guoyl/received_events",
      "repos_url" : "https://api.github.com/users/guoyl/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/guoyl/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/guoyl/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/guoyl"
   }
}
