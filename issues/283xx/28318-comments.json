[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28318).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/28318#pullrequestreview-1781956013) |\n| Concept ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701172539), [jonatack](https://github.com/bitcoin/bitcoin/pull/28318#pullrequestreview-1605951639), [jamesob](https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1856138054) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#27826](https://github.com/bitcoin/bitcoin/pull/27826) (validation: log which peer sent us a header by Sjors)\n* [#27231](https://github.com/bitcoin/bitcoin/pull/27231) (Fix logging RPC and -debugexclude with 0/none values, add test coverage, improve docs by jonatack)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-08-22T04:46:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1687411902",
      "id" : 1687411902,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585kk9y-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1687411902/reactions"
      },
      "updated_at" : "2023-12-14T16:14:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1687411902",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This implements ~most of~ ~all of~ most of my comment https://github.com/bitcoin/bitcoin/pull/25203#issuecomment-1401126785\r\n\r\nI figure the main benefit of categories is to be able to selectively turn logging on/off -- but for unconditional logging, you don't have that benefit, so might as well just drop the category entirely, and just have the message be descriptive enough directly. Note that this effectively reverts #25306.\r\n\r\nIt should be compatible with other in-progress PRs -- it only deprecates the `LogPrint*` functions, it doesn't break them. And it should be easy to finish the conversion with a scripted-diff replacing LogPrintf/LogPrint across the codebase.\r\n\r\nThis seems like a straightforward way of getting the logging stuff finished up.\r\n\r\ncc @jonatack ",
      "created_at" : "2023-08-22T04:51:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1687415885",
      "id" : 1687415885,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585kk-xN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1687415885/reactions"
      },
      "updated_at" : "2023-09-12T08:37:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1687415885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "sample scripted diff code:\r\n\r\n```\r\nsed -i 's/LogPrintLevel(\\(BCLog::[^,]*\\), BCLog::Level::Debug,/LogDebug(\\1,/' net_processing.cpp dbwrapper.cpp net.cpp node/txreconciliation.cpp validation.cpp\r\n\r\nsed -i 's/LogPrintLevel(\\(BCLog::[^,]*\\), BCLog::Level::Error, */LogError(/' net.cpp txmempool.cpp\r\n\r\nsed -i 's/LogPrintLevel(\\(BCLog::[^,]*\\), BCLog::Level::Warning, */LogWarning(/' net.cpp\r\n\r\nsed -i 's/LogPrintf(/LogInfo(/' net.cpp\r\nsed -i 's/LogPrint(\\(BCLog::[^,]*\\),/LogDebug(\\1,/' net.cpp\r\n```",
      "created_at" : "2023-08-31T14:34:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701170263",
      "id" : 1701170263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585lZcxX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701170263/reactions"
      },
      "updated_at" : "2023-08-31T14:34:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701170263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2023-08-31T14:35:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701172539",
      "id" : 1701172539,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585lZdU7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701172539/reactions"
      },
      "updated_at" : "2023-08-31T14:35:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701172539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is this ready for review, or any reason why this is still in draft?",
      "created_at" : "2023-08-31T14:47:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701193334",
      "id" : 1701193334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585lZiZ2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701193334/reactions"
      },
      "updated_at" : "2023-08-31T14:47:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701193334",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is this ready for review, or any reason why this is still in draft?\r\n\r\nI was hoping for early feedback from @jonatack and initially wasn't happy with the original \"break the -loglevel command line, do stuff, then replace it\" commit order (that's now fixed). But no reason it can't be reviewed now. It could also be split up to separate out the `-loglevel` vs `-trace` change, or to defer the `map` to `atomic` change -- ie, I guess if later commits don't feel worth the review effort, feel free to stop early?",
      "created_at" : "2023-08-31T14:58:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701211340",
      "id" : 1701211340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585lZmzM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701211340/reactions"
      },
      "updated_at" : "2023-08-31T14:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701211340",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'll have a look later today but my initial read, to be confirmed, was approach NACK in the direction, which I'll detail more on, and that this would hinder progress more than help.  \r\n\r\nI've been waiting for the merge of the bug fix, tests and updated docs in #27231 to continue on the next steps, as I thought it would be merged quickly (as bugfixes normally would be) and which is still waiting on re-ACKs after taking everyone's feedback. ISTM this conflicts with it, which doesn't help either.  It doesn't make sense to conflict with that PR for this one IMO.",
      "created_at" : "2023-08-31T16:20:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701351740",
      "id" : 1701351740,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585laJE8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701351740/reactions"
      },
      "updated_at" : "2023-08-31T16:21:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701351740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Is this ready for review, or any reason why this is still in draft?\r\n\r\nErr, perhaps it was because I made some more changes and didn't push them? [EDIT: Oh, was just some additional lint things]",
      "created_at" : "2023-08-31T16:29:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701377085",
      "id" : 1701377085,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585laPQ9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701377085/reactions"
      },
      "updated_at" : "2023-08-31T16:30:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701377085",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> ISTM this conflicts with it, which doesn't help either. It doesn't make sense to conflict with that PR for this one IMO.\r\n\r\nThe first 6 commits apply cleanly on top of it; though `LogPrintLevel(BCLog::NONE, BCLog::Level::Info, \"foo9: %s\\n\", \"bar9\"); // no-op` is no-longer a no-op, so the tests need modifying.",
      "created_at" : "2023-08-31T16:38:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701392664",
      "id" : 1701392664,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585laTEY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701392664/reactions"
      },
      "updated_at" : "2023-08-31T16:38:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701392664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The first 6 commits apply cleanly on top of it\r\n\r\nThanks, will review properly asap.\r\n",
      "created_at" : "2023-08-31T16:41:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701395998",
      "id" : 1701395998,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585laT4e",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701395998/reactions"
      },
      "updated_at" : "2023-08-31T16:41:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701395998",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Absent the behavior changes, assuming they are controversial, you could also just split out the naming stuff.\r\n\r\nI don't see the benefit of making the code overly verbose and typing `LogPrintLevel(BCLog::Level::Warning` for every log when it is trivial to add an alias like `LogWarning(` and using it in new code should be uncontroversial.\r\n\r\nI don't have an opinion on the category and I think anything is probably fine there.",
      "created_at" : "2023-08-31T16:49:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701407858",
      "id" : 1701407858,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585laWxy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701407858/reactions"
      },
      "updated_at" : "2023-08-31T16:49:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701407858",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I don't see the benefit of making the code overly verbose and typing `LogPrintLevel(BCLog::Level::Warning` for every log when it is trivial to add an alias like `LogWarning(`\r\n\r\nThe idea is to have only one macro, `Log(category, level)` and remove all the others.\r\n\r\nI'm -0...+0 on adding several additional convenience macros that invert the param order to something like `LogWarning(category)`.",
      "created_at" : "2023-08-31T17:45:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1701494024",
      "id" : 1701494024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585lar0I",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701494024/reactions"
      },
      "updated_at" : "2023-08-31T17:56:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1701494024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> [068de7a](https://github.com/bitcoin/bitcoin/commit/068de7abc5bda9fd9928d7145265ae3a3a851de0) The idea behind the severity level logging is to ultimately have only one macro like `Log(category, level)` with one consistent, simple interface for everyone -- both developers updating logging in the code and people who read the logs\r\n\r\nI think there's a higher level goal than that: logs should be convenient and easy for developers and users. Hopefully that's a boring platitude, so I'm going to assume you agree with that?\r\n\r\nIn particular, I don't think we should prioritise \"one function\" if it makes reading/writing code tedious and inconvenient, and to me, reading/writing `Log(BCLog::NET, BCLog::Level::Debug, ...)` (with or without the current `PrintLevel`) is pretty ugly. I think it's better to have multiple functions than the other ways I can think of removing the `BCLog::Level::` boilerplate. \r\n\r\nSecond, for both users and developers, I think the mix of enabled/disabled categories and global/category-specific levels is super confusing. AFAICS at the highest level we only really want three things:\r\n\r\n * unconditional logging for high-importance information\r\n * subsystem specific debug logging that can be turned on (in production) to get detailed information about what's going on\r\n * subsystem specific trace logging to get highly detailed logging that may have severe performance impacts to diagnose specific misbehaviours\r\n\r\n> [94e1b46](https://github.com/bitcoin/bitcoin/commit/94e1b46776e68f26f530c23123e9cecdb661de8a) This would move the category from the prefix back into the log message string on an ad hoc basis, would be less consistent, and IMO a step backward.\r\n\r\nMy reasoning here is that the usefulness of the \"category\" isn't in telling us what bit of code triggered the log message (we have `-logsourcelocations` for that which is much more precise, and you can generally just grep for the message anyway), but in categorising log messages the user can disable. It's useful for the user to see `[net]` because it tells them they can use `-debug=net` to enable it; it's useful for the user to see `[net:trace]` because it tells them they also need to enable tracing to see that. It's useful to see `[warning]` or `[error]` because those are things they probably want to take action on, and having a consistent tag means they can grep for them more easily. It's not useful to see `[net:info]` because that doesn't tell them anything they can action, it's just noise that makes it harder to read the logs.\r\n\r\nSo I contend that approach is consistent, it's just consistent over a different (in my opinion more valuable) attribute; namely that categories are solely for conditional logging that the user can disable on a per-subsystem basis.\r\n\r\n> [f20bfc3](https://github.com/bitcoin/bitcoin/commit/f20bfc3d95be659cbfa502151dd960c44d315988) Non-urgent approach ACK, I can pull it into the parent in #25203 if you like.\r\n\r\n(I don't think any of this is \"urgent\")\r\n\r\n> [b3bf2fa](https://github.com/bitcoin/bitcoin/commit/b3bf2fafa678fbde303e7cccff70e3b2a6b66627) This would be a step back, I think, away from consistent explicit logging, to requiring remembering more implicit mental context baggage (\"why do I see categories for these logs and not for those?\") Also, the prefix allows not needing to put the category manually into the log strings.\r\n\r\nThat question is easy to answer: you see categories for log entries that you need to use config options to enable. Likewise in the code: you write `BCLog::HTTP` for `LogDebug` and `LogTrace` entries that will only be shown if the user specifically enables that log category, and you don't write it when that's not the case.\r\n\r\nCompare:\r\n\r\n1. `LogInfo(\"Starting HTTP server with %d worker threads\\n\", rpcThreads);`\r\n2. `LogPrintfCategory(BCLog::HTTP, \"Starting server with %d worker threads\\n\", rpcThreads);`\r\n3. `Log(BCLog::HTTP, BCLog::Level::Info, \"Starting server with %d worker threads\\n\", rpcThreads);`\r\n\r\nand the log messages:\r\n\r\n1. `Starting HTTP server with 2 worker threads`\r\n2. `[http] Starting server with 2 worker threads`\r\n3. `[http:info] Starting server with 2 worker threads`\r\n\r\nFor unconditional logging, just writing self-explanatory text is shorter and easier to understand.\r\n\r\nFor conditional logging, we have to tell the compiler the category, so the `BCLog::HTTP` part isn't really avoidable, but having  functions to cover the two levels of conditional logging at least eliminates the boiler plate.\r\n\r\n> [53a7f76](https://github.com/bitcoin/bitcoin/commit/53a7f76feb8fee8a00bea245940e46d65892f692) Much of the value from severity level logging will come from making some of the noisy categories (`net` in particular, and maybe validation and mempool) much more useful by selecting which LogPrints become debug vs trace, and in general, by selecting which LogPrintfs become info, warning, or error.\r\n\r\nI think it would make sense for the line between info/warning/error to be:\r\n\r\n * normally, it's a category specific debug log. your log message probably just isn't that important.\r\n * otherwise, for important but rare messages (eg on startup), use info.\r\n * for something where the admin probably wants to take action, upgrade that to warning (eg things that trigger `SetMiscWarning`, like your system time being set wrong; or if you've enabled tor but tor connections aren't working)\r\n * use error for things severe enough that bitcoind will shutdown now (or perhaps just some subsystem, eg a particular wallet that's discovered its db is corrupt/unreadable/unwritable)\r\n\r\nThat seems pretty easy for both developers and users to keep consistent.\r\n\r\n(Actually, maybe it's worth distinguishing \"startup\" and \"recurring-info\" messages -- it's useful and okay for startup to be a bit noisy; but info messages should be very rare. Something like `LogInit(...)` for unconditional startup logging, and `LogImportant(...)` for UpdateTip and new outbounds.)\r\n\r\nThe \"if it's usable in production, then do it as `debug`, only use `trace` for stuff that's not usable in production\" rule I suggested above would imply that it'd be better to split `net` into multiple categories rather than move it into trace, I think. Concretely, the \"send: msg\" / \"recv: msg\" logging in particular could be its own category. `[net:trace]` would only be useful for extra logging that's not suitable for production, maybe like logging every w/txid that's in an INV message, rather than just the first?\r\n\r\n> [4906f49](https://github.com/bitcoin/bitcoin/commit/4906f49f0932cc8f6244cff8cfbd79407031e7b2) is an incomplete version of [`118c756` (#25203)](https://github.com/bitcoin/bitcoin/pull/25203/commits/118c7567f62df2b882877590f232242d7c627a05) in the parent pull.\r\n\r\nI mean, that PR had been closed for 7 months... That change is also inconsistent with what you recommended in https://github.com/bitcoin/bitcoin/pull/27277#discussion_r1141379531\r\n\r\n> [99ac8b1](https://github.com/bitcoin/bitcoin/commit/99ac8b174a373d204cd4f2d0d6c1f897d7646526) As discussed in [#27231 (comment)](https://github.com/bitcoin/bitcoin/pull/27231#discussion_r1312402046), it seems to make sense to drop the `NONE` category and level enums from `logging.{h,cpp}` when we remove the deprecated macros (as opposed to `0/none` values that are still needed at the init and rpc layers, cf #27231).\r\n\r\nThat commit is about dropping `Level::None` (the alternative that currently gives us \"[net] foo\" instead of \"[net:debug] foo\"), not the category `BCLog::NONE` which is what the 27231 discussion is about.\r\n\r\n> [cb58059](https://github.com/bitcoin/bitcoin/commit/cb580599e026c713f7b6abae7a7e873b07b89df8) I agree the config option interface is WIP; Klement Tan who was working on it took a job that diverted him from contributing. It seems incongruent to have `-debug` and `-trace` options but only `-debugexclude`. The plan discussed in one of the step PRs is to combine the functionality of the `-debug` and (help-debug) `-loglevel` options (perhaps to a renamed `-log` config option, which would be more consistent naming-wise with the `logging` RPC), and add log level functionality to that RPC. I haven't done that in the parent PR yet, so it's available to be done!\r\n\r\n*shrug* That was mostly about giving an api that doesn't expose the global logging level and didn't break tests (which exclude libevent) (and that writing `-debug=net -debug=mempool -log=net:trace -log=mempool:trace` seems unnecessarily clunky). Another approach to consider might be replacing `-debug=all -debugexclude=libevent` with `-debug=all -debug=-libevent`, which would naturally generalise to the same syntax with `-trace`.\r\n\r\nI presume the logging RPC would just change to accept `[\"net\"] [\"validation\"] [\"wallet\"]` to set net's logging level to debug, validation's to disabled/info, and wallet's to debug+trace, and return `{\"net\": true, \"validation\": false, \"wallet\": \"trace\"}` or something.\r\n\r\n> [451f2e7](https://github.com/bitcoin/bitcoin/commit/451f2e76b3293836509c1865222c23ef7b4aacf2) Concept ACK on avoiding a mutex. I have had the nagging thought for a long time that it may not be inconceivable for some users to prefer logging only errors and warnings, thus to avoid coding ourselves into a corner regarding `info` always being logged (which might apply to the preceding commit as well).\r\n\r\nI don't think that's a sensible concern: unconditional logging should be rare enough to not need disabling (eg, connecting to new outbounds, new headers, and new tips for about 400 entries a day), and at that point it's better not to disable them as that gives the user a pretty clear indication their node is still working right. Even for users that only care about errors/warnings, having the UpdateTip context at least is likely useful for giving some clue what state the node was in when it encountered the problem.",
      "created_at" : "2023-09-01T07:46:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1702318968",
      "id" : 1702318968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585ld1N4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1702318968/reactions"
      },
      "updated_at" : "2023-09-01T07:46:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1702318968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased and rearranged.\r\n\r\nI've added `-loglevelalways` to give users the choice between low-noise logging / what we have now, where you just have `[net]` or `[warning]` show up, or always having the full category/severity info prefixed `[net:debug]` or `[all:info]` showing up, with the idea that the extra \"noise\" there might be helpful for automated parsing of logs and similar (and some might just prefer it anyway). In particular, after this PR and with that option set, all log messages specify a category and severity now, so that part of the \"severity-based-logging\" goal can be considered complete.\r\n\r\nI haven't based this on #27231 but it should be easy to rebase either PR once the other has been merged -- there's a conflict in the tests, which have to be edited either way, since 27231 adds test coverage of behaviour that's changed in this PR (namely info logging becoming unconditional).\r\n\r\nI've dropped the `-trace` command line argument and the conversion from map to bit flags in an atomic int from this PR; still think stuff like that is worth doing, but it doesn't need to all happen at once.\r\n\r\nI've also added docs on when to use the different severities, which seem like a useful thing to have.\r\n\r\nI think this should be ready for review/merge at this point.",
      "created_at" : "2023-09-12T10:13:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1715422126",
      "id" : 1715422126,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585mP0Ou",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1715422126/reactions"
      },
      "updated_at" : "2023-09-12T10:13:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1715422126",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Big concept ACK on the interface. This is a nice simplification.",
      "created_at" : "2023-12-14T16:14:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28318#issuecomment-1856138054",
      "id" : 1856138054,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28318",
      "node_id" : "IC_kwDOABII585uomtG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1856138054/reactions"
      },
      "updated_at" : "2023-12-14T16:14:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1856138054",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   }
]
