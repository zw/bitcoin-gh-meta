[
   {
      "documentation_url" : "https://docs.github.com/rest/issues/comments#list-issue-comments",
      "message" : "Not Found"
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28391).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [stickies-v](https://github.com/bitcoin/bitcoin/pull/28391#pullrequestreview-1725182406), [glozow](https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1806089364), [maflcko](https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1806857272) |\n| Concept ACK | [Sjors](https://github.com/bitcoin/bitcoin/pull/28391#pullrequestreview-1714571006) |\n| Stale ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/28391#pullrequestreview-1722502299) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28368](https://github.com/bitcoin/bitcoin/pull/28368) (Fee Estimator updates from Validation Interface/CScheduler thread by ismaelsadeeq)\n* [#28335](https://github.com/bitcoin/bitcoin/pull/28335) (RFC: Remove boost usage from kernel api / headers by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-09-02T09:47:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1703784306",
      "id" : 1703784306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585lja9y",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1703784306/reactions"
      },
      "updated_at" : "2023-11-11T16:22:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1703784306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK fwiw\r\nAs additional motivation, I imagine this would also make it easier to change the internal implementation of `CTxMemPool` without touching all these files.",
      "created_at" : "2023-09-05T13:32:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1706630555",
      "id" : 1706630555,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585luR2b",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1706630555/reactions"
      },
      "updated_at" : "2023-09-05T13:32:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1706630555",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1335223584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1335223584"
         }
      },
      "author_association" : "MEMBER",
      "body" : "CI failure is due to merge conflict can be fixed with\r\n```suggestion\r\n        return m_node.mempool->CheckPackageLimits({tx}, GetVirtualTransactionSize(*tx), err_string);\r\n```",
      "commit_id" : "5fb9ddf0ab423dae5c0056eda10b02817927fcc4",
      "created_at" : "2023-09-24T17:55:01Z",
      "diff_hunk" : "@@ -698,11 +697,9 @@ class ChainImpl : public Chain\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n-        LockPoints lp;\n-        CTxMemPoolEntry entry(tx, 0, 0, 0, 0, false, 0, lp);\n-        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         LOCK(m_node.mempool->cs);\n-        return m_node.mempool->CalculateMemPoolAncestors(entry, limits).has_value();\n+        std::string err_string;\n+        return m_node.mempool->CheckPackageLimits({tx}, m_node.mempool->m_limits, err_string);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1335223584",
      "id" : 1335223584,
      "line" : 704,
      "node_id" : "PRRC_kwDOABII585PleUg",
      "original_commit_id" : "a5bdd7eacea7be11e064aa7a9a4f12624dfe53fd",
      "original_line" : 704,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/node/interfaces.cpp",
      "position" : 20,
      "pull_request_review_id" : 1641100858,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1335223584/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-09-24T17:59:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1335223584",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1335223808"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1335223808"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In b0dda173e1784f177152349ff7002345f054f888 [refactor] rewrite vTxHashes as a vector of CTransactionRef \r\n`txns_randomized` is introduced in next commit d7eec401ba7c7b4c8fc58e39e358ba4518da97d7\r\n\r\nDoes this belongs to this commit?",
      "commit_id" : "5fb9ddf0ab423dae5c0056eda10b02817927fcc4",
      "created_at" : "2023-09-24T17:56:54Z",
      "diff_hunk" : "@@ -51,8 +51,8 @@ static CBlock BuildBlockTestCase() {\n }\n \n // Number of shared use_counts we expect for a tx we haven't touched\n-// (block + mempool + our copy from the GetSharedTx call)\n-constexpr long SHARED_TX_OFFSET{3};\n+// (block + mempool entry + mempool txns_randomized + our copy from the GetSharedTx call)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1335223808",
      "id" : 1335223808,
      "line" : 54,
      "node_id" : "PRRC_kwDOABII585PleYA",
      "original_commit_id" : "b0dda173e1784f177152349ff7002345f054f888",
      "original_line" : 54,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/test/blockencodings_tests.cpp",
      "position" : 6,
      "pull_request_review_id" : 1641100858,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1335223808/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-09-24T17:59:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1335223808",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased a5bdd7eacea7be11e064aa7a9a4f12624dfe53fd -> f0577ea4c428421a85e98bfeb2fbd5e617a4622a ([simplifyMemPoolInteractions_0](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_0) -> [simplifyMemPoolInteractions_1](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_1),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_0..simplifyMemPoolInteractions_1))",
      "created_at" : "2023-09-25T10:56:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1733432249",
      "id" : 1733432249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585nUhO5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1733432249/reactions"
      },
      "updated_at" : "2023-09-25T10:56:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1733432249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-10-30T15:57:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1785525774",
      "id" : 1785525774,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585qbPYO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1785525774/reactions"
      },
      "updated_at" : "2023-10-30T15:57:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1785525774",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased f0577ea4c428421a85e98bfeb2fbd5e617a4622a -> 5fb9ddf0ab423dae5c0056eda10b02817927fcc4 ([simplifyMemPoolInteractions_1](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_1) -> [simplifyMemPoolInteractions_2](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_2),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_1..simplifyMemPoolInteractions_2))",
      "created_at" : "2023-10-30T16:19:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1785570537",
      "id" : 1785570537,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585qbaTp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1785570537/reactions"
      },
      "updated_at" : "2023-10-30T16:19:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1785570537",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1376709777"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1376709777"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The change in https://github.com/bitcoin/bitcoin/commit/e7e462eadc66e484ccb2f51967a0ad5f0d3bd41a has been reverted after the rebase.\r\n",
      "commit_id" : "5fb9ddf0ab423dae5c0056eda10b02817927fcc4",
      "created_at" : "2023-10-30T19:26:10Z",
      "diff_hunk" : "@@ -700,11 +699,9 @@ class ChainImpl : public Chain\n     bool checkChainLimits(const CTransactionRef& tx) override\n     {\n         if (!m_node.mempool) return true;\n-        LockPoints lp;\n-        CTxMemPoolEntry entry(tx, 0, 0, 0, 0, false, 0, lp);\n-        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         LOCK(m_node.mempool->cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1376709777",
      "id" : 1376709777,
      "line" : 702,
      "node_id" : "PRRC_kwDOABII585SDuyR",
      "original_commit_id" : "5fb9ddf0ab423dae5c0056eda10b02817927fcc4",
      "original_line" : 702,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/node/interfaces.cpp",
      "position" : 17,
      "pull_request_review_id" : 1704920537,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1376709777/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-30T19:28:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1376709777",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 5fb9ddf0ab423dae5c0056eda10b02817927fcc4 -> e579bb98ba8977af284ba6914ffb2b1da7f34cdd ([simplifyMemPoolInteractions_2](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_2) -> [simplifyMemPoolInteractions_3](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_3),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_2..simplifyMemPoolInteractions_3))\r\n\r\n* Addressed @ismaelsadeeq's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1335223808), fixed change ordering in commit (no net change to the code).\r\n* Fixed reverted change by cherry-picking commit e7e462eadc66e484ccb2f51967a0ad5f0d3bd41a [refactor] use CheckPackageLimits for checkChainLimits.\r\n",
      "created_at" : "2023-10-30T21:39:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1786089822",
      "id" : 1786089822,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585qdZFe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1786089822/reactions"
      },
      "updated_at" : "2023-10-30T21:39:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1786089822",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1378721448"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378721448"
         }
      },
      "author_association" : "MEMBER",
      "body" : "why not just? \r\n```suggestion\r\n    const CTxMemPoolEntry::Children& children = e.GetMemPoolChildrenConst();\r\n``` \r\nis there a reason why you are getting the iterator of the txid?",
      "commit_id" : "105a0f4db4ffdc25d3ad30300c949d46d5d8e647",
      "created_at" : "2023-11-01T12:14:04Z",
      "diff_hunk" : "@@ -315,8 +315,8 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     info.pushKV(\"depends\", depends);\n \n     UniValue spent(UniValue::VARR);\n-    const CTxMemPool::txiter& it = pool.mapTx.find(tx.GetHash());\n-    const CTxMemPoolEntry::Children& children = it->GetMemPoolChildrenConst();\n+    const auto it = pool.GetIter(tx.GetHash());\n+    const CTxMemPoolEntry::Children& children = (*CHECK_NONFATAL(it))->GetMemPoolChildrenConst();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1378721448",
      "id" : 1378721448,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585SLZ6o",
      "original_commit_id" : "8e41f6555f31b2d09d3ca083422667d6f055583a",
      "original_line" : 319,
      "original_position" : 7,
      "original_start_line" : 318,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1708087754,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378721448/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-11-01T13:50:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378721448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1378747401"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378747401"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 3c7543cc98efb8d5e38b8c18f2f184c9272cd092 \" [refactor] remove access to mapTx in mempool_tests.cpp \"\r\n\r\nnit: In the commit message there is still `mapTx` access in `mempool_tests.cpp` `CheckSort` test\r\n maybe the commit message should be\r\n [refactor] use `CTxMemPool` helper method to get a transaction mempool iterator.\r\n",
      "commit_id" : "105a0f4db4ffdc25d3ad30300c949d46d5d8e647",
      "created_at" : "2023-11-01T12:38:51Z",
      "diff_hunk" : "@@ -191,7 +191,7 @@ BOOST_AUTO_TEST_CASE(MempoolIndexingTest)\n     CheckSort<descendant_score>(pool, sortedOrder);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1378747401",
      "id" : 1378747401,
      "line" : 191,
      "node_id" : "PRRC_kwDOABII585SLgQJ",
      "original_commit_id" : "3c7543cc98efb8d5e38b8c18f2f184c9272cd092",
      "original_line" : 191,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/test/mempool_tests.cpp",
      "position" : 1,
      "pull_request_review_id" : 1708087754,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378747401/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-01T13:50:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378747401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1378813358"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378813358"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Are you assuming that the callers of `IsRBFOptIn` must pass a mempool transaction with the `Assert`?",
      "commit_id" : "105a0f4db4ffdc25d3ad30300c949d46d5d8e647",
      "created_at" : "2023-11-01T13:36:54Z",
      "diff_hunk" : "@@ -35,7 +36,7 @@ RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool)\n \n     // If all the inputs have nSequence >= maxint-1, it still might be\n     // signaled for RBF if any unconfirmed parents have signaled.\n-    const CTxMemPoolEntry entry{*pool.mapTx.find(tx.GetHash())};\n+    const CTxMemPoolEntry entry{**Assert(pool.GetIter(tx.GetHash()))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1378813358",
      "id" : 1378813358,
      "line" : 39,
      "node_id" : "PRRC_kwDOABII585SLwWu",
      "original_commit_id" : "896684ec10e06ece3a13a42a774b17e22206f637",
      "original_line" : 39,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/policy/rbf.cpp",
      "position" : 13,
      "pull_request_review_id" : 1708087754,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378813358/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-01T13:50:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378813358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1379219584"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1379219584"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yes, as I understand it that is what is checked in the code block above, so this should always hold.",
      "commit_id" : "105a0f4db4ffdc25d3ad30300c949d46d5d8e647",
      "created_at" : "2023-11-01T19:29:40Z",
      "diff_hunk" : "@@ -35,7 +36,7 @@ RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool)\n \n     // If all the inputs have nSequence >= maxint-1, it still might be\n     // signaled for RBF if any unconfirmed parents have signaled.\n-    const CTxMemPoolEntry entry{*pool.mapTx.find(tx.GetHash())};\n+    const CTxMemPoolEntry entry{**Assert(pool.GetIter(tx.GetHash()))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1379219584",
      "id" : 1379219584,
      "in_reply_to_id" : 1378813358,
      "line" : 39,
      "node_id" : "PRRC_kwDOABII585SNTiA",
      "original_commit_id" : "896684ec10e06ece3a13a42a774b17e22206f637",
      "original_line" : 39,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/policy/rbf.cpp",
      "position" : 13,
      "pull_request_review_id" : 1708888371,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1379219584/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-01T19:29:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1379219584",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1379220432"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1379220432"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Huh, yeah. That is more straight forward.",
      "commit_id" : "105a0f4db4ffdc25d3ad30300c949d46d5d8e647",
      "created_at" : "2023-11-01T19:30:33Z",
      "diff_hunk" : "@@ -315,8 +315,8 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     info.pushKV(\"depends\", depends);\n \n     UniValue spent(UniValue::VARR);\n-    const CTxMemPool::txiter& it = pool.mapTx.find(tx.GetHash());\n-    const CTxMemPoolEntry::Children& children = it->GetMemPoolChildrenConst();\n+    const auto it = pool.GetIter(tx.GetHash());\n+    const CTxMemPoolEntry::Children& children = (*CHECK_NONFATAL(it))->GetMemPoolChildrenConst();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1379220432",
      "id" : 1379220432,
      "in_reply_to_id" : 1378721448,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585SNTvQ",
      "original_commit_id" : "8e41f6555f31b2d09d3ca083422667d6f055583a",
      "original_line" : 319,
      "original_position" : 7,
      "original_start_line" : 318,
      "path" : "src/rpc/mempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1708889579,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1379220432/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-11-01T19:30:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1379220432",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you for the review @ismaelsadeeq!\r\n\r\nUpdated e579bb98ba8977af284ba6914ffb2b1da7f34cdd -> 105a0f4db4ffdc25d3ad30300c949d46d5d8e647 ([simplifyMemPoolInteractions_3](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_3) -> [simplifyMemPoolInteractions_4](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_4),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_3..simplifyMemPoolInteractions_4))\r\n\r\n* Added commit 105a0f4db4ffdc25d3ad30300c949d46d5d8e647 for removing access to `mapTx` in `validation_block_tests`.\r\n* Addressed @ismaelsadeeq's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1378721448), simplifying code by just using mempool entry directly.\r\n* Addressed @ismaelsadeeq's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1378747401), making commit message more precise.\r\n",
      "created_at" : "2023-11-01T19:48:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1789568785",
      "id" : 1789568785,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585qqqcR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1789568785/reactions"
      },
      "updated_at" : "2023-11-01T19:48:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1789568785",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Re ACK 105a0f4db4ffdc25d3ad30300c949d46d5d8e647",
      "created_at" : "2023-11-02T12:11:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1790613552",
      "id" : 1790613552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585qupgw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1790613552/reactions"
      },
      "updated_at" : "2023-11-02T12:11:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1790613552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1380032491"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1380032491"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Changes in this commit bc21629f66b261c42f9e08ff8925c39d14874653 is identical to the one in https://github.com/bitcoin/bitcoin/pull/28762/commits/d525998b07be066c97a36536b58f0b98d816be39 , but here the `txmempool.h` dependency from `mini_miner.h`, and the imports are not updated?",
      "commit_id" : "105a0f4db4ffdc25d3ad30300c949d46d5d8e647",
      "created_at" : "2023-11-02T12:33:03Z",
      "diff_hunk" : "@@ -71,8 +71,11 @@ MiniMiner::MiniMiner(const CTxMemPool& mempool, const std::vector<COutPoint>& ou\n \n     // Add every entry to m_entries_by_txid and m_entries, except the ones that will be replaced.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1380032491",
      "id" : 1380032491,
      "line" : 72,
      "node_id" : "PRRC_kwDOABII585SQZ_r",
      "original_commit_id" : "bc21629f66b261c42f9e08ff8925c39d14874653",
      "original_line" : 72,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "src/node/mini_miner.cpp",
      "position" : 2,
      "pull_request_review_id" : 1710132324,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1380032491/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-02T12:34:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1380032491",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1380338654"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1380338654"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`infoAll()` holds its own `CTxMempool::cs` lock, and I think we don't need that to add stuff to `notifications`? I'm also not quite sure if we need to be holding `::cs_main` here?",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-02T15:30:32Z",
      "diff_hunk" : "@@ -806,8 +805,8 @@ class ChainImpl : public Chain\n     {\n         if (!m_node.mempool) return;\n         LOCK2(::cs_main, m_node.mempool->cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1380338654",
      "id" : 1380338654,
      "line" : 809,
      "node_id" : "PRRC_kwDOABII585SRkve",
      "original_commit_id" : "105a0f4db4ffdc25d3ad30300c949d46d5d8e647",
      "original_line" : 809,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/node/interfaces.cpp",
      "position" : 27,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1380338654/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1380338654",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 105a0f4db4ffdc25d3ad30300c949d46d5d8e647 -> 65839d6267af1f5e0e04aded72cbfa23b56a1237 ([simplifyMemPoolInteractions_4](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_4) -> [simplifyMemPoolInteractions_5](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_5),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_4..simplifyMemPoolInteractions_5))\r\n\r\n* Addressed @ismaelsadeeq's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1380032491), pulling in the improved commit from #28762 \r\n* Added a new first commit to introduce a `GetEntry` helper for retrieving mempool entries. This allows avoiding the usage of `GetIter` just for retrieving a mempool entry.\r\n* Use this new `GetEntry` helper over `GetIter` where applicable.\r\n* Refactored the `blockencodings_tests` commit to use a simpler helper function.\r\n* Dropped commit 5633e6770538c83cc5a75cf926347a709ae7e2c0, since `GetEntry` is now used instead.\r\n",
      "created_at" : "2023-11-03T10:24:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1792187238",
      "id" : 1792187238,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585q0ptm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1792187238/reactions"
      },
      "updated_at" : "2023-11-03T10:24:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1792187238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1381974204"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1381974204"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Concept ACK to handing out references to the entry instead of iterators into mapTx\r\n\r\nISTM that this should require holding `CTxMemPool::cs`?",
      "commit_id" : "fc5e4dea6ffa21191e852a79103a2dfc9c241df1",
      "created_at" : "2023-11-03T16:50:03Z",
      "diff_hunk" : "@@ -684,6 +684,8 @@ class CTxMemPool\n         return (mapTx.count(gtxid.GetHash()) != 0);\n     }\n \n+    std::optional<CTxMemPoolEntry::CTxMemPoolEntryRef> GetEntry(const uint256& hash) const LIFETIMEBOUND;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1381974204",
      "id" : 1381974204,
      "line" : 687,
      "node_id" : "PRRC_kwDOABII585SX0C8",
      "original_commit_id" : "c93f52a88132658df1fae0f0472c55739ce208f6",
      "original_line" : 687,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 13,
      "pull_request_review_id" : 1713147306,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1381974204/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-03T16:54:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1381974204",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1382012974"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1382012974"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah, missed that. Will add.",
      "commit_id" : "a20c1d2b81a702f97267d4f098f13ed80e9320cf",
      "created_at" : "2023-11-03T17:29:32Z",
      "diff_hunk" : "@@ -684,6 +684,8 @@ class CTxMemPool\n         return (mapTx.count(gtxid.GetHash()) != 0);\n     }\n \n+    std::optional<CTxMemPoolEntry::CTxMemPoolEntryRef> GetEntry(const uint256& hash) const LIFETIMEBOUND;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1382012974",
      "id" : 1382012974,
      "in_reply_to_id" : 1381974204,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585SX9gu",
      "original_commit_id" : "c93f52a88132658df1fae0f0472c55739ce208f6",
      "original_line" : 687,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : null,
      "pull_request_review_id" : 1713209071,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1382012974/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-03T17:29:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1382012974",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The first commit ee79f05f1fef57bfbea24333a46e525385d02319 introduces a dangling reference warning for me. gcc 13.1.0 on Ubuntu 23.04.\r\n\r\n```\r\n./configure --enable-suppress-external-warnings --disable-fuzz-binary --without-gui\r\nmake\r\n...\r\n\r\nvalidation.cpp: In member function âPackageMempoolAcceptResult {anonymous}::MemPoolAccept::AcceptPackage(const Package&, ATMPArgs&)â:\r\nvalidation.cpp:1488:36: warning: possibly dangling reference to a temporary [-Wdangling-reference]\r\n 1488 |             const CTxMemPoolEntry& entry = Assert(m_pool.GetEntry(txid)).value();\r\n      |                                    ^~~~~\r\nvalidation.cpp:1488:80: note: the temporary was destroyed at the end of the full expression â(&(& inline_assertion_check<true, std::optional<std::reference_wrapper<const CTxMemPoolEntry> > >((&(({anonymous}::MemPoolAccept*)this)->{anonymous}::MemPoolAccept::m_pool)->CTxMemPool::GetEntry((* &(& txid)->transaction_identifier<false>::operator const uint256&())), ((const char*)\"validation.cpp\"), 1488, ((const char*)(& __func__)), ((const char*)\"m_pool.GetEntry(txid)\")))->std::optional<std::reference_wrapper<const CTxMemPoolEntry> >::value())->std::reference_wrapper<const CTxMemPoolEntry>::operator const CTxMemPoolEntry&()â\r\n 1488 |             const CTxMemPoolEntry& entry = Assert(m_pool.GetEntry(txid)).value();\r\n      |                                                                                ^\r\n```",
      "created_at" : "2023-11-06T07:52:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1794251948",
      "id" : 1794251948,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585q8hys",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1794251948/reactions"
      },
      "updated_at" : "2023-11-06T07:52:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1794251948",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1382967058"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1382967058"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ee79f05f1fef57bfbea24333a46e525385d02319: `{`",
      "commit_id" : "836a0a7566e166556f80303a9b3dd9560587159c",
      "created_at" : "2023-11-06T09:02:17Z",
      "diff_hunk" : "@@ -850,6 +850,14 @@ std::vector<TxMempoolInfo> CTxMemPool::infoAll() const\n     return ret;\n }\n \n+std::optional<CTxMemPoolEntry::CTxMemPoolEntryRef> CTxMemPool::GetEntry(const uint256& hash) const\n+{\n+    indexed_transaction_set::const_iterator i = mapTx.find(hash);\n+    if (i == mapTx.end())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1382967058",
      "id" : 1382967058,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585SbmcS",
      "original_commit_id" : "ee79f05f1fef57bfbea24333a46e525385d02319",
      "original_line" : 856,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1714571006,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1382967058/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-06T09:33:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1382967058",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1382997719"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1382997719"
         }
      },
      "author_association" : "MEMBER",
      "body" : "6b6793e6835dd2ddf367490362042bf34eb260a3: The only caller `checkChainLimits` of is the wallet's `CreateTransactionInternal`, which will say \"Transaction has too long of a mempool chain\" regardless of which limit is hit.\r\n\r\nA (wallet) followup should propagate `err_string` up.",
      "commit_id" : "836a0a7566e166556f80303a9b3dd9560587159c",
      "created_at" : "2023-11-06T09:27:40Z",
      "diff_hunk" : "@@ -702,9 +702,9 @@ class ChainImpl : public Chain\n         if (!m_node.mempool) return true;\n         LockPoints lp;\n         CTxMemPoolEntry entry(tx, 0, 0, 0, 0, false, 0, lp);\n-        const CTxMemPool::Limits& limits{m_node.mempool->m_limits};\n         LOCK(m_node.mempool->cs);\n-        return m_node.mempool->CalculateMemPoolAncestors(entry, limits).has_value();\n+        std::string err_string;\n+        return m_node.mempool->CheckPackageLimits({tx}, entry.GetTxSize(), err_string);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1382997719",
      "id" : 1382997719,
      "line" : 707,
      "node_id" : "PRRC_kwDOABII585Sbt7X",
      "original_commit_id" : "6b6793e6835dd2ddf367490362042bf34eb260a3",
      "original_line" : 707,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/node/interfaces.cpp",
      "position" : 19,
      "pull_request_review_id" : 1714571006,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1382997719/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-06T09:33:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1382997719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1383019317"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383019317"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ee79f05f1fef57bfbea24333a46e525385d02319: this fixes the dangling warning:\r\n\r\n```cpp\r\nconst CTxMemPoolEntry& entry{Assert(m_pool.GetEntry(txid)).value()};\r\n```",
      "commit_id" : "836a0a7566e166556f80303a9b3dd9560587159c",
      "created_at" : "2023-11-06T09:42:00Z",
      "diff_hunk" : "@@ -1485,9 +1485,8 @@ PackageMempoolAcceptResult MemPoolAccept::AcceptPackage(const Package& package,\n             // transactions that are already in the mempool, and only call AcceptMultipleTransactions() with\n             // the new transactions. This ensures we don't double-count transaction counts and sizes when\n             // checking ancestor/descendant limits, or double-count transaction fees for fee-related policy.\n-            auto iter = m_pool.GetIter(txid);\n-            assert(iter != std::nullopt);\n-            results_final.emplace(wtxid, MempoolAcceptResult::MempoolTx(iter.value()->GetTxSize(), iter.value()->GetFee()));\n+            const CTxMemPoolEntry& entry = Assert(m_pool.GetEntry(txid)).value();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1383019317",
      "id" : 1383019317,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585SbzM1",
      "original_commit_id" : "ee79f05f1fef57bfbea24333a46e525385d02319",
      "original_line" : 1488,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1714658621,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383019317/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-06T09:42:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383019317",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1383022517"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383022517"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, might be a good idea to bracket initialize in other places too.",
      "commit_id" : "836a0a7566e166556f80303a9b3dd9560587159c",
      "created_at" : "2023-11-06T09:44:14Z",
      "diff_hunk" : "@@ -1485,9 +1485,8 @@ PackageMempoolAcceptResult MemPoolAccept::AcceptPackage(const Package& package,\n             // transactions that are already in the mempool, and only call AcceptMultipleTransactions() with\n             // the new transactions. This ensures we don't double-count transaction counts and sizes when\n             // checking ancestor/descendant limits, or double-count transaction fees for fee-related policy.\n-            auto iter = m_pool.GetIter(txid);\n-            assert(iter != std::nullopt);\n-            results_final.emplace(wtxid, MempoolAcceptResult::MempoolTx(iter.value()->GetTxSize(), iter.value()->GetFee()));\n+            const CTxMemPoolEntry& entry = Assert(m_pool.GetEntry(txid)).value();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1383022517",
      "id" : 1383022517,
      "in_reply_to_id" : 1383019317,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Sbz-1",
      "original_commit_id" : "ee79f05f1fef57bfbea24333a46e525385d02319",
      "original_line" : 1488,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1714663572,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383022517/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-06T09:44:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383022517",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated a20c1d2b81a702f97267d4f098f13ed80e9320cf -> 836a0a7566e166556f80303a9b3dd9560587159c ([simplifyMemPoolInteractions_7](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_7) -> [simplifyMemPoolInteractions_8](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_8),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_7..simplifyMemPoolInteractions_8))\r\n\r\n* Addressed @Sjors's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1382967058), adding brackets to if statement\r\n* Applied @Sjors's [patch](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1383019317) and also bracket initialize some other vars.",
      "created_at" : "2023-11-06T10:29:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1794513714",
      "id" : 1794513714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585q9hsy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1794513714/reactions"
      },
      "updated_at" : "2023-11-06T10:29:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1794513714",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 836a0a7566e166556f80303a9b3dd9560587159c -> 11b8735852bd7439c4a07c88d07d7dfb13a3c7b7 ([simplifyMemPoolInteractions_8](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_8) -> [simplifyMemPoolInteractions_9](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_9),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_8..simplifyMemPoolInteractions_9))\r\n\r\n* Fixed msvc build error by using `auto` instead of `CTxMemPoolEntry&`, which led to implicit conversions.",
      "created_at" : "2023-11-06T11:04:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1794571887",
      "id" : 1794571887,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585q9v5v",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1794571887/reactions"
      },
      "updated_at" : "2023-11-06T11:05:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1794571887",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1383242173"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383242173"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    CTxMemPoolEntry* GetEntry(const uint256& hash) const LIFETIMEBOUND EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n```\r\n\r\nInstead of optional ref, could just use a pointer?",
      "commit_id" : "66a4c881e3387b55b26cd2a890bd0d5d522c6727",
      "created_at" : "2023-11-06T12:16:34Z",
      "diff_hunk" : "@@ -684,6 +684,8 @@ class CTxMemPool\n         return (mapTx.count(gtxid.GetHash()) != 0);\n     }\n \n+    std::optional<CTxMemPoolEntry::CTxMemPoolEntryRef> GetEntry(const uint256& hash) const LIFETIMEBOUND EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1383242173",
      "id" : 1383242173,
      "line" : 687,
      "node_id" : "PRRC_kwDOABII585Scpm9",
      "original_commit_id" : "11b8735852bd7439c4a07c88d07d7dfb13a3c7b7",
      "original_line" : 687,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 13,
      "pull_request_review_id" : 1715025450,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383242173/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-06T12:16:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383242173",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1383268650"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383268650"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah, I thought this would better convey its semantics, but with all the force pushes over the past two hours, it seems like it is not intuitive to work with, so I'll revert to using a pointer.",
      "commit_id" : "66a4c881e3387b55b26cd2a890bd0d5d522c6727",
      "created_at" : "2023-11-06T12:40:43Z",
      "diff_hunk" : "@@ -684,6 +684,8 @@ class CTxMemPool\n         return (mapTx.count(gtxid.GetHash()) != 0);\n     }\n \n+    std::optional<CTxMemPoolEntry::CTxMemPoolEntryRef> GetEntry(const uint256& hash) const LIFETIMEBOUND EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1383268650",
      "id" : 1383268650,
      "in_reply_to_id" : 1383242173,
      "line" : 687,
      "node_id" : "PRRC_kwDOABII585ScwEq",
      "original_commit_id" : "11b8735852bd7439c4a07c88d07d7dfb13a3c7b7",
      "original_line" : 687,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 13,
      "pull_request_review_id" : 1715067953,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383268650/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-06T12:40:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1383268650",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 66a4c881e3387b55b26cd2a890bd0d5d522c6727 -> 995aa6b9cb5d1ea685a5d2ac6767d21b373e4c84 ([simplifyMemPoolInteractions_9](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_9) -> [simplifyMemPoolInteractions_10](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_10),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_9..simplifyMemPoolInteractions_10))\r\n\r\n* Addressed @maflcko's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1383242173), changed to`CTxMemPoolEntry* GetEntry(...)`.",
      "created_at" : "2023-11-06T13:59:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1794886627",
      "id" : 1794886627,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585q-8vj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1794886627/reactions"
      },
      "updated_at" : "2023-11-06T13:59:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1794886627",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386552287"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386552287"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\r\nAssert?\r\n```suggestion\r\n    AssertLockHeld(cs);\r\n    indexed_transaction_set::const_iterator i = mapTx.find(hash);\r\n```",
      "commit_id" : "995aa6b9cb5d1ea685a5d2ac6767d21b373e4c84",
      "created_at" : "2023-11-08T12:39:47Z",
      "diff_hunk" : "@@ -850,6 +850,15 @@ std::vector<TxMempoolInfo> CTxMemPool::infoAll() const\n     return ret;\n }\n \n+const CTxMemPoolEntry* CTxMemPool::GetEntry(const uint256& hash) const\n+{\n+    indexed_transaction_set::const_iterator i = mapTx.find(hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386552287",
      "id" : 1386552287,
      "line" : 857,
      "node_id" : "PRRC_kwDOABII585SpRvf",
      "original_commit_id" : "6903d8aa37e01d16aea0b53c3729f8f92c7d2bf0",
      "original_line" : 855,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 41,
      "pull_request_review_id" : 1720237245,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386552287/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-08T13:25:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386552287",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386609897"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386609897"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit\r\nhttps://github.com/bitcoin/bitcoin/blob/6903d8aa37e01d16aea0b53c3729f8f92c7d2bf0/src/test/miniminer_tests.cpp#L97\r\nCan also be\r\n```cpp        \r\nBOOST_CHECK(negative_modified_fees < feerate_zero.GetFee(pool.GetEntry(tx_mod_negative->GetHash())->GetTxSize()));\r\n```",
      "commit_id" : "995aa6b9cb5d1ea685a5d2ac6767d21b373e4c84",
      "created_at" : "2023-11-08T13:19:23Z",
      "diff_hunk" : "@@ -179,9 +179,9 @@ BOOST_FIXTURE_TEST_CASE(miniminer_1p1c, TestChain100Setup)\n     };",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386609897",
      "id" : 1386609897,
      "line" : 179,
      "node_id" : "PRRC_kwDOABII585Spfzp",
      "original_commit_id" : "6903d8aa37e01d16aea0b53c3729f8f92c7d2bf0",
      "original_line" : 179,
      "original_position" : 1,
      "original_start_line" : null,
      "path" : "src/test/miniminer_tests.cpp",
      "position" : 1,
      "pull_request_review_id" : 1720237245,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386609897/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-08T13:25:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386609897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386805310"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386805310"
         }
      },
      "author_association" : "MEMBER",
      "body" : "6903d8aa37e01d16aea0b53c3729f8f92c7d2bf0\r\nCould you use `Txid` instead? or `GenTxid`",
      "commit_id" : "995aa6b9cb5d1ea685a5d2ac6767d21b373e4c84",
      "created_at" : "2023-11-08T15:29:11Z",
      "diff_hunk" : "@@ -684,6 +684,8 @@ class CTxMemPool\n         return (mapTx.count(gtxid.GetHash()) != 0);\n     }\n \n+    const CTxMemPoolEntry* GetEntry(const uint256& hash) const LIFETIMEBOUND EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386805310",
      "id" : 1386805310,
      "line" : 687,
      "node_id" : "PRRC_kwDOABII585SqPg-",
      "original_commit_id" : "6903d8aa37e01d16aea0b53c3729f8f92c7d2bf0",
      "original_line" : 687,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 13,
      "pull_request_review_id" : 1720647559,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386805310/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-08T15:38:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386805310",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386815017"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386815017"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Wow TIL there's a `get`!",
      "commit_id" : "995aa6b9cb5d1ea685a5d2ac6767d21b373e4c84",
      "created_at" : "2023-11-08T15:34:50Z",
      "diff_hunk" : "@@ -62,7 +62,7 @@ BOOST_AUTO_TEST_CASE(SimpleRoundTripTest)\n \n     LOCK2(cs_main, pool.cs);\n     pool.addUnchecked(entry.FromTx(block.vtx[2]));\n-    BOOST_CHECK_EQUAL(pool.mapTx.find(block.vtx[2]->GetHash())->GetSharedTx().use_count(), SHARED_TX_OFFSET + 0);\n+    BOOST_CHECK_EQUAL(pool.get(block.vtx[2]->GetHash()).use_count(), SHARED_TX_OFFSET + 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386815017",
      "id" : 1386815017,
      "line" : 65,
      "node_id" : "PRRC_kwDOABII585SqR4p",
      "original_commit_id" : "b7fa64593e1d57b0888bb5ec59efb1483bd48608",
      "original_line" : 65,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/blockencodings_tests.cpp",
      "position" : 16,
      "pull_request_review_id" : 1720647559,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386815017/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-08T15:38:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386815017",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386820528"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386820528"
         }
      },
      "author_association" : "MEMBER",
      "body" : "aedfef28af6e8c5bd8833fb63e2ef4f3264f934c\r\ncould use `Txid` for this as well",
      "commit_id" : "995aa6b9cb5d1ea685a5d2ac6767d21b373e4c84",
      "created_at" : "2023-11-08T15:37:41Z",
      "diff_hunk" : "@@ -142,7 +142,7 @@ class BlockAssembler\n     uint64_t nBlockTx;\n     uint64_t nBlockSigOpsCost;\n     CAmount nFees;\n-    CTxMemPool::setEntries inBlock;\n+    std::unordered_set<uint256, SaltedTxidHasher> inBlock;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386820528",
      "id" : 1386820528,
      "line" : 145,
      "node_id" : "PRRC_kwDOABII585SqTOw",
      "original_commit_id" : "aedfef28af6e8c5bd8833fb63e2ef4f3264f934c",
      "original_line" : 145,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/node/miner.h",
      "position" : 5,
      "pull_request_review_id" : 1720647559,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386820528/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-08T15:38:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386820528",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386821034"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386821034"
         }
      },
      "author_association" : "MEMBER",
      "body" : "same, should be `Txid`",
      "commit_id" : "995aa6b9cb5d1ea685a5d2ac6767d21b373e4c84",
      "created_at" : "2023-11-08T15:37:54Z",
      "diff_hunk" : "@@ -298,7 +298,7 @@ void BlockAssembler::addPackageTxs(const CTxMemPool& mempool, int& nPackagesSele\n     // because some of their txs are already in the block\n     indexed_modified_transaction_set mapModifiedTx;\n     // Keep track of entries that failed inclusion, to avoid duplicate work\n-    CTxMemPool::setEntries failedTx;\n+    std::set<uint256> failedTx;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386821034",
      "id" : 1386821034,
      "line" : 301,
      "node_id" : "PRRC_kwDOABII585SqTWq",
      "original_commit_id" : "aedfef28af6e8c5bd8833fb63e2ef4f3264f934c",
      "original_line" : 301,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/node/miner.cpp",
      "position" : 23,
      "pull_request_review_id" : 1720647559,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386821034/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-08T15:43:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1386821034",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 995aa6b9cb5d1ea685a5d2ac6767d21b373e4c84 -> 3e7595b11bdad260efb39adc42677ed0beae186d ([simplifyMemPoolInteractions_10](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_10) -> [simplifyMemPoolInteractions_11](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_11),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_10..simplifyMemPoolInteractions_11))\r\n\r\n* Addressed @ismaelsadeeq's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386552287), adding lock assertion.\r\n* Addressed @ismaelsadeeq's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386609897), applying suggestion replacing `GetIter` with `GetEntry`.\r\n* Addressed @glozow's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386805310), making `GetEntry` accept a `Txid` type.\r\n* Addressed @glozow's [comment_1](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386820528) and [comment_2](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1386821034), applying the `Txid` type to the `inBlock` and `failedTx` containers.",
      "created_at" : "2023-11-08T18:25:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1802426556",
      "id" : 1802426556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585rbti8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1802426556/reactions"
      },
      "updated_at" : "2023-11-08T18:25:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1802426556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387067811"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387067811"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit 65c4b3bac0894dfdf7e1c756697f9dd0da1f97e7: don't need to go to uint256 and back again\r\n```suggestion\r\n            const Txid& hash = txinfo.tx->GetHash();\r\n            const auto entry{pool.GetEntry(hash)};\r\n```",
      "commit_id" : "3e7595b11bdad260efb39adc42677ed0beae186d",
      "created_at" : "2023-11-08T18:54:13Z",
      "diff_hunk" : "@@ -344,10 +343,12 @@ UniValue MempoolToJSON(const CTxMemPool& pool, bool verbose, bool include_mempoo\n         }\n         LOCK(pool.cs);\n         UniValue o(UniValue::VOBJ);\n-        for (const CTxMemPoolEntry& e : pool.mapTx) {\n-            const uint256& hash = e.GetTx().GetHash();\n+        for (const auto& txinfo : pool.infoAll()) {\n+            const uint256& hash = txinfo.tx->GetHash();\n+            const auto entry{pool.GetEntry(Txid::FromUint256(hash))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387067811",
      "id" : 1387067811,
      "line" : 348,
      "node_id" : "PRRC_kwDOABII585SrPmj",
      "original_commit_id" : "65c4b3bac0894dfdf7e1c756697f9dd0da1f97e7",
      "original_line" : 348,
      "original_position" : 18,
      "original_start_line" : 347,
      "path" : "src/rpc/mempool.cpp",
      "position" : 27,
      "pull_request_review_id" : 1721061557,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387067811/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 347,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-11-08T18:57:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387067811",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 3e7595b11bdad260efb39adc42677ed0beae186d -> 2be5e799ba623f969f5ffc59667a5bc6799df290 ([simplifyMemPoolInteractions_11](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_11) -> [simplifyMemPoolInteractions_12](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_12),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_11..simplifyMemPoolInteractions_12))\r\n\r\n* Addressed @glozow's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387067811), dropping redundant conversion.",
      "created_at" : "2023-11-08T22:29:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1802781216",
      "id" : 1802781216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585rdEIg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1802781216/reactions"
      },
      "updated_at" : "2023-11-08T22:29:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1802781216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "reACK 2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T09:27:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1803462865",
      "id" : 1803462865,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585rfqjR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1803462865/reactions"
      },
      "updated_at" : "2023-11-09T09:27:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1803462865",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387904513"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387904513"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: could simplify\r\n\r\n```suggestion\r\n            const auto entry{CHECK_NONFATAL(pool.GetEntry(hash))};\r\n```",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T12:00:35Z",
      "diff_hunk" : "@@ -344,10 +343,12 @@ UniValue MempoolToJSON(const CTxMemPool& pool, bool verbose, bool include_mempoo\n         }\n         LOCK(pool.cs);\n         UniValue o(UniValue::VOBJ);\n-        for (const CTxMemPoolEntry& e : pool.mapTx) {\n-            const uint256& hash = e.GetTx().GetHash();\n+        for (const auto& txinfo : pool.infoAll()) {\n+            const Txid& hash = txinfo.tx->GetHash();\n+            const auto entry{pool.GetEntry(hash)};\n+            CHECK_NONFATAL(entry != nullptr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387904513",
      "id" : 1387904513,
      "line" : 349,
      "node_id" : "PRRC_kwDOABII585Sub4B",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 349,
      "original_position" : 28,
      "original_start_line" : 348,
      "path" : "src/rpc/mempool.cpp",
      "position" : 28,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387904513/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 348,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387904513",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387907915"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387907915"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: one-liners seem appropriate? (+ [here](https://github.com/bitcoin/bitcoin/pull/28391/files#diff-97c3a52bc5fad452d82670a7fd291800bae20c7bc35bb82686c2c0a4ea7b5b98R1487), [here](https://github.com/bitcoin/bitcoin/pull/28391/files#diff-97c3a52bc5fad452d82670a7fd291800bae20c7bc35bb82686c2c0a4ea7b5b98R1498))\r\n```suggestion\r\n    const auto entry{Assert(pool.GetEntry(tx.GetHash()))};\r\n```",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T12:04:02Z",
      "diff_hunk" : "@@ -35,8 +36,9 @@ RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool)\n \n     // If all the inputs have nSequence >= maxint-1, it still might be\n     // signaled for RBF if any unconfirmed parents have signaled.\n-    const CTxMemPoolEntry entry{*pool.mapTx.find(tx.GetHash())};\n-    auto ancestors{pool.AssumeCalculateMemPoolAncestors(__func__, entry, CTxMemPool::Limits::NoLimits(),\n+    const auto entry{pool.GetEntry(tx.GetHash())};\n+    Assert(entry != nullptr);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387907915",
      "id" : 1387907915,
      "line" : 40,
      "node_id" : "PRRC_kwDOABII585SuctL",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 40,
      "original_position" : 15,
      "original_start_line" : 39,
      "path" : "src/policy/rbf.cpp",
      "position" : 15,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387907915/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 39,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387907915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387913882"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387913882"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: I think a brief rationale behind why we need this change would be good to add to the commit message of \"[refactor] rewrite vTxHashes as a vector of CTransactionRef\"",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T12:10:06Z",
      "diff_hunk" : "@@ -392,7 +392,7 @@ class CTxMemPool\n     indexed_transaction_set mapTx GUARDED_BY(cs);\n \n     using txiter = indexed_transaction_set::nth_index<0>::type::const_iterator;\n-    std::vector<std::pair<uint256, txiter>> vTxHashes GUARDED_BY(cs); //!< All tx witness hashes/entries in mapTx, in random order\n+    std::vector<CTransactionRef> txns_randomized GUARDED_BY(cs); //!< All transactions in mapTx, in random order",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387913882",
      "id" : 1387913882,
      "line" : 395,
      "node_id" : "PRRC_kwDOABII585SueKa",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 395,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 5,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387913882/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387913882",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387920369"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387920369"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: Given that we're doing not any meaninful operations with `i` I think using `auto` makes sense, and the ternary operator also seems appropriate here, simplifying this to:\r\n\r\n```suggestion\r\n    const auto i{mapTx.find(txid)};\r\n    return i == mapTx.end() ? nullptr : &(*i);\r\n```",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T12:16:27Z",
      "diff_hunk" : "@@ -850,6 +852,16 @@ std::vector<TxMempoolInfo> CTxMemPool::infoAll() const\n     return ret;\n }\n \n+const CTxMemPoolEntry* CTxMemPool::GetEntry(const Txid& txid) const\n+{\n+    AssertLockHeld(cs);\n+    indexed_transaction_set::const_iterator i = mapTx.find(txid);\n+    if (i == mapTx.end()) {\n+        return nullptr;\n+    }\n+    return &*i;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387920369",
      "id" : 1387920369,
      "line" : 862,
      "node_id" : "PRRC_kwDOABII585Sufvx",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 862,
      "original_position" : 46,
      "original_start_line" : 858,
      "path" : "src/txmempool.cpp",
      "position" : 46,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387920369/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 858,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387920369",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387927635"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387927635"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This seems like a slight regression: `tx3_iter.value()` would throw if the hash was not found, whereas `tx3_entry->GetSizeWithAncestors()` is UB. I think it would be good to add inline `Assert`s to the entry initialization (and add list initialization while you're at it)?\r\n\r\n```cpp\r\nconst auto tx3_entry{Assert(pool.GetEntry(tx3->GetHash()))};\r\n```\r\n\r\nSimilar concerns [here](https://github.com/bitcoin/bitcoin/pull/28391/files#diff-e9d32ba5cee0e31252a337dda9c2272152be7e9798601e62c2d042dccf79f7c1R97) and [here](https://github.com/bitcoin/bitcoin/pull/28391/files#diff-e9d32ba5cee0e31252a337dda9c2272152be7e9798601e62c2d042dccf79f7c1R183-R184).",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T12:23:33Z",
      "diff_hunk" : "@@ -447,15 +447,15 @@ BOOST_FIXTURE_TEST_CASE(miniminer_overlap, TestChain100Setup)\n     // tx3's feerate is lower than tx2's. same fee, different weight.\n     BOOST_CHECK(tx2_feerate > tx3_feerate);\n     const auto tx3_anc_feerate = CFeeRate(low_fee + med_fee + high_fee + high_fee, tx_vsizes[0] + tx_vsizes[1] + tx_vsizes[2] + tx_vsizes[3]);\n-    const auto tx3_iter = pool.GetIter(tx3->GetHash());\n-    BOOST_CHECK(tx3_anc_feerate == CFeeRate(tx3_iter.value()->GetModFeesWithAncestors(), tx3_iter.value()->GetSizeWithAncestors()));\n+    const auto tx3_entry = pool.GetEntry(tx3->GetHash());\n+    BOOST_CHECK(tx3_anc_feerate == CFeeRate(tx3_entry->GetModFeesWithAncestors(), tx3_entry->GetSizeWithAncestors()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387927635",
      "id" : 1387927635,
      "line" : 451,
      "node_id" : "PRRC_kwDOABII585SuhhT",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 451,
      "original_position" : 29,
      "original_start_line" : 450,
      "path" : "src/test/miniminer_tests.cpp",
      "position" : 29,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387927635/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 450,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387927635",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387953875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387953875"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's probably not too important, but this is a bit of a performance and memory regression to construct the vector of `TxMempoolInfo` when really we only need the underlying txref.\r\n\r\nI think it could make sense to add `std::vector<const CTxMemPoolEntry*> entryAll() const EXCLUSIVE_LOCKS_REQUIRED(cs);` to reduce memory and computational overhead and as a bonus make the code a bit easier to read when we just want to iterate over the mempool entries?\r\n\r\n<details>\r\n<summary>git diff on 2be5e799ba</summary>\r\n\r\n```diff\r\ndiff --git a/src/node/interfaces.cpp b/src/node/interfaces.cpp\r\nindex a73530c142..155546c3a1 100644\r\n--- a/src/node/interfaces.cpp\r\n+++ b/src/node/interfaces.cpp\r\n@@ -807,8 +807,8 @@ public:\r\n     {\r\n         if (!m_node.mempool) return;\r\n         LOCK2(::cs_main, m_node.mempool->cs);\r\n-        for (const auto& txinfo : m_node.mempool->infoAll()) {\r\n-            notifications.transactionAddedToMempool(txinfo.tx);\r\n+        for (const auto& entry : m_node.mempool->entryAll()) {\r\n+            notifications.transactionAddedToMempool(Assert(entry)->GetSharedTx());\r\n         }\r\n     }\r\n     bool hasAssumedValidChain() override\r\ndiff --git a/src/rpc/mempool.cpp b/src/rpc/mempool.cpp\r\nindex 4093eb99af..82fe394b45 100644\r\n--- a/src/rpc/mempool.cpp\r\n+++ b/src/rpc/mempool.cpp\r\n@@ -343,16 +343,13 @@ UniValue MempoolToJSON(const CTxMemPool& pool, bool verbose, bool include_mempoo\r\n         }\r\n         LOCK(pool.cs);\r\n         UniValue o(UniValue::VOBJ);\r\n-        for (const auto& txinfo : pool.infoAll()) {\r\n-            const Txid& hash = txinfo.tx->GetHash();\r\n-            const auto entry{pool.GetEntry(hash)};\r\n-            CHECK_NONFATAL(entry != nullptr);\r\n+        for (const auto& entry : pool.entryAll()) {\r\n             UniValue info(UniValue::VOBJ);\r\n-            entryToJSON(pool, info, *entry);\r\n+            entryToJSON(pool, info, *CHECK_NONFATAL(entry));\r\n             // Mempool has unique entries so there is no advantage in using\r\n             // UniValue::pushKV, which checks if the key already exists in O(N).\r\n             // UniValue::pushKVEnd is used instead which currently is O(1).\r\n-            o.pushKVEnd(hash.ToString(), info);\r\n+            o.pushKVEnd(entry->GetTx().ToString(), info);\r\n         }\r\n         return o;\r\n     } else {\r\ndiff --git a/src/txmempool.cpp b/src/txmempool.cpp\r\nindex 684116c011..542c904a1a 100644\r\n--- a/src/txmempool.cpp\r\n+++ b/src/txmempool.cpp\r\n@@ -838,6 +838,20 @@ static TxMempoolInfo GetInfo(CTxMemPool::indexed_transaction_set::const_iterator\r\n     return TxMempoolInfo{it->GetSharedTx(), it->GetTime(), it->GetFee(), it->GetTxSize(), it->GetModifiedFee() - it->GetFee()};\r\n }\r\n \r\n+std::vector<const CTxMemPoolEntry*> CTxMemPool::entryAll() const\r\n+{\r\n+    AssertLockHeld(cs);\r\n+    auto iters{GetSortedDepthAndScore()};\r\n+\r\n+    std::vector<const CTxMemPoolEntry*> ret;\r\n+    ret.reserve(mapTx.size());\r\n+    for (const auto& it : iters) {\r\n+        ret.push_back(&(*it));\r\n+    }\r\n+\r\n+    return ret;\r\n+}\r\n+\r\n std::vector<TxMempoolInfo> CTxMemPool::infoAll() const\r\n {\r\n     LOCK(cs);\r\ndiff --git a/src/txmempool.h b/src/txmempool.h\r\nindex e15b2972a4..7eb205b2df 100644\r\n--- a/src/txmempool.h\r\n+++ b/src/txmempool.h\r\n@@ -697,6 +697,7 @@ public:\r\n     /** Returns info for a transaction if its entry_sequence < last_sequence */\r\n     TxMempoolInfo info_for_relay(const GenTxid& gtxid, uint64_t last_sequence) const;\r\n \r\n+    std::vector<const CTxMemPoolEntry*> entryAll() const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n     std::vector<TxMempoolInfo> infoAll() const;\r\n \r\n     size_t DynamicMemoryUsage() const;\r\n\r\n```\r\n</details>\r\n",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T12:48:14Z",
      "diff_hunk" : "@@ -806,8 +807,8 @@ class ChainImpl : public Chain\n     {\n         if (!m_node.mempool) return;\n         LOCK2(::cs_main, m_node.mempool->cs);\n-        for (const CTxMemPoolEntry& entry : m_node.mempool->mapTx) {\n-            notifications.transactionAddedToMempool(entry.GetSharedTx());\n+        for (const auto& txinfo : m_node.mempool->infoAll()) {\n+            notifications.transactionAddedToMempool(txinfo.tx);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387953875",
      "id" : 1387953875,
      "line" : 811,
      "node_id" : "PRRC_kwDOABII585Sun7T",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 811,
      "original_position" : 31,
      "original_start_line" : 809,
      "path" : "src/node/interfaces.cpp",
      "position" : 31,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387953875/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 809,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1387953875",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388011828"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388011828"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: can simplify\r\n```suggestion\r\n    for (const auto& child : e.GetMemPoolChildrenConst()) {\r\n```",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T13:36:49Z",
      "diff_hunk" : "@@ -315,8 +315,7 @@ static void entryToJSON(const CTxMemPool& pool, UniValue& info, const CTxMemPool\n     info.pushKV(\"depends\", depends);\n \n     UniValue spent(UniValue::VARR);\n-    const CTxMemPool::txiter& it = pool.mapTx.find(tx.GetHash());\n-    const CTxMemPoolEntry::Children& children = it->GetMemPoolChildrenConst();\n+    const CTxMemPoolEntry::Children& children{e.GetMemPoolChildrenConst()};\n     for (const CTxMemPoolEntry& child : children) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388011828",
      "id" : 1388011828,
      "line" : 319,
      "node_id" : "PRRC_kwDOABII585Su2E0",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 319,
      "original_position" : 16,
      "original_start_line" : 318,
      "path" : "src/rpc/mempool.cpp",
      "position" : 16,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388011828/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 318,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388011828",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388021604"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388021604"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: not a regression, but using `.value()` seems safer (also for `tx7`, `tx8`, `tx9` further down)\r\n```suggestion\r\n    setAncestors.insert(pool.GetIter(tx6.GetHash()).value());\r\n```",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T13:43:52Z",
      "diff_hunk" : "@@ -191,7 +191,7 @@ BOOST_AUTO_TEST_CASE(MempoolIndexingTest)\n     CheckSort<descendant_score>(pool, sortedOrder);\n \n     CTxMemPool::setEntries setAncestors;\n-    setAncestors.insert(pool.mapTx.find(tx6.GetHash()));\n+    setAncestors.insert(*pool.GetIter(tx6.GetHash()));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388021604",
      "id" : 1388021604,
      "line" : 194,
      "node_id" : "PRRC_kwDOABII585Su4dk",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 194,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/mempool_tests.cpp",
      "position" : 5,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388021604/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388021604",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388039482"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388039482"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: I think we can just directly use `GetIter`?\r\n\r\n```suggestion\r\n        GetIter(txns_randomized.back()->GetHash()).value()->idx_randomized = it->idx_randomized;\r\n```",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T13:57:27Z",
      "diff_hunk" : "@@ -517,14 +517,16 @@ void CTxMemPool::removeUnchecked(txiter it, MemPoolRemovalReason reason)\n \n     RemoveUnbroadcastTx(hash, true /* add logging because unchecked */ );\n \n-    if (vTxHashes.size() > 1) {\n-        vTxHashes[it->vTxHashesIdx] = std::move(vTxHashes.back());\n-        vTxHashes[it->vTxHashesIdx].second->vTxHashesIdx = it->vTxHashesIdx;\n-        vTxHashes.pop_back();\n-        if (vTxHashes.size() * 2 < vTxHashes.capacity())\n-            vTxHashes.shrink_to_fit();\n+    if (txns_randomized.size() > 1) {\n+        // Update idx_randomized of the to-be-moved entry.\n+        get_iter_from_wtxid(txns_randomized.back()->GetWitnessHash())->idx_randomized = it->idx_randomized;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388039482",
      "id" : 1388039482,
      "line" : 522,
      "node_id" : "PRRC_kwDOABII585Su806",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 522,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 23,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388039482/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388039482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388044605"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388044605"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit (although I realize this diff is from a scripted-diff, so may not be worth updating here)\r\n```suggestion\r\n    for (const auto& tx : pool->txns_randomized) {\r\n```",
      "commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "created_at" : "2023-11-09T14:00:18Z",
      "diff_hunk" : "@@ -107,12 +107,13 @@ ReadStatus PartiallyDownloadedBlock::InitData(const CBlockHeaderAndShortTxIDs& c\n     std::vector<bool> have_txn(txn_available.size());\n     {\n     LOCK(pool->cs);\n-    for (size_t i = 0; i < pool->vTxHashes.size(); i++) {\n-        uint64_t shortid = cmpctblock.GetShortID(pool->vTxHashes[i].first);\n+    for (size_t i = 0; i < pool->txns_randomized.size(); i++) {\n+        const auto& tx = pool->txns_randomized[i];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388044605",
      "id" : 1388044605,
      "line" : 111,
      "node_id" : "PRRC_kwDOABII585Su-E9",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 111,
      "original_position" : 7,
      "original_start_line" : 110,
      "path" : "src/blockencodings.cpp",
      "position" : 7,
      "pull_request_review_id" : 1624659971,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388044605/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 110,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-11-09T14:10:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388044605",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388299672"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388299672"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Helpers are good, so I'll add this patch as a  separate commit.",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-09T17:01:22Z",
      "diff_hunk" : "@@ -806,8 +807,8 @@ class ChainImpl : public Chain\n     {\n         if (!m_node.mempool) return;\n         LOCK2(::cs_main, m_node.mempool->cs);\n-        for (const CTxMemPoolEntry& entry : m_node.mempool->mapTx) {\n-            notifications.transactionAddedToMempool(entry.GetSharedTx());\n+        for (const auto& txinfo : m_node.mempool->infoAll()) {\n+            notifications.transactionAddedToMempool(txinfo.tx);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388299672",
      "id" : 1388299672,
      "in_reply_to_id" : 1387953875,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Sv8WY",
      "original_commit_id" : "2be5e799ba623f969f5ffc59667a5bc6799df290",
      "original_line" : 811,
      "original_position" : 31,
      "original_start_line" : 809,
      "path" : "src/node/interfaces.cpp",
      "position" : null,
      "pull_request_review_id" : 1723086750,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388299672/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-11-09T17:01:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1388299672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you for the review @stickies-v!\r\n\r\nUpdated 2be5e799ba623f969f5ffc59667a5bc6799df290 -> f2d8e17851da215d0b85ffad9d80e50eb7b2b363 ([simplifyMemPoolInteractions_12](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_12) -> [simplifyMemPoolInteractions_13](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_13),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_12..simplifyMemPoolInteractions_13))\r\n\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387953875), adding a new first commit implementing the suggested patch for a more efficient helper method for iterating through mempool transactions. The affected lines now retrieve a vector of `CTxMemPoolEntry*` through this new `entryAll()` instead of calling `infoAll()`.\r\n* Addressed @stickies-v's [comment_1](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387904513), [comment_2](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387907915), [comment_3](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387927635), making assertion checks more compact and adding some in the tests for clarity where required.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387913882), adding a brief rationale to the message of the commit introducing `vTxHashes` as a vector of `CTransactionRef`.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1387920369), making `GetEntry` method body more concise.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388011828), simplifying looping over `GetMemPoolChildrenConst()`.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388021604), explicitly calling `value()` on the option returned by `GetIter(...)`.\r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388039482), replacing the `get_iter_from_wtxid` call in `removeUnchecked` with the more widely used `GetIter`. \r\n* Addressed @stickies-v's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1388044605), replacing the for loop iterating over `txns_randomized` in `blockencodings.cpp` with a range based for loop.",
      "created_at" : "2023-11-09T20:57:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1804674780",
      "id" : 1804674780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585rkSbc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1804674780/reactions"
      },
      "updated_at" : "2023-11-09T22:11:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1804674780",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389223982"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389223982"
         }
      },
      "author_association" : "MEMBER",
      "body" : "first commit: I think here the result can not be nullptr, so a reference makes more sense, no?\r\n\r\ndiff:\r\n\r\n```diff\r\ndiff --git a/src/node/interfaces.cpp b/src/node/interfaces.cpp\r\nindex e019ab9595..3930280797 100644\r\n--- a/src/node/interfaces.cpp\r\n+++ b/src/node/interfaces.cpp\r\n@@ -806,8 +806,8 @@ public:\r\n     {\r\n         if (!m_node.mempool) return;\r\n         LOCK2(::cs_main, m_node.mempool->cs);\r\n-        for (const auto& entry : m_node.mempool->entryAll()) {\r\n-            notifications.transactionAddedToMempool(Assert(entry)->GetSharedTx());\r\n+        for (const CTxMemPoolEntry& entry : m_node.mempool->entryAll()) {\r\n+            notifications.transactionAddedToMempool(entry.GetSharedTx());\r\n         }\r\n     }\r\n     bool hasAssumedValidChain() override\r\ndiff --git a/src/rpc/mempool.cpp b/src/rpc/mempool.cpp\r\nindex 3767ae0b5d..dc21385a3d 100644\r\n--- a/src/rpc/mempool.cpp\r\n+++ b/src/rpc/mempool.cpp\r\n@@ -345,13 +345,13 @@ UniValue MempoolToJSON(const CTxMemPool& pool, bool verbose, bool include_mempoo\r\n         }\r\n         LOCK(pool.cs);\r\n         UniValue o(UniValue::VOBJ);\r\n-        for (const auto& e : pool.entryAll()) {\r\n+        for (const CTxMemPoolEntry& e : pool.entryAll()) {\r\n             UniValue info(UniValue::VOBJ);\r\n-            entryToJSON(pool, info, *CHECK_NONFATAL(e));\r\n+            entryToJSON(pool, info, e);\r\n             // Mempool has unique entries so there is no advantage in using\r\n             // UniValue::pushKV, which checks if the key already exists in O(N).\r\n             // UniValue::pushKVEnd is used instead which currently is O(1).\r\n-            o.pushKVEnd(e->GetTx().GetHash().ToString(), info);\r\n+            o.pushKVEnd(e.GetTx().GetHash().ToString(), info);\r\n         }\r\n         return o;\r\n     } else {\r\ndiff --git a/src/txmempool.cpp b/src/txmempool.cpp\r\nindex 3698374c26..e5347cbf06 100644\r\n--- a/src/txmempool.cpp\r\n+++ b/src/txmempool.cpp\r\n@@ -836,16 +836,15 @@ static TxMempoolInfo GetInfo(CTxMemPool::indexed_transaction_set::const_iterator\r\n     return TxMempoolInfo{it->GetSharedTx(), it->GetTime(), it->GetFee(), it->GetTxSize(), it->GetModifiedFee() - it->GetFee()};\r\n }\r\n \r\n-std::vector<const CTxMemPoolEntry*> CTxMemPool::entryAll() const\r\n+std::vector<std::reference_wrapper<const CTxMemPoolEntry>> CTxMemPool::entryAll() const\r\n {\r\n     AssertLockHeld(cs);\r\n \r\n-    std::vector<const CTxMemPoolEntry*> ret;\r\n+    std::vector<std::reference_wrapper<const CTxMemPoolEntry>> ret;\r\n     ret.reserve(mapTx.size());\r\n     for (const auto& it : GetSortedDepthAndScore()) {\r\n-        ret.push_back(&(*it));\r\n+        ret.push_back(*it);\r\n     }\r\n-\r\n     return ret;\r\n }\r\n \r\ndiff --git a/src/txmempool.h b/src/txmempool.h\r\nindex a4ba2c4db2..c58dbadd83 100644\r\n--- a/src/txmempool.h\r\n+++ b/src/txmempool.h\r\n@@ -695,7 +695,7 @@ public:\r\n     /** Returns info for a transaction if its entry_sequence < last_sequence */\r\n     TxMempoolInfo info_for_relay(const GenTxid& gtxid, uint64_t last_sequence) const;\r\n \r\n-    std::vector<const CTxMemPoolEntry*> entryAll() const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n+    std::vector<std::reference_wrapper<const CTxMemPoolEntry>> entryAll() const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n     std::vector<TxMempoolInfo> infoAll() const;\r\n \r\n     size_t DynamicMemoryUsage() const;\r\n",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T10:34:21Z",
      "diff_hunk" : "@@ -695,6 +697,7 @@ class CTxMemPool\n     /** Returns info for a transaction if its entry_sequence < last_sequence */\n     TxMempoolInfo info_for_relay(const GenTxid& gtxid, uint64_t last_sequence) const;\n \n+    std::vector<const CTxMemPoolEntry*> entryAll() const EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389223982",
      "id" : 1389223982,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585SzeAu",
      "original_commit_id" : "f2d8e17851da215d0b85ffad9d80e50eb7b2b363",
      "original_line" : 700,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : null,
      "pull_request_review_id" : 1724502905,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389223982/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T10:34:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389223982",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389227863"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389227863"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, will apply.",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T10:38:15Z",
      "diff_hunk" : "@@ -695,6 +697,7 @@ class CTxMemPool\n     /** Returns info for a transaction if its entry_sequence < last_sequence */\n     TxMempoolInfo info_for_relay(const GenTxid& gtxid, uint64_t last_sequence) const;\n \n+    std::vector<const CTxMemPoolEntry*> entryAll() const EXCLUSIVE_LOCKS_REQUIRED(cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389227863",
      "id" : 1389227863,
      "in_reply_to_id" : 1389223982,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Sze9X",
      "original_commit_id" : "f2d8e17851da215d0b85ffad9d80e50eb7b2b363",
      "original_line" : 700,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : null,
      "pull_request_review_id" : 1724509125,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389227863/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T10:38:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389227863",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389240397"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389240397"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in c14e589817035e76e2707fbcd5cb99689d42de77: If you call `Assert` before an assignment, it could make sense to turn it into a reference by calling `*Assert()`. This makes later code smaller and easier to read.",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T10:50:29Z",
      "diff_hunk" : "@@ -179,9 +179,9 @@ BOOST_FIXTURE_TEST_CASE(miniminer_1p1c, TestChain100Setup)\n     };\n     std::map<uint256, TxDimensions> tx_dims;\n     for (const auto& tx : all_transactions) {\n-        const auto it = pool.GetIter(tx->GetHash()).value();\n-        tx_dims.emplace(tx->GetHash(), TxDimensions{it->GetTxSize(), it->GetModifiedFee(),\n-                                              CFeeRate(it->GetModifiedFee(), it->GetTxSize())});\n+        const auto entry{Assert(pool.GetEntry(tx->GetHash()))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389240397",
      "id" : 1389240397,
      "line" : 182,
      "node_id" : "PRRC_kwDOABII585SziBN",
      "original_commit_id" : "c14e589817035e76e2707fbcd5cb99689d42de77",
      "original_line" : 182,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/test/miniminer_tests.cpp",
      "position" : 16,
      "pull_request_review_id" : 1724528134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389240397/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T11:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389240397",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389241558"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389241558"
         }
      },
      "author_association" : "MEMBER",
      "body" : "same",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T10:51:40Z",
      "diff_hunk" : "@@ -1485,9 +1485,8 @@ PackageMempoolAcceptResult MemPoolAccept::AcceptPackage(const Package& package,\n             // transactions that are already in the mempool, and only call AcceptMultipleTransactions() with\n             // the new transactions. This ensures we don't double-count transaction counts and sizes when\n             // checking ancestor/descendant limits, or double-count transaction fees for fee-related policy.\n-            auto iter = m_pool.GetIter(txid);\n-            assert(iter != std::nullopt);\n-            results_final.emplace(wtxid, MempoolAcceptResult::MempoolTx(iter.value()->GetTxSize(), iter.value()->GetFee()));\n+            const auto entry{Assert(m_pool.GetEntry(txid))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389241558",
      "id" : 1389241558,
      "line" : 1486,
      "node_id" : "PRRC_kwDOABII585SziTW",
      "original_commit_id" : "c14e589817035e76e2707fbcd5cb99689d42de77",
      "original_line" : 1486,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 27,
      "pull_request_review_id" : 1724528134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389241558/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T11:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389241558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you for the patch @maflcko,\r\n\r\nUpdated f2d8e17851da215d0b85ffad9d80e50eb7b2b363 -> 91df77fde5adc7e2e785aa0d60b82a8515c9b538 ([simplifyMemPoolInteractions_13](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_13) -> [simplifyMemPoolInteractions_14](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_14),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_13..simplifyMemPoolInteractions_14))\r\n\r\n* Applied @maflcko's [patch](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389223982), making `entryAll()` return references to `CTxMemPoolEntry` instead of pointers.",
      "created_at" : "2023-11-10T10:52:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1805501889",
      "id" : 1805501889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585rncXB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1805501889/reactions"
      },
      "updated_at" : "2023-11-10T10:52:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1805501889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389245944"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389245944"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This seems a bit out of scope of this PR, but I think you are right, I don't see the need for `::cs_main` here either. Maybe open a separate PR for this?",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T10:54:26Z",
      "diff_hunk" : "@@ -806,8 +805,8 @@ class ChainImpl : public Chain\n     {\n         if (!m_node.mempool) return;\n         LOCK2(::cs_main, m_node.mempool->cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389245944",
      "id" : 1389245944,
      "in_reply_to_id" : 1380338654,
      "line" : 809,
      "node_id" : "PRRC_kwDOABII585SzjX4",
      "original_commit_id" : "105a0f4db4ffdc25d3ad30300c949d46d5d8e647",
      "original_line" : 809,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/node/interfaces.cpp",
      "position" : 27,
      "pull_request_review_id" : 1724535604,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389245944/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T10:54:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389245944",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389248596"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389248596"
         }
      },
      "author_association" : "MEMBER",
      "body" : "5f72a579de74a6d911ca8529fe8754995025d61a: Same?\r\n\r\nAlso, could squash into the previous `GetEntry` commit?",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T10:56:03Z",
      "diff_hunk" : "@@ -35,8 +36,8 @@ RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool)\n \n     // If all the inputs have nSequence >= maxint-1, it still might be\n     // signaled for RBF if any unconfirmed parents have signaled.\n-    const CTxMemPoolEntry entry{*pool.mapTx.find(tx.GetHash())};\n-    auto ancestors{pool.AssumeCalculateMemPoolAncestors(__func__, entry, CTxMemPool::Limits::NoLimits(),\n+    const auto entry{Assert(pool.GetEntry(tx.GetHash()))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389248596",
      "id" : 1389248596,
      "line" : 39,
      "node_id" : "PRRC_kwDOABII585SzkBU",
      "original_commit_id" : "5f72a579de74a6d911ca8529fe8754995025d61a",
      "original_line" : 39,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/policy/rbf.cpp",
      "position" : 14,
      "pull_request_review_id" : 1724528134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389248596/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T11:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389248596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389274834"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389274834"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in 1598b906a57bcd5fc50c1945d8420f8ace1d9c34: Could use `get` or `GetEntry`, when only access to the tx pointer is needed, and not full access to the internal iterator?",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T11:23:17Z",
      "diff_hunk" : "@@ -291,11 +291,11 @@ BOOST_AUTO_TEST_CASE(MempoolIndexingTest)\n     BOOST_CHECK_EQUAL(pool.size(), 10U);\n \n     // Now try removing tx10 and verify the sort order returns to normal\n-    pool.removeRecursive(pool.mapTx.find(tx10.GetHash())->GetTx(), REMOVAL_REASON_DUMMY);\n+    pool.removeRecursive(pool.GetIter(tx10.GetHash()).value()->GetTx(), REMOVAL_REASON_DUMMY);\n     CheckSort<descendant_score>(pool, snapshotOrder);\n \n-    pool.removeRecursive(pool.mapTx.find(tx9.GetHash())->GetTx(), REMOVAL_REASON_DUMMY);\n-    pool.removeRecursive(pool.mapTx.find(tx8.GetHash())->GetTx(), REMOVAL_REASON_DUMMY);\n+    pool.removeRecursive(pool.GetIter(tx9.GetHash()).value()->GetTx(), REMOVAL_REASON_DUMMY);\n+    pool.removeRecursive(pool.GetIter(tx8.GetHash()).value()->GetTx(), REMOVAL_REASON_DUMMY);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389274834",
      "id" : 1389274834,
      "line" : 298,
      "node_id" : "PRRC_kwDOABII585SzqbS",
      "original_commit_id" : "6f8af55a4274e364af010af62be06db15b1da80b",
      "original_line" : 298,
      "original_position" : 40,
      "original_start_line" : 294,
      "path" : "src/test/mempool_tests.cpp",
      "position" : 40,
      "pull_request_review_id" : 1724528134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389274834/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 294,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-11-10T11:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389274834",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389287348"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389287348"
         }
      },
      "author_association" : "MEMBER",
      "body" : "6635cffb1e17ad5fdfdabe68cbdcaf1c68d8070d:\r\n\r\nNot sure about turning (theoretical) UB into an exception throw. Might be better to turn it into an assert fail by using `Assert(GetEntry())->`?",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T11:37:01Z",
      "diff_hunk" : "@@ -518,8 +518,10 @@ void CTxMemPool::removeUnchecked(txiter it, MemPoolRemovalReason reason)\n     RemoveUnbroadcastTx(hash, true /* add logging because unchecked */ );\n \n     if (vTxHashes.size() > 1) {\n+        // Update vTxHashesIdx of the to-be-moved entry.\n+        GetIter(vTxHashes.back()->GetHash()).value()->vTxHashesIdx = it->vTxHashesIdx;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389287348",
      "id" : 1389287348,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Szte0",
      "original_commit_id" : "6635cffb1e17ad5fdfdabe68cbdcaf1c68d8070d",
      "original_line" : 522,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1724528134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389287348/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T11:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389287348",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389292338"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389292338"
         }
      },
      "author_association" : "MEMBER",
      "body" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538: Is the lock needed?",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T11:42:48Z",
      "diff_hunk" : "@@ -284,7 +284,7 @@ BOOST_AUTO_TEST_CASE(mempool_locks_reorg)\n         // Check that all txs are in the pool\n         {\n             LOCK(m_node.mempool->cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389292338",
      "id" : 1389292338,
      "line" : 286,
      "node_id" : "PRRC_kwDOABII585Szusy",
      "original_commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "original_line" : 286,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/test/validation_block_tests.cpp",
      "position" : 3,
      "pull_request_review_id" : 1724528134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389292338/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T11:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389292338",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389293490"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389293490"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in the first commit:\r\n\r\n```\r\nclang-tidy-17 -p=/ci_container_base/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu -quiet -load=/tidy-build/libbitcoin-tidy.so /ci_container_base/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/txmempool.cpp\r\ntxmempool.cpp:848:13: error: use emplace_back instead of push_back [modernize-use-emplace,-warnings-as-errors]\r\n  848 |         ret.push_back(*it);\r\n      |             ^~~~~~~~~~\r\n      |             emplace_back(",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T11:44:12Z",
      "diff_hunk" : "@@ -836,6 +838,18 @@ static TxMempoolInfo GetInfo(CTxMemPool::indexed_transaction_set::const_iterator\n     return TxMempoolInfo{it->GetSharedTx(), it->GetTime(), it->GetFee(), it->GetTxSize(), it->GetModifiedFee() - it->GetFee()};\n }\n \n+std::vector<std::reference_wrapper<const CTxMemPoolEntry>> CTxMemPool::entryAll() const\n+{\n+    AssertLockHeld(cs);\n+\n+    std::vector<std::reference_wrapper<const CTxMemPoolEntry>> ret;\n+    ret.reserve(mapTx.size());\n+    for (const auto& it : GetSortedDepthAndScore()) {\n+        ret.push_back(*it);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389293490",
      "id" : 1389293490,
      "line" : 848,
      "node_id" : "PRRC_kwDOABII585Szu-y",
      "original_commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "original_line" : 848,
      "original_position" : 46,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 46,
      "pull_request_review_id" : 1724528134,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389293490/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T11:44:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389293490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 91df77fde5adc7e2e785aa0d60b82a8515c9b538   ð\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: ACK 91df77fde5adc7e2e785aa0d60b82a8515c9b538   ð\r\nwkACAJP7/zp07cuu9nzpQskOL3zFkoacxerM58ShUGLJjAQioR6qpm1Tmjz0iuk+Z9brI9ayv/TjkNPKZgMJCw==\r\n```\r\n\r\n</details>\r\n",
      "created_at" : "2023-11-10T11:47:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1805596963",
      "id" : 1805596963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585rnzkj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1805596963/reactions"
      },
      "updated_at" : "2023-11-10T11:47:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1805596963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389337349"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389337349"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "No, but does the other one in the `while` loop make sense?",
      "commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "created_at" : "2023-11-10T12:30:17Z",
      "diff_hunk" : "@@ -284,7 +284,7 @@ BOOST_AUTO_TEST_CASE(mempool_locks_reorg)\n         // Check that all txs are in the pool\n         {\n             LOCK(m_node.mempool->cs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389337349",
      "id" : 1389337349,
      "in_reply_to_id" : 1389292338,
      "line" : 286,
      "node_id" : "PRRC_kwDOABII585Sz5sF",
      "original_commit_id" : "91df77fde5adc7e2e785aa0d60b82a8515c9b538",
      "original_line" : 286,
      "original_position" : 3,
      "original_start_line" : null,
      "path" : "src/test/validation_block_tests.cpp",
      "position" : 3,
      "pull_request_review_id" : 1724681994,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389337349/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T12:30:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389337349",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Will address the outstanding comments shortly.",
      "created_at" : "2023-11-10T12:45:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1805671306",
      "id" : 1805671306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585roFuK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1805671306/reactions"
      },
      "updated_at" : "2023-11-10T12:45:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1805671306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you for the review @maflcko,\r\n\r\nUpdated 91df77fde5adc7e2e785aa0d60b82a8515c9b538 -> 3b73acb3ec678f5099aa0d77178a0b0d50670c2b ([simplifyMemPoolInteractions_14](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_14) -> [simplifyMemPoolInteractions_15](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_15),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_14..simplifyMemPoolInteractions_15))\r\n\r\n* Addressed @maflcko's [comment_1](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389240397), [comment_2](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389241558), [comment_3](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389248596), using `Assert` on assignment to const reference.\r\n* Addressed @maflcko's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389274834), using `get` to access  transactions in `mempool_tests` instead of `GetIter`.\r\n* Addressed @maflcko's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389287348), applying `Assert(GetEntry(...))`, instead of `GetIter(...).value()` to turn the potentially thrown exception into an assertion failure.\r\n* Addressed @maflcko's [comment](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389292338), removing the redundant `mempool.cs` lock.\r\n* Fixed tidy failure.\r\n",
      "created_at" : "2023-11-10T13:13:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1805706401",
      "id" : 1805706401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585roOSh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1805706401/reactions"
      },
      "updated_at" : "2023-11-10T13:13:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1805706401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389377987"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389377987"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed this, but did not squash, since the change is a bit different to the others.",
      "commit_id" : "3b73acb3ec678f5099aa0d77178a0b0d50670c2b",
      "created_at" : "2023-11-10T13:14:30Z",
      "diff_hunk" : "@@ -35,8 +36,8 @@ RBFTransactionState IsRBFOptIn(const CTransaction& tx, const CTxMemPool& pool)\n \n     // If all the inputs have nSequence >= maxint-1, it still might be\n     // signaled for RBF if any unconfirmed parents have signaled.\n-    const CTxMemPoolEntry entry{*pool.mapTx.find(tx.GetHash())};\n-    auto ancestors{pool.AssumeCalculateMemPoolAncestors(__func__, entry, CTxMemPool::Limits::NoLimits(),\n+    const auto entry{Assert(pool.GetEntry(tx.GetHash()))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389377987",
      "id" : 1389377987,
      "in_reply_to_id" : 1389248596,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585S0DnD",
      "original_commit_id" : "5f72a579de74a6d911ca8529fe8754995025d61a",
      "original_line" : 39,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/policy/rbf.cpp",
      "position" : null,
      "pull_request_review_id" : 1724751140,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389377987/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T13:14:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389377987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389421589"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389421589"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: can use `CTxMemPoolEntryRef`\r\n\r\n<details>\r\n<summary>git diff on 3b73acb3ec</summary>\r\n\r\n```diff\r\ndiff --git a/src/kernel/mempool_entry.h b/src/kernel/mempool_entry.h\r\nindex 85c2195b13..7c905ca4f4 100644\r\n--- a/src/kernel/mempool_entry.h\r\n+++ b/src/kernel/mempool_entry.h\r\n@@ -176,4 +176,6 @@ public:\r\n     mutable Epoch::Marker m_epoch_marker; //!< epoch when last touched, useful for graph algorithms\r\n };\r\n \r\n+using CTxMemPoolEntryRef = CTxMemPoolEntry::CTxMemPoolEntryRef;\r\n+\r\n #endif // BITCOIN_KERNEL_MEMPOOL_ENTRY_H\r\ndiff --git a/src/txmempool.cpp b/src/txmempool.cpp\r\nindex 666b43a633..efcb77f47c 100644\r\n--- a/src/txmempool.cpp\r\n+++ b/src/txmempool.cpp\r\n@@ -838,11 +838,11 @@ static TxMempoolInfo GetInfo(CTxMemPool::indexed_transaction_set::const_iterator\r\n     return TxMempoolInfo{it->GetSharedTx(), it->GetTime(), it->GetFee(), it->GetTxSize(), it->GetModifiedFee() - it->GetFee()};\r\n }\r\n \r\n-std::vector<std::reference_wrapper<const CTxMemPoolEntry>> CTxMemPool::entryAll() const\r\n+std::vector<CTxMemPoolEntryRef> CTxMemPool::entryAll() const\r\n {\r\n     AssertLockHeld(cs);\r\n \r\n-    std::vector<std::reference_wrapper<const CTxMemPoolEntry>> ret;\r\n+    std::vector<CTxMemPoolEntryRef> ret;\r\n     ret.reserve(mapTx.size());\r\n     for (const auto& it : GetSortedDepthAndScore()) {\r\n         ret.emplace_back(*it);\r\ndiff --git a/src/txmempool.h b/src/txmempool.h\r\nindex f95f5f1653..3b0b8cf519 100644\r\n--- a/src/txmempool.h\r\n+++ b/src/txmempool.h\r\n@@ -697,7 +697,7 @@ public:\r\n     /** Returns info for a transaction if its entry_sequence < last_sequence */\r\n     TxMempoolInfo info_for_relay(const GenTxid& gtxid, uint64_t last_sequence) const;\r\n \r\n-    std::vector<std::reference_wrapper<const CTxMemPoolEntry>> entryAll() const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n+    std::vector<CTxMemPoolEntryRef> entryAll() const EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n     std::vector<TxMempoolInfo> infoAll() const;\r\n \r\n     size_t DynamicMemoryUsage() const;\r\n\r\n```\r\n</details>\r\n\r\n",
      "commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "created_at" : "2023-11-10T13:51:23Z",
      "diff_hunk" : "@@ -836,6 +838,18 @@ static TxMempoolInfo GetInfo(CTxMemPool::indexed_transaction_set::const_iterator\n     return TxMempoolInfo{it->GetSharedTx(), it->GetTime(), it->GetFee(), it->GetTxSize(), it->GetModifiedFee() - it->GetFee()};\n }\n \n+std::vector<std::reference_wrapper<const CTxMemPoolEntry>> CTxMemPool::entryAll() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389421589",
      "id" : 1389421589,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585S0OQV",
      "original_commit_id" : "3b73acb3ec678f5099aa0d77178a0b0d50670c2b",
      "original_line" : 841,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1724824472,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389421589/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T15:36:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389421589",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK 3b73acb3ec678f5099aa0d77178a0b0d50670c2b ð\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK 3b73acb3ec678f5099aa0d77178a0b0d50670c2b ð\r\nfLkSmbWBYVbxmpiJUroAwcUY3HCXE0ZLjid8zq00VVdauTIWHAS6uxJFY23WBkqE+FE+CV05dbN3zzW0PJ3oDA==\r\n```\r\n\r\n</details>\r\n",
      "created_at" : "2023-11-10T14:30:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1805841682",
      "id" : 1805841682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585rovUS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1805841682/reactions"
      },
      "updated_at" : "2023-11-10T14:30:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1805841682",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389594932"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389594932"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Will push this, seems easy enough to re-ACK.",
      "commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "created_at" : "2023-11-10T16:01:36Z",
      "diff_hunk" : "@@ -836,6 +838,18 @@ static TxMempoolInfo GetInfo(CTxMemPool::indexed_transaction_set::const_iterator\n     return TxMempoolInfo{it->GetSharedTx(), it->GetTime(), it->GetFee(), it->GetTxSize(), it->GetModifiedFee() - it->GetFee()};\n }\n \n+std::vector<std::reference_wrapper<const CTxMemPoolEntry>> CTxMemPool::entryAll() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389594932",
      "id" : 1389594932,
      "in_reply_to_id" : 1389421589,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585S04k0",
      "original_commit_id" : "3b73acb3ec678f5099aa0d77178a0b0d50670c2b",
      "original_line" : 841,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1725105369,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389594932/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T16:01:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389594932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Updated 3b73acb3ec678f5099aa0d77178a0b0d50670c2b -> 4dd94ca18f6fc843137ffca3e6d3e97e4f19377b ([simplifyMemPoolInteractions_15](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_15) -> [simplifyMemPoolInteractions_16](https://github.com/TheCharlatan/bitcoin/tree/simplifyMemPoolInteractions_16),  [compare](https://github.com/TheCharlatan/bitcoin/compare/simplifyMemPoolInteractions_15..simplifyMemPoolInteractions_16))\r\n\r\n* Applied @stickies-v's [patch](https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389421589)",
      "created_at" : "2023-11-10T16:06:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1806011505",
      "id" : 1806011505,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585rpYxx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1806011505/reactions"
      },
      "updated_at" : "2023-11-10T16:06:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1806011505",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389606616"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389606616"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If you put this in the global namespace, might as well remove the duplicate from the inner scope?",
      "commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "created_at" : "2023-11-10T16:12:09Z",
      "diff_hunk" : "@@ -172,8 +172,10 @@ class CTxMemPoolEntry\n     Parents& GetMemPoolParents() const { return m_parents; }\n     Children& GetMemPoolChildren() const { return m_children; }\n \n-    mutable size_t vTxHashesIdx; //!< Index in mempool's vTxHashes\n+    mutable size_t idx_randomized; //!< Index in mempool's txns_randomized\n     mutable Epoch::Marker m_epoch_marker; //!< epoch when last touched, useful for graph algorithms\n };\n \n+using CTxMemPoolEntryRef = CTxMemPoolEntry::CTxMemPoolEntryRef;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389606616",
      "id" : 1389606616,
      "line" : 179,
      "node_id" : "PRRC_kwDOABII585S07bY",
      "original_commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "original_line" : 179,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_entry.h",
      "position" : 27,
      "pull_request_review_id" : 1725124209,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389606616/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T16:12:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389606616",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389615076"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389615076"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Can it be replaced without declaration order issues?",
      "commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "created_at" : "2023-11-10T16:20:27Z",
      "diff_hunk" : "@@ -172,8 +172,10 @@ class CTxMemPoolEntry\n     Parents& GetMemPoolParents() const { return m_parents; }\n     Children& GetMemPoolChildren() const { return m_children; }\n \n-    mutable size_t vTxHashesIdx; //!< Index in mempool's vTxHashes\n+    mutable size_t idx_randomized; //!< Index in mempool's txns_randomized\n     mutable Epoch::Marker m_epoch_marker; //!< epoch when last touched, useful for graph algorithms\n };\n \n+using CTxMemPoolEntryRef = CTxMemPoolEntry::CTxMemPoolEntryRef;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389615076",
      "id" : 1389615076,
      "in_reply_to_id" : 1389606616,
      "line" : 179,
      "node_id" : "PRRC_kwDOABII585S09fk",
      "original_commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "original_line" : 179,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_entry.h",
      "position" : 27,
      "pull_request_review_id" : 1725137766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389615076/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T16:20:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389615076",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389641144"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389641144"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I tried that at first but couldn't figure a more concise way given the `Parents` and `Children` typedefs. ",
      "commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "created_at" : "2023-11-10T16:45:55Z",
      "diff_hunk" : "@@ -172,8 +172,10 @@ class CTxMemPoolEntry\n     Parents& GetMemPoolParents() const { return m_parents; }\n     Children& GetMemPoolChildren() const { return m_children; }\n \n-    mutable size_t vTxHashesIdx; //!< Index in mempool's vTxHashes\n+    mutable size_t idx_randomized; //!< Index in mempool's txns_randomized\n     mutable Epoch::Marker m_epoch_marker; //!< epoch when last touched, useful for graph algorithms\n };\n \n+using CTxMemPoolEntryRef = CTxMemPoolEntry::CTxMemPoolEntryRef;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1389641144",
      "id" : 1389641144,
      "in_reply_to_id" : 1389606616,
      "line" : 179,
      "node_id" : "PRRC_kwDOABII585S1D24",
      "original_commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "original_line" : 179,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_entry.h",
      "position" : 27,
      "pull_request_review_id" : 1725178513,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389641144/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-10T16:45:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1389641144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "reACK 4dd94ca",
      "created_at" : "2023-11-10T17:00:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1806089364",
      "id" : 1806089364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585rpryU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1806089364/reactions"
      },
      "updated_at" : "2023-11-10T17:00:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1806089364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-ACK 4dd94ca18f6fc843137ffca3e6d3e97e4f19377b ð\r\n\r\n<details><summary>Show signature</summary>\r\n\r\nSignature:\r\n\r\n```\r\nuntrusted comment: signature from minisign secret key on empty file; verify via: minisign -Vm \"${path_to_any_empty_file}\" -P RWTRmVTMeKV5noAMqVlsMugDDCyyTSbA3Re5AkUrhvLVln0tSaFWglOw -x \"${path_to_this_whole_four_line_signature_blob}\"\r\nRUTRmVTMeKV5npGrKx1nqXCw5zeVHdtdYURB/KlyA/LMFgpNCs+SkW9a8N95d+U4AP1RJMi+krxU1A3Yux4bpwZNLvVBKy0wLgM=\r\ntrusted comment: re-ACK 4dd94ca18f6fc843137ffca3e6d3e97e4f19377b ð\r\nbfX5G2mlfoBXb55qisEcFZjk5n7/wUwHbMjlDI8yW0PZkGts+ABxmKmEYnMVoT8uNoolCpfL0MahaEHSXhgUCQ==\r\n```\r\n\r\n</details>\r\n",
      "created_at" : "2023-11-11T16:22:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1806857272",
      "id" : 1806857272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585rsnQ4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1806857272/reactions"
      },
      "updated_at" : "2023-11-11T16:22:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1806857272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1390822510"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1390822510"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure why that'd be difficult. In C++, it is possible to forward declare a struct:\r\n\r\n```diff\r\ndiff --git a/src/kernel/mempool_entry.h b/src/kernel/mempool_entry.h\r\nindex 7c905ca4f4..199fe948a3 100644\r\n--- a/src/kernel/mempool_entry.h\r\n+++ b/src/kernel/mempool_entry.h\r\n@@ -22,6 +22,9 @@\r\n #include <stdint.h>\r\n \r\n class CBlockIndex;\r\n+class CTxMemPoolEntry;\r\n+\r\n+using CTxMemPoolEntryRef = std::reference_wrapper<const CTxMemPoolEntry>;\r\n \r\n struct LockPoints {\r\n     // Will be set to the blockchain height and median time past\r\n@@ -61,11 +64,9 @@ struct CompareIteratorByHash {\r\n  * all ancestors of the newly added transaction.\r\n  *\r\n  */\r\n-\r\n class CTxMemPoolEntry\r\n {\r\n public:\r\n-    typedef std::reference_wrapper<const CTxMemPoolEntry> CTxMemPoolEntryRef;\r\n     // two aliases, should the types ever diverge\r\n     typedef std::set<CTxMemPoolEntryRef, CompareIteratorByHash> Parents;\r\n     typedef std::set<CTxMemPoolEntryRef, CompareIteratorByHash> Children;\r\n@@ -176,6 +177,4 @@ public:\r\n     mutable Epoch::Marker m_epoch_marker; //!< epoch when last touched, useful for graph algorithms\r\n };\r\n \r\n-using CTxMemPoolEntryRef = CTxMemPoolEntry::CTxMemPoolEntryRef;\r\n-\r\n #endif // BITCOIN_KERNEL_MEMPOOL_ENTRY_H\r\n",
      "commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "created_at" : "2023-11-13T09:24:19Z",
      "diff_hunk" : "@@ -172,8 +172,10 @@ class CTxMemPoolEntry\n     Parents& GetMemPoolParents() const { return m_parents; }\n     Children& GetMemPoolChildren() const { return m_children; }\n \n-    mutable size_t vTxHashesIdx; //!< Index in mempool's vTxHashes\n+    mutable size_t idx_randomized; //!< Index in mempool's txns_randomized\n     mutable Epoch::Marker m_epoch_marker; //!< epoch when last touched, useful for graph algorithms\n };\n \n+using CTxMemPoolEntryRef = CTxMemPoolEntry::CTxMemPoolEntryRef;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1390822510",
      "id" : 1390822510,
      "in_reply_to_id" : 1389606616,
      "line" : 179,
      "node_id" : "PRRC_kwDOABII585S5kRu",
      "original_commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "original_line" : 179,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_entry.h",
      "position" : 27,
      "pull_request_review_id" : 1726861301,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1390822510/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-13T09:24:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1390822510",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1390901971"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1390901971"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Will push this if there are further things that come up.",
      "commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "created_at" : "2023-11-13T10:13:15Z",
      "diff_hunk" : "@@ -172,8 +172,10 @@ class CTxMemPoolEntry\n     Parents& GetMemPoolParents() const { return m_parents; }\n     Children& GetMemPoolChildren() const { return m_children; }\n \n-    mutable size_t vTxHashesIdx; //!< Index in mempool's vTxHashes\n+    mutable size_t idx_randomized; //!< Index in mempool's txns_randomized\n     mutable Epoch::Marker m_epoch_marker; //!< epoch when last touched, useful for graph algorithms\n };\n \n+using CTxMemPoolEntryRef = CTxMemPoolEntry::CTxMemPoolEntryRef;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1390901971",
      "id" : 1390901971,
      "in_reply_to_id" : 1389606616,
      "line" : 179,
      "node_id" : "PRRC_kwDOABII585S53rT",
      "original_commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "original_line" : 179,
      "original_position" : 27,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_entry.h",
      "position" : 27,
      "pull_request_review_id" : 1726985641,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1390901971/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-13T10:13:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1390901971",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1418261403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418261403"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there a reason that we are invoking `GetSortedDepthAndScore()` here, ie do any of the callers rely on a particular sort order?\r\n\r\n(I'm planning to eliminate this function in #28676, so just want to understand if this behavior needs to be preserved for some reason.)",
      "commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "created_at" : "2023-12-07T03:19:00Z",
      "diff_hunk" : "@@ -836,6 +836,18 @@ static TxMempoolInfo GetInfo(CTxMemPool::indexed_transaction_set::const_iterator\n     return TxMempoolInfo{it->GetSharedTx(), it->GetTime(), it->GetFee(), it->GetTxSize(), it->GetModifiedFee() - it->GetFee()};\n }\n \n+std::vector<CTxMemPoolEntryRef> CTxMemPool::entryAll() const\n+{\n+    AssertLockHeld(cs);\n+\n+    std::vector<CTxMemPoolEntryRef> ret;\n+    ret.reserve(mapTx.size());\n+    for (const auto& it : GetSortedDepthAndScore()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1418261403",
      "id" : 1418261403,
      "line" : 847,
      "node_id" : "PRRC_kwDOABII585UiPOb",
      "original_commit_id" : "453b4813ebc74859864803e9972b58e4be76a4d6",
      "original_line" : 845,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 45,
      "pull_request_review_id" : 1769047624,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418261403/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-07T03:19:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418261403",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1418656096"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418656096"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This function is supposed to mimic `infoAll`, which was originally used in this patchset to retrieve mempool information instead of directly accessing `mapTx`. Looking at its usage you are right, the way I read this too there were no order promises made prior to this patch. I opened https://github.com/bitcoin/bitcoin/pull/29019 to instead just iterate through `mapTx`.",
      "commit_id" : "4dd94ca18f6fc843137ffca3e6d3e97e4f19377b",
      "created_at" : "2023-12-07T09:26:05Z",
      "diff_hunk" : "@@ -836,6 +836,18 @@ static TxMempoolInfo GetInfo(CTxMemPool::indexed_transaction_set::const_iterator\n     return TxMempoolInfo{it->GetSharedTx(), it->GetTime(), it->GetFee(), it->GetTxSize(), it->GetModifiedFee() - it->GetFee()};\n }\n \n+std::vector<CTxMemPoolEntryRef> CTxMemPool::entryAll() const\n+{\n+    AssertLockHeld(cs);\n+\n+    std::vector<CTxMemPoolEntryRef> ret;\n+    ret.reserve(mapTx.size());\n+    for (const auto& it : GetSortedDepthAndScore()) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#discussion_r1418656096",
      "id" : 1418656096,
      "in_reply_to_id" : 1418261403,
      "line" : 847,
      "node_id" : "PRRC_kwDOABII585Ujvlg",
      "original_commit_id" : "453b4813ebc74859864803e9972b58e4be76a4d6",
      "original_line" : 845,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 45,
      "pull_request_review_id" : 1769632836,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28391",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418656096/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-07T09:26:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418656096",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8421793?v=4",
         "events_url" : "https://api.github.com/users/TheCharlatan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheCharlatan/followers",
         "following_url" : "https://api.github.com/users/TheCharlatan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheCharlatan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheCharlatan",
         "id" : 8421793,
         "login" : "TheCharlatan",
         "node_id" : "MDQ6VXNlcjg0MjE3OTM=",
         "organizations_url" : "https://api.github.com/users/TheCharlatan/orgs",
         "received_events_url" : "https://api.github.com/users/TheCharlatan/received_events",
         "repos_url" : "https://api.github.com/users/TheCharlatan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheCharlatan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheCharlatan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheCharlatan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Should we backport 453b4813ebc74859864803e9972b58e4be76a4d6?",
      "created_at" : "2024-01-05T16:42:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28391#issuecomment-1878961337",
      "id" : 1878961337,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28391",
      "node_id" : "IC_kwDOABII585v_qy5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1878961337/reactions"
      },
      "updated_at" : "2024-01-05T16:42:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1878961337",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   }
]
