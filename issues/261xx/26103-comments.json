[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r972858901"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972858901"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since we're tidying, I think this could be moved into a helper in policy.h, interface something like this:\r\n\r\n```c\r\nCTxMemPool::Limits CPFPCarveOutLimits(const CTxMemPool::Limits& normal_limits) {}\r\n```",
      "commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "created_at" : "2022-09-16T09:59:34Z",
      "diff_hunk" : "@@ -899,8 +900,16 @@ bool MemPoolAccept::PreChecks(ATMPArgs& args, Workspace& ws)\n         // to be secure by simply only having two immediately-spendable\n         // outputs - one for each counterparty. For more info on the uses for\n         // this, see https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016518.html\n+        CTxMemPool::Limits adjusted_limits{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r972858901",
      "id" : 972858901,
      "line" : 903,
      "node_id" : "PRRC_kwDOABII5845_KYV",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 903,
      "original_position" : 59,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : 59,
      "pull_request_review_id" : 1110441399,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972858901/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T10:26:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972858901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r972865346"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972865346"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this can be replaced with `CTxMemPool::Limits::NoLimits()`, actually. These numbers seem arbitrarily high and don't restrict anything, suggesting the intent of this test case is just to calculate the ancestors properly.",
      "commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "created_at" : "2022-09-16T10:07:30Z",
      "diff_hunk" : "@@ -203,7 +203,13 @@ BOOST_AUTO_TEST_CASE(MempoolIndexingTest)\n \n     CTxMemPool::setEntries setAncestorsCalculated;\n     std::string dummy;\n-    BOOST_CHECK_EQUAL(pool.CalculateMemPoolAncestors(entry.Fee(2000000LL).FromTx(tx7), setAncestorsCalculated, 100, 1000000, 1000, 1000000, dummy), true);\n+    CTxMemPool::Limits mempool_limits{\n+        .ancestor_count = 100,\n+        .ancestor_size_vbytes = 1'000'000,\n+        .descendant_count = 1'000,\n+        .descendant_size_vbytes = 1'000'000,\n+    };\n+    BOOST_CHECK_EQUAL(pool.CalculateMemPoolAncestors(entry.Fee(2'000'000LL).FromTx(tx7), setAncestorsCalculated, mempool_limits, dummy), true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r972865346",
      "id" : 972865346,
      "line" : 212,
      "node_id" : "PRRC_kwDOABII5845_L9C",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 212,
      "original_position" : 11,
      "original_start_line" : 206,
      "path" : "src/test/mempool_tests.cpp",
      "position" : 11,
      "pull_request_review_id" : 1110441399,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972865346/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 206,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-16T10:26:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972865346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r972878804"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972878804"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it would make sense to delete the default ctor and require callers to set all 4 members when constructing.",
      "commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "created_at" : "2022-09-16T10:24:59Z",
      "diff_hunk" : "@@ -17,13 +17,21 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n     //! The maximum allowed size in virtual bytes of an entry and its ancestors within a package.\n-    int64_t ancestor_size_vbytes{DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1'000};\n+    uint64_t ancestor_size_vbytes{DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1'000};\n     //! The maximum allowed number of transactions in a package including the entry and its descendants.\n-    int64_t descendant_count{DEFAULT_DESCENDANT_LIMIT};\n+    uint64_t descendant_count{DEFAULT_DESCENDANT_LIMIT};\n     //! The maximum allowed size in virtual bytes of an entry and its descendants within a package.\n-    int64_t descendant_size_vbytes{DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1'000};\n+    uint64_t descendant_size_vbytes{DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1'000};\n+\n+    /**\n+     * @return MemPoolLimits with all the limits set to the maximum\n+     */\n+    static MemPoolLimits NoLimits() {\n+        uint64_t no_limit{std::numeric_limits<uint64_t>::max()};\n+        return {no_limit, no_limit, no_limit, no_limit};\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r972878804",
      "id" : 972878804,
      "line" : 34,
      "node_id" : "PRRC_kwDOABII5845_PPU",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 34,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 22,
      "pull_request_review_id" : 1110441399,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972878804/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T10:26:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972878804",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r972879704"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972879704"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can you explain why the change from signed to unsigned?",
      "commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "created_at" : "2022-09-16T10:26:12Z",
      "diff_hunk" : "@@ -17,13 +17,21 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r972879704",
      "id" : 972879704,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII5845_PdY",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 20,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 5,
      "pull_request_review_id" : 1110441399,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972879704/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T10:26:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/972879704",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973001491"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973001491"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n                            const Limits& limits,\r\n```",
      "commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "created_at" : "2022-09-16T13:03:21Z",
      "diff_hunk" : "@@ -670,36 +667,31 @@ class CTxMemPool\n \n     /** Try to calculate all in-mempool ancestors of entry.\n      *  (these are all calculated including the tx itself)\n-     *  limitAncestorCount = max number of ancestors\n-     *  limitAncestorSize = max size of ancestors\n-     *  limitDescendantCount = max number of descendants any ancestor can have\n-     *  limitDescendantSize = max size of descendants any ancestor can have\n+     *  limits = maximum number and size of ancestors and descendants\n      *  errString = populated with error reason if any limits are hit\n      *  fSearchForParents = whether to search a tx's vin for in-mempool parents, or\n      *    look up parents from mapLinks. Must be true for entries not in the mempool\n      */\n-    bool CalculateMemPoolAncestors(const CTxMemPoolEntry& entry, setEntries& setAncestors, uint64_t limitAncestorCount, uint64_t limitAncestorSize, uint64_t limitDescendantCount, uint64_t limitDescendantSize, std::string& errString, bool fSearchForParents = true) const EXCLUSIVE_LOCKS_REQUIRED(cs);\n+    bool CalculateMemPoolAncestors(const CTxMemPoolEntry& entry, \n+                                   setEntries& setAncestors, \n+                                   Limits limits,\n+                                   std::string& errString, \n+                                   bool fSearchForParents = true) const EXCLUSIVE_LOCKS_REQUIRED(cs);\n \n     /** Calculate all in-mempool ancestors of a set of transactions not already in the mempool and\n      * check ancestor and descendant limits. Heuristics are used to estimate the ancestor and\n      * descendant count of all entries if the package were to be added to the mempool.  The limits\n      * are applied to the union of all package transactions. For example, if the package has 3\n-     * transactions and limitAncestorCount = 25, the union of all 3 sets of ancestors (including the\n+     * transactions and limits.ancestor_count = 25, the union of all 3 sets of ancestors (including the\n      * transactions themselves) must be <= 22.\n      * @param[in]       package                 Transaction package being evaluated for acceptance\n      *                                          to mempool. The transactions need not be direct\n      *                                          ancestors/descendants of each other.\n-     * @param[in]       limitAncestorCount      Max number of txns including ancestors.\n-     * @param[in]       limitAncestorSize       Max virtual size including ancestors.\n-     * @param[in]       limitDescendantCount    Max number of txns including descendants.\n-     * @param[in]       limitDescendantSize     Max virtual size including descendants.\n+     * @param[in]       limits                  Maximum number and size of ancestors and descendants\n      * @param[out]      errString               Populated with error reason if a limit is hit.\n      */\n     bool CheckPackageLimits(const Package& package,\n-                            uint64_t limitAncestorCount,\n-                            uint64_t limitAncestorSize,\n-                            uint64_t limitDescendantCount,\n-                            uint64_t limitDescendantSize,\n+                            Limits limits,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973001491",
      "id" : 973001491,
      "line" : 694,
      "node_id" : "PRRC_kwDOABII5845_tMT",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 694,
      "original_position" : 72,
      "original_start_line" : null,
      "path" : "src/txmempool.h",
      "position" : 72,
      "pull_request_review_id" : 1110650894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973001491/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T13:05:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973001491",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973001720"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973001720"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n                                                  const CTxMemPool::Limits& limits,\r\n```",
      "commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "created_at" : "2022-09-16T13:03:31Z",
      "diff_hunk" : "@@ -187,10 +187,7 @@ bool CTxMemPool::CalculateAncestorsAndCheckLimits(size_t entry_size,\n                                                   size_t entry_count,\n                                                   setEntries& setAncestors,\n                                                   CTxMemPoolEntry::Parents& staged_ancestors,\n-                                                  uint64_t limitAncestorCount,\n-                                                  uint64_t limitAncestorSize,\n-                                                  uint64_t limitDescendantCount,\n-                                                  uint64_t limitDescendantSize,\n+                                                  CTxMemPool::Limits limits,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973001720",
      "id" : 973001720,
      "line" : 190,
      "node_id" : "PRRC_kwDOABII5845_tP4",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 190,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 8,
      "pull_request_review_id" : 1110650894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973001720/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T13:05:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973001720",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973001941"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973001941"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n                                    const CTxMemPool::Limits& limits,\r\n```",
      "commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "created_at" : "2022-09-16T13:03:46Z",
      "diff_hunk" : "@@ -233,10 +230,7 @@ bool CTxMemPool::CalculateAncestorsAndCheckLimits(size_t entry_size,\n }\n \n bool CTxMemPool::CheckPackageLimits(const Package& package,\n-                                    uint64_t limitAncestorCount,\n-                                    uint64_t limitAncestorSize,\n-                                    uint64_t limitDescendantCount,\n-                                    uint64_t limitDescendantSize,\n+                                    CTxMemPool::Limits limits,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973001941",
      "id" : 973001941,
      "line" : 233,
      "node_id" : "PRRC_kwDOABII5845_tTV",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 233,
      "original_position" : 52,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : 52,
      "pull_request_review_id" : 1110650894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973001941/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T13:05:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973001941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2022-09-16T13:13:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#issuecomment-1249350645",
      "id" : 1249350645,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26103",
      "node_id" : "IC_kwDOABII585Kd5P1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249350645/reactions"
      },
      "updated_at" : "2022-09-16T13:13:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249350645",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973061420"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973061420"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What would be the benefit of that approach? Asking because it's quite a deviation from the current process, where we construct an empty `MemPoolLimits` (with default values as defined here) in `init.cpp` (as a member of `CTxMemPool::Options`), and then pass it to multiple `ApplyArgsManOptions()` functions to update it with startup parameters if provided. I think deleting the default ctor of `MemPoolLimits` would require changing that whole flow, and I'm not sure it's worth it. I think having the default values here and not requiring every value to be explicitly defined makes sense?",
      "commit_id" : "c17d4683f8cb30be8a6f1908afdc346ba3e3b30e",
      "created_at" : "2022-09-16T14:03:36Z",
      "diff_hunk" : "@@ -17,13 +17,21 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n     //! The maximum allowed size in virtual bytes of an entry and its ancestors within a package.\n-    int64_t ancestor_size_vbytes{DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1'000};\n+    uint64_t ancestor_size_vbytes{DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1'000};\n     //! The maximum allowed number of transactions in a package including the entry and its descendants.\n-    int64_t descendant_count{DEFAULT_DESCENDANT_LIMIT};\n+    uint64_t descendant_count{DEFAULT_DESCENDANT_LIMIT};\n     //! The maximum allowed size in virtual bytes of an entry and its descendants within a package.\n-    int64_t descendant_size_vbytes{DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1'000};\n+    uint64_t descendant_size_vbytes{DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1'000};\n+\n+    /**\n+     * @return MemPoolLimits with all the limits set to the maximum\n+     */\n+    static MemPoolLimits NoLimits() {\n+        uint64_t no_limit{std::numeric_limits<uint64_t>::max()};\n+        return {no_limit, no_limit, no_limit, no_limit};\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973061420",
      "id" : 973061420,
      "in_reply_to_id" : 972878804,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII5845_70s",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 35,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 23,
      "pull_request_review_id" : 1110741295,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973061420/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T14:04:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973061420",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973062688"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973062688"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Okay, wasn't super familiar with it. Updated to use `Limits::NoLimits()`, thanks.",
      "commit_id" : "c17d4683f8cb30be8a6f1908afdc346ba3e3b30e",
      "created_at" : "2022-09-16T14:04:50Z",
      "diff_hunk" : "@@ -203,7 +203,13 @@ BOOST_AUTO_TEST_CASE(MempoolIndexingTest)\n \n     CTxMemPool::setEntries setAncestorsCalculated;\n     std::string dummy;\n-    BOOST_CHECK_EQUAL(pool.CalculateMemPoolAncestors(entry.Fee(2000000LL).FromTx(tx7), setAncestorsCalculated, 100, 1000000, 1000, 1000000, dummy), true);\n+    CTxMemPool::Limits mempool_limits{\n+        .ancestor_count = 100,\n+        .ancestor_size_vbytes = 1'000'000,\n+        .descendant_count = 1'000,\n+        .descendant_size_vbytes = 1'000'000,\n+    };\n+    BOOST_CHECK_EQUAL(pool.CalculateMemPoolAncestors(entry.Fee(2'000'000LL).FromTx(tx7), setAncestorsCalculated, mempool_limits, dummy), true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973062688",
      "id" : 973062688,
      "in_reply_to_id" : 972865346,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5845_8Ig",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 212,
      "original_position" : 11,
      "original_start_line" : 206,
      "path" : "src/test/mempool_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1110743201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973062688/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-16T15:41:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973062688",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973063014"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973063014"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh yes, woops. Thanks for pointing it out. Updated all instances to use const ref.",
      "commit_id" : "c17d4683f8cb30be8a6f1908afdc346ba3e3b30e",
      "created_at" : "2022-09-16T14:05:11Z",
      "diff_hunk" : "@@ -187,10 +187,7 @@ bool CTxMemPool::CalculateAncestorsAndCheckLimits(size_t entry_size,\n                                                   size_t entry_count,\n                                                   setEntries& setAncestors,\n                                                   CTxMemPoolEntry::Parents& staged_ancestors,\n-                                                  uint64_t limitAncestorCount,\n-                                                  uint64_t limitAncestorSize,\n-                                                  uint64_t limitDescendantCount,\n-                                                  uint64_t limitDescendantSize,\n+                                                  CTxMemPool::Limits limits,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973063014",
      "id" : 973063014,
      "in_reply_to_id" : 973001720,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5845_8Nm",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 190,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/txmempool.cpp",
      "position" : null,
      "pull_request_review_id" : 1110743201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973063014/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T15:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973063014",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973076829"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973076829"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "That looks like a tidier approach indeed, added it to `kernel/mempool_limits.h` (w default argument) to avoid circular dependence between `txmempool.h`, `kernel/mempool_limits.h` and `policy/policy.h`. Thanks!",
      "commit_id" : "c17d4683f8cb30be8a6f1908afdc346ba3e3b30e",
      "created_at" : "2022-09-16T14:18:43Z",
      "diff_hunk" : "@@ -899,8 +900,16 @@ bool MemPoolAccept::PreChecks(ATMPArgs& args, Workspace& ws)\n         // to be secure by simply only having two immediately-spendable\n         // outputs - one for each counterparty. For more info on the uses for\n         // this, see https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016518.html\n+        CTxMemPool::Limits adjusted_limits{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973076829",
      "id" : 973076829,
      "in_reply_to_id" : 972858901,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5845__ld",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 903,
      "original_position" : 59,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1110743201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973076829/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T15:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973076829",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973092194"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973092194"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I've updated the commit message. Relevant part used to be:\r\n```\r\nThese int64_t members later\r\nget cast into a size_t in CTxMemPool::CTxMemPool() anyway\r\n```\r\nIs now:\r\n```\r\nThese limits represent counts and sizes that should never be\r\nnegative. Currently, the int64_t members later on in the call stack\r\nget cast into a size_t (without bounds checking) in \r\nCTxMemPool::CTxMemPool() anyway, so this type change does not\r\nintroduce any new underflow risks - it just makes them\r\nunsigned earlier on in the process to minimize back-and-forth\r\ntype conversion.\r\n```\r\nDoes that resolve it?",
      "commit_id" : "c17d4683f8cb30be8a6f1908afdc346ba3e3b30e",
      "created_at" : "2022-09-16T14:33:40Z",
      "diff_hunk" : "@@ -17,13 +17,21 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973092194",
      "id" : 973092194,
      "in_reply_to_id" : 972879704,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII5846ADVi",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 20,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 5,
      "pull_request_review_id" : 1110743201,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973092194/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-16T15:35:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973092194",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "you commited `compile_commands.json`",
      "created_at" : "2022-09-16T15:36:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#issuecomment-1249513303",
      "id" : 1249513303,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26103",
      "node_id" : "IC_kwDOABII585Keg9X",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249513303/reactions"
      },
      "updated_at" : "2022-09-16T15:36:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249513303",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22493292?v=4",
         "events_url" : "https://api.github.com/users/aureleoules/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aureleoules/followers",
         "following_url" : "https://api.github.com/users/aureleoules/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aureleoules/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aureleoules",
         "id" : 22493292,
         "login" : "aureleoules",
         "node_id" : "MDQ6VXNlcjIyNDkzMjky",
         "organizations_url" : "https://api.github.com/users/aureleoules/orgs",
         "received_events_url" : "https://api.github.com/users/aureleoules/received_events",
         "repos_url" : "https://api.github.com/users/aureleoules/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aureleoules/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aureleoules/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aureleoules"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> you commited compile_commands.json\r\n\r\nwhoops sorry, fixed and added that to global gitignore",
      "created_at" : "2022-09-16T15:45:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#issuecomment-1249521400",
      "id" : 1249521400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26103",
      "node_id" : "IC_kwDOABII585Kei74",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249521400/reactions"
      },
      "updated_at" : "2022-09-16T15:45:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249521400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25038](https://github.com/bitcoin/bitcoin/pull/25038) (policy: nVersion=3 and Package RBF by glozow)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-09-17T04:08:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#issuecomment-1249993779",
      "id" : 1249993779,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26103",
      "node_id" : "IC_kwDOABII585KgWQz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249993779/reactions"
      },
      "updated_at" : "2022-09-24T22:48:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1249993779",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973607927"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973607927"
         }
      },
      "author_association" : "NONE",
      "body" : "I'm new to the code base so my question may look silly. Why the type of ancestor and descendant count are 64 bit? Isn't  32 bit more than sufficient? Although, I know that's not in the scope of this PR.",
      "commit_id" : "c17d4683f8cb30be8a6f1908afdc346ba3e3b30e",
      "created_at" : "2022-09-17T17:10:57Z",
      "diff_hunk" : "@@ -17,13 +17,21 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r973607927",
      "id" : 973607927,
      "in_reply_to_id" : 972879704,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII5846CBP3",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 20,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 5,
      "pull_request_review_id" : 1111454435,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973607927/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-17T17:17:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/973607927",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/54557628?v=4",
         "events_url" : "https://api.github.com/users/Riahiamirreza/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Riahiamirreza/followers",
         "following_url" : "https://api.github.com/users/Riahiamirreza/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Riahiamirreza/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Riahiamirreza",
         "id" : 54557628,
         "login" : "Riahiamirreza",
         "node_id" : "MDQ6VXNlcjU0NTU3NjI4",
         "organizations_url" : "https://api.github.com/users/Riahiamirreza/orgs",
         "received_events_url" : "https://api.github.com/users/Riahiamirreza/received_events",
         "repos_url" : "https://api.github.com/users/Riahiamirreza/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Riahiamirreza/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Riahiamirreza/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Riahiamirreza"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "As far as I could understand the PR Concept ACK. I think this PR is relatively easy to understand and putting the `good-first-review` label on it can make sense IMO.",
      "created_at" : "2022-09-17T17:17:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#issuecomment-1250108512",
      "id" : 1250108512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26103",
      "node_id" : "IC_kwDOABII585KgyRg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1250108512/reactions"
      },
      "updated_at" : "2022-09-17T17:17:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1250108512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/54557628?v=4",
         "events_url" : "https://api.github.com/users/Riahiamirreza/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Riahiamirreza/followers",
         "following_url" : "https://api.github.com/users/Riahiamirreza/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Riahiamirreza/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Riahiamirreza",
         "id" : 54557628,
         "login" : "Riahiamirreza",
         "node_id" : "MDQ6VXNlcjU0NTU3NjI4",
         "organizations_url" : "https://api.github.com/users/Riahiamirreza/orgs",
         "received_events_url" : "https://api.github.com/users/Riahiamirreza/received_events",
         "repos_url" : "https://api.github.com/users/Riahiamirreza/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Riahiamirreza/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Riahiamirreza/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Riahiamirreza"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force pushed to fix the failing `./test/functional/mempool_package_onemore.py` test. In the last refactoring ([c5e5952](https://github.com/bitcoin/bitcoin/commit/c5e595250e26491b4dfbccab83cd7c6fa77df331) -> [c17d468](https://github.com/bitcoin/bitcoin/commit/c17d4683f8cb30be8a6f1908afdc346ba3e3b30e)) I should have passed `m_limits` when calling `CPFPCarveOutLimits()` because it was modified earlier in `PreChecks()` already. Also removed the argument-less overload of `CPFPCarveOutLimits()` since it's now not used anywhere anymore.",
      "created_at" : "2022-09-20T12:35:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#issuecomment-1252291628",
      "id" : 1252291628,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26103",
      "node_id" : "IC_kwDOABII585KpHQs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252291628/reactions"
      },
      "updated_at" : "2022-09-20T12:35:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1252291628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r975526876"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975526876"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Currently, the int64_t members later on in the call stack\r\n> get cast into a size_t\r\n\r\nYeah so we have virtual size implemented as size_t, unsigned ints, and signed ints in various places in the codebase, and it would be good to switch to 1 type consistently. I don't think there's a PR to do all of them, but #23962 is one.\r\n\r\nMy current thinking is to use signed ints instead of size_t because we're doing arithmetic with these limits (see `CalculateAncestorsAndCheckLimits`, https://github.com/bitcoin/bitcoin/pull/23962#issuecomment-1004994681). So I always use `int64_t` to hold virtual sizes. Not sure where we're going long term :shrug:, but that's why I don't really agree with switching to unsigned.\r\n\r\n> Why the type of ancestor and descendant count are 64 bit? Isn't 32 bit more than sufficient?\r\n\r\nThere's never a need for more than 32 bits, but switching partially would cause integer truncation somewhere.",
      "commit_id" : "55b8e6f6cb8ddcfa25dfda06906b5a4185a85e8a",
      "created_at" : "2022-09-20T15:34:05Z",
      "diff_hunk" : "@@ -17,13 +17,21 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r975526876",
      "id" : 975526876,
      "in_reply_to_id" : 972879704,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII5846JVvc",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 20,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 5,
      "pull_request_review_id" : 1114058602,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975526876/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-20T15:34:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975526876",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r975593764"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975593764"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I understand your reasoning and the one from the linked comment, but I'm not sure it makes sense here. A lot of the comparisons we do are with other `size_t`'s, e.g. from `std::set::size()`. So, we'd either have to unsafely cast them into an int64_t (_probably_ fine, but... not ideal?) or implement a function that does it with bounds checking etc.\r\n\r\nI'm not sure that's preferable? See e.g. the below diff, with some unsafe static_cast as well as implicit conversion (e.g. `CheckPackageLimits()`  passing `package.size()` to `CalculateAncestorsAndCheckLimits()`)\r\n\r\n<details>\r\n<summary>git diff</summary>\r\n\r\n```diff\r\ndiff --git a/src/kernel/mempool_limits.h b/src/kernel/mempool_limits.h\r\nindex fd0979c6c..584af5679 100644\r\n--- a/src/kernel/mempool_limits.h\r\n+++ b/src/kernel/mempool_limits.h\r\n@@ -17,20 +17,20 @@ namespace kernel {\r\n  */\r\n struct MemPoolLimits {\r\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\r\n-    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\r\n+    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\r\n     //! The maximum allowed size in virtual bytes of an entry and its ancestors within a package.\r\n-    uint64_t ancestor_size_vbytes{DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1'000};\r\n+    int64_t ancestor_size_vbytes{DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1'000};\r\n     //! The maximum allowed number of transactions in a package including the entry and its descendants.\r\n-    uint64_t descendant_count{DEFAULT_DESCENDANT_LIMIT};\r\n+    int64_t descendant_count{DEFAULT_DESCENDANT_LIMIT};\r\n     //! The maximum allowed size in virtual bytes of an entry and its descendants within a package.\r\n-    uint64_t descendant_size_vbytes{DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1'000};\r\n+    int64_t descendant_size_vbytes{DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1'000};\r\n \r\n     /**\r\n      * @return MemPoolLimits with all the limits set to the maximum\r\n      */\r\n     static MemPoolLimits NoLimits()\r\n     {\r\n-        uint64_t no_limit{std::numeric_limits<uint64_t>::max()};\r\n+        int64_t no_limit{std::numeric_limits<int64_t>::max()};\r\n         return {no_limit, no_limit, no_limit, no_limit};\r\n     }\r\n \r\ndiff --git a/src/txmempool.cpp b/src/txmempool.cpp\r\nindex 3097473ac..ee5ffff7b 100644\r\n--- a/src/txmempool.cpp\r\n+++ b/src/txmempool.cpp\r\n@@ -183,14 +183,14 @@ void CTxMemPool::UpdateTransactionsFromBlock(const std::vector<uint256>& vHashes\r\n     }\r\n }\r\n \r\n-bool CTxMemPool::CalculateAncestorsAndCheckLimits(size_t entry_size,\r\n-                                                  size_t entry_count,\r\n+bool CTxMemPool::CalculateAncestorsAndCheckLimits(int64_t entry_size,\r\n+                                                  int64_t entry_count,\r\n                                                   setEntries& setAncestors,\r\n                                                   CTxMemPoolEntry::Parents& staged_ancestors,\r\n                                                   const Limits& limits,\r\n                                                   std::string &errString) const\r\n {\r\n-    size_t totalSizeWithAncestors = entry_size;\r\n+    int64_t totalSizeWithAncestors = entry_size;\r\n \r\n     while (!staged_ancestors.empty()) {\r\n         const CTxMemPoolEntry& stage = staged_ancestors.begin()->get();\r\n@@ -241,7 +241,7 @@ bool CTxMemPool::CheckPackageLimits(const Package& package,\r\n             std::optional<txiter> piter = GetIter(input.prevout.hash);\r\n             if (piter) {\r\n                 staged_ancestors.insert(**piter);\r\n-                if (staged_ancestors.size() + package.size() > limits.ancestor_count) {\r\n+                if (static_cast<int64_t>(staged_ancestors.size() + package.size()) > limits.ancestor_count) {\r\n                     errString = strprintf(\"too many unconfirmed parents [limit: %u]\", limits.ancestor_count);\r\n                     return false;\r\n                 }\r\n@@ -277,7 +277,7 @@ bool CTxMemPool::CalculateMemPoolAncestors(const CTxMemPoolEntry &entry,\r\n             std::optional<txiter> piter = GetIter(tx.vin[i].prevout.hash);\r\n             if (piter) {\r\n                 staged_ancestors.insert(**piter);\r\n-                if (staged_ancestors.size() + 1 > limits.ancestor_count) {\r\n+                if (static_cast<int64_t>(staged_ancestors.size() + 1) > limits.ancestor_count) {\r\n                     errString = strprintf(\"too many unconfirmed parents [limit: %u]\", limits.ancestor_count);\r\n                     return false;\r\n                 }\r\n\r\n```\r\n\r\n</details>",
      "commit_id" : "55b8e6f6cb8ddcfa25dfda06906b5a4185a85e8a",
      "created_at" : "2022-09-20T16:38:24Z",
      "diff_hunk" : "@@ -17,13 +17,21 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r975593764",
      "id" : 975593764,
      "in_reply_to_id" : 972879704,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII5846JmEk",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 20,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 5,
      "pull_request_review_id" : 1114156688,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975593764/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-20T16:38:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/975593764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r981094778"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981094778"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think maybe c6f9d0361b for a separate PR\r\n\r\nThis is definitely policy logic and thus belongs there (sorry for the churn as I know I asked you to move it to policy before realizing there was a circular dependency), I think it's better to stay in validation.cpp than move to mempool_limits.h.\r\n\r\nPerhaps a future change to put all the policy constants in policy/settings or policy/constants or something, and then we can put this in policy where it belongs?",
      "commit_id" : "ae3a5f33f9ba0037bb01d4cb2d6713c8e2abd2ed",
      "created_at" : "2022-09-27T11:03:26Z",
      "diff_hunk" : "@@ -17,13 +17,33 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n     //! The maximum allowed size in virtual bytes of an entry and its ancestors within a package.\n-    int64_t ancestor_size_vbytes{DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1'000};\n+    uint64_t ancestor_size_vbytes{DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1'000};\n     //! The maximum allowed number of transactions in a package including the entry and its descendants.\n-    int64_t descendant_count{DEFAULT_DESCENDANT_LIMIT};\n+    uint64_t descendant_count{DEFAULT_DESCENDANT_LIMIT};\n     //! The maximum allowed size in virtual bytes of an entry and its descendants within a package.\n-    int64_t descendant_size_vbytes{DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1'000};\n+    uint64_t descendant_size_vbytes{DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1'000};\n+\n+    /**\n+     * @return MemPoolLimits with all the limits set to the maximum\n+     */\n+    static MemPoolLimits NoLimits()\n+    {\n+        uint64_t no_limit{std::numeric_limits<uint64_t>::max()};\n+        return {no_limit, no_limit, no_limit, no_limit};\n+    }\n+\n+    /** Modify the current mempool limits to reflect what is allowed under CPFP carve out policy. */\n+    static MemPoolLimits CPFPCarveOutLimits(const MemPoolLimits& current_limits)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r981094778",
      "id" : 981094778,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5846elF6",
      "original_commit_id" : "55b8e6f6cb8ddcfa25dfda06906b5a4185a85e8a",
      "original_line" : 38,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : null,
      "pull_request_review_id" : 1121767380,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981094778/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-28T14:57:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981094778",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r981285513"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981285513"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@glozow:\r\n\r\n> So I always use int64_t to hold virtual sizes. Not sure where we're going long term , but that's why I don't really agree with switching to unsigned.\r\n\r\nI went through all the places where any of the 4 members of `MemPoolLimits` are accessed. In all of them, except for one (see below), they are immediately cast to a uint. This happens explicitly e.g. [here](https://github.com/bitcoin/bitcoin/blob/9fcdb9f3a044330d3d7515fa35709102c98534d2/src/txmempool.cpp#L123), or implicitly by passing it to a fn/ctor/variable that expects a uint or size_t (e.g. [here](https://github.com/bitcoin/bitcoin/blob/9fcdb9f3a044330d3d7515fa35709102c98534d2/src/node/interfaces.cpp#L662-L664) or [here](https://github.com/bitcoin/bitcoin/blob/9fcdb9f3a044330d3d7515fa35709102c98534d2/src/node/interfaces.cpp#L650-L651) or [here](https://github.com/bitcoin/bitcoin/blob/9fcdb9f3a044330d3d7515fa35709102c98534d2/src/validation.cpp#L427-L431)).\r\n\r\nThe only place where we actually use the signedness of any of the members is here: https://github.com/bitcoin/bitcoin/blob/9fcdb9f3a044330d3d7515fa35709102c98534d2/src/init.cpp#L1418 \r\nI don't think the implicit conversion introduced by this PR is problematic.\r\n\r\nFor that reason, I would argue that updating the `MemPoolLimits` members to be `uint64_t` instead of `int64_t` (which is necessary to avoid compiler warnings that we're comparing uint with int in all of the places outlined the diff [here](https://github.com/bitcoin/bitcoin/pull/26103#discussion_r975593764)) is - except for the one case - not a regression, and is the most straightforward implementation for the goal of this PR. I currently have no objection to what is being proposed in https://github.com/bitcoin/bitcoin/pull/23962, but I feel like changing these members and all subsequent call sites to signed integers is orthogonal and would unnecessarily introduce complexity and controversy for this PR. As such, my preference would be to not do it here.\r\n\r\nWhat do you think? If you agree with making `MemPoolLimits` members `uint64_t`, I will do a force push that removes the now unneccessary uint casts such as [here](https://github.com/bitcoin/bitcoin/blob/9fcdb9f3a044330d3d7515fa35709102c98534d2/src/txmempool.cpp#L123).",
      "commit_id" : "ae3a5f33f9ba0037bb01d4cb2d6713c8e2abd2ed",
      "created_at" : "2022-09-27T13:58:51Z",
      "diff_hunk" : "@@ -17,13 +17,21 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r981285513",
      "id" : 981285513,
      "in_reply_to_id" : 972879704,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII5846fTqJ",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 20,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 5,
      "pull_request_review_id" : 1122052544,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981285513/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-27T14:01:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981285513",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r982502650"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982502650"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Ah I see, thank you very much for going through the usage! I agree it seems appropriate to defer to a later PR.",
      "commit_id" : "ae3a5f33f9ba0037bb01d4cb2d6713c8e2abd2ed",
      "created_at" : "2022-09-28T14:45:22Z",
      "diff_hunk" : "@@ -17,13 +17,21 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r982502650",
      "id" : 982502650,
      "in_reply_to_id" : 972879704,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII5846j8z6",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 20,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 5,
      "pull_request_review_id" : 1121767380,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982502650/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-28T14:57:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982502650",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r982514871"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982514871"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in 55b8e6f6cb:\r\n\r\nWhy not just use default copy?\r\n```suggestion\r\n        m_limits{m_pool.m_limits}\r\n```",
      "commit_id" : "ae3a5f33f9ba0037bb01d4cb2d6713c8e2abd2ed",
      "created_at" : "2022-09-28T14:55:09Z",
      "diff_hunk" : "@@ -424,11 +424,18 @@ namespace {\n class MemPoolAccept\n {\n public:\n-    explicit MemPoolAccept(CTxMemPool& mempool, Chainstate& active_chainstate) : m_pool(mempool), m_view(&m_dummy), m_viewmempool(&active_chainstate.CoinsTip(), m_pool), m_active_chainstate(active_chainstate),\n-        m_limit_ancestors(m_pool.m_limits.ancestor_count),\n-        m_limit_ancestor_size(m_pool.m_limits.ancestor_size_vbytes),\n-        m_limit_descendants(m_pool.m_limits.descendant_count),\n-        m_limit_descendant_size(m_pool.m_limits.descendant_size_vbytes) {\n+    explicit MemPoolAccept(CTxMemPool& mempool, Chainstate& active_chainstate) :\n+        m_pool(mempool),\n+        m_view(&m_dummy),\n+        m_viewmempool(&active_chainstate.CoinsTip(), m_pool),\n+        m_active_chainstate(active_chainstate),\n+        m_limits{\n+            .ancestor_count = m_pool.m_limits.ancestor_count,\n+            .ancestor_size_vbytes = m_pool.m_limits.ancestor_size_vbytes,\n+            .descendant_count = m_pool.m_limits.descendant_count,\n+            .descendant_size_vbytes = m_pool.m_limits.descendant_size_vbytes\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r982514871",
      "id" : 982514871,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5846j_y3",
      "original_commit_id" : "55b8e6f6cb8ddcfa25dfda06906b5a4185a85e8a",
      "original_line" : 437,
      "original_position" : 19,
      "original_start_line" : 432,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1121767380,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982514871/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-28T14:57:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982514871",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r982562697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982562697"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Okay that makes sense, I didn't have a strong view either way - no problem at all. I've reverted it back to the previous version (calling it `cpfp_carve_out_limits` this time) and then it can be refactored out in a follow-up.",
      "commit_id" : "ae3a5f33f9ba0037bb01d4cb2d6713c8e2abd2ed",
      "created_at" : "2022-09-28T15:34:59Z",
      "diff_hunk" : "@@ -17,13 +17,33 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n     //! The maximum allowed size in virtual bytes of an entry and its ancestors within a package.\n-    int64_t ancestor_size_vbytes{DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1'000};\n+    uint64_t ancestor_size_vbytes{DEFAULT_ANCESTOR_SIZE_LIMIT_KVB * 1'000};\n     //! The maximum allowed number of transactions in a package including the entry and its descendants.\n-    int64_t descendant_count{DEFAULT_DESCENDANT_LIMIT};\n+    uint64_t descendant_count{DEFAULT_DESCENDANT_LIMIT};\n     //! The maximum allowed size in virtual bytes of an entry and its descendants within a package.\n-    int64_t descendant_size_vbytes{DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1'000};\n+    uint64_t descendant_size_vbytes{DEFAULT_DESCENDANT_SIZE_LIMIT_KVB * 1'000};\n+\n+    /**\n+     * @return MemPoolLimits with all the limits set to the maximum\n+     */\n+    static MemPoolLimits NoLimits()\n+    {\n+        uint64_t no_limit{std::numeric_limits<uint64_t>::max()};\n+        return {no_limit, no_limit, no_limit, no_limit};\n+    }\n+\n+    /** Modify the current mempool limits to reflect what is allowed under CPFP carve out policy. */\n+    static MemPoolLimits CPFPCarveOutLimits(const MemPoolLimits& current_limits)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r982562697",
      "id" : 982562697,
      "in_reply_to_id" : 981094778,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5846kLeJ",
      "original_commit_id" : "55b8e6f6cb8ddcfa25dfda06906b5a4185a85e8a",
      "original_line" : 38,
      "original_position" : 26,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : null,
      "pull_request_review_id" : 1123924967,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982562697/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-28T15:41:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982562697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r982563279"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982563279"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "That's definitely how a sane person would do it yes, woops. Thank you - updated!",
      "commit_id" : "ae3a5f33f9ba0037bb01d4cb2d6713c8e2abd2ed",
      "created_at" : "2022-09-28T15:35:32Z",
      "diff_hunk" : "@@ -424,11 +424,18 @@ namespace {\n class MemPoolAccept\n {\n public:\n-    explicit MemPoolAccept(CTxMemPool& mempool, Chainstate& active_chainstate) : m_pool(mempool), m_view(&m_dummy), m_viewmempool(&active_chainstate.CoinsTip(), m_pool), m_active_chainstate(active_chainstate),\n-        m_limit_ancestors(m_pool.m_limits.ancestor_count),\n-        m_limit_ancestor_size(m_pool.m_limits.ancestor_size_vbytes),\n-        m_limit_descendants(m_pool.m_limits.descendant_count),\n-        m_limit_descendant_size(m_pool.m_limits.descendant_size_vbytes) {\n+    explicit MemPoolAccept(CTxMemPool& mempool, Chainstate& active_chainstate) :\n+        m_pool(mempool),\n+        m_view(&m_dummy),\n+        m_viewmempool(&active_chainstate.CoinsTip(), m_pool),\n+        m_active_chainstate(active_chainstate),\n+        m_limits{\n+            .ancestor_count = m_pool.m_limits.ancestor_count,\n+            .ancestor_size_vbytes = m_pool.m_limits.ancestor_size_vbytes,\n+            .descendant_count = m_pool.m_limits.descendant_count,\n+            .descendant_size_vbytes = m_pool.m_limits.descendant_size_vbytes\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r982563279",
      "id" : 982563279,
      "in_reply_to_id" : 982514871,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5846kLnP",
      "original_commit_id" : "55b8e6f6cb8ddcfa25dfda06906b5a4185a85e8a",
      "original_line" : 437,
      "original_position" : 19,
      "original_start_line" : 432,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1123924967,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982563279/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-09-28T15:41:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982563279",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.",
      "created_at" : "2022-10-04T09:16:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#issuecomment-1266647172",
      "id" : 1266647172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/26103",
      "node_id" : "IC_kwDOABII585Lf4CE",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1266647172/reactions"
      },
      "updated_at" : "2022-10-04T09:16:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1266647172",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r986641966"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986641966"
         }
      },
      "author_association" : "MEMBER",
      "body" : "3611c2bd710d147fbed815180e512f2af0061e83, approach NACK.\r\n\r\nI do not agree that switching to unsigned type is an improvement. Especially for variables involved in arithmetic and comparison operations.\r\n\r\nFor example, see https://www.aristeia.com/Papers/C++ReportColumns/sep95.pdf",
      "commit_id" : "ae3a5f33f9ba0037bb01d4cb2d6713c8e2abd2ed",
      "created_at" : "2022-10-04T09:27:51Z",
      "diff_hunk" : "@@ -17,13 +17,21 @@ namespace kernel {\n  */\n struct MemPoolLimits {\n     //! The maximum allowed number of transactions in a package including the entry and its ancestors.\n-    int64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};\n+    uint64_t ancestor_count{DEFAULT_ANCESTOR_LIMIT};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/26103#discussion_r986641966",
      "id" : 986641966,
      "in_reply_to_id" : 972879704,
      "line" : 20,
      "node_id" : "PRRC_kwDOABII5846zvYu",
      "original_commit_id" : "c5e595250e26491b4dfbccab83cd7c6fa77df331",
      "original_line" : 20,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_limits.h",
      "position" : 5,
      "pull_request_review_id" : 1129592541,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/26103",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986641966/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-10-04T09:27:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/986641966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
