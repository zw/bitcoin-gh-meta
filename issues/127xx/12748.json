{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "Built commit 90a0aed51194ad82da8e011b96f9561c685e40b7. It has been working fine until now, when it failed to start up. I use an alias to run it:\r\n\r\n    alias btcd='~/Programs/bitcoin.git/src/qt/bitcoin-qt      -datadir=/home/chris/.bitcoin-prune'\r\n\r\nWhen I ran it, I saw this:\r\n\r\n    chris@chris:~$ btcd\r\n    ICE default IO error handler doing an exit(), pid = 17342, errno = 32\r\n    bitcoin-qt: /usr/include/boost/signals2/detail/lwm_pthreads.hpp:60: void boost::signals2::mutex::lock(): \r\n    Assertion `pthread_mutex_lock(&m_) == 0' failed.\r\n    Aborted\r\n    chris@chris:~$ \r\n\r\nThe debug.log file didn't have much in it, just the following:\r\n\r\n    2018-03-21 13:35:41 Bitcoin Core version v0.16.99.0-fbaac219d-dirty (release build)\r\n    2018-03-21 13:35:41 InitParameterInteraction: parameter interaction: -whitelistforcerelay=1 -> setting -whitelistrelay=1\r\n    2018-03-21 13:43:10 Assuming ancestors of block 0000000000000000005214481d2d96f898e3d5416e43359c145944a909d242e0 have valid signatures.\r\n    2018-03-21 13:43:10 Setting nMinimumChainWork=000000000000000000000000000000000000000000f91c579d57cad4bc5278cc\r\n    2018-03-21 13:43:10 Prune configured to target 600600MiB on disk for block and undo files.\r\n    2018-03-21 13:43:10 Using the 'sse4' SHA256 implementation\r\n    2018-03-21 13:43:10 Using RdRand as an additional entropy source\r\n    2018-03-21 13:43:10 Default data directory /home/chris/.bitcoin\r\n    2018-03-21 13:43:10 Using data directory `Ã¯Â¿Â½MjÃ¯Â¿Â½Uris/.bitcoin-prune\r\n    2018-03-21 13:43:10 Using config file /home/chris/Ã¯Â¿Â½8cjÃ¯Â¿Â½Uris/.bitcoin-prune/bitcoin.conf\r\n    2018-03-21 13:43:10 Using at most 125 automatic connections (1024 file descriptors available)\r\n    2018-03-21 13:43:10 Warning: relative datadir option 'PsmjÃ¯Â¿Â½Uris/.bitcoin-prune' specified, which will be interpreted relative to the current working directory '/home/chris'. This is fragile, because if bitcoin is started in the future from a different location, it will be unable to locate the current data files. There could also be data loss if bitcoin is started while in a temporary directory.\r\n    2018-03-21 13:43:10 Using 16 MiB out of 32/2 requested for signature cache, able to store 524288 elements\r\n    2018-03-21 13:43:10 Using 16 MiB out of 32/2 requested for script execution cache, able to store 524288 elements\r\n    2018-03-21 13:43:10 Using 2 threads for script verification\r\n    2018-03-21 13:43:10 scheduler thread start\r\n    2018-03-21 13:43:10 Using wallet directory `Ã¯Â¿Â½MjÃ¯Â¿Â½Uris/.bitcoin-prune\r\n\r\nNote the corrupted datadir paths. It contains some non-ASCII characters, so I'm not sure how best to preserve them. Here's a screenshot as rendered in GNU Emacs:\r\n\r\n![screenshot_2018-03-21_10-56-42](https://user-images.githubusercontent.com/573356/37728159-c821bf12-2cf6-11e8-96fb-488cd0be9e28.png)\r\n\r\nand here's the file itself:\r\n\r\n[debug.log](https://github.com/bitcoin/bitcoin/files/1834593/debug.log)\r\n\r\nI was running `wipe` to wipe an external hard drive at the same time, which is the only thing I can think of that was different than usual. The command I was running was `sudo wipe -q -Q 1 -kD /dev/sdb`. Nothing from /dev/sdb was mounted at the time, so it shouldn't have caused this, but I figured I should mention it.\r\n\r\nEdit: oh, another thing that was different than usual was that I locked the laptop screen immediately after hitting return to the `btcd` command. Usually I would wait and watch the UI appear.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12748/comments",
   "created_at" : "2018-03-21T18:01:56Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12748/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/12748",
   "id" : 307357782,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12748/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 12748,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "datadir path corruption while starting bitcoin-qt",
   "updated_at" : "2018-03-21T18:09:11Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12748",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
      "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
      "followers_url" : "https://api.github.com/users/dooglus/followers",
      "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
      "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/dooglus",
      "id" : 573356,
      "login" : "dooglus",
      "organizations_url" : "https://api.github.com/users/dooglus/orgs",
      "received_events_url" : "https://api.github.com/users/dooglus/received_events",
      "repos_url" : "https://api.github.com/users/dooglus/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/dooglus"
   }
}
