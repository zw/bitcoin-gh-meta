[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ctp-tsteenholdt Please remember to squash/rebase.",
      "created_at" : "2018-03-23T14:24:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-375681449",
      "id" : 375681449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-23T14:24:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375681449",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/33541170?v=4",
         "events_url" : "https://api.github.com/users/randolf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/randolf/followers",
         "following_url" : "https://api.github.com/users/randolf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/randolf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/randolf",
         "id" : 33541170,
         "login" : "randolf",
         "organizations_url" : "https://api.github.com/users/randolf/orgs",
         "received_events_url" : "https://api.github.com/users/randolf/received_events",
         "repos_url" : "https://api.github.com/users/randolf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/randolf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/randolf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/randolf"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@randolf That makes total sense. My apologies - looking into it right now...",
      "created_at" : "2018-03-23T14:57:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-375692307",
      "id" : 375692307,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-23T14:57:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375692307",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "We already have a `bitcoind.service` in `contrib/init/` - what is the difference with this one, can we avoid duplicating it?",
      "created_at" : "2018-03-26T19:36:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-376285682",
      "id" : 376285682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-26T19:36:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376285682",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@randolf The pull request should look better now - please let me know if I'm missing something.",
      "created_at" : "2018-03-26T19:37:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-376286084",
      "id" : 376286084,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-26T19:37:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376286084",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@laanwj I'm completely with you on that question, but I don't think we can feasibly avoid multiple versions of a file like this. The different versions of the `bitcoind.service` in the `contrib/` tree have subtle differences to make them work best for their particular purpose. The differences reflect distro-specifics such as location of environment files, dependency services etc.\r\n\r\nAlso, building a package for Ubuntu or Debian requires a full copy of the `contrib/debian/` folder, including the `bitcoind.service` file, to allow the packaging helper `dh` to recognize, treat and install it correctly.\r\n\r\nIt think distro-specific files are probably better maintained within distro specific folders such as `contrib/debian/` or `contrib/rpm/`, as part of the overall package maintenance for that distro. This avoids possible breakage from a change made for a different distro too.\r\n\r\nTo underline that the `contrib/init/` version is still very relevant, it will be the goto file for people on platforms without a specific package or people who prefer to build from source. This file can be easily adapted to work well on most systems.\r\n\r\nPlease let me know what you think.",
      "created_at" : "2018-03-27T11:02:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-376484636",
      "id" : 376484636,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-27T11:02:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376484636",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@ctp-tsteenholdt If it is intentional, then IMO it's not a problem. Arguably the debian-specific file is easier to maintain because at least it aims for a specific environment and can be tested there, not 'all distributions in general', which has made the file under `contrib/init/` a real pain in practice (see e.g. discussion in #12255).",
      "created_at" : "2018-03-27T14:16:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-376541442",
      "id" : 376541442,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-27T14:16:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376541442",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@laanwj That's exactly right.",
      "created_at" : "2018-03-27T15:03:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-376559096",
      "id" : 376559096,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-27T15:03:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376559096",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Would be good to have an ACK from @TheBlueMatt here.",
      "created_at" : "2018-03-28T11:30:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-376854091",
      "id" : 376854091,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-28T11:30:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376854091",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r177836750"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177836750"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe make it explicit that they should check /var/lib/bitcoin for things like wallets?",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-03-28T17:54:10Z",
      "diff_hunk" : "@@ -0,0 +1,32 @@\n+#!/bin/sh\n+\n+# setup bitcoin account, homedir etc\n+\n+set -e\n+\n+BCUSER=\"bitcoin\"\n+BCHOME=\"/var/lib/bitcoin\"\n+\n+if [ \"$1\" = \"purge\" ]; then\n+\n+\t# The bitcoin user is left in place for now - This is to ensure that a new user\n+\t# will not inherit the users UID/GID and inadvertently gain access to wallets etc\n+\n+\t# The homedir is also left intact to ensure that we don't accidentally delete a\n+\t# wallet or something equally important\n+\n+\techo\n+\techo \"#\"\n+\techo \"#  The bitcoin user (${BCUSER}) and data dir (${BCHOME})\"\n+\techo \"#  were left intact.\"\n+\techo \"#\"\n+\techo \"#  After backing up all vital data, cleanup can be completed\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r177836750",
      "id" : 177836750,
      "original_commit_id" : "dc1e178692f55367cc614ae6e8438ed4ac0bfca3",
      "original_position" : 23,
      "path" : "contrib/debian/bitcoind.postrm",
      "position" : null,
      "pull_request_review_id" : 107784661,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-20T10:35:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177836750",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r177836978"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177836978"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "May be nice to make the datadir explicit so that we dont have /var/lib/bitcoin/.bitcoin and instead just put stuff in /var/lib/bitcoin?",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-03-28T17:54:51Z",
      "diff_hunk" : "@@ -0,0 +1,45 @@\n+# It is not recommended to modify this file in-place, because it will\n+# be overwritten during package upgrades. If you want to add further\n+# options or overwrite existing ones then use\n+# $ systemctl edit bitcoind.service\n+# See \"man systemd.service\" for details.\n+\n+# Note that almost all daemon options could be specified in\n+# /etc/bitcoin/bitcoin.conf\n+\n+[Unit]\n+Description=Bitcoin daemon\n+After=network.target\n+\n+[Service]\n+ExecStart=/usr/bin/bitcoind -daemon -conf=/etc/bitcoin/bitcoin.conf -pid=/run/bitcoind/bitcoind.pid",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r177836978",
      "id" : 177836978,
      "original_commit_id" : "dc1e178692f55367cc614ae6e8438ed4ac0bfca3",
      "original_position" : 15,
      "path" : "contrib/debian/bitcoind.service",
      "position" : null,
      "pull_request_review_id" : 107784661,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-20T10:35:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177836978",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r177837443"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177837443"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Can you pull the backporting of existing debian/ contents out into a separate commit to make it easier to track?",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-03-28T17:56:14Z",
      "diff_hunk" : "@@ -6,18 +6,44 @@\n #\t$(if $(filter nocheck,$(DEB_BUILD_OPTIONS)),,src/test_bitcoin)\n \n %:\n-\tdh --with bash-completion $@\n+\tdh --with bash-completion --with systemd $@\n \n override_dh_auto_clean:\n \tif [ -f Makefile ]; then $(MAKE) distclean; fi\n \trm -rf Makefile.in aclocal.m4 configure src/Makefile.in src/bitcoin-config.h.in src/build-aux src/qt/Makefile.in src/qt/test/Makefile.in src/test/Makefile.in\n \n QT=$(shell dpkg-vendor --derives-from Ubuntu && echo qt4 || echo qt5)\n+# qt4 is very broken on arm",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r177837443",
      "id" : 177837443,
      "original_commit_id" : "dc1e178692f55367cc614ae6e8438ed4ac0bfca3",
      "original_position" : 12,
      "path" : "contrib/debian/rules",
      "position" : 12,
      "pull_request_review_id" : 107784661,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-20T10:35:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/177837443",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thanks @TheBlueMatt. Each of your comments make perfect sense and I'll have them all addressed.",
      "created_at" : "2018-03-28T21:45:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-377047866",
      "id" : 377047866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-28T21:45:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377047866",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I've addressed the suggestions made by @TheBlueMatt, run a test dpkg-buildpackage using the updated `contrib/debian/` tree and tested that the package changes work as expected, with success.\r\n\r\nThe commits have been updated to reflect the changes.",
      "created_at" : "2018-03-29T16:45:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-377298043",
      "id" : 377298043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-29T16:45:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377298043",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Travis indicates an error but it seems unrelated to this PR?",
      "created_at" : "2018-03-30T02:27:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-377427878",
      "id" : 377427878,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-03-30T02:27:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377427878",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@TheBlueMatt can you take another look?\r\nWould be good to get this merged, I think.",
      "created_at" : "2018-04-07T13:55:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-379471130",
      "id" : 379471130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-07T13:56:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379471130",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hmm, if you're gonna pull some of the debian changes upstream, can you just pull all of them? Especially getting the changelog and other stuff out of sync seems not ideal.",
      "created_at" : "2018-04-17T19:12:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-382108445",
      "id" : 382108445,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-17T19:12:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382108445",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r182195159"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182195159"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Why not create the directory? If its empty it will be deleted on uninstall, but if ther user ever tries to use the service things will simply fail to start, no?",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-04-17T19:13:59Z",
      "diff_hunk" : "@@ -0,0 +1,27 @@\n+#!/bin/sh\n+\n+# setup bitcoin account, homedir etc\n+\n+set -e\n+\n+BCUSER=\"bitcoin\"\n+BCHOME=\"/var/lib/bitcoin\"\n+\n+if [ \"$1\" = \"configure\" ]; then\n+\n+\t# Add bitcoin user/group - this will gracefully abort if the user already exists.\n+\t# A homedir is never created.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r182195159",
      "id" : 182195159,
      "original_commit_id" : "859eea683d34fb1c8870015c1b4d260057913c30",
      "original_position" : 13,
      "path" : "contrib/debian/bitcoind.postinst",
      "position" : 13,
      "pull_request_review_id" : 112954120,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-20T10:35:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182195159",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r182446347"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182446347"
         }
      },
      "author_association" : "NONE",
      "body" : "The reason for this approach is that, if for whatever reason the user has changed ownership or permissions on the `/var/lib/bitcoin` directory, we don't want to mess with that on operations like reconfigure, update etc.\r\n\r\n`adduser` does not let me specify custom homedir permissions, so I'm using `--no-create-home` to work around that. A missing home directory becomes a stable indicator that this is a fresh install, making it safe for me to create the directory and set the restrictive default permissions.\r\n",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-04-18T14:25:58Z",
      "diff_hunk" : "@@ -0,0 +1,27 @@\n+#!/bin/sh\n+\n+# setup bitcoin account, homedir etc\n+\n+set -e\n+\n+BCUSER=\"bitcoin\"\n+BCHOME=\"/var/lib/bitcoin\"\n+\n+if [ \"$1\" = \"configure\" ]; then\n+\n+\t# Add bitcoin user/group - this will gracefully abort if the user already exists.\n+\t# A homedir is never created.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r182446347",
      "id" : 182446347,
      "in_reply_to_id" : 182195159,
      "original_commit_id" : "859eea683d34fb1c8870015c1b4d260057913c30",
      "original_position" : 13,
      "path" : "contrib/debian/bitcoind.postinst",
      "position" : 13,
      "pull_request_review_id" : 113242410,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-20T10:35:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182446347",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@TheBlueMatt I'm not sure what you mean by:\r\n\r\n_Hmm, if you're gonna pull some of the debian changes upstream, can you just pull all of them? Especially getting the changelog and other stuff out of sync seems not ideal._\r\n\r\nUpstream in this case would essentially be your PPA right? Or is there somewhere else?\r\n\r\nI can certainly take a look at any other differences between this tree and yours and see if it makes sense to include in this PR or create a separate one for getting those in sync? Is this what you mean?",
      "created_at" : "2018-04-18T14:38:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-382410174",
      "id" : 382410174,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-18T14:38:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382410174",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r182452558"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182452558"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Oh, I misread the script, sorry.",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-04-18T14:41:56Z",
      "diff_hunk" : "@@ -0,0 +1,27 @@\n+#!/bin/sh\n+\n+# setup bitcoin account, homedir etc\n+\n+set -e\n+\n+BCUSER=\"bitcoin\"\n+BCHOME=\"/var/lib/bitcoin\"\n+\n+if [ \"$1\" = \"configure\" ]; then\n+\n+\t# Add bitcoin user/group - this will gracefully abort if the user already exists.\n+\t# A homedir is never created.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r182452558",
      "id" : 182452558,
      "in_reply_to_id" : 182195159,
      "original_commit_id" : "859eea683d34fb1c8870015c1b4d260057913c30",
      "original_position" : 13,
      "path" : "contrib/debian/bitcoind.postinst",
      "position" : 13,
      "pull_request_review_id" : 113250011,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-20T10:35:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182452558",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Yea, just pull the stuff from the PPA's debian tar.",
      "created_at" : "2018-04-18T14:42:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-382411351",
      "id" : 382411351,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-18T14:42:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382411351",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Alright - I'm looking in to it...",
      "created_at" : "2018-04-18T15:22:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-382425505",
      "id" : 382425505,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-18T15:22:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382425505",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@TheBlueMatt so I took all the changes from your upstream PPA debian tar and committed them as a single commit. After that, I committed the Systemd changes in a separate commit.\r\n\r\nAs a precaution I've run a local build and made sure that things still work as expected.",
      "created_at" : "2018-04-18T19:26:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-382501563",
      "id" : 382501563,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-18T19:26:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382501563",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r182928535"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182928535"
         }
      },
      "author_association" : "MEMBER",
      "body" : "These additional categories were just added in #12854",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-04-20T01:50:42Z",
      "diff_hunk" : "@@ -10,5 +10,4 @@ Terminal=false\n Type=Application\n Icon=bitcoin128\n MimeType=x-scheme-handler/bitcoin;\n-Categories=Office;Finance;P2P;Network;Qt;\n-StartupWMClass=Bitcoin-qt\n+Categories=Office;Finance;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r182928535",
      "id" : 182928535,
      "original_commit_id" : "f3b62f85ad8e37c18135a392b0f27f33f3e1e5aa",
      "original_position" : 13,
      "path" : "contrib/debian/bitcoin-qt.desktop",
      "position" : null,
      "pull_request_review_id" : 113829067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-20T10:35:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182928535",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r182999455"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182999455"
         }
      },
      "author_association" : "NONE",
      "body" : "@fanquake thanks. I'll get that sorted out here...",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-04-20T09:43:35Z",
      "diff_hunk" : "@@ -10,5 +10,4 @@ Terminal=false\n Type=Application\n Icon=bitcoin128\n MimeType=x-scheme-handler/bitcoin;\n-Categories=Office;Finance;P2P;Network;Qt;\n-StartupWMClass=Bitcoin-qt\n+Categories=Office;Finance;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r182999455",
      "id" : 182999455,
      "in_reply_to_id" : 182928535,
      "original_commit_id" : "f3b62f85ad8e37c18135a392b0f27f33f3e1e5aa",
      "original_position" : 13,
      "path" : "contrib/debian/bitcoin-qt.desktop",
      "position" : null,
      "pull_request_review_id" : 113913658,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-20T10:35:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/182999455",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "So I re-resolved the conflict with #12854. This time without nuking the accepted changes of that PR. Sorry about that. Thanks @fanquake for the heads up.",
      "created_at" : "2018-04-20T10:40:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-383057943",
      "id" : 383057943,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-20T10:40:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383057943",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@TheBlueMatt is this now ready for merge?",
      "created_at" : "2018-04-26T18:48:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-384751109",
      "id" : 384751109,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-26T18:48:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384751109",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Just tested on Ubuntu 18.04, with no issues related to this PR. There is an unrelated issue with the `libdb++` version that needs to be sorted out, so I built with `--with-incompatible-bdb` to test things out.",
      "created_at" : "2018-04-26T21:43:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-384798306",
      "id" : 384798306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-26T21:54:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/384798306",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r184768854"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184768854"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Why? I dont think anyone would be surprised by their bitcoind going down prior to upgrade instead of only being restarted, and this could break eg a lxc VM as you'll get a text file busy error.",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-04-27T18:21:28Z",
      "diff_hunk" : "@@ -6,18 +6,44 @@\n #\t$(if $(filter nocheck,$(DEB_BUILD_OPTIONS)),,src/test_bitcoin)\n \n %:\n-\tdh --with bash-completion $@\n+\tdh --with bash-completion --with systemd $@\n \n override_dh_auto_clean:\n \tif [ -f Makefile ]; then $(MAKE) distclean; fi\n \trm -rf Makefile.in aclocal.m4 configure src/Makefile.in src/bitcoin-config.h.in src/build-aux src/qt/Makefile.in src/qt/test/Makefile.in src/test/Makefile.in\n \n QT=$(shell dpkg-vendor --derives-from Ubuntu && echo qt4 || echo qt5)\n+# qt4 is very broken on arm\n+ifeq ($(findstring arm,$(shell uname -m)),arm)\n+\tQT=qt5\n+endif\n+ifeq ($(findstring aarch64,$(shell uname -m)),aarch64)\n+\tQT=qt5\n+endif\n \n # Yea, autogen should be run on the source archive, but I like doing git archive\n override_dh_auto_configure:\n \t./autogen.sh\n \t./configure --with-gui=$(QT)\n \n override_dh_auto_test:\n+ifeq ($(QT), qt4)\n+\txvfb-run -n 99 -l make check\n+else\n \tmake check\n+endif\n+\n+# No SysV or Upstart init scripts included\n+override_dh_installinit:\n+\tdh_installinit \\\n+\t\t--noscripts\n+\n+# Dont enable service by default\n+override_dh_systemd_enable:\n+\tdh_systemd_enable \\\n+\t\t--no-enable\n+\n+# Restart after upgrade\n+override_dh_systemd_start:\n+\tdh_systemd_start \\\n+\t\t--restart-after-upgrade",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r184768854",
      "id" : 184768854,
      "original_commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "original_position" : 45,
      "path" : "contrib/debian/rules",
      "position" : 45,
      "pull_request_review_id" : 116036490,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-27T18:25:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184768854",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r184776571"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184776571"
         }
      },
      "author_association" : "NONE",
      "body" : "@TheBlueMatt, good point.\r\n\r\n`--restart-after-upgrade` is default in `dh_systemd_start` from compat level 10, so the reason is perhaps best described as emulating modern defaults. I agree that for bitcoind, there should not be any real issues with using the defaults.\r\n\r\nI don't quite follow the problems you mention though. As far as I can tell, an upgrade should work perfectly, even when leaving the daemon running during the upgrade. Nothing runtime related is touched during the package upgrade, only the new `bitcoind` and `bitcoin-cli` binaries are put into place, making them ready for the late restart. Unless I'm missing something, this should be no different when running in a container?\r\n\r\nIf you feel there's a risk here, I'll happily remove this!",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-04-27T18:50:18Z",
      "diff_hunk" : "@@ -6,18 +6,44 @@\n #\t$(if $(filter nocheck,$(DEB_BUILD_OPTIONS)),,src/test_bitcoin)\n \n %:\n-\tdh --with bash-completion $@\n+\tdh --with bash-completion --with systemd $@\n \n override_dh_auto_clean:\n \tif [ -f Makefile ]; then $(MAKE) distclean; fi\n \trm -rf Makefile.in aclocal.m4 configure src/Makefile.in src/bitcoin-config.h.in src/build-aux src/qt/Makefile.in src/qt/test/Makefile.in src/test/Makefile.in\n \n QT=$(shell dpkg-vendor --derives-from Ubuntu && echo qt4 || echo qt5)\n+# qt4 is very broken on arm\n+ifeq ($(findstring arm,$(shell uname -m)),arm)\n+\tQT=qt5\n+endif\n+ifeq ($(findstring aarch64,$(shell uname -m)),aarch64)\n+\tQT=qt5\n+endif\n \n # Yea, autogen should be run on the source archive, but I like doing git archive\n override_dh_auto_configure:\n \t./autogen.sh\n \t./configure --with-gui=$(QT)\n \n override_dh_auto_test:\n+ifeq ($(QT), qt4)\n+\txvfb-run -n 99 -l make check\n+else\n \tmake check\n+endif\n+\n+# No SysV or Upstart init scripts included\n+override_dh_installinit:\n+\tdh_installinit \\\n+\t\t--noscripts\n+\n+# Dont enable service by default\n+override_dh_systemd_enable:\n+\tdh_systemd_enable \\\n+\t\t--no-enable\n+\n+# Restart after upgrade\n+override_dh_systemd_start:\n+\tdh_systemd_start \\\n+\t\t--restart-after-upgrade",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r184776571",
      "id" : 184776571,
      "in_reply_to_id" : 184768854,
      "original_commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "original_position" : 45,
      "path" : "contrib/debian/rules",
      "position" : 45,
      "pull_request_review_id" : 116045912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-27T18:50:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184776571",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r184777239"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184777239"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Eh, if its default whatever, but linux generally refuses to replace binaries on disk if they are running inside of an LXC/docker container (though will happily do so during normal operation).",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-04-27T18:52:55Z",
      "diff_hunk" : "@@ -6,18 +6,44 @@\n #\t$(if $(filter nocheck,$(DEB_BUILD_OPTIONS)),,src/test_bitcoin)\n \n %:\n-\tdh --with bash-completion $@\n+\tdh --with bash-completion --with systemd $@\n \n override_dh_auto_clean:\n \tif [ -f Makefile ]; then $(MAKE) distclean; fi\n \trm -rf Makefile.in aclocal.m4 configure src/Makefile.in src/bitcoin-config.h.in src/build-aux src/qt/Makefile.in src/qt/test/Makefile.in src/test/Makefile.in\n \n QT=$(shell dpkg-vendor --derives-from Ubuntu && echo qt4 || echo qt5)\n+# qt4 is very broken on arm\n+ifeq ($(findstring arm,$(shell uname -m)),arm)\n+\tQT=qt5\n+endif\n+ifeq ($(findstring aarch64,$(shell uname -m)),aarch64)\n+\tQT=qt5\n+endif\n \n # Yea, autogen should be run on the source archive, but I like doing git archive\n override_dh_auto_configure:\n \t./autogen.sh\n \t./configure --with-gui=$(QT)\n \n override_dh_auto_test:\n+ifeq ($(QT), qt4)\n+\txvfb-run -n 99 -l make check\n+else\n \tmake check\n+endif\n+\n+# No SysV or Upstart init scripts included\n+override_dh_installinit:\n+\tdh_installinit \\\n+\t\t--noscripts\n+\n+# Dont enable service by default\n+override_dh_systemd_enable:\n+\tdh_systemd_enable \\\n+\t\t--no-enable\n+\n+# Restart after upgrade\n+override_dh_systemd_start:\n+\tdh_systemd_start \\\n+\t\t--restart-after-upgrade",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r184777239",
      "id" : 184777239,
      "in_reply_to_id" : 184768854,
      "original_commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "original_position" : 45,
      "path" : "contrib/debian/rules",
      "position" : 45,
      "pull_request_review_id" : 116046690,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-27T18:52:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184777239",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf with or without restart-after-upgrade.",
      "created_at" : "2018-04-27T18:53:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-385062355",
      "id" : 385062355,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-27T18:53:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385062355",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r184784042"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184784042"
         }
      },
      "author_association" : "NONE",
      "body" : "Got it. I've never run into that problem, but haven't really come across a situation where such a setup would be needed. I tend to want to install apps like `bitcoind` inside my containers, in which case this would not be an issue.\r\n\r\nBut if I wanted this kind of setup, I imagine I'd leave `bitcoind` disabled on the host and only start the service inside the container, right?\r\n\r\nIf this is true, then the host level daemon would never be restarted on upgrade as the service is disabled, causing the restart to be skipped on upgrade. The container on the other hand would keep running the \"old\" in-memory binary, until it's restarted by some other means.\r\n\r\nI could be missing something...",
      "commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "created_at" : "2018-04-27T19:21:27Z",
      "diff_hunk" : "@@ -6,18 +6,44 @@\n #\t$(if $(filter nocheck,$(DEB_BUILD_OPTIONS)),,src/test_bitcoin)\n \n %:\n-\tdh --with bash-completion $@\n+\tdh --with bash-completion --with systemd $@\n \n override_dh_auto_clean:\n \tif [ -f Makefile ]; then $(MAKE) distclean; fi\n \trm -rf Makefile.in aclocal.m4 configure src/Makefile.in src/bitcoin-config.h.in src/build-aux src/qt/Makefile.in src/qt/test/Makefile.in src/test/Makefile.in\n \n QT=$(shell dpkg-vendor --derives-from Ubuntu && echo qt4 || echo qt5)\n+# qt4 is very broken on arm\n+ifeq ($(findstring arm,$(shell uname -m)),arm)\n+\tQT=qt5\n+endif\n+ifeq ($(findstring aarch64,$(shell uname -m)),aarch64)\n+\tQT=qt5\n+endif\n \n # Yea, autogen should be run on the source archive, but I like doing git archive\n override_dh_auto_configure:\n \t./autogen.sh\n \t./configure --with-gui=$(QT)\n \n override_dh_auto_test:\n+ifeq ($(QT), qt4)\n+\txvfb-run -n 99 -l make check\n+else\n \tmake check\n+endif\n+\n+# No SysV or Upstart init scripts included\n+override_dh_installinit:\n+\tdh_installinit \\\n+\t\t--noscripts\n+\n+# Dont enable service by default\n+override_dh_systemd_enable:\n+\tdh_systemd_enable \\\n+\t\t--no-enable\n+\n+# Restart after upgrade\n+override_dh_systemd_start:\n+\tdh_systemd_start \\\n+\t\t--restart-after-upgrade",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#discussion_r184784042",
      "id" : 184784042,
      "in_reply_to_id" : 184768854,
      "original_commit_id" : "2a87b1b07c5c4f8b9b34747c5f254c2ae1e824bf",
      "original_position" : 45,
      "path" : "contrib/debian/rules",
      "position" : 45,
      "pull_request_review_id" : 116055163,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12769",
      "updated_at" : "2018-04-27T19:21:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/184784042",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "How will this affect systems that don't have/use systemd?",
      "created_at" : "2018-04-27T21:05:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-385093925",
      "id" : 385093925,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-27T21:05:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385093925",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@luke-jr this affects only debian-based systems (including Ubuntu) with systemd.",
      "created_at" : "2018-04-28T00:07:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-385122854",
      "id" : 385122854,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-28T00:07:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385122854",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I believe @luke-jr's question was \"what about older but still supported Debian-based systems that do not have systemd\", which is a good one. WIll this not result in them failing to build the packages?",
      "created_at" : "2018-04-28T00:20:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-385124217",
      "id" : 385124217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-28T00:20:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385124217",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Older debian systems that are missing the `dh-systemd` package, will fail to build the packages, yes. I believe the (supported) Debian/Ubuntu versions that are affected by this, are Debian 7 (LTS version is EOL at the end of May 2018) and Ubuntu 14.04 LTS (EOL in April 2019).\r\n\r\nI'm running a test on Ubuntu 14.04 right now, to see what kind of issues we're running into on that platform.",
      "created_at" : "2018-04-28T00:47:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-385126624",
      "id" : 385126624,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-28T01:57:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385126624",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "As it turns out, Ubuntu 14.04 LTS actually does have a `dh-systemd` package and apart from the `libdb4.8++-dev` build dependency, that was also causing problems on Ubuntu 18.04, the build is working just fine.\r\n\r\nSince the distro does not actually use systemd, the included `bitcoind.service` simply does nothing.\r\n\r\nFWIW, Debian 7 also has a `dh-systemd` package (in the backports repository), so I guess it's the same story there.",
      "created_at" : "2018-04-28T01:57:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-385131501",
      "id" : 385131501,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-28T02:01:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385131501",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm less concerned with merely old distros, as much as ones that have simply rejected the mandatory-systemd nonsense, such as Devuan.",
      "created_at" : "2018-04-28T02:59:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-385134999",
      "id" : 385134999,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-28T02:59:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385134999",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@luke-jr to build the package, you'd need to have `dh-systemd` installed, but you do *not* need `systemd` to install or use it. If you don't have `systemd` on the system, you simply can't use the systemd service configuration that's included here.",
      "created_at" : "2018-04-28T08:28:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-385152667",
      "id" : 385152667,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-04-28T08:28:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385152667",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Did that last comment answer your questions?",
      "created_at" : "2018-05-01T13:45:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12769#issuecomment-385674024",
      "id" : 385674024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12769",
      "updated_at" : "2018-05-01T13:45:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/385674024",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/37340825?v=4",
         "events_url" : "https://api.github.com/users/ctp-tsteenholdt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ctp-tsteenholdt/followers",
         "following_url" : "https://api.github.com/users/ctp-tsteenholdt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ctp-tsteenholdt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ctp-tsteenholdt",
         "id" : 37340825,
         "login" : "ctp-tsteenholdt",
         "organizations_url" : "https://api.github.com/users/ctp-tsteenholdt/orgs",
         "received_events_url" : "https://api.github.com/users/ctp-tsteenholdt/received_events",
         "repos_url" : "https://api.github.com/users/ctp-tsteenholdt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ctp-tsteenholdt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ctp-tsteenholdt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ctp-tsteenholdt"
      }
   }
]
