[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/21283).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [scgbckbone](https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1757763991) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#bitcoin-core/gui/733](https://github.com/bitcoin-core/gui/pull/733) (Deniability - a tool to automatically improve coin ownership privacy by denavila)\n* [#28528](https://github.com/bitcoin/bitcoin/pull/28528) (test: Use test framework utils in functional tests by osagie98)\n* [#27792](https://github.com/bitcoin/bitcoin/pull/27792) (wallet: Deniability API (Unilateral Transaction Meta-Privacy) by denavila)\n* [#25273](https://github.com/bitcoin/bitcoin/pull/25273) (wallet: Pass through transaction locktime and preset input sequences and scripts to CreateTransaction by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2021-02-24T00:38:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-784639363",
      "id" : 784639363,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc4NDYzOTM2Mw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784639363/reactions"
      },
      "updated_at" : "2023-12-11T11:57:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784639363",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r588408910"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588408910"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Getting a compile error consistent with the CI for these two lines:\r\n\r\n```\r\nrpc/rawtransaction.cpp:1192:16: error: call to member function 'pushKV' is ambiguous\r\n        result.pushKV(\"input_count\", psbtx.inputs.size());\r\n        ~~~~~~~^~~~~~\r\n./univalue/include/univalue.h:127:10: note: candidate function\r\n    bool pushKV(const std::string& key, int64_t val_) {\r\n         ^\r\n./univalue/include/univalue.h:131:10: note: candidate function\r\n    bool pushKV(const std::string& key, uint64_t val_) {\r\n         ^\r\n./univalue/include/univalue.h:135:10: note: candidate function\r\n    bool pushKV(const std::string& key, bool val_) {\r\n         ^\r\n./univalue/include/univalue.h:139:10: note: candidate function\r\n    bool pushKV(const std::string& key, int val_) {\r\n         ^\r\n./univalue/include/univalue.h:143:10: note: candidate function\r\n    bool pushKV(const std::string& key, double val_) {\r\n         ^\r\n./univalue/include/univalue.h:118:10: note: candidate function\r\n    bool pushKV(const std::string& key, const UniValue& val);\r\n         ^\r\n./univalue/include/univalue.h:119:10: note: candidate function not viable: no known conversion from 'std::__1::vector<PSBTInput, std::__1::allocator<PSBTInput> >::size_type' (aka 'unsigned long') to 'const std::string' (aka 'const basic_string<char, char_traits<char>, allocator<char> >') for 2nd argument\r\n    bool pushKV(const std::string& key, const std::string& val_) {\r\n         ^\r\n./univalue/include/univalue.h:123:10: note: candidate function not viable: no known conversion from 'std::__1::vector<PSBTInput, std::__1::allocator<PSBTInput> >::size_type' (aka 'unsigned long') to 'const char *' for 2nd argument\r\n    bool pushKV(const std::string& key, const char *val_) {\r\n         ^\r\nrpc/rawtransaction.cpp:1193:16: error: call to member function 'pushKV' is ambiguous\r\n        result.pushKV(\"output_count\", psbtx.inputs.size());\r\n        ~~~~~~~^~~~~~\r\n./univalue/include/univalue.h:127:10: note: candidate function\r\n    bool pushKV(const std::string& key, int64_t val_) {\r\n         ^\r\n./univalue/include/univalue.h:131:10: note: candidate function\r\n    bool pushKV(const std::string& key, uint64_t val_) {\r\n         ^\r\n./univalue/include/univalue.h:135:10: note: candidate function\r\n    bool pushKV(const std::string& key, bool val_) {\r\n         ^\r\n./univalue/include/univalue.h:139:10: note: candidate function\r\n    bool pushKV(const std::string& key, int val_) {\r\n         ^\r\n./univalue/include/univalue.h:143:10: note: candidate function\r\n    bool pushKV(const std::string& key, double val_) {\r\n         ^\r\n./univalue/include/univalue.h:118:10: note: candidate function\r\n    bool pushKV(const std::string& key, const UniValue& val);\r\n         ^\r\n./univalue/include/univalue.h:119:10: note: candidate function not viable: no known conversion from 'std::__1::vector<PSBTInput, std::__1::allocator<PSBTInput> >::size_type' (aka 'unsigned long') to 'const std::string' (aka 'const basic_string<char, char_traits<char>, allocator<char> >') for 2nd argument\r\n    bool pushKV(const std::string& key, const std::string& val_) {\r\n         ^\r\n./univalue/include/univalue.h:123:10: note: candidate function not viable: no known conversion from 'std::__1::vector<PSBTInput, std::__1::allocator<PSBTInput> >::size_type' (aka 'unsigned long') to 'const char *' for 2nd argument\r\n    bool pushKV(const std::string& key, const char *val_) {\r\n         ^\r\n2 errors generated.\r\n```",
      "commit_id" : "e3a95e02936164af2037ada2d8b385ba17fb40d5",
      "created_at" : "2021-03-05T15:50:58Z",
      "diff_hunk" : "@@ -1107,10 +1157,61 @@ static RPCHelpMan decodepsbt()\n \n     UniValue result(UniValue::VOBJ);\n \n-    // Add the decoded tx\n-    UniValue tx_univ(UniValue::VOBJ);\n-    TxToUniv(CTransaction(*psbtx.tx), uint256(), tx_univ, false);\n-    result.pushKV(\"tx\", tx_univ);\n+    if (psbtx.tx != std::nullopt) {\n+        // Add the decoded tx\n+        UniValue tx_univ(UniValue::VOBJ);\n+        TxToUniv(CTransaction(*psbtx.tx), uint256(), tx_univ, false);\n+        result.pushKV(\"tx\", tx_univ);\n+    }\n+\n+    // Add the global xpubs\n+    UniValue global_xpubs(UniValue::VARR);\n+    for (std::pair<KeyOriginInfo, std::set<CExtPubKey>> xpub_pair : psbtx.m_xpubs) {\n+        for (auto& xpub : xpub_pair.second) {\n+            std::vector<unsigned char> ser_xpub;\n+            ser_xpub.assign(BIP32_EXTKEY_WITH_VERSION_SIZE, 0);\n+            xpub.EncodeWithVersion(ser_xpub.data());\n+\n+            UniValue keypath(UniValue::VOBJ);\n+            keypath.pushKV(\"xpub\", EncodeBase58Check(ser_xpub));\n+            keypath.pushKV(\"master_fingerprint\", HexStr(Span<unsigned char>(xpub_pair.first.fingerprint, xpub_pair.first.fingerprint + 4)));\n+            keypath.pushKV(\"path\", WriteHDKeypath(xpub_pair.first.path));\n+            global_xpubs.push_back(keypath);\n+        }\n+    }\n+    result.pushKV(\"global_xpubs\", global_xpubs);\n+\n+    // Add PSBTv2 stuff\n+    if (psbtx.GetVersion() == 2) {\n+        if (psbtx.tx_version != std::nullopt) {\n+            result.pushKV(\"tx_version\", *psbtx.tx_version);\n+        }\n+        if (psbtx.fallback_locktime != std::nullopt) {\n+            result.pushKV(\"fallback_locktime\", static_cast<uint64_t>(*psbtx.fallback_locktime));\n+        }\n+        result.pushKV(\"input_count\", psbtx.inputs.size());\n+        result.pushKV(\"output_count\", psbtx.inputs.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r588408910",
      "id" : 588408910,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODQwODkxMA==",
      "original_commit_id" : "6e4c04e3a2f376b3f0f2c0a3ccbada2b7a6d845f",
      "original_line" : 1193,
      "original_position" : 127,
      "original_start_line" : 1192,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 605359794,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-05-11T17:52:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588408910",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r588524887"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588524887"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I can't replicate this error at all, but I think I have fixed it.",
      "commit_id" : "e3a95e02936164af2037ada2d8b385ba17fb40d5",
      "created_at" : "2021-03-05T17:51:42Z",
      "diff_hunk" : "@@ -1107,10 +1157,61 @@ static RPCHelpMan decodepsbt()\n \n     UniValue result(UniValue::VOBJ);\n \n-    // Add the decoded tx\n-    UniValue tx_univ(UniValue::VOBJ);\n-    TxToUniv(CTransaction(*psbtx.tx), uint256(), tx_univ, false);\n-    result.pushKV(\"tx\", tx_univ);\n+    if (psbtx.tx != std::nullopt) {\n+        // Add the decoded tx\n+        UniValue tx_univ(UniValue::VOBJ);\n+        TxToUniv(CTransaction(*psbtx.tx), uint256(), tx_univ, false);\n+        result.pushKV(\"tx\", tx_univ);\n+    }\n+\n+    // Add the global xpubs\n+    UniValue global_xpubs(UniValue::VARR);\n+    for (std::pair<KeyOriginInfo, std::set<CExtPubKey>> xpub_pair : psbtx.m_xpubs) {\n+        for (auto& xpub : xpub_pair.second) {\n+            std::vector<unsigned char> ser_xpub;\n+            ser_xpub.assign(BIP32_EXTKEY_WITH_VERSION_SIZE, 0);\n+            xpub.EncodeWithVersion(ser_xpub.data());\n+\n+            UniValue keypath(UniValue::VOBJ);\n+            keypath.pushKV(\"xpub\", EncodeBase58Check(ser_xpub));\n+            keypath.pushKV(\"master_fingerprint\", HexStr(Span<unsigned char>(xpub_pair.first.fingerprint, xpub_pair.first.fingerprint + 4)));\n+            keypath.pushKV(\"path\", WriteHDKeypath(xpub_pair.first.path));\n+            global_xpubs.push_back(keypath);\n+        }\n+    }\n+    result.pushKV(\"global_xpubs\", global_xpubs);\n+\n+    // Add PSBTv2 stuff\n+    if (psbtx.GetVersion() == 2) {\n+        if (psbtx.tx_version != std::nullopt) {\n+            result.pushKV(\"tx_version\", *psbtx.tx_version);\n+        }\n+        if (psbtx.fallback_locktime != std::nullopt) {\n+            result.pushKV(\"fallback_locktime\", static_cast<uint64_t>(*psbtx.fallback_locktime));\n+        }\n+        result.pushKV(\"input_count\", psbtx.inputs.size());\n+        result.pushKV(\"output_count\", psbtx.inputs.size());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r588524887",
      "id" : 588524887,
      "in_reply_to_id" : 588408910,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODUyNDg4Nw==",
      "original_commit_id" : "6e4c04e3a2f376b3f0f2c0a3ccbada2b7a6d845f",
      "original_line" : 1193,
      "original_position" : 127,
      "original_start_line" : 1192,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : null,
      "pull_request_review_id" : 605464591,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-05-11T17:52:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588524887",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-03-17T12:44:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-801052263",
      "id" : 801052263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwMTA1MjI2Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-17T12:44:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/801052263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-03-29T14:21:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-809419845",
      "id" : 809419845,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgwOTQxOTg0NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-03-29T14:21:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/809419845",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-04-19T07:45:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-822251049",
      "id" : 822251049,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyMjI1MTA0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-19T07:45:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/822251049",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r617606053"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617606053"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is erroring for me: `psbt.cpp:(.text+0x4ca): undefined reference to 'CTransaction::CURRENT_VERSION'`",
      "commit_id" : "e3a95e02936164af2037ada2d8b385ba17fb40d5",
      "created_at" : "2021-04-21T14:33:41Z",
      "diff_hunk" : "@@ -19,6 +19,14 @@ PartiallySignedTransaction::PartiallySignedTransaction(const CMutableTransaction\n     SetupFromTx(tx);\n }\n \n+PartiallySignedTransaction::PartiallySignedTransaction(uint32_t version) :\n+    m_version(version)\n+{\n+    if (GetVersion() >= 2) {\n+        tx_version = CTransaction::CURRENT_VERSION;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r617606053",
      "id" : 617606053,
      "line" : 26,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNzYwNjA1Mw==",
      "original_commit_id" : "776419b72e3408db736667ccbcda399564b6110b",
      "original_line" : 26,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/psbt.cpp",
      "position" : 26,
      "pull_request_review_id" : 641170499,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T17:52:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617606053",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It seems this PR doesn't actually populate the `global_xpubs` field. At least not when I craft a PSBT in the GUI. See also  #20533. Could be left to a followup though, or perhaps directly on top of #17034.",
      "created_at" : "2021-04-29T11:56:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-829169134",
      "id" : 829169134,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgyOTE2OTEzNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-29T11:59:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/829169134",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r629810121"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629810121"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@achow101, the BIP says that this should CompactSize which I assume means VarInt in bitcoin context? But the implementation serializes this as uint32_t",
      "commit_id" : "e3a95e02936164af2037ada2d8b385ba17fb40d5",
      "created_at" : "2021-05-11T02:49:52Z",
      "diff_hunk" : "@@ -661,6 +804,10 @@ struct PartiallySignedTransaction\n \n         // Read global data\n         bool found_sep = false;\n+        uint32_t input_count = 0;\n+        uint32_t output_count = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r629810121",
      "id" : 629810121,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyOTgxMDEyMQ==",
      "original_commit_id" : "dd0ea68a16dfe761ba3864a5a170b55a1e82e422",
      "original_line" : 808,
      "original_position" : 211,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 656238966,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T17:52:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629810121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6881849?v=4",
         "events_url" : "https://api.github.com/users/sanket1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sanket1729/followers",
         "following_url" : "https://api.github.com/users/sanket1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sanket1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sanket1729",
         "id" : 6881849,
         "login" : "sanket1729",
         "node_id" : "MDQ6VXNlcjY4ODE4NDk=",
         "organizations_url" : "https://api.github.com/users/sanket1729/orgs",
         "received_events_url" : "https://api.github.com/users/sanket1729/received_events",
         "repos_url" : "https://api.github.com/users/sanket1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sanket1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sanket1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sanket1729"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r630401901"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630401901"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops, fixed.",
      "commit_id" : "e3a95e02936164af2037ada2d8b385ba17fb40d5",
      "created_at" : "2021-05-11T17:52:19Z",
      "diff_hunk" : "@@ -661,6 +804,10 @@ struct PartiallySignedTransaction\n \n         // Read global data\n         bool found_sep = false;\n+        uint32_t input_count = 0;\n+        uint32_t output_count = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r630401901",
      "id" : 630401901,
      "in_reply_to_id" : 629810121,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQwMTkwMQ==",
      "original_commit_id" : "dd0ea68a16dfe761ba3864a5a170b55a1e82e422",
      "original_line" : 808,
      "original_position" : 211,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 657040599,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-11T17:52:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630401901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-05-30T11:54:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-850987790",
      "id" : 850987790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1MDk4Nzc5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-30T11:54:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/850987790",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-06-17T21:59:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-863590379",
      "id" : 863590379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg2MzU5MDM3OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-06-17T21:59:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863590379",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-08-02T11:32:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-890952963",
      "id" : 890952963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII5841Gt0D",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-02T11:32:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/890952963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-09-23T08:31:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-925606578",
      "id" : 925606578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII5843K6Ky",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-23T08:31:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/925606578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r720172858"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720172858"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it should be:\r\n\r\n`if (m_version != std::nullopt && m_version > 0) {`\r\n->\r\n`if (m_version != std::nullopt && *m_version > 0) {`\r\n\r\nat least your next commit makes me think so (https://github.com/bitcoin/bitcoin/pull/21283/commits/92ff609c1ef9d3cd848d08b4bbec1cdbf4ae4f0b#diff-2fb519d85c6ae99cd87c94e5b7cba43ff2ddd031b2c523dd2ffb12e991c16494R438)",
      "commit_id" : "b9db1b1daaaafec62547e665c144ccc1199fc9e3",
      "created_at" : "2021-10-01T11:37:42Z",
      "diff_hunk" : "@@ -428,6 +433,12 @@ struct PartiallySignedTransaction\n         OverrideStream<Stream> os(&s, s.GetType(), s.GetVersion() | SERIALIZE_TRANSACTION_NO_WITNESS);\n         SerializeToVector(os, *tx);\n \n+        // PSBT version\n+        if (m_version != std::nullopt && m_version > 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r720172858",
      "id" : 720172858,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584q7Pc6",
      "original_commit_id" : "015f133e9a2a19c36b637e41306fd17831d615d7",
      "original_line" : 437,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 768858112,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720172858/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-01T11:37:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720172858",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "In c8b879609f02288975e3a6f714fbcfa1a93edcbc (*moveonly: Move (Un)Serialize(To/From)Vector, (De)SerializeHDKeypaths to psbt module*), should you possibly move/copy `#include <streams.h>`, `#include <span.h>` and `#include <script/keyorigin.h>`?",
      "created_at" : "2021-10-01T11:52:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-932161256",
      "id" : 932161256,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII5843j6bo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932161256/reactions"
      },
      "updated_at" : "2021-10-01T11:52:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932161256",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r720405967"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720405967"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "1fcbc6651f0f6a7b68deee709db4f4435e37adc2",
      "created_at" : "2021-10-01T17:02:16Z",
      "diff_hunk" : "@@ -428,6 +433,12 @@ struct PartiallySignedTransaction\n         OverrideStream<Stream> os(&s, s.GetType(), s.GetVersion() | SERIALIZE_TRANSACTION_NO_WITNESS);\n         SerializeToVector(os, *tx);\n \n+        // PSBT version\n+        if (m_version != std::nullopt && m_version > 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r720405967",
      "id" : 720405967,
      "in_reply_to_id" : 720172858,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584q8IXP",
      "original_commit_id" : "015f133e9a2a19c36b637e41306fd17831d615d7",
      "original_line" : 437,
      "original_position" : 31,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 769194788,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720405967/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-01T17:02:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720405967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit 0bd656b64e72e29f255a860c71c542f5a9f18c17 (*Separate individual HD Keypath serialization into separate functions*)\r\n\r\nShould line:\r\n\r\n```cpp\r\nif (value_len % 4 || value_len == 0) {\r\n```\r\n\r\nbe\r\n\r\n```cpp\r\nif (value_len % 4 != 0 || value_len == 0) {\r\n```\r\n\r\nto make it more explicit?",
      "created_at" : "2021-10-02T19:20:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-932807463",
      "id" : 932807463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII5843mYMn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932807463/reactions"
      },
      "updated_at" : "2021-10-02T19:20:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932807463",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Is it possible that in commit 459fd3b0cc646f5ab02dd3cfd239c7a0418e6a32 (*Implement operator< for KeyOriginInfo and CExtPubKey *)\r\n\r\n```cpp\r\nelse if (a.pubkey > b.pubkey) {\r\n    return false;\r\n}\r\n```\r\n\r\nis missing?",
      "created_at" : "2021-10-02T19:41:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-932810576",
      "id" : 932810576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII5843mY9Q",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932810576/reactions"
      },
      "updated_at" : "2021-10-02T19:41:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932810576",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kiminuo\r\n\r\n\r\n\r\n> In commit [0bd656b](https://github.com/bitcoin/bitcoin/commit/0bd656b64e72e29f255a860c71c542f5a9f18c17) (_Separate individual HD Keypath serialization into separate functions_)\r\n> \r\n> Should line:\r\n> \r\n> ```c++\r\n> if (value_len % 4 || value_len == 0) {\r\n> ```\r\n> \r\n> be\r\n> \r\n> ```c++\r\n> if (value_len % 4 != 0 || value_len == 0) {\r\n> ```\r\n> \r\n> to make it more explicit?\r\n\r\nThis is moved code, so I will not be changing it.\r\n\r\n\r\n\r\n> Is it possible that in commit [459fd3b](https://github.com/bitcoin/bitcoin/commit/459fd3b0cc646f5ab02dd3cfd239c7a0418e6a32) (*Implement operator< for KeyOriginInfo and CExtPubKey *)\r\n> \r\n> ```c++\r\n> else if (a.pubkey > b.pubkey) {\r\n>     return false;\r\n> }\r\n> ```\r\n> \r\n> is missing?\r\n\r\nDone.\r\n\r\n***\r\n\r\nIn the future, please leave such comments on the code as inline comments rather than comments like this. It makes it much easier to respond directly to specific questions such as these.",
      "created_at" : "2021-10-03T17:34:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-932993789",
      "id" : 932993789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII5843nFr9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932993789/reactions"
      },
      "updated_at" : "2021-10-03T17:34:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932993789",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721951968"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721951968"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I believe that `operator>` implementation is missing for `CPubKey` class:\r\n\r\n```cpp\r\n    friend bool operator>(const CPubKey& a, const CPubKey& b)\r\n    {\r\n        return a.vch[0] > b.vch[0] ||\r\n               (a.vch[0] == b.vch[0] && memcmp(a.vch, b.vch, a.size()) > 0);\r\n    }\r\n```\r\n\r\nfor this line to work and that's why tests fail at the moment.",
      "commit_id" : "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
      "created_at" : "2021-10-05T07:13:29Z",
      "diff_hunk" : "@@ -305,8 +307,20 @@ struct CExtPubKey {\n         return !(a == b);\n     }\n \n+    friend bool operator<(const CExtPubKey &a, const CExtPubKey &b)\n+    {\n+        if (a.pubkey < b.pubkey) {\n+            return true;\n+        } else if (a.pubkey > b.pubkey) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721951968",
      "id" : 721951968,
      "line" : 314,
      "node_id" : "PRRC_kwDOABII584rCBzg",
      "original_commit_id" : "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
      "original_line" : 314,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/pubkey.h",
      "position" : 24,
      "pull_request_review_id" : 771058571,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721951968/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-05T07:13:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721951968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721953484"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721953484"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should `#include <uint256.h>` be added?",
      "commit_id" : "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
      "created_at" : "2021-10-05T07:15:44Z",
      "diff_hunk" : "@@ -56,68 +184,109 @@ struct PSBTInput\n     CScriptWitness final_script_witness;\n     std::map<CPubKey, KeyOriginInfo> hd_keypaths;\n     std::map<CKeyID, SigPair> partial_sigs;\n+    uint256 prev_txid;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721953484",
      "id" : 721953484,
      "line" : 187,
      "node_id" : "PRRC_kwDOABII584rCCLM",
      "original_commit_id" : "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
      "original_line" : 187,
      "original_position" : 168,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : 168,
      "pull_request_review_id" : 771060650,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721953484/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-05T07:15:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721953484",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721955741"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721955741"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should the [original comment](https://github.com/bitcoin/bitcoin/pull/21283/commits/7d6ac06858d5f15de5fd86b2c055efd6c3bc8345#diff-2fb519d85c6ae99cd87c94e5b7cba43ff2ddd031b2c523dd2ffb12e991c16494L748) be preserved in some way?",
      "commit_id" : "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
      "created_at" : "2021-10-05T07:19:06Z",
      "diff_hunk" : "@@ -56,68 +184,109 @@ struct PSBTInput\n     CScriptWitness final_script_witness;\n     std::map<CPubKey, KeyOriginInfo> hd_keypaths;\n     std::map<CKeyID, SigPair> partial_sigs;\n+    uint256 prev_txid;\n+    std::optional<uint32_t> prev_out;\n+    std::optional<uint32_t> sequence;\n+    std::optional<uint32_t> time_locktime;\n+    std::optional<uint32_t> height_locktime;\n     std::map<std::vector<unsigned char>, std::vector<unsigned char>> unknown;\n+    std::set<PSBTProprietary> m_proprietary;\n     int sighash_type = 0;\n \n+    uint32_t m_psbt_version;\n+\n     bool IsNull() const;\n     void FillSignatureData(SignatureData& sigdata) const;\n     void FromSignatureData(const SignatureData& sigdata);\n     void Merge(const PSBTInput& input);\n-    PSBTInput() {}\n+    bool GetUTXO(CTxOut& utxo) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721955741",
      "id" : 721955741,
      "line" : 202,
      "node_id" : "PRRC_kwDOABII584rCCud",
      "original_commit_id" : "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
      "original_line" : 202,
      "original_position" : 184,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : 184,
      "pull_request_review_id" : 771063735,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721955741/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-05T07:19:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721955741",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/58662979?v=4",
         "events_url" : "https://api.github.com/users/kiminuo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kiminuo/followers",
         "following_url" : "https://api.github.com/users/kiminuo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kiminuo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kiminuo",
         "id" : 58662979,
         "login" : "kiminuo",
         "node_id" : "MDQ6VXNlcjU4NjYyOTc5",
         "organizations_url" : "https://api.github.com/users/kiminuo/orgs",
         "received_events_url" : "https://api.github.com/users/kiminuo/received_events",
         "repos_url" : "https://api.github.com/users/kiminuo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kiminuo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kiminuo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491290"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491290"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done. Keep in mind this commit (and the first 15 of this PR) are part of #17034 so comments on them are better suited for that PR.",
      "commit_id" : "59d0af20e4fa46a059af30be286d09c075e0331f",
      "created_at" : "2021-10-05T18:13:42Z",
      "diff_hunk" : "@@ -305,8 +307,20 @@ struct CExtPubKey {\n         return !(a == b);\n     }\n \n+    friend bool operator<(const CExtPubKey &a, const CExtPubKey &b)\n+    {\n+        if (a.pubkey < b.pubkey) {\n+            return true;\n+        } else if (a.pubkey > b.pubkey) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491290",
      "id" : 722491290,
      "in_reply_to_id" : 721951968,
      "line" : 319,
      "node_id" : "PRRC_kwDOABII584rEFea",
      "original_commit_id" : "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
      "original_line" : 319,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "src/pubkey.h",
      "position" : 36,
      "pull_request_review_id" : 771816940,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491290/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-05T18:13:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491348"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491348"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "59d0af20e4fa46a059af30be286d09c075e0331f",
      "created_at" : "2021-10-05T18:13:47Z",
      "diff_hunk" : "@@ -56,68 +184,109 @@ struct PSBTInput\n     CScriptWitness final_script_witness;\n     std::map<CPubKey, KeyOriginInfo> hd_keypaths;\n     std::map<CKeyID, SigPair> partial_sigs;\n+    uint256 prev_txid;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491348",
      "id" : 722491348,
      "in_reply_to_id" : 721953484,
      "line" : 188,
      "node_id" : "PRRC_kwDOABII584rEFfU",
      "original_commit_id" : "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
      "original_line" : 188,
      "original_position" : 168,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : 169,
      "pull_request_review_id" : 771817138,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491348/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-05T18:13:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491348",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491407"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491407"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "59d0af20e4fa46a059af30be286d09c075e0331f",
      "created_at" : "2021-10-05T18:13:52Z",
      "diff_hunk" : "@@ -56,68 +184,109 @@ struct PSBTInput\n     CScriptWitness final_script_witness;\n     std::map<CPubKey, KeyOriginInfo> hd_keypaths;\n     std::map<CKeyID, SigPair> partial_sigs;\n+    uint256 prev_txid;\n+    std::optional<uint32_t> prev_out;\n+    std::optional<uint32_t> sequence;\n+    std::optional<uint32_t> time_locktime;\n+    std::optional<uint32_t> height_locktime;\n     std::map<std::vector<unsigned char>, std::vector<unsigned char>> unknown;\n+    std::set<PSBTProprietary> m_proprietary;\n     int sighash_type = 0;\n \n+    uint32_t m_psbt_version;\n+\n     bool IsNull() const;\n     void FillSignatureData(SignatureData& sigdata) const;\n     void FromSignatureData(const SignatureData& sigdata);\n     void Merge(const PSBTInput& input);\n-    PSBTInput() {}\n+    bool GetUTXO(CTxOut& utxo) const;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491407",
      "id" : 722491407,
      "in_reply_to_id" : 721955741,
      "line" : 209,
      "node_id" : "PRRC_kwDOABII584rEFgP",
      "original_commit_id" : "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
      "original_line" : 209,
      "original_position" : 184,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : 191,
      "pull_request_review_id" : 771817339,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491407/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-10-05T18:13:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491407",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-11-16T04:03:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-969837291",
      "id" : 969837291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII5845zorr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/969837291/reactions"
      },
      "updated_at" : "2021-11-16T04:03:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/969837291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-11-29T16:46:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-981815689",
      "id" : 981815689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII5846hVGJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981815689/reactions"
      },
      "updated_at" : "2021-11-29T16:46:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981815689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-12-08T05:23:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-988509994",
      "id" : 988509994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII584663cq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988509994/reactions"
      },
      "updated_at" : "2021-12-08T05:23:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/988509994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-12-09T10:46:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-989734179",
      "id" : 989734179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII5846_iUj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989734179/reactions"
      },
      "updated_at" : "2021-12-09T10:46:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/989734179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-12-13T08:38:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-992229214",
      "id" : 992229214,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII5847JDde",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992229214/reactions"
      },
      "updated_at" : "2021-12-13T08:38:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/992229214",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-03-30T14:32:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1083215742",
      "id" : 1083215742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585AkI9-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1083215742/reactions"
      },
      "updated_at" : "2022-03-30T14:32:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1083215742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-03-31T07:23:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1084193946",
      "id" : 1084193946,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585An3ya",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1084193946/reactions"
      },
      "updated_at" : "2022-03-31T07:23:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1084193946",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-04-15T11:56:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1100062399",
      "id" : 1100062399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585BkZ6_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1100062399/reactions"
      },
      "updated_at" : "2022-04-15T11:56:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1100062399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-06-28T16:27:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1168943822",
      "id" : 1168943822,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585FrKrO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1168943822/reactions"
      },
      "updated_at" : "2022-06-28T16:27:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1168943822",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-07-27T11:24:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1196603166",
      "id" : 1196603166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585HUrce",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1196603166/reactions"
      },
      "updated_at" : "2022-07-27T11:24:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1196603166",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-01T09:45:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1200969447",
      "id" : 1200969447,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585HlVbn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200969447/reactions"
      },
      "updated_at" : "2022-08-01T09:45:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200969447",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-10-20T00:26:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1284733983",
      "id" : 1284733983,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585Mk3wf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1284733983/reactions"
      },
      "updated_at" : "2022-10-20T00:26:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1284733983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2022-12-09T17:34:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1344578589",
      "id" : 1344578589,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585QJKQd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1344578589/reactions"
      },
      "updated_at" : "2022-12-09T17:34:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1344578589",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-01-17T10:23:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1385165318",
      "id" : 1385165318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585Sj_IG",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1385165318/reactions"
      },
      "updated_at" : "2023-01-17T10:23:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1385165318",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089050722"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089050722"
         }
      },
      "author_association" : "MEMBER",
      "body" : "does this constructor ever get used? I don't see it being used ",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T14:52:44Z",
      "diff_hunk" : "@@ -20,6 +20,14 @@ PartiallySignedTransaction::PartiallySignedTransaction(const CMutableTransaction\n     SetupFromTx(tx);\n }\n \n+PartiallySignedTransaction::PartiallySignedTransaction(uint32_t version) :",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089050722",
      "id" : 1089050722,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585A6Zhi",
      "original_commit_id" : "be9e558f3e48b4b3afb56b299297543649af3356",
      "original_line" : 23,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/psbt.cpp",
      "position" : null,
      "pull_request_review_id" : 1272832862,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089050722/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T19:00:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089050722",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089059006"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089059006"
         }
      },
      "author_association" : "MEMBER",
      "body" : "should this be using `psbt_version`?",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T14:59:13Z",
      "diff_hunk" : "@@ -1686,7 +1687,15 @@ RPCHelpMan walletcreatefundedpsbt()\n     FundTransaction(wallet, rawTx, fee, change_position, options, coin_control, /*override_min_fee=*/true);\n \n     // Make a blank psbt\n-    PartiallySignedTransaction psbtx(rawTx);\n+    uint32_t psbt_version = 2;\n+    if (!request.params[5].isNull()) {\n+        psbt_version = request.params[5].getInt<int>();\n+    }\n+    if (psbt_version != 2 && psbt_version != 0) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"The PSBT version can only be 2 or 0\");\n+    }\n+\n+    PartiallySignedTransaction psbtx(rawTx, /* version=*/ 2);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089059006",
      "id" : 1089059006,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585A6bi-",
      "original_commit_id" : "d4f0cdc8e932b4829c9f567b7bbc30b79280de30",
      "original_line" : 1698,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : null,
      "pull_request_review_id" : 1272832862,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089059006/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T19:00:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089059006",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089061218"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089061218"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If we're internally defaulting to v2, probably better just to have constructor default for that value as well?",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T15:01:10Z",
      "diff_hunk" : "@@ -961,31 +1160,31 @@ struct PartiallySignedTransaction\n     /** Merge psbt into this. The two psbts must have the same underlying CTransaction (i.e. the\n       * same actual Bitcoin transaction.) Returns true if the merge succeeded, false otherwise. */\n     [[nodiscard]] bool Merge(const PartiallySignedTransaction& psbt);\n-    bool AddInput(const CTxIn& txin, PSBTInput& psbtin);\n-    bool AddOutput(const CTxOut& txout, const PSBTOutput& psbtout);\n+    bool AddInput(PSBTInput& psbtin);\n+    bool AddOutput(const PSBTOutput& psbtout);\n+    void SetupFromTx(const CMutableTransaction& tx);\n+    void CacheUnsignedTxPieces();\n+    bool ComputeTimeLock(uint32_t& locktime) const;\n+    CMutableTransaction GetUnsignedTx() const;\n+    uint256 GetUniqueID() const;\n     PartiallySignedTransaction() {}\n-    explicit PartiallySignedTransaction(const CMutableTransaction& tx);\n-    /**\n-     * Finds the UTXO for a given input index\n-     *\n-     * @param[out] utxo The UTXO of the input if found\n-     * @param[in] input_index Index of the input to retrieve the UTXO of\n-     * @return Whether the UTXO for the specified input was found\n-     */\n-    bool GetInputUTXO(CTxOut& utxo, int input_index) const;\n+    PartiallySignedTransaction(uint32_t version);\n+    explicit PartiallySignedTransaction(const CMutableTransaction& tx, uint32_t version = 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089061218",
      "id" : 1089061218,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585A6cFi",
      "original_commit_id" : "d4f0cdc8e932b4829c9f567b7bbc30b79280de30",
      "original_line" : 1172,
      "original_position" : 350,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 1272832862,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089061218/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T19:01:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089061218",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089066000"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089066000"
         }
      },
      "author_association" : "MEMBER",
      "body" : "this function is only for v0, why would we remove something for v2?",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T15:05:27Z",
      "diff_hunk" : "@@ -1691,40 +1755,46 @@ static RPCHelpMan joinpsbts()\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"At least two PSBTs are required to join PSBTs.\");\n     }\n \n-    uint32_t best_version = 1;\n+    int32_t best_version = 1;\n     uint32_t best_locktime = 0xffffffff;\n     for (unsigned int i = 0; i < txs.size(); ++i) {\n         PartiallySignedTransaction psbtx;\n         std::string error;\n         if (!DecodeBase64PSBT(psbtx, txs[i].get_str(), error)) {\n             throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n         }\n+        if (psbtx.GetVersion() != 0) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"joinpsbts only operates on version 0 PSBTs\");\n+        }\n         psbtxs.push_back(psbtx);\n         // Choose the highest version number\n-        if (static_cast<uint32_t>(psbtx.tx->nVersion) > best_version) {\n-            best_version = static_cast<uint32_t>(psbtx.tx->nVersion);\n+        if (*psbtx.tx_version > best_version) {\n+            best_version = *psbtx.tx_version;\n         }\n         // Choose the lowest lock time\n-        if (psbtx.tx->nLockTime < best_locktime) {\n-            best_locktime = psbtx.tx->nLockTime;\n+        if (*psbtx.fallback_locktime < best_locktime) {\n+            best_locktime = *psbtx.fallback_locktime;\n         }\n     }\n \n     // Create a blank psbt where everything will be added\n     PartiallySignedTransaction merged_psbt;\n+    merged_psbt.tx_version = best_version;\n+    merged_psbt.fallback_locktime = best_locktime;\n+    // TODO: Remove for PSBTv2",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089066000",
      "id" : 1089066000,
      "line" : 1784,
      "node_id" : "PRRC_kwDOABII585A6dQQ",
      "original_commit_id" : "d4f0cdc8e932b4829c9f567b7bbc30b79280de30",
      "original_line" : 1784,
      "original_position" : 287,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 287,
      "pull_request_review_id" : 1272832862,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089066000/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T19:01:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089066000",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089068538"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089068538"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please add a test for this case",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T15:07:48Z",
      "diff_hunk" : "@@ -1691,40 +1755,46 @@ static RPCHelpMan joinpsbts()\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"At least two PSBTs are required to join PSBTs.\");\n     }\n \n-    uint32_t best_version = 1;\n+    int32_t best_version = 1;\n     uint32_t best_locktime = 0xffffffff;\n     for (unsigned int i = 0; i < txs.size(); ++i) {\n         PartiallySignedTransaction psbtx;\n         std::string error;\n         if (!DecodeBase64PSBT(psbtx, txs[i].get_str(), error)) {\n             throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n         }\n+        if (psbtx.GetVersion() != 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089068538",
      "id" : 1089068538,
      "line" : 1766,
      "node_id" : "PRRC_kwDOABII585A6d36",
      "original_commit_id" : "d4f0cdc8e932b4829c9f567b7bbc30b79280de30",
      "original_line" : 1766,
      "original_position" : 265,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 265,
      "pull_request_review_id" : 1272832862,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089068538/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T19:01:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089068538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089408756"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089408756"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The intent is to enable this rpc for v2 in the future.",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T20:40:49Z",
      "diff_hunk" : "@@ -1691,40 +1755,46 @@ static RPCHelpMan joinpsbts()\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"At least two PSBTs are required to join PSBTs.\");\n     }\n \n-    uint32_t best_version = 1;\n+    int32_t best_version = 1;\n     uint32_t best_locktime = 0xffffffff;\n     for (unsigned int i = 0; i < txs.size(); ++i) {\n         PartiallySignedTransaction psbtx;\n         std::string error;\n         if (!DecodeBase64PSBT(psbtx, txs[i].get_str(), error)) {\n             throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n         }\n+        if (psbtx.GetVersion() != 0) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"joinpsbts only operates on version 0 PSBTs\");\n+        }\n         psbtxs.push_back(psbtx);\n         // Choose the highest version number\n-        if (static_cast<uint32_t>(psbtx.tx->nVersion) > best_version) {\n-            best_version = static_cast<uint32_t>(psbtx.tx->nVersion);\n+        if (*psbtx.tx_version > best_version) {\n+            best_version = *psbtx.tx_version;\n         }\n         // Choose the lowest lock time\n-        if (psbtx.tx->nLockTime < best_locktime) {\n-            best_locktime = psbtx.tx->nLockTime;\n+        if (*psbtx.fallback_locktime < best_locktime) {\n+            best_locktime = *psbtx.fallback_locktime;\n         }\n     }\n \n     // Create a blank psbt where everything will be added\n     PartiallySignedTransaction merged_psbt;\n+    merged_psbt.tx_version = best_version;\n+    merged_psbt.fallback_locktime = best_locktime;\n+    // TODO: Remove for PSBTv2",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089408756",
      "id" : 1089408756,
      "in_reply_to_id" : 1089066000,
      "line" : 1784,
      "node_id" : "PRRC_kwDOABII585A7w70",
      "original_commit_id" : "d4f0cdc8e932b4829c9f567b7bbc30b79280de30",
      "original_line" : 1784,
      "original_position" : 287,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 287,
      "pull_request_review_id" : 1273441740,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089408756/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T20:40:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089408756",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089409884"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089409884"
         }
      },
      "author_association" : "MEMBER",
      "body" : "One was added in 318d818df7de30ac00551b655640512598ac1595",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T20:42:07Z",
      "diff_hunk" : "@@ -1691,40 +1755,46 @@ static RPCHelpMan joinpsbts()\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"At least two PSBTs are required to join PSBTs.\");\n     }\n \n-    uint32_t best_version = 1;\n+    int32_t best_version = 1;\n     uint32_t best_locktime = 0xffffffff;\n     for (unsigned int i = 0; i < txs.size(); ++i) {\n         PartiallySignedTransaction psbtx;\n         std::string error;\n         if (!DecodeBase64PSBT(psbtx, txs[i].get_str(), error)) {\n             throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n         }\n+        if (psbtx.GetVersion() != 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089409884",
      "id" : 1089409884,
      "in_reply_to_id" : 1089068538,
      "line" : 1766,
      "node_id" : "PRRC_kwDOABII585A7xNc",
      "original_commit_id" : "d4f0cdc8e932b4829c9f567b7bbc30b79280de30",
      "original_line" : 1766,
      "original_position" : 265,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 265,
      "pull_request_review_id" : 1273443481,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089409884/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T20:42:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089409884",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089427184"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089427184"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Dropped that commit.",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T21:00:11Z",
      "diff_hunk" : "@@ -20,6 +20,14 @@ PartiallySignedTransaction::PartiallySignedTransaction(const CMutableTransaction\n     SetupFromTx(tx);\n }\n \n+PartiallySignedTransaction::PartiallySignedTransaction(uint32_t version) :",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089427184",
      "id" : 1089427184,
      "in_reply_to_id" : 1089050722,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585A71bw",
      "original_commit_id" : "be9e558f3e48b4b3afb56b299297543649af3356",
      "original_line" : 23,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/psbt.cpp",
      "position" : null,
      "pull_request_review_id" : 1273469258,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089427184/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T21:00:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089427184",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089427410"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089427410"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, done",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T21:00:18Z",
      "diff_hunk" : "@@ -1686,7 +1687,15 @@ RPCHelpMan walletcreatefundedpsbt()\n     FundTransaction(wallet, rawTx, fee, change_position, options, coin_control, /*override_min_fee=*/true);\n \n     // Make a blank psbt\n-    PartiallySignedTransaction psbtx(rawTx);\n+    uint32_t psbt_version = 2;\n+    if (!request.params[5].isNull()) {\n+        psbt_version = request.params[5].getInt<int>();\n+    }\n+    if (psbt_version != 2 && psbt_version != 0) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"The PSBT version can only be 2 or 0\");\n+    }\n+\n+    PartiallySignedTransaction psbtx(rawTx, /* version=*/ 2);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089427410",
      "id" : 1089427410,
      "in_reply_to_id" : 1089059006,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585A71fS",
      "original_commit_id" : "d4f0cdc8e932b4829c9f567b7bbc30b79280de30",
      "original_line" : 1698,
      "original_position" : 39,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/spend.cpp",
      "position" : null,
      "pull_request_review_id" : 1273469723,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089427410/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T21:00:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089427410",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089428263"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089428263"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added a commit changing it. It's 0 when introduced in order to not break everything.",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T21:00:43Z",
      "diff_hunk" : "@@ -961,31 +1160,31 @@ struct PartiallySignedTransaction\n     /** Merge psbt into this. The two psbts must have the same underlying CTransaction (i.e. the\n       * same actual Bitcoin transaction.) Returns true if the merge succeeded, false otherwise. */\n     [[nodiscard]] bool Merge(const PartiallySignedTransaction& psbt);\n-    bool AddInput(const CTxIn& txin, PSBTInput& psbtin);\n-    bool AddOutput(const CTxOut& txout, const PSBTOutput& psbtout);\n+    bool AddInput(PSBTInput& psbtin);\n+    bool AddOutput(const PSBTOutput& psbtout);\n+    void SetupFromTx(const CMutableTransaction& tx);\n+    void CacheUnsignedTxPieces();\n+    bool ComputeTimeLock(uint32_t& locktime) const;\n+    CMutableTransaction GetUnsignedTx() const;\n+    uint256 GetUniqueID() const;\n     PartiallySignedTransaction() {}\n-    explicit PartiallySignedTransaction(const CMutableTransaction& tx);\n-    /**\n-     * Finds the UTXO for a given input index\n-     *\n-     * @param[out] utxo The UTXO of the input if found\n-     * @param[in] input_index Index of the input to retrieve the UTXO of\n-     * @return Whether the UTXO for the specified input was found\n-     */\n-    bool GetInputUTXO(CTxOut& utxo, int input_index) const;\n+    PartiallySignedTransaction(uint32_t version);\n+    explicit PartiallySignedTransaction(const CMutableTransaction& tx, uint32_t version = 0);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089428263",
      "id" : 1089428263,
      "in_reply_to_id" : 1089061218,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585A71sn",
      "original_commit_id" : "d4f0cdc8e932b4829c9f567b7bbc30b79280de30",
      "original_line" : 1172,
      "original_position" : 350,
      "original_start_line" : null,
      "path" : "src/psbt.h",
      "position" : null,
      "pull_request_review_id" : 1273471599,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089428263/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T21:00:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089428263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089462025"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089462025"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ah, wasn't clear to me ",
      "commit_id" : "89f0958672888ff0a9f8647cf651f263123ac34f",
      "created_at" : "2023-01-27T21:41:22Z",
      "diff_hunk" : "@@ -1691,40 +1755,46 @@ static RPCHelpMan joinpsbts()\n         throw JSONRPCError(RPC_INVALID_PARAMETER, \"At least two PSBTs are required to join PSBTs.\");\n     }\n \n-    uint32_t best_version = 1;\n+    int32_t best_version = 1;\n     uint32_t best_locktime = 0xffffffff;\n     for (unsigned int i = 0; i < txs.size(); ++i) {\n         PartiallySignedTransaction psbtx;\n         std::string error;\n         if (!DecodeBase64PSBT(psbtx, txs[i].get_str(), error)) {\n             throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n         }\n+        if (psbtx.GetVersion() != 0) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"joinpsbts only operates on version 0 PSBTs\");\n+        }\n         psbtxs.push_back(psbtx);\n         // Choose the highest version number\n-        if (static_cast<uint32_t>(psbtx.tx->nVersion) > best_version) {\n-            best_version = static_cast<uint32_t>(psbtx.tx->nVersion);\n+        if (*psbtx.tx_version > best_version) {\n+            best_version = *psbtx.tx_version;\n         }\n         // Choose the lowest lock time\n-        if (psbtx.tx->nLockTime < best_locktime) {\n-            best_locktime = psbtx.tx->nLockTime;\n+        if (*psbtx.fallback_locktime < best_locktime) {\n+            best_locktime = *psbtx.fallback_locktime;\n         }\n     }\n \n     // Create a blank psbt where everything will be added\n     PartiallySignedTransaction merged_psbt;\n+    merged_psbt.tx_version = best_version;\n+    merged_psbt.fallback_locktime = best_locktime;\n+    // TODO: Remove for PSBTv2",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1089462025",
      "id" : 1089462025,
      "in_reply_to_id" : 1089066000,
      "line" : 1784,
      "node_id" : "PRRC_kwDOABII585A798J",
      "original_commit_id" : "d4f0cdc8e932b4829c9f567b7bbc30b79280de30",
      "original_line" : 1784,
      "original_position" : 287,
      "original_start_line" : null,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 287,
      "pull_request_review_id" : 1273523797,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089462025/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T21:41:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1089462025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-02-16T11:23:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1432936532",
      "id" : 1432936532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585VaOBU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1432936532/reactions"
      },
      "updated_at" : "2023-02-16T11:23:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1432936532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1164567117"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164567117"
         }
      },
      "author_association" : "NONE",
      "body" : "Is there a reason for this restriction?",
      "commit_id" : "65105cd1d7bda355f9118cfb1a01911e4596bcf4",
      "created_at" : "2023-04-12T19:43:20Z",
      "diff_hunk" : "@@ -1770,6 +1770,9 @@ static RPCHelpMan joinpsbts()\n         if (!DecodeBase64PSBT(psbtx, txs[i].get_str(), error)) {\n             throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n         }\n+        if (psbtx.GetVersion() != 0) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"joinpsbts only operates on version 0 PSBTs\");\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1164567117",
      "id" : 1164567117,
      "line" : 1806,
      "node_id" : "PRRC_kwDOABII585FaeJN",
      "original_commit_id" : "6433fe1d16e1a8f44a5add963eb9b3c69c37b855",
      "original_line" : 1806,
      "original_position" : 6,
      "original_start_line" : 1773,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 295,
      "pull_request_review_id" : 1381986896,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164567117/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1804,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-04-12T19:43:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164567117",
      "user" : null
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1164574104"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164574104"
         }
      },
      "author_association" : "MEMBER",
      "body" : "IIRC updating this RPC would require pretty significant changes to it that felt out of scope for this PR. I've left it as something to do in a followup in order to keep the scope of the PR limited to just the bare minimum to work with PSBTv2.",
      "commit_id" : "65105cd1d7bda355f9118cfb1a01911e4596bcf4",
      "created_at" : "2023-04-12T19:51:35Z",
      "diff_hunk" : "@@ -1770,6 +1770,9 @@ static RPCHelpMan joinpsbts()\n         if (!DecodeBase64PSBT(psbtx, txs[i].get_str(), error)) {\n             throw JSONRPCError(RPC_DESERIALIZATION_ERROR, strprintf(\"TX decode failed %s\", error));\n         }\n+        if (psbtx.GetVersion() != 0) {\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"joinpsbts only operates on version 0 PSBTs\");\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1164574104",
      "id" : 1164574104,
      "in_reply_to_id" : 1164567117,
      "line" : 1806,
      "node_id" : "PRRC_kwDOABII585Faf2Y",
      "original_commit_id" : "6433fe1d16e1a8f44a5add963eb9b3c69c37b855",
      "original_line" : 1806,
      "original_position" : 6,
      "original_start_line" : 1773,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 295,
      "pull_request_review_id" : 1382003194,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164574104/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1804,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-04-12T19:51:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1164574104",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-04-21T19:34:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1518256505",
      "id" : 1518256505,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585afsF5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1518256505/reactions"
      },
      "updated_at" : "2023-04-21T19:34:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1518256505",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-06-01T20:13:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1572712122",
      "id" : 1572712122,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585dva66",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572712122/reactions"
      },
      "updated_at" : "2023-06-01T20:13:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1572712122",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1287435261"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287435261"
         }
      },
      "author_association" : "NONE",
      "body" : "According to the BIP,\r\n> Inputs not specifying a lock time field can take both types of lock times, as can those that specify both.\r\n\r\nso if I am not missing anything here and both the `time_lock` and `height_lock` of `psbtin` are `std::nullopt`, shouldn't it be accepted irrespective of `input` lock times?",
      "commit_id" : "65105cd1d7bda355f9118cfb1a01911e4596bcf4",
      "created_at" : "2023-08-08T17:19:31Z",
      "diff_hunk" : "@@ -40,51 +46,227 @@ bool PartiallySignedTransaction::Merge(const PartiallySignedTransaction& psbt)\n             m_xpubs[xpub_pair.first].insert(xpub_pair.second.begin(), xpub_pair.second.end());\n         }\n     }\n+    if (fallback_locktime == std::nullopt && psbt.fallback_locktime != std::nullopt) fallback_locktime = psbt.fallback_locktime;\n+    if (m_tx_modifiable != std::nullopt && psbt.m_tx_modifiable != std::nullopt) *m_tx_modifiable |= *psbt.m_tx_modifiable;\n+    if (m_tx_modifiable == std::nullopt && psbt.m_tx_modifiable != std::nullopt) m_tx_modifiable = psbt.m_tx_modifiable;\n     unknown.insert(psbt.unknown.begin(), psbt.unknown.end());\n \n     return true;\n }\n \n-bool PartiallySignedTransaction::AddInput(const CTxIn& txin, PSBTInput& psbtin)\n+bool PartiallySignedTransaction::ComputeTimeLock(uint32_t& locktime) const\n+{\n+    std::optional<uint32_t> time_lock{0};\n+    std::optional<uint32_t> height_lock{0};\n+    for (const PSBTInput& input : inputs) {\n+        if (input.time_locktime != std::nullopt && input.height_locktime == std::nullopt) {\n+            height_lock.reset(); // Transaction can no longer have a height locktime\n+            if (time_lock == std::nullopt) {\n+                return false;\n+            }\n+        } else if (input.time_locktime == std::nullopt && input.height_locktime != std::nullopt) {\n+            time_lock.reset(); // Transaction can no longer have a time locktime\n+            if (height_lock == std::nullopt) {\n+                return false;\n+            }\n+        }\n+        if (input.time_locktime && time_lock != std::nullopt) {\n+            time_lock = std::max(time_lock, input.time_locktime);\n+        }\n+        if (input.height_locktime && height_lock != std::nullopt) {\n+            height_lock = std::max(height_lock, input.height_locktime);\n+        }\n+    }\n+    if (height_lock != std::nullopt && *height_lock > 0) {\n+        locktime = *height_lock;\n+        return true;\n+    }\n+    if (time_lock != std::nullopt && *time_lock > 0) {\n+        locktime = *time_lock;\n+        return true;\n+    }\n+    locktime = fallback_locktime.value_or(0);\n+    return true;\n+}\n+\n+CMutableTransaction PartiallySignedTransaction::GetUnsignedTx() const\n {\n-    if (std::find(tx->vin.begin(), tx->vin.end(), txin) != tx->vin.end()) {\n+    if (tx != std::nullopt) {\n+        return *tx;\n+    }\n+\n+    CMutableTransaction mtx;\n+    mtx.nVersion = *tx_version;\n+    bool locktime_success = ComputeTimeLock(mtx.nLockTime);\n+    assert(locktime_success);\n+    uint32_t max_sequence = CTxIn::SEQUENCE_FINAL;\n+    for (const PSBTInput& input : inputs) {\n+        CTxIn txin;\n+        txin.prevout.hash = input.prev_txid;\n+        txin.prevout.n = *input.prev_out;\n+        txin.nSequence = input.sequence.value_or(max_sequence);\n+        mtx.vin.push_back(txin);\n+    }\n+    for (const PSBTOutput& output : outputs) {\n+        CTxOut txout;\n+        txout.nValue = *output.amount;\n+        txout.scriptPubKey = *output.script;\n+        mtx.vout.push_back(txout);\n+    }\n+    return mtx;\n+}\n+\n+uint256 PartiallySignedTransaction::GetUniqueID() const\n+{\n+    if (tx != std::nullopt) {\n+        return tx->GetHash();\n+    }\n+\n+    // Get the unsigned transaction\n+    CMutableTransaction mtx = GetUnsignedTx();\n+    // Compute the locktime\n+    bool locktime_success = ComputeTimeLock(mtx.nLockTime);\n+    assert(locktime_success);\n+    // Set the sequence numbers to 0\n+    for (CTxIn& txin : mtx.vin) {\n+        txin.nSequence = 0;\n+    }\n+    return mtx.GetHash();\n+}\n+\n+bool PartiallySignedTransaction::AddInput(PSBTInput& psbtin)\n+{\n+    // Check required fields are present and this input is not a duplicate\n+    if (psbtin.prev_txid.IsNull() ||\n+        psbtin.prev_out == std::nullopt ||\n+        std::find_if(inputs.begin(), inputs.end(),\n+        [psbtin](const PSBTInput& psbt) {\n+            return psbt.prev_txid == psbtin.prev_txid && psbt.prev_out == psbtin.prev_out;\n+        }\n+    ) != inputs.end()) {\n         return false;\n     }\n-    tx->vin.push_back(txin);\n-    psbtin.partial_sigs.clear();\n-    psbtin.final_script_sig.clear();\n-    psbtin.final_script_witness.SetNull();\n+\n+    if (tx != std::nullopt) {\n+        // This is a v0 psbt, so do the v0 AddInput\n+        CTxIn txin(COutPoint(psbtin.prev_txid, *psbtin.prev_out));\n+        if (std::find(tx->vin.begin(), tx->vin.end(), txin) != tx->vin.end()) {\n+            return false;\n+        }\n+        tx->vin.push_back(txin);\n+        psbtin.partial_sigs.clear();\n+        psbtin.final_script_sig.clear();\n+        psbtin.final_script_witness.SetNull();\n+        inputs.push_back(psbtin);\n+        return true;\n+    }\n+\n+    // No global tx, must be PSBTv2.\n+    // Check inputs modifiable flag\n+    if (m_tx_modifiable == std::nullopt || !m_tx_modifiable->test(0)) {\n+        return false;\n+    }\n+\n+    // Determine if we need to iterate the inputs.\n+    // For now, we only do this if the new input has a required time lock.\n+    // The BIP states that we should also do this if m_tx_modifiable's bit 2 is set\n+    // (Has SIGHASH_SINGLE flag) but since we are only adding inputs at the end of the vector,\n+    // we don't care about that.\n+    bool iterate_inputs = psbtin.time_locktime != std::nullopt || psbtin.height_locktime != std::nullopt;\n+    if (iterate_inputs) {\n+        uint32_t old_timelock;\n+        if (!ComputeTimeLock(old_timelock)) {\n+            return false;\n+        }\n+\n+        std::optional<uint32_t> time_lock = psbtin.time_locktime;\n+        std::optional<uint32_t> height_lock = psbtin.height_locktime;\n+        bool has_sigs = false;\n+        for (const PSBTInput& input : inputs) {\n+            if (input.time_locktime != std::nullopt && input.height_locktime == std::nullopt) {\n+                height_lock.reset(); // Transaction can no longer have a height locktime\n+                if (time_lock == std::nullopt) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r1287435261",
      "id" : 1287435261,
      "line" : 188,
      "node_id" : "PRRC_kwDOABII585MvLP9",
      "original_commit_id" : "65105cd1d7bda355f9118cfb1a01911e4596bcf4",
      "original_line" : 188,
      "original_position" : 185,
      "original_start_line" : null,
      "path" : "src/psbt.cpp",
      "position" : 185,
      "pull_request_review_id" : 1567798020,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287435261/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-08T17:19:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287435261",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/59690052?v=4",
         "events_url" : "https://api.github.com/users/Subhra264/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Subhra264/followers",
         "following_url" : "https://api.github.com/users/Subhra264/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Subhra264/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Subhra264",
         "id" : 59690052,
         "login" : "Subhra264",
         "node_id" : "MDQ6VXNlcjU5NjkwMDUy",
         "organizations_url" : "https://api.github.com/users/Subhra264/orgs",
         "received_events_url" : "https://api.github.com/users/Subhra264/received_events",
         "repos_url" : "https://api.github.com/users/Subhra264/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Subhra264/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Subhra264/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Subhra264"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase, if still relevant.",
      "created_at" : "2023-08-17T09:28:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1681944567",
      "id" : 1681944567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585kQG_3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1681944567/reactions"
      },
      "updated_at" : "2023-08-17T09:28:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1681944567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-10-02T11:15:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1742829119",
      "id" : 1742829119,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585n4XY_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1742829119/reactions"
      },
      "updated_at" : "2023-10-02T11:15:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1742829119",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "ACK https://github.com/bitcoin/bitcoin/pull/21283/commits/93086378db3d0e959cf2b73e9a7a9880022043c1",
      "created_at" : "2023-10-11T14:01:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1757763991",
      "id" : 1757763991,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585oxVmX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1757763991/reactions"
      },
      "updated_at" : "2023-10-11T14:01:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1757763991",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25349625?v=4",
         "events_url" : "https://api.github.com/users/scgbckbone/events{/privacy}",
         "followers_url" : "https://api.github.com/users/scgbckbone/followers",
         "following_url" : "https://api.github.com/users/scgbckbone/following{/other_user}",
         "gists_url" : "https://api.github.com/users/scgbckbone/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/scgbckbone",
         "id" : 25349625,
         "login" : "scgbckbone",
         "node_id" : "MDQ6VXNlcjI1MzQ5NjI1",
         "organizations_url" : "https://api.github.com/users/scgbckbone/orgs",
         "received_events_url" : "https://api.github.com/users/scgbckbone/received_events",
         "repos_url" : "https://api.github.com/users/scgbckbone/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/scgbckbone/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/scgbckbone/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/scgbckbone"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-10-25T13:33:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1779288153",
      "id" : 1779288153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585qDchZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1779288153/reactions"
      },
      "updated_at" : "2023-10-25T13:33:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1779288153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-11-15T15:46:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1812782533",
      "id" : 1812782533,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585sDN3F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812782533/reactions"
      },
      "updated_at" : "2023-11-15T15:46:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812782533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```\r\npsbt.cpp: In member function âCMutableTransaction PartiallySignedTransaction::GetUnsignedTx() constâ:\r\npsbt.cpp:107:35: error: âtransaction_identifier<has_witness>::transaction_identifier(const uint256&) [with bool has_witness = false]â is private within this context\r\n  107 |         txin.prevout.hash = input.prev_txid;\r\n      |                                   ^~~~~~~~~",
      "created_at" : "2023-11-27T13:29:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1827835437",
      "id" : 1827835437,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585s8o4t",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1827835437/reactions"
      },
      "updated_at" : "2023-11-27T13:29:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1827835437",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-12-11T17:21:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-1850523130",
      "id" : 1850523130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
      "node_id" : "IC_kwDOABII585uTL36",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1850523130/reactions"
      },
      "updated_at" : "2023-12-11T17:21:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1850523130",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
