[
   {
      "author_association" : "MEMBER",
      "body" : "What is your config.log? And the steps to reproduce?",
      "created_at" : "2019-11-14T17:25:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17478#issuecomment-553992026",
      "id" : 553992026,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17478",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1Mzk5MjAyNg==",
      "updated_at" : "2019-11-14T17:25:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/553992026",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Sure thing, thanks for the quick reply. On a working Arch install with boost/boost-libs installed I have...\r\n\r\npacman -S boost boost-libs\r\ngit clone https://github.com/bitcoin/bitcoin.git\r\ncd bitcoin/\r\n./autogen.sh\r\n./configure      \r\n[produces` configure: error: No working boost sleep implementation found.]\r\n\r\nHave tried options: \r\n--with-boost-thread=/usr/lib/libboost_thread [couldn't link to this]\r\n--with-boost=/usr/lib/libboost [this wasn't right either]\r\n\r\nmake -j$(nproc) [since I re-cloned the directory I don't even get to this step]\r\n\r\nHere is the output of cat config.log | grep boost  https://termbin.com/0dxd",
      "created_at" : "2019-11-14T18:01:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17478#issuecomment-554006255",
      "id" : 554006255,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17478",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NDAwNjI1NQ==",
      "updated_at" : "2019-11-14T18:01:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/554006255",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/16808272?v=4",
         "events_url" : "https://api.github.com/users/notmike-5/events{/privacy}",
         "followers_url" : "https://api.github.com/users/notmike-5/followers",
         "following_url" : "https://api.github.com/users/notmike-5/following{/other_user}",
         "gists_url" : "https://api.github.com/users/notmike-5/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/notmike-5",
         "id" : 16808272,
         "login" : "notmike-5",
         "node_id" : "MDQ6VXNlcjE2ODA4Mjcy",
         "organizations_url" : "https://api.github.com/users/notmike-5/orgs",
         "received_events_url" : "https://api.github.com/users/notmike-5/received_events",
         "repos_url" : "https://api.github.com/users/notmike-5/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/notmike-5/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/notmike-5/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/notmike-5"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "With a truncated config log there is not much we can do.\r\n\r\nI followed https://github.com/bitcoin/bitcoin/blob/master/doc/build-unix.md#setup-and-build-example-arch-linux on a fresh archlinux and it worked just fine for me",
      "created_at" : "2019-11-14T18:37:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17478#issuecomment-554021265",
      "id" : 554021265,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17478",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NDAyMTI2NQ==",
      "updated_at" : "2019-11-14T18:37:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/554021265",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@notmike-5 Can you provide any more info? Using 21ee676dd6a7d9704367b6412bf8e1e443ec2b5b and an `archlinux/base` Docker container I can't recreate this with `pacman` installed dependencies: `./configure --disable-wallet --without-gui --without-miniupnpc`, or the depends system: ` ./configure --prefix=/bitcoin/depends/x86_64-pc-linux-gnu`.",
      "created_at" : "2019-11-15T15:22:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17478#issuecomment-554400780",
      "id" : 554400780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17478",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NDQwMDc4MA==",
      "updated_at" : "2019-11-15T15:22:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/554400780",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Hi @notmike-5 \r\nI have just resolved this issue on my Mac OS Mojave, so I would like to share with you as a reference.\r\n\r\nHere is my installation steps :\r\n1. Installed dependencise \r\nbrew install automake berkeley-db4 libtool boost miniupnpc openssl pkg-config python qt libevent qrencode\r\n2. Git clone bitcoin\r\n3. Ran ./autogen.sh successful\r\n4. Ran ./configure, it show error messages \r\nchecking for boostlib >= 1.47.0 (104700)... configure: We could not detect the boost libraries (version MINIMUM_REQUIRED_BOOST or higher). If you have a staged boost library (still not installed) please specify $BOOST_ROOT in your environment and do not give a PATH to --with-boost option.  If you are sure you have boost installed, then check your version number looking in <boost/version.hpp>. See http://randspringer.de/boost for more documentation.\r\nchecking whether the Boost::System library is available... no\r\nchecking whether the Boost::Filesystem library is available... no\r\nchecking whether the Boost::Thread library is available... no\r\nchecking whether the Boost::Chrono library is available... no\r\nchecking whether the Boost::Unit_Test_Framework library is available... no\r\nchecking for dynamic linked boost test... no\r\nchecking for mismatched boost c++11 scoped enums... ok\r\nconfigure: error: No working boost sleep implementation found.\r\n5. I checked dependencies installed log and found that \r\nWarning: boost 1.71.0 is already installed, it's just not linked\r\nYou can use `brew link boost` to link this version.\r\n6. I saw that although that boost was installed, however, brew could not create link yet. So I created manually with command \"brew link boost\"\r\n7. I ran ./configure again and saw that it ran successful.\r\n\r\nPlease check on your environment again.\r\n",
      "created_at" : "2019-11-16T06:47:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17478#issuecomment-554610752",
      "id" : 554610752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17478",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NDYxMDc1Mg==",
      "updated_at" : "2019-11-16T06:47:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/554610752",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/37529941?v=4",
         "events_url" : "https://api.github.com/users/hieunc278/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hieunc278/followers",
         "following_url" : "https://api.github.com/users/hieunc278/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hieunc278/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hieunc278",
         "id" : 37529941,
         "login" : "hieunc278",
         "node_id" : "MDQ6VXNlcjM3NTI5OTQx",
         "organizations_url" : "https://api.github.com/users/hieunc278/orgs",
         "received_events_url" : "https://api.github.com/users/hieunc278/received_events",
         "repos_url" : "https://api.github.com/users/hieunc278/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hieunc278/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hieunc278/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hieunc278"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@MarcoFalke here is a config.log: https://termbin.com/9gbq\r\n\r\n@fanquake I've downgraded boost and boost-libs before to v1.68 and v1.69 (its all I can think of really). I have since reinstalled boost and boost-libs v1.72. I also went back and just deleted all the boost libs in /usr/lib/ and reinstalled v1.72\r\n\r\n@hieunc278 thanks for the ref\r\n \r\nI tried everyone's ./configure lines but each resulted in the same error: \r\n`configure: error: No working boost sleep implementation found`",
      "created_at" : "2019-11-19T18:47:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17478#issuecomment-555651803",
      "id" : 555651803,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17478",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NTY1MTgwMw==",
      "updated_at" : "2019-11-19T18:47:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555651803",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/16808272?v=4",
         "events_url" : "https://api.github.com/users/notmike-5/events{/privacy}",
         "followers_url" : "https://api.github.com/users/notmike-5/followers",
         "following_url" : "https://api.github.com/users/notmike-5/following{/other_user}",
         "gists_url" : "https://api.github.com/users/notmike-5/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/notmike-5",
         "id" : 16808272,
         "login" : "notmike-5",
         "node_id" : "MDQ6VXNlcjE2ODA4Mjcy",
         "organizations_url" : "https://api.github.com/users/notmike-5/orgs",
         "received_events_url" : "https://api.github.com/users/notmike-5/received_events",
         "repos_url" : "https://api.github.com/users/notmike-5/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/notmike-5/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/notmike-5/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/notmike-5"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> @MarcoFalke here is a config.log: https://termbin.com/9gbq\r\n> \r\n> @fanquake I've downgraded boost and boost-libs before to v1.68 and v1.69 (its all I can think of really). I have since reinstalled boost and boost-libs v1.72. I also went back and just deleted all the boost libs in /usr/lib/ and reinstalled v1.72\r\n> \r\n> @hieunc278 thanks for the ref\r\n> \r\n> I tried everyone's ./configure lines but each resulted in the same error:\r\n> `configure: error: No working boost sleep implementation found`\r\n\r\nOnce I had a similar problem when compiling a version for Raspberry Pi and the solution that worked for me was the flag *--with-boost-libdir=PATH_WHERE_YOUR_BOOST_LIBS_ARE*",
      "created_at" : "2019-11-19T19:04:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17478#issuecomment-555660516",
      "id" : 555660516,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17478",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NTY2MDUxNg==",
      "updated_at" : "2019-11-19T19:04:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555660516",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/56779?v=4",
         "events_url" : "https://api.github.com/users/brakmic/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brakmic/followers",
         "following_url" : "https://api.github.com/users/brakmic/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brakmic/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brakmic",
         "id" : 56779,
         "login" : "brakmic",
         "node_id" : "MDQ6VXNlcjU2Nzc5",
         "organizations_url" : "https://api.github.com/users/brakmic/orgs",
         "received_events_url" : "https://api.github.com/users/brakmic/received_events",
         "repos_url" : "https://api.github.com/users/brakmic/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brakmic/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brakmic"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm saddened that this issue comes up again, we've been chasing these kind of errors since 2012 or so, every time there's some subtle problem. If only we could get rid of `boost::sleep` use (but this turns out to be hard #17253 #16117  #17307â¦).\r\n\r\nAanyhow, this is what causes boost sleep to not be detected in your particular case, a linker error;\r\n```\r\nconfigure:26523: g++ -std=c++11 -o conftest -g -O2  -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS -DBOOST_SP_USE_STD_ATOMIC -DBOOST_AC_USE_STD_ATOMIC -pthread -I/usr/include  conftest.cpp -L/usr/lib64 -lboost_system -lboost_filesystem -lboost_thread -lpthread -lboost_chrono  >&5\r\n/usr/bin/ld: /tmp/cck6yHgf.o: in function `boost::system::generic_category()':\r\n/usr/local/include/boost/system/error_code.hpp:498: undefined reference to `boost::system::detail::generic_category_ncx()'\r\n/usr/bin/ld: /usr/local/include/boost/system/error_code.hpp:498: undefined reference to `boost::system::detail::generic_category_ncx()'\r\n/usr/bin/ld: /usr/local/include/boost/system/error_code.hpp:498: undefined reference to `boost::system::detail::generic_category_ncx()'\r\n/usr/bin/ld: /usr/local/include/boost/system/error_code.hpp:498: undefined reference to `boost::system::detail::generic_category_ncx()'\r\n/usr/bin/ld: /usr/local/include/boost/system/error_code.hpp:498: undefined reference to `boost::system::detail::generic_category_ncx()'\r\n/usr/bin/ld: /tmp/cck6yHgf.o:/usr/local/include/boost/system/error_code.hpp:498: more undefined references to `boost::system::detail::generic_category_ncx()' follow\r\ncollect2: error: ld returned 1 exit status\r\n```\r\nI'm not sure where this value is supposed to be defined (it seems to be boost_system, which is linked!), whether your boost is miscompiled, or your specific version of boost needs another library to be linked.\r\n",
      "created_at" : "2019-11-20T10:46:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/17478#issuecomment-555948186",
      "id" : 555948186,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/17478",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU1NTk0ODE4Ng==",
      "updated_at" : "2019-11-20T10:46:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/555948186",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
