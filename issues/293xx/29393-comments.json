[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29393).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1934983441), [kristapsk](https://github.com/bitcoin/bitcoin/pull/29393#pullrequestreview-1871410459), [epiccurious](https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1936081626), [vasild](https://github.com/bitcoin/bitcoin/pull/29393#pullrequestreview-1910944755), [achow101](https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1986690847) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2024-02-06T18:00:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1930480895",
      "id" : 1930480895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29393",
      "node_id" : "IC_kwDOABII585zEMz_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1930480895/reactions"
      },
      "updated_at" : "2024-03-09T02:02:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1930480895",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1480491658"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1480491658"
         }
      },
      "author_association" : "NONE",
      "body" : "Question on your approach here - why drop the `try .. catch ... if not raised` instead of just replacing line 27?",
      "commit_id" : "950f3602d61f51d3c42c051ed9139916f1ee23bd",
      "created_at" : "2024-02-06T20:22:53Z",
      "diff_hunk" : "@@ -6,36 +6,28 @@\n Test ports handling for I2P hosts\n \"\"\"\n \n-import re\n \n from test_framework.test_framework import BitcoinTestFramework\n \n+PROXY = \"127.0.0.1:60000\"\n \n class I2PPorts(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n         # The test assumes that an I2P SAM proxy is not listening here.\n-        self.extra_args = [[\"-i2psam=127.0.0.1:60000\"]]\n+        self.extra_args = [[f\"-i2psam={PROXY}\"]]\n \n     def run_test(self):\n         node = self.nodes[0]\n \n         self.log.info(\"Ensure we don't try to connect if port!=0\")\n         addr = \"zsxwyo6qcn3chqzwxnseusqgsnuw3maqnztkiypyfxtya4snkoka.b32.i2p:8333\"\n-        raised = False\n-        try:\n-            with node.assert_debug_log(expected_msgs=[f\"Error connecting to {addr}\"]):\n-                node.addnode(node=addr, command=\"onetry\")\n-        except AssertionError as e:\n-            raised = True\n-            if not re.search(r\"Expected messages .* does not partially match log\", str(e)):\n-                raise AssertionError(f\"Assertion raised as expected, but with an unexpected message: {str(e)}\")\n-        if not raised:\n-            raise AssertionError(\"Assertion should have been raised\")\n+        with node.assert_debug_log(expected_msgs=[f\"Connection refused due to arbitrary port: 8333\"]):\n+            node.addnode(node=addr, command=\"onetry\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1480491658",
      "id" : 1480491658,
      "line" : 26,
      "node_id" : "PRRC_kwDOABII585YPoKK",
      "original_commit_id" : "950f3602d61f51d3c42c051ed9139916f1ee23bd",
      "original_line" : 26,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "test/functional/p2p_i2p_ports.py",
      "position" : 33,
      "pull_request_review_id" : 1866244890,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1480491658/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-06T20:22:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1480491658",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Concept ACK 950f3602d61f51d3c42c051ed9139916f1ee23bd.",
      "created_at" : "2024-02-06T20:23:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1930691538",
      "id" : 1930691538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29393",
      "node_id" : "IC_kwDOABII585zFAPS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1930691538/reactions"
      },
      "updated_at" : "2024-02-06T20:23:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1930691538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1480499623"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1480499623"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Because they are not necessary anymore. That try catch was a hack to check the logs because we didn't have a direct way to check in the logs that the reason was the port.",
      "commit_id" : "950f3602d61f51d3c42c051ed9139916f1ee23bd",
      "created_at" : "2024-02-06T20:30:43Z",
      "diff_hunk" : "@@ -6,36 +6,28 @@\n Test ports handling for I2P hosts\n \"\"\"\n \n-import re\n \n from test_framework.test_framework import BitcoinTestFramework\n \n+PROXY = \"127.0.0.1:60000\"\n \n class I2PPorts(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 1\n         # The test assumes that an I2P SAM proxy is not listening here.\n-        self.extra_args = [[\"-i2psam=127.0.0.1:60000\"]]\n+        self.extra_args = [[f\"-i2psam={PROXY}\"]]\n \n     def run_test(self):\n         node = self.nodes[0]\n \n         self.log.info(\"Ensure we don't try to connect if port!=0\")\n         addr = \"zsxwyo6qcn3chqzwxnseusqgsnuw3maqnztkiypyfxtya4snkoka.b32.i2p:8333\"\n-        raised = False\n-        try:\n-            with node.assert_debug_log(expected_msgs=[f\"Error connecting to {addr}\"]):\n-                node.addnode(node=addr, command=\"onetry\")\n-        except AssertionError as e:\n-            raised = True\n-            if not re.search(r\"Expected messages .* does not partially match log\", str(e)):\n-                raise AssertionError(f\"Assertion raised as expected, but with an unexpected message: {str(e)}\")\n-        if not raised:\n-            raise AssertionError(\"Assertion should have been raised\")\n+        with node.assert_debug_log(expected_msgs=[f\"Connection refused due to arbitrary port: 8333\"]):\n+            node.addnode(node=addr, command=\"onetry\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1480499623",
      "id" : 1480499623,
      "in_reply_to_id" : 1480491658,
      "line" : 26,
      "node_id" : "PRRC_kwDOABII585YPqGn",
      "original_commit_id" : "950f3602d61f51d3c42c051ed9139916f1ee23bd",
      "original_line" : 26,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "test/functional/p2p_i2p_ports.py",
      "position" : 33,
      "pull_request_review_id" : 1866257631,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1480499623/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-06T20:30:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1480499623",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Tested ACK 950f3602d61f51d3c42c051ed9139916f1ee23bd.",
      "created_at" : "2024-02-07T02:02:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1931115965",
      "id" : 1931115965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29393",
      "node_id" : "IC_kwDOABII585zGn29",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1931115965/reactions"
      },
      "updated_at" : "2024-02-07T02:02:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1931115965",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1483580775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483580775"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Suggest making this log output more helpful like the one it replaces by providing the addr, and also making it more similar to the other I2P error logs.\r\n\r\n```suggestion\r\n        Log(\"Error connecting to %s, connection refused due to arbitrary port %s\", to.ToStringAddrPort(), to.GetPort());\r\n```\r\n\r\n<details><summary>full diff with test</summary><p>\r\n\r\n```diff\r\n--- a/src/i2p.cpp\r\n+++ b/src/i2p.cpp\r\n@@ -217,7 +217,7 @@ bool Session::Connect(const CService& to, Connection& conn, bool& proxy_error)\r\n     // Refuse connecting to arbitrary ports. We don't specify any destination port to the SAM proxy\r\n     // when connecting (SAM 3.1 does not use ports) and it forces/defaults it to I2P_SAM31_PORT.\r\n     if (to.GetPort() != I2P_SAM31_PORT) {\r\n-        Log(\"Connection refused due to arbitrary port: %s\", to.GetPort());\r\n+        Log(\"Error connecting to %s, connection refused due to arbitrary port %s\", to.ToStringAddrPort(), to.GetPort());\r\n         proxy_error = false;\r\n\r\ndiff --git a/test/functional/p2p_i2p_ports.py b/test/functional/p2p_i2p_ports.py\r\nindex 44ec002b2a6..20dcb50a574 100755\r\n--- a/test/functional/p2p_i2p_ports.py\r\n+++ b/test/functional/p2p_i2p_ports.py\r\n@@ -22,7 +22,7 @@ class I2PPorts(BitcoinTestFramework):\r\n \r\n         self.log.info(\"Ensure we don't try to connect if port!=0\")\r\n         addr = \"zsxwyo6qcn3chqzwxnseusqgsnuw3maqnztkiypyfxtya4snkoka.b32.i2p:8333\"\r\n-        with node.assert_debug_log(expected_msgs=[f\"Connection refused due to arbitrary port: 8333\"]):\r\n+        with node.assert_debug_log(expected_msgs=[f\"Error connecting to {addr}, connection refused due to arbitrary port 8333\"]):\r\n             node.addnode(node=addr, command=\"onetry\")\r\n \r\n```\r\n</p></details>\r\n",
      "commit_id" : "5b358cdd1a5f5d2fe87a9e41c638996eab2e2796",
      "created_at" : "2024-02-08T20:56:32Z",
      "diff_hunk" : "@@ -217,6 +217,7 @@ bool Session::Connect(const CService& to, Connection& conn, bool& proxy_error)\n     // Refuse connecting to arbitrary ports. We don't specify any destination port to the SAM proxy\n     // when connecting (SAM 3.1 does not use ports) and it forces/defaults it to I2P_SAM31_PORT.\n     if (to.GetPort() != I2P_SAM31_PORT) {\n+        Log(\"Connection refused due to arbitrary port: %s\", to.GetPort());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1483580775",
      "id" : 1483580775,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YbaVn",
      "original_commit_id" : "950f3602d61f51d3c42c051ed9139916f1ee23bd",
      "original_line" : 220,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/i2p.cpp",
      "position" : null,
      "pull_request_review_id" : 1871242274,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483580775/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-08T20:59:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483580775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1483610162"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483610162"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good suggestion.",
      "commit_id" : "5b358cdd1a5f5d2fe87a9e41c638996eab2e2796",
      "created_at" : "2024-02-08T21:27:51Z",
      "diff_hunk" : "@@ -217,6 +217,7 @@ bool Session::Connect(const CService& to, Connection& conn, bool& proxy_error)\n     // Refuse connecting to arbitrary ports. We don't specify any destination port to the SAM proxy\n     // when connecting (SAM 3.1 does not use ports) and it forces/defaults it to I2P_SAM31_PORT.\n     if (to.GetPort() != I2P_SAM31_PORT) {\n+        Log(\"Connection refused due to arbitrary port: %s\", to.GetPort());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1483610162",
      "id" : 1483610162,
      "in_reply_to_id" : 1483580775,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Ybhgy",
      "original_commit_id" : "950f3602d61f51d3c42c051ed9139916f1ee23bd",
      "original_line" : 220,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/i2p.cpp",
      "position" : null,
      "pull_request_review_id" : 1871290636,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483610162/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-08T21:27:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1483610162",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1483580775",
      "created_at" : "2024-02-08T21:37:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1934972685",
      "id" : 1934972685,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29393",
      "node_id" : "IC_kwDOABII585zVVcN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1934972685/reactions"
      },
      "updated_at" : "2024-02-08T21:37:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1934972685",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK 5b358cdd1a5f5d2fe87a9e41c638996eab2e2796",
      "created_at" : "2024-02-08T21:45:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1934983441",
      "id" : 1934983441,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29393",
      "node_id" : "IC_kwDOABII585zVYER",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1934983441/reactions"
      },
      "updated_at" : "2024-02-08T21:45:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1934983441",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "re-ACK 5b358cdd1a5f5d2fe87a9e41c638996eab2e2796.",
      "created_at" : "2024-02-09T14:58:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1936081626",
      "id" : 1936081626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29393",
      "node_id" : "IC_kwDOABII585zZkLa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936081626/reactions"
      },
      "updated_at" : "2024-02-09T14:58:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1936081626",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/109078515?v=4",
         "events_url" : "https://api.github.com/users/epiccurious/events{/privacy}",
         "followers_url" : "https://api.github.com/users/epiccurious/followers",
         "following_url" : "https://api.github.com/users/epiccurious/following{/other_user}",
         "gists_url" : "https://api.github.com/users/epiccurious/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/epiccurious",
         "id" : 109078515,
         "login" : "epiccurious",
         "node_id" : "U_kgDOBoBn8w",
         "organizations_url" : "https://api.github.com/users/epiccurious/orgs",
         "received_events_url" : "https://api.github.com/users/epiccurious/received_events",
         "repos_url" : "https://api.github.com/users/epiccurious/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/epiccurious/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/epiccurious/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/epiccurious"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1508875387"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508875387"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit, feel free to ignore: usually \"connection refused\" means that the connection attempt has been actively declined by the destination host (that is, they send us TCP RST packet). Maybe it would be more clear to say \"Refusing to connect to %s because its port is not %d\", to.ToStringAddrPort(), I2P_SAM31_PORT. E.g. \"Refusing to connect to foo.i2p:1234 because its port is not 0\".",
      "commit_id" : "5b358cdd1a5f5d2fe87a9e41c638996eab2e2796",
      "created_at" : "2024-03-01T11:44:45Z",
      "diff_hunk" : "@@ -217,6 +217,7 @@ bool Session::Connect(const CService& to, Connection& conn, bool& proxy_error)\n     // Refuse connecting to arbitrary ports. We don't specify any destination port to the SAM proxy\n     // when connecting (SAM 3.1 does not use ports) and it forces/defaults it to I2P_SAM31_PORT.\n     if (to.GetPort() != I2P_SAM31_PORT) {\n+        Log(\"Error connecting to %s, connection refused due to arbitrary port %s\", to.ToStringAddrPort(), to.GetPort());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1508875387",
      "id" : 1508875387,
      "line" : 220,
      "node_id" : "PRRC_kwDOABII585Z75x7",
      "original_commit_id" : "5b358cdd1a5f5d2fe87a9e41c638996eab2e2796",
      "original_line" : 220,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/i2p.cpp",
      "position" : 4,
      "pull_request_review_id" : 1910944755,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508875387/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-01T11:53:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508875387",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1508948094"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508948094"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sounds good, but I'll leave it as is due to previous reviews.",
      "commit_id" : "5b358cdd1a5f5d2fe87a9e41c638996eab2e2796",
      "created_at" : "2024-03-01T12:55:14Z",
      "diff_hunk" : "@@ -217,6 +217,7 @@ bool Session::Connect(const CService& to, Connection& conn, bool& proxy_error)\n     // Refuse connecting to arbitrary ports. We don't specify any destination port to the SAM proxy\n     // when connecting (SAM 3.1 does not use ports) and it forces/defaults it to I2P_SAM31_PORT.\n     if (to.GetPort() != I2P_SAM31_PORT) {\n+        Log(\"Error connecting to %s, connection refused due to arbitrary port %s\", to.ToStringAddrPort(), to.GetPort());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#discussion_r1508948094",
      "id" : 1508948094,
      "in_reply_to_id" : 1508875387,
      "line" : 220,
      "node_id" : "PRRC_kwDOABII585Z8Lh-",
      "original_commit_id" : "5b358cdd1a5f5d2fe87a9e41c638996eab2e2796",
      "original_line" : 220,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/i2p.cpp",
      "position" : 4,
      "pull_request_review_id" : 1911070966,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29393",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508948094/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-01T12:55:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508948094",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> How did you come to this? Did you encounter some !=0 I2P ports in the wild?\r\n\r\nI didn't encounter in practice, in fact, I was testing some nuances of i2p and tried to add it using `addnode` to check the behaviour, then I noticed that. Reading the functional test I realized that the way we were checking it was weird and did not really ensure the problem is the port.",
      "created_at" : "2024-03-01T12:58:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1973152960",
      "id" : 1973152960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29393",
      "node_id" : "IC_kwDOABII5851m-zA",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1973152960/reactions"
      },
      "updated_at" : "2024-03-01T12:58:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1973152960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 5b358cdd1a5f5d2fe87a9e41c638996eab2e2796",
      "created_at" : "2024-03-09T02:02:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29393#issuecomment-1986690847",
      "id" : 1986690847,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29393",
      "node_id" : "IC_kwDOABII5852an8f",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1986690847/reactions"
      },
      "updated_at" : "2024-03-09T02:02:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1986690847",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
