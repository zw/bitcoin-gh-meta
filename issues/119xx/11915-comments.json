[
   {
      "author_association" : "OWNER",
      "body" : "I don't think this is correct. The command line option should override the GUI setting with respect to the value used, but it should not set/change the GUI setting. Command line arguments shouldn't stick, which I think is what this does?\r\n\r\n(reason is, for example: to be able to run with `-dbcache=10000` temporarily, then quit, then run without `-dbcache` and go back to the normal setting)",
      "created_at" : "2017-12-16T07:58:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-352168178",
      "id" : 352168178,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "updated_at" : "2017-12-16T07:58:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352168178",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@laanwj Sorry I'm not sure I understand. When I run the GUI with this code, if I run with `-dbcache=10000` it will display 10000 in the options menu. If I then quit and run without the flag, I see the either number in `bitcoin.conf` or the default in the options menu. \r\n\r\nAre you saying when you run without the flag a second time it still displays the last flag value used? ",
      "created_at" : "2017-12-17T23:15:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-352293875",
      "id" : 352293875,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "updated_at" : "2017-12-17T23:16:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352293875",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/10647624?v=4",
         "events_url" : "https://api.github.com/users/valentinewallace/events{/privacy}",
         "followers_url" : "https://api.github.com/users/valentinewallace/followers",
         "following_url" : "https://api.github.com/users/valentinewallace/following{/other_user}",
         "gists_url" : "https://api.github.com/users/valentinewallace/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/valentinewallace",
         "id" : 10647624,
         "login" : "valentinewallace",
         "organizations_url" : "https://api.github.com/users/valentinewallace/orgs",
         "received_events_url" : "https://api.github.com/users/valentinewallace/received_events",
         "repos_url" : "https://api.github.com/users/valentinewallace/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/valentinewallace/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/valentinewallace/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/valentinewallace"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Yes. This:\r\n```\r\nsettings.setValue(\"nDatabaseCache\", (qint64)gArgs.GetArg(\"-dbcache\", nDefaultDbCache));\r\n```\r\nWrites the value from the command line / bitcoin.conf to the QSettings object persistently. That's not how it's supposed to work.",
      "created_at" : "2017-12-19T13:17:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-352745883",
      "id" : 352745883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "updated_at" : "2017-12-19T13:17:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352745883",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "To fix #11788, I would propose to show the \"underlaying\" dbcache value (set via bitcoin.conf or `-dbcache=<value>`) in the GUI settings pannel...\r\n\r\nbut only, if the value has not been overwritten by the QT settings (` (!settings.contains(\"nDatabaseCache\")`).\r\n\r\nAlso, only write the GUI set database cache to QSettings when...\r\n* Either `nDatabaseCache` is set\r\n* Or the new value is not equal to the underlaying `-dbcache` value.",
      "created_at" : "2017-12-19T18:52:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-352851616",
      "id" : 352851616,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "updated_at" : "2017-12-19T18:52:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352851616",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@jonasschnelli \r\n\r\n> but only, if the value has not been overwritten by the QT settings ((!settings.contains(\"nDatabaseCache\")).\r\n\r\nCurrently, due to `init` in optionsmodel, QSettings will always contain `nDatabaseCache`, it'll just contain the default if the user doesn't give it a different value through the GUI. However, this could be altered so it doesn't get set in `settings` unless the user sets it. \r\n\r\nIntuitively, my takeaway from your comment is that the GUI settings panel should display: \r\n- QSettings value if set by the user\r\n- else flag value if set \r\n- else bitcoin.conf if set \r\n- else default value\r\n\r\nMy one reservation is that it makes more sense to me for the GUI to display the *currently effective* settings no matter what (a la the second comment in [this thread](https://github.com/bitcoin/bitcoin/issues/1903)). If we're going with showing the effective settings, I changed my code and I'll update the PR, otherwise will keep chugging along :) ",
      "created_at" : "2017-12-21T01:14:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-353229346",
      "id" : 353229346,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "updated_at" : "2017-12-21T02:54:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353229346",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/10647624?v=4",
         "events_url" : "https://api.github.com/users/valentinewallace/events{/privacy}",
         "followers_url" : "https://api.github.com/users/valentinewallace/followers",
         "following_url" : "https://api.github.com/users/valentinewallace/following{/other_user}",
         "gists_url" : "https://api.github.com/users/valentinewallace/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/valentinewallace",
         "id" : 10647624,
         "login" : "valentinewallace",
         "organizations_url" : "https://api.github.com/users/valentinewallace/orgs",
         "received_events_url" : "https://api.github.com/users/valentinewallace/received_events",
         "repos_url" : "https://api.github.com/users/valentinewallace/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/valentinewallace/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/valentinewallace/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/valentinewallace"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Oh. Your right...\r\nCurrent code:\r\n```\r\nif (!settings.contains(\"nDatabaseCache\"))\r\n        settings.setValue(\"nDatabaseCache\", (qint64)nDefaultDbCache);\r\n```\r\nThis seems suboptimal. After executing this, you have no way to find out if the user has set a value or if we just have copied over the default from `nDefaultDbCache`.\r\n\r\nI think it should only write a value to `nDatabaseCache` if it was set by the user and if it was different as the default.\r\nAlso, if `nDatabaseCache` is set, there could be a different color indicating that the value has been \"overwritten\".\r\n\r\nBut I agree, it should always show the current active database cache size.",
      "created_at" : "2017-12-22T07:14:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-353537282",
      "id" : 353537282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "updated_at" : "2017-12-22T07:14:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353537282",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "That line you mentioned^ was there before I touched the file so I put it back in the spirit of making as few changes as possible to solve the problem (maybe I should've done the commits differently?), but I agree it does seem suboptimal. \r\n\r\n> I think it should only write a value to `nDatabaseCache` if it was set by the user and if it was different as the default.\r\n\r\nMight it make sense to write a value even if the user sets it to the default value? Otherwise the bitcoin.conf value will override it even if the value the user wants in QSettings happens to be the default. \r\n\r\nRe: only writing a value to `nDatabaseCache` if user-set-- one tradeoff is that it makes the code for `init`ing the DatabaseCache value in QSettings different from how all the other QSettings values are initialized which is currently very uniform, adding a bit of complexity.   \r\n\r\nHowever, I'll look into making that change and the color-coding tmrw :) ",
      "created_at" : "2017-12-22T22:39:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-353685596",
      "id" : 353685596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "updated_at" : "2017-12-22T22:39:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353685596",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/10647624?v=4",
         "events_url" : "https://api.github.com/users/valentinewallace/events{/privacy}",
         "followers_url" : "https://api.github.com/users/valentinewallace/followers",
         "following_url" : "https://api.github.com/users/valentinewallace/following{/other_user}",
         "gists_url" : "https://api.github.com/users/valentinewallace/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/valentinewallace",
         "id" : 10647624,
         "login" : "valentinewallace",
         "organizations_url" : "https://api.github.com/users/valentinewallace/orgs",
         "received_events_url" : "https://api.github.com/users/valentinewallace/received_events",
         "repos_url" : "https://api.github.com/users/valentinewallace/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/valentinewallace/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/valentinewallace/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/valentinewallace"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Okay, now we only write to QSettings if the user sets a non-default value! ",
      "created_at" : "2018-01-01T04:27:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-354636144",
      "id" : 354636144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "updated_at" : "2018-01-01T04:27:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/354636144",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/10647624?v=4",
         "events_url" : "https://api.github.com/users/valentinewallace/events{/privacy}",
         "followers_url" : "https://api.github.com/users/valentinewallace/followers",
         "following_url" : "https://api.github.com/users/valentinewallace/following{/other_user}",
         "gists_url" : "https://api.github.com/users/valentinewallace/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/valentinewallace",
         "id" : 10647624,
         "login" : "valentinewallace",
         "organizations_url" : "https://api.github.com/users/valentinewallace/orgs",
         "received_events_url" : "https://api.github.com/users/valentinewallace/received_events",
         "repos_url" : "https://api.github.com/users/valentinewallace/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/valentinewallace/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/valentinewallace/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/valentinewallace"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r167516951"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167516951"
         }
      },
      "author_association" : "MEMBER",
      "body" : "What if someone has `dbcache=2000` in `bitcoin.conf` and then tries to reduce the dbcache via GUI back to 450?",
      "commit_id" : "2c71ba28e531b1acefc04d71443c3c551474768a",
      "created_at" : "2018-02-12T10:40:15Z",
      "diff_hunk" : "@@ -404,7 +406,7 @@ bool OptionsModel::setData(const QModelIndex & index, const QVariant & value, in\n             Q_EMIT coinControlFeaturesChanged(fCoinControlFeatures);\n             break;\n         case DatabaseCache:\n-            if (settings.value(\"nDatabaseCache\") != value) {\n+            if (settings.value(\"nDatabaseCache\") != value && QVariant::fromValue(gArgs.GetArg(\"-dbcache\", nDefaultDbCache)) != value && value != QVariant::fromValue(nDefaultDbCache)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r167516951",
      "id" : 167516951,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2NzUxNjk1MQ==",
      "original_commit_id" : "63bf237c0824a7532b11b2e1e5fc95c0eb3e9dee",
      "original_position" : 29,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 32,
      "pull_request_review_id" : 95746071,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915",
      "updated_at" : "2018-04-16T21:15:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167516951",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r168305645"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/168305645"
         }
      },
      "author_association" : "NONE",
      "body" : "Currently that wouldn't do anything because we don't write to QSettings if the user sets the GUI dbcache value to the default. Should we switch such that we write to QSettings no matter what value the user sets? ",
      "commit_id" : "2c71ba28e531b1acefc04d71443c3c551474768a",
      "created_at" : "2018-02-14T20:50:15Z",
      "diff_hunk" : "@@ -404,7 +406,7 @@ bool OptionsModel::setData(const QModelIndex & index, const QVariant & value, in\n             Q_EMIT coinControlFeaturesChanged(fCoinControlFeatures);\n             break;\n         case DatabaseCache:\n-            if (settings.value(\"nDatabaseCache\") != value) {\n+            if (settings.value(\"nDatabaseCache\") != value && QVariant::fromValue(gArgs.GetArg(\"-dbcache\", nDefaultDbCache)) != value && value != QVariant::fromValue(nDefaultDbCache)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r168305645",
      "id" : 168305645,
      "in_reply_to_id" : 167516951,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2ODMwNTY0NQ==",
      "original_commit_id" : "63bf237c0824a7532b11b2e1e5fc95c0eb3e9dee",
      "original_position" : 29,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 32,
      "pull_request_review_id" : 96651900,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915",
      "updated_at" : "2018-04-16T21:15:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/168305645",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/10647624?v=4",
         "events_url" : "https://api.github.com/users/valentinewallace/events{/privacy}",
         "followers_url" : "https://api.github.com/users/valentinewallace/followers",
         "following_url" : "https://api.github.com/users/valentinewallace/following{/other_user}",
         "gists_url" : "https://api.github.com/users/valentinewallace/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/valentinewallace",
         "id" : 10647624,
         "login" : "valentinewallace",
         "node_id" : "MDQ6VXNlcjEwNjQ3NjI0",
         "organizations_url" : "https://api.github.com/users/valentinewallace/orgs",
         "received_events_url" : "https://api.github.com/users/valentinewallace/received_events",
         "repos_url" : "https://api.github.com/users/valentinewallace/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/valentinewallace/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/valentinewallace/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/valentinewallace"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase",
      "created_at" : "2018-04-10T19:12:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-380215261",
      "id" : 380215261,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "updated_at" : "2018-04-10T19:12:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380215261",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@jonasschnelli rebased! ",
      "created_at" : "2018-04-16T21:36:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-381757995",
      "id" : 381757995,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "updated_at" : "2018-04-16T21:36:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/381757995",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/10647624?v=4",
         "events_url" : "https://api.github.com/users/valentinewallace/events{/privacy}",
         "followers_url" : "https://api.github.com/users/valentinewallace/followers",
         "following_url" : "https://api.github.com/users/valentinewallace/following{/other_user}",
         "gists_url" : "https://api.github.com/users/valentinewallace/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/valentinewallace",
         "id" : 10647624,
         "login" : "valentinewallace",
         "organizations_url" : "https://api.github.com/users/valentinewallace/orgs",
         "received_events_url" : "https://api.github.com/users/valentinewallace/received_events",
         "repos_url" : "https://api.github.com/users/valentinewallace/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/valentinewallace/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/valentinewallace/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/valentinewallace"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r223540932"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/223540932"
         }
      },
      "author_association" : "MEMBER",
      "body" : "whitespace issue here, you can use `git diff -U0 HEAD~3.. | ./contrib/devtools/clang-format-diff.py -p1 -i -v` to fix: https://github.com/bitcoin/bitcoin/blob/master/contrib/devtools/README.md#clang-format-diffpy",
      "commit_id" : "2c71ba28e531b1acefc04d71443c3c551474768a",
      "created_at" : "2018-10-09T01:47:32Z",
      "diff_hunk" : "@@ -88,9 +88,10 @@ void OptionsModel::Init(bool resetSettings)\n     // by command-line and show this in the UI.\n \n     // Main\n-    if (!settings.contains(\"nDatabaseCache\"))\n-        settings.setValue(\"nDatabaseCache\", (qint64)nDefaultDbCache);\n-    if (!m_node.softSetArg(\"-dbcache\", settings.value(\"nDatabaseCache\").toString().toStdString()))\n+   std::string nDbCacheSettings = settings.contains(\"nDatabaseCache\") ?\n+     settings.value(\"nDatabaseCache\").toString().toStdString() :\n+     std::to_string(nDefaultDbCache);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r223540932",
      "id" : 223540932,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMzU0MDkzMg==",
      "original_commit_id" : "2c71ba28e531b1acefc04d71443c3c551474768a",
      "original_position" : 9,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 9,
      "pull_request_review_id" : 162692888,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915",
      "updated_at" : "2018-10-09T01:47:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/223540932",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r223541187"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/223541187"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`IsArgSet` could be more explicit",
      "commit_id" : "2c71ba28e531b1acefc04d71443c3c551474768a",
      "created_at" : "2018-10-09T01:50:07Z",
      "diff_hunk" : "@@ -282,7 +283,11 @@ QVariant OptionsModel::data(const QModelIndex & index, int role) const\n         case CoinControlFeatures:\n             return fCoinControlFeatures;\n         case DatabaseCache:\n-            return settings.value(\"nDatabaseCache\");\n+            if (!gArgs.GetArg(\"-dbcache\", \"\").empty())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r223541187",
      "id" : 223541187,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMzU0MTE4Nw==",
      "original_commit_id" : "2c71ba28e531b1acefc04d71443c3c551474768a",
      "original_position" : 19,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 19,
      "pull_request_review_id" : 162693195,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915",
      "updated_at" : "2018-10-09T01:50:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/223541187",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r223541515"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/223541515"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems you can return the default directly, the QVariant will be constructed from it.",
      "commit_id" : "2c71ba28e531b1acefc04d71443c3c551474768a",
      "created_at" : "2018-10-09T01:53:08Z",
      "diff_hunk" : "@@ -282,7 +283,11 @@ QVariant OptionsModel::data(const QModelIndex & index, int role) const\n         case CoinControlFeatures:\n             return fCoinControlFeatures;\n         case DatabaseCache:\n-            return settings.value(\"nDatabaseCache\");\n+            if (!gArgs.GetArg(\"-dbcache\", \"\").empty())\n+                return (qint64)gArgs.GetArg(\"-dbcache\", nDefaultDbCache);\n+            if (settings.contains(\"nDatabaseCache\"))\n+                return settings.value(\"nDatabaseCache\");\n+            return QVariant::fromValue(nDefaultDbCache);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r223541515",
      "id" : 223541515,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMzU0MTUxNQ==",
      "original_commit_id" : "2c71ba28e531b1acefc04d71443c3c551474768a",
      "original_position" : 23,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 23,
      "pull_request_review_id" : 162693567,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915",
      "updated_at" : "2018-10-09T01:53:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/223541515",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r223541626"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/223541626"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why is this cast necessary?",
      "commit_id" : "2c71ba28e531b1acefc04d71443c3c551474768a",
      "created_at" : "2018-10-09T01:54:12Z",
      "diff_hunk" : "@@ -282,7 +283,11 @@ QVariant OptionsModel::data(const QModelIndex & index, int role) const\n         case CoinControlFeatures:\n             return fCoinControlFeatures;\n         case DatabaseCache:\n-            return settings.value(\"nDatabaseCache\");\n+            if (!gArgs.GetArg(\"-dbcache\", \"\").empty())\n+                return (qint64)gArgs.GetArg(\"-dbcache\", nDefaultDbCache);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#discussion_r223541626",
      "id" : 223541626,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyMzU0MTYyNg==",
      "original_commit_id" : "2c71ba28e531b1acefc04d71443c3c551474768a",
      "original_position" : 20,
      "path" : "src/qt/optionsmodel.cpp",
      "position" : 20,
      "pull_request_review_id" : 162693691,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11915",
      "updated_at" : "2018-10-09T01:54:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/223541626",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@valentinewallace Are you still interested in working on this? If so, could you address any nits & rebase. Otherwise we could close & label \"Up for Grabs\" etc.",
      "created_at" : "2018-10-20T05:51:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-431552032",
      "id" : 431552032,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMTU1MjAzMg==",
      "updated_at" : "2018-10-20T05:51:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/431552032",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@fanquake yes, sorry about that. I was planning to update it tomorrow if that's okay! ",
      "created_at" : "2018-10-21T04:11:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11915#issuecomment-431637434",
      "id" : 431637434,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11915",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzMTYzNzQzNA==",
      "updated_at" : "2018-10-21T04:11:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/431637434",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/10647624?v=4",
         "events_url" : "https://api.github.com/users/valentinewallace/events{/privacy}",
         "followers_url" : "https://api.github.com/users/valentinewallace/followers",
         "following_url" : "https://api.github.com/users/valentinewallace/following{/other_user}",
         "gists_url" : "https://api.github.com/users/valentinewallace/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/valentinewallace",
         "id" : 10647624,
         "login" : "valentinewallace",
         "node_id" : "MDQ6VXNlcjEwNjQ3NjI0",
         "organizations_url" : "https://api.github.com/users/valentinewallace/orgs",
         "received_events_url" : "https://api.github.com/users/valentinewallace/received_events",
         "repos_url" : "https://api.github.com/users/valentinewallace/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/valentinewallace/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/valentinewallace/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/valentinewallace"
      }
   }
]
