{
   "assignee" : null,
   "body" : "I am reviewing code, and came accross the following in chain.h.\r\n\r\n    //! Check whether this block index entry is valid up to the passed validity level.\r\n    bool IsValid(enum BlockStatus nUpTo = BLOCK_VALID_TRANSACTIONS) const\r\n    {\r\n        assert(!(nUpTo & ~BLOCK_VALID_MASK)); // Only validity flags allowed.\r\n        if (nStatus & BLOCK_FAILED_MASK)\r\n            return false;\r\n        return ((nStatus & BLOCK_VALID_MASK) >= nUpTo);\r\n    }\r\n\r\n    //! Raise the validity level of this block index entry.\r\n    //! Returns true if the validity was changed.\r\n    bool RaiseValidity(enum BlockStatus nUpTo)\r\n    {\r\n        assert(!(nUpTo & ~BLOCK_VALID_MASK)); // Only validity flags allowed.\r\n        if (nStatus & BLOCK_FAILED_MASK)\r\n            return false;\r\n        if ((nStatus & BLOCK_VALID_MASK) < nUpTo) {\r\n            nStatus = (nStatus & ~BLOCK_VALID_MASK) | nUpTo;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nNow I don't think there is a problem per se, but from what I can see the standard says that nUpTo may be either signed or unsigned. Is this a problem when combined with the various bitwise operations, or even comparison operator < ? My compiler complains.\r\n\r\nEdit:\r\nHere's what the C++03 standard (ISO/IEC 14882:2003) document says in 7.2-5 (Enumeration declarations):\r\n>>    The underlying type of an enumeration is an integral type that can represent all the enumerator values defined in the enumeration. It is implementation-defined which integral type is used as the underlying type for an enumeration except that the underlying type shall not be larger than int unless the value of an enumerator cannot fit in an int or unsigned int.\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6017/comments",
   "created_at" : "2015-04-15T17:34:46Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6017/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/6017",
   "id" : 68742089,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6017/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 6017,
   "state" : "open",
   "title" : "Signedness of an Enum is undefined in standard C++",
   "updated_at" : "2015-04-15T17:36:34Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6017",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/5908875?v=3",
      "events_url" : "https://api.github.com/users/sinetek/events{/privacy}",
      "followers_url" : "https://api.github.com/users/sinetek/followers",
      "following_url" : "https://api.github.com/users/sinetek/following{/other_user}",
      "gists_url" : "https://api.github.com/users/sinetek/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/sinetek",
      "id" : 5908875,
      "login" : "sinetek",
      "organizations_url" : "https://api.github.com/users/sinetek/orgs",
      "received_events_url" : "https://api.github.com/users/sinetek/received_events",
      "repos_url" : "https://api.github.com/users/sinetek/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/sinetek/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/sinetek/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/sinetek"
   }
}
