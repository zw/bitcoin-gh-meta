[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This is an alternate approach to #16345 . It may solve #15412 and remove the desire to drop client-side arg validation per #15448 . Previous discussion (as pointed out in 16345) is in #16317, #14858 and #8457.\r\n\r\nThere's a bunch of other ways of doing this:\r\n\r\n * just keep requiring a call to `getblockhash N` first -- this is less convenient and [slower](https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-514057030)\r\n * use the type of the parameter to distinguish heights and hashes -- this is what getblockstats does, but it means the type of the parameter is ambiguous which goes back to #15412\r\n * add an additional `height` parameter to the RPC functions and make `blockhash` or `height` be alternatives -- I tried this at https://github.com/ajtowns/bitcoin/commit/cf0868719748e2bb4f0394924245d4212d0f4260 but it's more code and not very convenient to use\r\n * duplicate the RPC calls that take a blockhash and add \"byheight\" variants -- this is what 16345 does, but it's a fair chunk of duplicated code, which has received NACKs (see https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-510840305 and https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512874508 )\r\n * MarcoFalke [suggested](https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512414974) that aliases would cover the convenience factor and be useful for other things like \"generate\", but notes this isn't really possible in bitcoin-qt without a lot of work\r\n * laanwj [suggested](https://github.com/bitcoin/bitcoin/pull/8457#issuecomment-239611262) that we could add pipelining to json, so a single request would call two RPCs passing the results of the first into the second. This seems pretty complicated, and the cli and gui would need to define some sort of shortcut mechanism to make that accessible as far as I can see.\r\n\r\nThis way isn't much code, particularly for supporting more generally, and while having to turn the number into a string is a bit annoying in code, it's not that bad, and very easy from the command line or the GUI. So up for consideration\r\n\r\n(edited to add json pipelining suggestion)",
      "created_at" : "2019-07-23T03:25:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-514038924",
      "id" : 514038924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDAzODkyNA==",
      "updated_at" : "2019-07-25T08:34:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514038924",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16839](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16839.html) (Replace Connman and BanMan globals with Node local by ryanofsky)\n* [#16512](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16512.html) (rpc: Shuffle inputs and outputs after joining psbts by achow101)\n* [#16440](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16440.html) (BIP-322: Generic signed message format by kallewoof)\n* [#16365](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16365.html) (Log RPC parameters (arguments) if -debug=rpcparams by LarryRuane)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-07-23T06:39:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-514075082",
      "id" : 514075082,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDA3NTA4Mg==",
      "updated_at" : "2019-09-18T02:15:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514075082",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I still don't like overloading the meaning of the parameter, but I'll stop repeating myself â¦ \r\n\r\n(also theoretically this could mess with software that assumes that only valid block hashes would be accepted by the RPC, though passing unchecked user input directly to RPC is arguably a bad ideaâ¦)",
      "created_at" : "2019-07-24T13:34:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-514634389",
      "id" : 514634389,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDYzNDM4OQ==",
      "updated_at" : "2019-07-24T13:38:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514634389",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I still don't like overloading the meaning of the parameter, but I'll stop repeating myself â¦\r\n\r\nSo leave things as-is including the exception for `getblockstats hash_or_height` and consider this a wontfix, or do any of the other approaches seem appealing? Could be plausible to teach bitcon-cli to accept a 64-byte hex string or a number and make the hash_or_height str-vs-num work a bit better, I think, but everything else seems a lot of hassle to me.",
      "created_at" : "2019-07-24T14:42:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-514661807",
      "id" : 514661807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDY2MTgwNw==",
      "updated_at" : "2019-07-24T14:42:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514661807",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ajtowns do you see advantages of these approaches beside being faster to write or slightly fast execution (compared to also calling `getblockhash`)?\r\n\r\nIf this goes forward, wouldn't it be better to prefix with `#` instead? Or maybe just check the input because an hash can never be an height.",
      "created_at" : "2019-07-25T00:43:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-514850402",
      "id" : 514850402,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDg1MDQwMg==",
      "updated_at" : "2019-07-25T01:45:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514850402",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @ajtowns do you see advantages of these approaches beside being faster to write or slightly fast execution (compared to also calling `getblockhash`)?\r\n\r\nIt's a fair bit less complexity for the person asking for something -- you don't have to cut and paste a blockhash, or have a `$( .. )` subcommand in shell, or remember what the name of the `getblockhash` rpc is. The speed difference is really just a side-effect of that, if you're making lots of `getblock` calls, you can lookup the blockhash once, and use the `nextblockhash` or `previousblockhash` to avoid extra calls after that, but again it's more complexity.\r\n\r\n> If this goes forward, wouldn't it be better to prefix with `#` instead?\r\n\r\nDid think about that, but `#` is a comment character in shell, so `bitcoin-cli getblock #500000` would need quotes which seems annoying. I think \"getblock at 500000\" reads pretty well anyway though.\r\n\r\n> Or maybe just check the input because an hash can never be an height.\r\n\r\nUsing a non-hex prefix makes it pretty unambiguous you don't mean a block hash. At least in theory you could have a block with hash `0000000000000000000000000000000000000000000000000000000000512345` eg, and misinterpret it. Also, see https://github.com/bitcoin/bitcoin/pull/8457#issuecomment-237647103",
      "created_at" : "2019-07-25T08:31:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-514951037",
      "id" : 514951037,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDk1MTAzNw==",
      "updated_at" : "2019-07-25T08:31:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514951037",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Weak concept ACK.\r\n\r\nI understand @laanwj's point of view: ideally, the RPC server code implements simple unambiguous primitive operations, and complexity of how to make them interact is offloaded to the client. In places where user friendliness for CLI users conflicts with that, it can be implemented as extra functionality in `bitcoin-cli`.\r\n\r\nOn the other hand, this approach seems actually simpler in total code complexity than having various hooks in `bitcoin-cli` for intercepting heights and requesting their hashes, and this is a frequently requested feature.\r\n\r\nPerhaps an analogy is `git`'s syntax for specifying commits, where hashes can be provided, but also branch names, and even simple operators on other commits like `~`.",
      "created_at" : "2019-07-29T17:01:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516075116",
      "id" : 516075116,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjA3NTExNg==",
      "updated_at" : "2019-07-29T17:01:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516075116",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK. I didn't follow previous discussions, but I like the @ syntax, think it is simpler and more convenient than the other duplicating / aliasing / pipelining suggestions, and don't see a real potential for misuse. (Apologies if I missed any other practical objections in previous discussion, they mostly seemed like aesthetic complaints.)",
      "created_at" : "2019-07-29T19:16:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516125452",
      "id" : 516125452,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjEyNTQ1Mg==",
      "updated_at" : "2019-07-29T19:16:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516125452",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16439#discussion_r308395928"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16439"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/308395928"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`STR_HEX` no longer applies and this should be a new type, similar to `AMOUNT`",
      "commit_id" : "f4bcae95ae89cbd6512b4347bb0ba68ac8fe4d35",
      "created_at" : "2019-07-29T19:22:13Z",
      "diff_hunk" : "@@ -820,7 +843,7 @@ static UniValue getblock(const JSONRPCRequest& request)\n     RPCHelpMan{\"getblock\",\n                 \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'hash'.\\n\"\n                 \"If verbosity is 1, returns an Object with information about block <hash>.\\n\"\n-                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction. \\n\",\n+                \"If verbosity is 2, returns an Object with information about block <hash> and information about each transaction.\\n\",\n                 {\n                     {\"blockhash\", RPCArg::Type::STR_HEX, RPCArg::Optional::NO, \"The block hash\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#discussion_r308395928",
      "id" : 308395928,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwODM5NTkyOA==",
      "original_commit_id" : "792c2a5dbca346e1b693446accd68b6a5448292f",
      "original_position" : 57,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 267988355,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16439",
      "updated_at" : "2019-08-01T05:14:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/308395928",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Weak concept ACK, for exactly the same reasons that sipa gives here: https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516075116",
      "created_at" : "2019-07-30T15:13:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516464116",
      "id" : 516464116,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjQ2NDExNg==",
      "updated_at" : "2019-07-30T15:13:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516464116",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I could live with that concept,... though I still think it's client functionality.\r\n\r\nWhat if the client (bitcoin-cli) does an extra call for `@<height>` which would be `getblockhash<height>`?\r\n\r\nFor a `getblock @<height>`, bitcoin-cli would acctually do `getblock(getblockhash(<height>))`?\r\n\r\nI think it's worth to extent `bitcoin-cli` for the hight-shortcut but I kida think it's wasted effort and unnecesarry risks for the daemon.",
      "created_at" : "2019-07-30T18:38:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516542699",
      "id" : 516542699,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjU0MjY5OQ==",
      "updated_at" : "2019-07-30T18:38:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516542699",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I understand @laanwj's point of view: ideally, the RPC server code implements simple unambiguous primitive operations,\r\n\r\nThanksâ¦ you're formulating it better than me\r\n\r\nTo be clear: it's not that I dislike the *syntax*. I'm not NACKing this. I think this would be useful from the command line. But I think doing this on the server side is the wrong way to go. I think this is the wrong direction.\r\n\r\nPlease also look at it from the perspective of someone writing a RPC wrapper in a static language, say, rust. After this change, the parameter needs to be an `enum()` which allows for multiple kinds of data, instead of a `BlockHash`.\r\n",
      "created_at" : "2019-07-31T08:11:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516745521",
      "id" : 516745521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjc0NTUyMQ==",
      "updated_at" : "2019-07-31T08:11:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516745521",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "One problem with this is that the height can refer to a different block in a sequence of calls:\r\n```sh\r\nfoo @height\r\n# a wild reorg\r\nbar @height\r\n# bar operates on a different block than foo\r\n```\r\n",
      "created_at" : "2019-07-31T08:22:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516749135",
      "id" : 516749135,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjc0OTEzNQ==",
      "updated_at" : "2019-07-31T08:22:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516749135",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> One problem with this is that the height can refer to a different block in a sequence of calls:\r\n> `foo @height; reorg; bar @height`\r\n\r\nIsn't that to be expected and not particularly surprising? You get the same behaviour now if you call `foo $(getblockhash N); reorg; bar $(getblockhash N)`.\r\n\r\n> What if the client (bitcoin-cli) does an extra call for @<height> which would be getblockhash<height>?\r\n\r\nI think you'd have to define a new table \"convert height to blockhash params\" in rpc/client.cpp as otherwise you'd do weird things like convert a wallet label from \"@123\" into a block 123's hash. That in turn means you have to keep your client in sync with the server, more than you would if it was just parsed on the server.\r\n\r\nI've added in a quick hack to bitcoin-cli to support `getblock %height` purely on the client side, which actually doesn't look too bad to me. But taking a quick look at qt/rpcconsole.cpp made my eyes bleed, so will leave trying to make that work until later... The disadvantage of this approach is that every client needs code to support the @ shortcut; so if you're writing an RPC browser in rust, you'll have more code to write than if it was just supported on the server side directly. The advantage is it works as soon as you have the updated client, no daemon upgrade/restart needed, which is pretty nice.\r\n\r\n> Please also look at it from the perspective of someone writing a RPC wrapper in a static language, say, rust. After this change, the parameter needs to be an enum() which allows for multiple kinds of data, instead of a BlockHash.\r\n\r\nNote this is already the case for `hash_or_height` in `getblockstats`, except that it's \"string or numeric\" not just two different types of string.\r\n\r\nAre there any other shortcuts like this that seem useful? git comparisons like \"foo^\" for a parent or ancestor don't seem like they'd be that useful for blocks if you're already able to query by height easily, and short-references (ie, just specifying 8 digits if that's enough to reference a unique id) don't seem better than the height, and aren't convenient when the first digits are all zero...",
      "created_at" : "2019-07-31T14:14:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516867557",
      "id" : 516867557,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjg2NzU1Nw==",
      "updated_at" : "2019-07-31T14:14:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516867557",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> \r\n\r\n    Please also look at it from the perspective of someone writing a RPC wrapper in a static language, say, rust. After this change, the parameter needs to be an enum() which allows for multiple kinds of data, instead of a BlockHash.\r\n\r\nIt doesn't have to be an enum, it can also be a plain blockhash (hex string) and not support the user-facing `@123` syntax. ",
      "created_at" : "2019-07-31T15:05:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516889942",
      "id" : 516889942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjg4OTk0Mg==",
      "updated_at" : "2019-07-31T15:05:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516889942",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Isn't that to be expected and not particularly surprising? You get the same behaviour\r\n\r\nNo, you would call `getblockhash` once and then all other calls would just use that hash.",
      "created_at" : "2019-07-31T15:13:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516893208",
      "id" : 516893208,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjg5MzIwOA==",
      "updated_at" : "2019-07-31T15:13:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516893208",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516745521\r\n\r\n> Please also look at it from the perspective of someone writing a RPC wrapper in a static language, say, rust. After this change, the parameter needs to be an enum() which allows for multiple kinds of data, instead of a BlockHash.\r\n\r\nCould someone expand on this more? I don't understand this comment, and don't understand in general why people seem to like the idea of moving logic from the server to the client. Can someone be specific about an actual advantage that would come from moving logic from server to client, or be clear about what types of logic should be moved? Should every type of logic that it's possible to move be moved, or is there a different criteria for deciding what belongs in `bitcoind` vs `bitcoin-cli`?\r\n\r\nIf I'm writing a rust client or any other type of client, it would seem like the more logic there is in `bitcoin-cli`, the more work I have to do in rust to get access to the same functionality, and the greater chance I have of introducing bugs or inconsistencies.\r\n\r\nPutting more logic in `bitcoin-cli` would also seem bad for testing and usability. Right now `bitcoin-cli` is a minimal wrapper around the RPC interface, so it's very easy to test things on command line, and then translate command line calls to real code (definitely in python and javascript, and I'm pretty sure it should be similar with rust).\r\n\r\nPutting more logic in `bitcoin-cli` also has some practical problems right now (though these are solvable):\r\n\r\n* `bitcoin-cli` has less knowledge of rpc methods and parameters than `bitcoind` does. So a lot of the transformations you could imagine implementing client side aren't really possible with current information.\r\n* `bitcoind` and `bitcoin-cli` aren't currently doing any version checking, and there aren't currently any consequences from using an old `bitcoin-cli` with a new `bitcoind` or vice versa. If we start adding more logic to bitcoin-cli, interaction across versions will start being something that we'll want to think about (or prevent).\r\n\r\nre: https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516893208\r\n\r\n> > Isn't that to be expected and not particularly surprising? You get the same behaviour\r\n> \r\n> No, you would call `getblockhash` once and then all other calls would just use that hash.\r\n\r\nThis seems like an argument not only for requiring hashes server side, but also for requiring hashes client side, and against both this PR and #16345. I don't have much opinion on it, but just wanted to be clear about the implications. Maybe it would be a big inconvenience, or maybe it would prevent mistakes by users who forget about the possibilities of reorgs.",
      "created_at" : "2019-07-31T15:30:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516900366",
      "id" : 516900366,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjkwMDM2Ng==",
      "updated_at" : "2019-07-31T15:30:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516900366",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This seems like an argument not only for requiring hashes server side, but also for requiring hashes client side, and against both this PR and #16345.\r\n\r\n~~Yes~~ yes for this PR, not much for the other. This one promotes calls by height which don't take into account reorgs.",
      "created_at" : "2019-07-31T15:37:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516903185",
      "id" : 516903185,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjkwMzE4NQ==",
      "updated_at" : "2019-07-31T15:39:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516903185",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "User should be assumed to know what a reorg is or be educated about them in the rpc help text, imo.",
      "created_at" : "2019-07-31T15:49:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516908054",
      "id" : 516908054,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjkwODA1NA==",
      "updated_at" : "2019-07-31T15:49:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516908054",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Could someone expand on this more? I don't understand this comment, and don't understand in general why people seem to like the idea of moving logic from the server to the client\r\n\r\nThe point is that use of the interface will usually be automatic/programmatic. Manual use (though a cli, in whatever programming language) is only a small subset of uses of the RPC interface.\r\n\r\nFeatures that are only useful for manual use (such as this one) should go into the client. Every programmatic use can just as easily call `getblockhash` to get the hash first and go on with that. That's even more stable with regard to reorgs (@promag's scenario).\r\n\r\nIt seems it needs to be said often enough: the RPC interface does *not* exist for bitcoin-cli, or for end users. It's an API for applications to use bitcoin core. If you want to make things friendlier for end-users, the place to do so is not usually the server side.",
      "created_at" : "2019-07-31T16:38:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516926539",
      "id" : 516926539,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjkyNjUzOQ==",
      "updated_at" : "2019-07-31T16:40:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516926539",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept NACK. The RPC interface is for software, not human interaction. The decision to not support heights in places of hashes was intentional.",
      "created_at" : "2019-07-31T16:47:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516929832",
      "id" : 516929832,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjkyOTgzMg==",
      "updated_at" : "2019-07-31T16:47:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516929832",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16439#discussion_r309327689"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16439"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/309327689"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Shouldn't this be `== '@'` or am I missing something?",
      "commit_id" : "f4bcae95ae89cbd6512b4347bb0ba68ac8fe4d35",
      "created_at" : "2019-07-31T16:54:37Z",
      "diff_hunk" : "@@ -440,6 +440,21 @@ static int CommandLineRPC(int argc, char *argv[])\n         const bool fWait = gArgs.GetBoolArg(\"-rpcwait\", false);\n         do {\n             try {\n+                if (method == \"getblock\") {\n+                    if (args.size() >= 1 && args[0][0] == '%') {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#discussion_r309327689",
      "id" : 309327689,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwOTMyNzY4OQ==",
      "original_commit_id" : "817a8d2e42b521cd2910a1b0a2ab3f6e4219b831",
      "original_position" : 5,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 5,
      "pull_request_review_id" : 269149371,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16439",
      "updated_at" : "2019-08-01T05:14:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/309327689",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. This seems like a nice convenience that doesn't introduce any ambiguity or much complexity.",
      "created_at" : "2019-07-31T16:55:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516932630",
      "id" : 516932630,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjkzMjYzMA==",
      "updated_at" : "2019-07-31T16:55:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516932630",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "node_id" : "MDQ6VXNlcjczMTk3",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Honestly I don't understand what is so inconvenient.\r\n\r\nHere's some more problems/inconsistencies:\r\n\r\n`-blocknotify` and ZMQ messages notify the block hash, not height, so I'd say most of the time you end up using the hash.\r\n\r\nSome (at least `getchaintxstats`) have the parameter named as `blockhash` and IMO `blockhash=@1000` is inconsistent.\r\n\r\nAlso, consider this: https://github.com/bitcoin/bitcoin/blob/7821821a23b68cc9ec49d69829ad4c939cb762e8/test/functional/rpc_blockchain.py#L143-L146\r\nYou would have to call `getblockhash` anyway otherwise you wouldn't be able to call `reconsiderblock`.",
      "created_at" : "2019-07-31T17:14:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516939586",
      "id" : 516939586,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjkzOTU4Ng==",
      "updated_at" : "2019-07-31T17:14:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516939586",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would be nice if the gui supported this, even when it is not added to bitcoind",
      "created_at" : "2019-07-31T19:57:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-516997497",
      "id" : 516997497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjk5NzQ5Nw==",
      "updated_at" : "2019-07-31T19:57:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516997497",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke GUI console supports `getblock(getblockhash(1))`. Are you suggesting `getblock(@1)` to result in the previous expression?",
      "created_at" : "2019-07-31T21:26:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-517027698",
      "id" : 517027698,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNzAyNzY5OA==",
      "updated_at" : "2019-07-31T21:28:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/517027698",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16439#discussion_r309524818"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16439"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/309524818"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I figured having \"@123\" exercise the server-side code and \"%123\" exercise the client-side code would be easier while trying the two approaches out.",
      "commit_id" : "f4bcae95ae89cbd6512b4347bb0ba68ac8fe4d35",
      "created_at" : "2019-08-01T05:12:47Z",
      "diff_hunk" : "@@ -440,6 +440,21 @@ static int CommandLineRPC(int argc, char *argv[])\n         const bool fWait = gArgs.GetBoolArg(\"-rpcwait\", false);\n         do {\n             try {\n+                if (method == \"getblock\") {\n+                    if (args.size() >= 1 && args[0][0] == '%') {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#discussion_r309524818",
      "id" : 309524818,
      "in_reply_to_id" : 309327689,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwOTUyNDgxOA==",
      "original_commit_id" : "817a8d2e42b521cd2910a1b0a2ab3f6e4219b831",
      "original_position" : 5,
      "path" : "src/bitcoin-cli.cpp",
      "position" : 5,
      "pull_request_review_id" : 269398907,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16439",
      "updated_at" : "2019-08-01T05:14:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/309524818",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Restating my Concept ACK here. I prefer the `@height` on server approach to the `%height` in client approach.\r\n\r\nI've skimmed the code and it looks good. Will fully review once commits are cleaned up and this is no longer a draft.",
      "created_at" : "2019-08-06T16:01:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-518734273",
      "id" : 518734273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxODczNDI3Mw==",
      "updated_at" : "2019-08-06T16:01:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518734273",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I think this would make newer developers significantly more prone to making errors, particularly missed reorg handling. Though, I've experienced the same usage inconveniences.",
      "created_at" : "2019-09-20T04:41:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16439#issuecomment-533402559",
      "id" : 533402559,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16439",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMzQwMjU1OQ==",
      "updated_at" : "2019-09-20T04:41:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/533402559",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2287825?v=4",
         "events_url" : "https://api.github.com/users/ch4ot1c/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ch4ot1c/followers",
         "following_url" : "https://api.github.com/users/ch4ot1c/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ch4ot1c/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ch4ot1c",
         "id" : 2287825,
         "login" : "ch4ot1c",
         "node_id" : "MDQ6VXNlcjIyODc4MjU=",
         "organizations_url" : "https://api.github.com/users/ch4ot1c/orgs",
         "received_events_url" : "https://api.github.com/users/ch4ot1c/received_events",
         "repos_url" : "https://api.github.com/users/ch4ot1c/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ch4ot1c/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ch4ot1c/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ch4ot1c"
      }
   }
]
