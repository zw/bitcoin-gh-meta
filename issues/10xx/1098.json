{
   "assignee" : null,
   "body" : "Hello,\r\n\r\nall credits for finding this bug go to user \"twobitcoins\" in this forum thread: https://bitcointalk.org/index.php?topic=73695.0\r\n\r\nI am just posting it here because I can reproduce it with 0.6.0 and so that the developers see this bug.\r\n\r\nHowto reproduce:\r\nOpen bitcoin-qt, go to addressbook, click qrcode for an address, in the message field enter ÃÂ¤ÃÂ¤ÃÂ¤ÃÂ¤ÃÂ¤ÃÂ¤ until bitcoin-qt crashes.\r\n\r\nGDB Backtrace:\r\n<pre>user@box:~/Downloads/bitcoin-0.6.0-linux/bin/64$ gdb ./bitcoin-qt\r\nGNU gdb (Ubuntu/Linaro 7.3-0ubuntu2) 7.3-2011.08\r\nCopyright (C) 2011 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\r\nand \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-linux-gnu\".\r\nFor bug reporting instructions, please see:\r\n<http://bugs.launchpad.net/gdb-linaro/>...\r\nReading symbols from /home/user/Downloads/bitcoin-0.6.0-linux/bin/64/bitcoin-qt...done.\r\n(gdb) run\r\nStarting program: /home/user/Downloads/bitcoin-0.6.0-linux/bin/64/bitcoin-qt \r\n[Thread debugging using libthread_db enabled]\r\nQGtkStyle was unable to detect the current GTK+ theme.\r\n[New Thread 0x7fffe957a700 (LWP 1892)]\r\n[New Thread 0x7fffe8d79700 (LWP 1893)]\r\n[New Thread 0x7fffe3fff700 (LWP 1894)]\r\n[New Thread 0x7fffe37fe700 (LWP 1895)]\r\n[New Thread 0x7fffe2ffd700 (LWP 1896)]\r\n[New Thread 0x7fffe27fc700 (LWP 1897)]\r\n[New Thread 0x7fffe1ffb700 (LWP 1898)]\r\n[Thread 0x7fffe2ffd700 (LWP 1896) exited]\r\n[New Thread 0x7fffe17fa700 (LWP 1899)]\r\n[New Thread 0x7fffe2ffd700 (LWP 1900)]\r\n[Thread 0x7fffe1ffb700 (LWP 1898) exited]\r\n[New Thread 0x7fffe1ffb700 (LWP 1901)]\r\n[Thread 0x7fffe8d79700 (LWP 1893) exited]\r\n[Thread 0x7fffe3fff700 (LWP 1894) exited]\r\n[New Thread 0x7fffe3fff700 (LWP 1902)]\r\n[Thread 0x7fffe37fe700 (LWP 1895) exited]\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n0x00000000005f17d7 in QRCodeDialog::genCode() ()\r\n(gdb) bt\r\n#0  0x00000000005f17d7 in QRCodeDialog::genCode() ()\r\n#1  0x00000000005f53a9 in QRCodeDialog::qt_metacall(QMetaObject::Call, int, void**) ()\r\n#2  0x00007ffff6ddbeba in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#3  0x00007ffff7701d72 in QLineEdit::textChanged(QString const&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#4  0x00007ffff770222c in QLineEdit::qt_metacall(QMetaObject::Call, int, void**) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#5  0x00007ffff6ddbeba in QMetaObject::activate(QObject*, QMetaObject const*, int, void**) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#6  0x00007ffff796d3c5 in QLineControl::textChanged(QString const&) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#7  0x00007ffff7706c3b in QLineControl::finishChange(int, bool, bool) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#8  0x00007ffff7708ff5 in QLineControl::processKeyEvent(QKeyEvent*) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#9  0x00007ffff76fdee9 in QLineEdit::keyPressEvent(QKeyEvent*) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#10 0x00007ffff7349d1e in QWidget::event(QEvent*) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#11 0x00007ffff77003f7 in QLineEdit::event(QEvent*) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#12 0x00007ffff72f9424 in QApplicationPrivate::notify_helper(QObject*, QEvent*)\r\n    () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#13 0x00007ffff72fe985 in QApplication::notify(QObject*, QEvent*) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#14 0x00007ffff6dc8afc in QCoreApplication::notifyInternal(QObject*, QEvent*)\r\n    () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#15 0x00007ffff739cf99 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#16 0x00007ffff739d40b in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#17 0x00007ffff7378347 in QApplication::x11ProcessEvent(_XEvent*) ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#18 0x00007ffff73a1412 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#19 0x00007ffff53e2a5d in g_main_context_dispatch ()\r\n   from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#20 0x00007ffff53e3258 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#21 0x00007ffff53e3429 in g_main_context_iteration ()\r\n   from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#22 0x00007ffff6df3ed6 in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#23 0x00007ffff73a107e in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\r\n#24 0x00007ffff6dc7cf2 in QEventLoop::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#25 0x00007ffff6dc7ef7 in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#26 0x00007ffff6dcc789 in QCoreApplication::exec() ()\r\n   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4\r\n#27 0x0000000000421d15 in main ()\r\n(gdb) \r\n</pre>",
   "closed_at" : "2012-04-15T15:36:53Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
      "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jgarzik/followers",
      "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jgarzik",
      "id" : 494411,
      "login" : "jgarzik",
      "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
      "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
      "repos_url" : "https://api.github.com/users/jgarzik/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jgarzik"
   },
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1098/comments",
   "created_at" : "2012-04-14T09:46:29Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1098/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/1098",
   "id" : 4116833,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1098/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 1098,
   "state" : "closed",
   "title" : "segfault in qrcode message dialog",
   "updated_at" : "2012-04-15T15:36:53Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1098",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1503969?v=3",
      "events_url" : "https://api.github.com/users/nomnombtc/events{/privacy}",
      "followers_url" : "https://api.github.com/users/nomnombtc/followers",
      "following_url" : "https://api.github.com/users/nomnombtc/following{/other_user}",
      "gists_url" : "https://api.github.com/users/nomnombtc/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/nomnombtc",
      "id" : 1503969,
      "login" : "nomnombtc",
      "organizations_url" : "https://api.github.com/users/nomnombtc/orgs",
      "received_events_url" : "https://api.github.com/users/nomnombtc/received_events",
      "repos_url" : "https://api.github.com/users/nomnombtc/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/nomnombtc/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/nomnombtc/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/nomnombtc"
   }
}
