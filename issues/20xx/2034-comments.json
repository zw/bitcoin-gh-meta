[
   {
      "body" : "IMO, fetching blocks twice isn't nearly as important as getting the p2p code to relay them efficiently. I summarized this in a series of points on bitcointalk once: https://bitcointalk.org/index.php?topic=108854.msg1312022#msg1312022",
      "created_at" : "2012-11-25T17:34:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2034#issuecomment-10695911",
      "id" : 10695911,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2034",
      "updated_at" : "2012-11-25T17:34:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10695911",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr The main problem I want to solve is IBD that get interrupted randomly when a good peer tells you about a new block in between. I really want an IBD mechanism that at least is continuously downloading blocks, and doesn't stop for several minutes when a peer disconnects or the mechanism is disturbed for some silly reason. Seriously, the way it works now is embarrassing. However, just adding re-requests and randomly asking a new peer for blocks when an old one doesn't response would increase the double-block-download problem significantly, thus this is better solved as well at the same time.\r\n\r\nYou raise a good point that there are several issues with how Bitcoin's network core works now, but IMHO that is a much harder problem to solve.",
      "created_at" : "2012-11-26T10:57:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2034#issuecomment-10711435",
      "id" : 10711435,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2034",
      "updated_at" : "2012-11-26T10:57:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/10711435",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "what is the benefit in designating a \"sync node\"? Why not have a number of sync nodes, but just ensure that the same block isn't requested from more than one responsive node. I think it would be better to distribute downloading of blocks among several nodes rather than all from one, as often a node can become stuck, and so the impact of this will be far less if several nodes are used.",
      "created_at" : "2012-12-12T15:22:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2034#issuecomment-11292994",
      "id" : 11292994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2034",
      "updated_at" : "2012-12-12T15:22:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/11292994",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@rebroad That would be better without a doubt, but that's far harder to do, and I doubt it would be less of a hack than what we have now. I want something that works, is easy to understand, doesn't request blocks several times, and doesn't get confused by different nodes announcing blocks.\r\n\r\nThe real solution is headers-first fetching, where we know in advance which blocks to request and which nodes have them. When we have that, parallel block fetching is definitely the intention, but right now, let's just make something that works.",
      "created_at" : "2012-12-12T15:37:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2034#issuecomment-11293675",
      "id" : 11293675,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2034",
      "updated_at" : "2012-12-12T15:37:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/11293675",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I still maintain #1271 is needed - yes it doesn't fix the core issue you refer to, but it does fix an issue that currently, no other pull request, AFAIK, fixes.",
      "created_at" : "2012-12-20T17:37:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2034#issuecomment-11582916",
      "id" : 11582916,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2034",
      "updated_at" : "2012-12-20T17:37:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/11582916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "I am sorry. I've just realised I've not explained myself very well. I struggle sometimes to relay information that I know about but that others do not. #1271 on first appearance does look like it fixes the problem in the wrong place, and I understand why people might think that. For the problem you mention, it does, and a different pull request should be made to fix that particular problem in the right place (for which #1271 does not). However, #1271 is needed as a pre-requisite for another pull request I will be making in the future, which will cause the node to re-request blocks from other peers when the current peer providing the block becomes stuck or stale. If it became stuck rather than stale and therefore unsticks, it will of course then start sending a block which will by then have already been received by the other node. In that situation, #1271 will then be needed. I could include it as a commit in the other pull which I talk about, but I firmly believe it makes more sense to issue that functionality now as it is currently needed now also. Hope this explains things and my logic so far.",
      "created_at" : "2012-12-20T19:08:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2034#issuecomment-11586414",
      "id" : 11586414,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2034",
      "updated_at" : "2012-12-20T19:08:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/11586414",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@sipa How would you chose the \"sync node\"? I took a quick look into that code parts and wow... heavy stuff in there for my little brain :-D.",
      "created_at" : "2013-01-13T11:44:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2034#issuecomment-12192611",
      "id" : 12192611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2034",
      "updated_at" : "2013-01-13T11:44:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12192611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo what code?",
      "created_at" : "2013-01-13T19:20:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2034#issuecomment-12198484",
      "id" : 12198484,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2034",
      "updated_at" : "2013-01-13T19:20:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12198484",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "Was talking about the general block and command handling stuff ^^. Seems grown and not that easy to read for me :).",
      "created_at" : "2013-01-13T19:55:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2034#issuecomment-12199063",
      "id" : 12199063,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2034",
      "updated_at" : "2013-01-13T19:55:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12199063",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "This is superseded by headers-first synchronization.",
      "created_at" : "2014-12-05T17:43:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2034#issuecomment-65826376",
      "id" : 65826376,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2034",
      "updated_at" : "2014-12-05T17:43:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/65826376",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
