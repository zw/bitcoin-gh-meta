[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28037).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [josibake](https://github.com/bitcoin/bitcoin/pull/28037#pullrequestreview-1875330161), [furszy](https://github.com/bitcoin/bitcoin/pull/28037#pullrequestreview-1876349250) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2023-07-06T15:03:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1623842069",
      "id" : 1623842069,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585gyd0V",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1623842069/reactions"
      },
      "updated_at" : "2024-02-12T21:23:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1623842069",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would it make sense to document that this is expected to take a long time on spinning storage? For me a freshly created BDB wallet takes ~5 minutes to migrate. Another one I wasn't sure about, see https://github.com/bitcoin/bitcoin/issues/28057#issuecomment-1628461546.\r\n\r\nAlso, there seem to be outstanding bugs with the RPC, see same thread as above.",
      "created_at" : "2023-07-10T08:40:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1628507151",
      "id" : 1628507151,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585hEQwP",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1628507151/reactions"
      },
      "updated_at" : "2023-07-10T08:40:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1628507151",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Would it make sense to document that this is expected to take a long time on spinning storage? For me a freshly created BDB wallet takes ~5 minutes to migrate.\r\n\r\nAre you still working on this? If not, it would be good to leave a reply here.",
      "created_at" : "2023-09-21T11:06:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1729347922",
      "id" : 1729347922,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585nE8FS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1729347922/reactions"
      },
      "updated_at" : "2023-09-21T11:06:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1729347922",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Is the plan here to review #28574 and try and get that in, if it improves things, or should we remove the warning as proposed here and add a note that it may take more time?\r\n\r\nI'd be happy to review/test either when I know which approach we'd prefer. ",
      "created_at" : "2023-10-13T09:57:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1761245968",
      "id" : 1761245968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585o-nsQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1761245968/reactions"
      },
      "updated_at" : "2023-10-13T09:57:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1761245968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't think that keeping it for another cycle would modify the legacy wallet removal schedule at all.\r\n\r\nI'd prefer that the RPC is not marked as experimental for one release before we drop the legacy wallet entirely. We have the legacy wallet scheduled to be removed for 27.0, but if migration is still experimental for 26.0, then the schedule should be pushed back by a release.",
      "created_at" : "2023-10-13T15:31:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1761710675",
      "id" : 1761710675,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585pAZJT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1761710675/reactions"
      },
      "updated_at" : "2023-10-13T15:31:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1761710675",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "At a minimum, I'd prefer if the doc said that this RPC could take a long time, and that bumping the client timeout is recommended. Otherwise users will call the RPC and only see the timeout error message with no way to get further feedback.",
      "created_at" : "2023-10-19T07:53:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1770260933",
      "id" : 1770260933,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585phAnF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1770260933/reactions"
      },
      "updated_at" : "2023-10-19T07:53:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1770260933",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've pushed a commit that mentions the time in the RPC doc.",
      "created_at" : "2023-10-19T15:07:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1771184189",
      "id" : 1771184189,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585pkiA9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1771184189/reactions"
      },
      "updated_at" : "2023-10-19T15:07:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1771184189",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> We have the legacy wallet scheduled to be removed for 27.0\r\n\r\nAccording to #20160, it seems we're only stopping creation of new wallets in 27.0, and removing BDB in 28.0? Given that there still are outstanding bugs (even if not necessarily super critical), removing the experimental label for 26.0 is unnecessarily risky in my view",
      "created_at" : "2023-10-20T12:19:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1772639047",
      "id" : 1772639047,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585pqFNH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1772639047/reactions"
      },
      "updated_at" : "2023-10-20T12:19:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1772639047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Moved to the 27.0 milestone.",
      "created_at" : "2023-10-23T14:35:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1775347529",
      "id" : 1775347529,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585p0adJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1775347529/reactions"
      },
      "updated_at" : "2023-10-23T14:35:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1775347529",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28037#discussion_r1378994739"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28037"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378994739"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Another problem is that (I presume) large single-keys-bag wallets may take hundred times longer to load. Not saying that this is a common use case, but I don't think the RPC is non-experimental for users before this is fixed?",
      "commit_id" : "f1684bb88a878eb3f54e945db39ea69b14256eef",
      "created_at" : "2023-11-01T16:00:02Z",
      "diff_hunk" : "@@ -739,13 +739,13 @@ RPCHelpMan simulaterawtransaction()\n static RPCHelpMan migratewallet()\n {\n     return RPCHelpMan{\"migratewallet\",\n-        \"EXPERIMENTAL warning: This call may not work as expected and may be changed in future releases\\n\"\n         \"\\nMigrate the wallet to a descriptor wallet.\\n\"\n         \"A new wallet backup will need to be made.\\n\"\n         \"\\nThe migration process will create a backup of the wallet before migrating. This backup\\n\"\n         \"file will be named <wallet name>-<timestamp>.legacy.bak and can be found in the directory\\n\"\n         \"for this wallet. In the event of an incorrect migration, the backup can be restored using restorewallet.\"\n-        \"\\nEncrypted wallets must have the passphrase provided as an argument to this call.\",\n+        \"\\nEncrypted wallets must have the passphrase provided as an argument to this call.\\n\"\n+        \"\\nThis RPC may take a long time to complete. Increasing the RPC client timeout is recommended.\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#discussion_r1378994739",
      "id" : 1378994739,
      "line" : 748,
      "node_id" : "PRRC_kwDOABII585SMcoz",
      "original_commit_id" : "f1684bb88a878eb3f54e945db39ea69b14256eef",
      "original_line" : 748,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 12,
      "pull_request_review_id" : 1708531062,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28037",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378994739/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-01T16:00:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1378994739",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28037#discussion_r1379714710"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28037"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1379714710"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should we then include #26008 and maybe #28574 in 27.0?",
      "commit_id" : "f1684bb88a878eb3f54e945db39ea69b14256eef",
      "created_at" : "2023-11-02T07:58:05Z",
      "diff_hunk" : "@@ -739,13 +739,13 @@ RPCHelpMan simulaterawtransaction()\n static RPCHelpMan migratewallet()\n {\n     return RPCHelpMan{\"migratewallet\",\n-        \"EXPERIMENTAL warning: This call may not work as expected and may be changed in future releases\\n\"\n         \"\\nMigrate the wallet to a descriptor wallet.\\n\"\n         \"A new wallet backup will need to be made.\\n\"\n         \"\\nThe migration process will create a backup of the wallet before migrating. This backup\\n\"\n         \"file will be named <wallet name>-<timestamp>.legacy.bak and can be found in the directory\\n\"\n         \"for this wallet. In the event of an incorrect migration, the backup can be restored using restorewallet.\"\n-        \"\\nEncrypted wallets must have the passphrase provided as an argument to this call.\",\n+        \"\\nEncrypted wallets must have the passphrase provided as an argument to this call.\\n\"\n+        \"\\nThis RPC may take a long time to complete. Increasing the RPC client timeout is recommended.\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#discussion_r1379714710",
      "id" : 1379714710,
      "in_reply_to_id" : 1378994739,
      "line" : 748,
      "node_id" : "PRRC_kwDOABII585SPMaW",
      "original_commit_id" : "f1684bb88a878eb3f54e945db39ea69b14256eef",
      "original_line" : 748,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/wallet.cpp",
      "position" : 12,
      "pull_request_review_id" : 1709638914,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28037",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1379714710/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-02T07:58:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1379714710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Hey, I was taking a look at this PR. What is the status on this? Are we aiming to get this into 27.0? What about the two PRs, that @S3RK mentioned, they are open and in draft. Does this PR here depend on them?",
      "created_at" : "2024-01-31T16:02:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1919410802",
      "id" : 1919410802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585yZ-Jy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1919410802/reactions"
      },
      "updated_at" : "2024-01-31T16:02:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1919410802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4060799?v=4",
         "events_url" : "https://api.github.com/users/murchandamus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/murchandamus/followers",
         "following_url" : "https://api.github.com/users/murchandamus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/murchandamus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/murchandamus",
         "id" : 4060799,
         "login" : "murchandamus",
         "node_id" : "MDQ6VXNlcjQwNjA3OTk=",
         "organizations_url" : "https://api.github.com/users/murchandamus/orgs",
         "received_events_url" : "https://api.github.com/users/murchandamus/received_events",
         "repos_url" : "https://api.github.com/users/murchandamus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/murchandamus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/murchandamus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/murchandamus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Also, we do have other bug fixes that should be included in v27 to deprecate this warning.\r\nSee #28976, #28868, #29112, #29367. Would be nice to bring more attention to them.",
      "created_at" : "2024-01-31T16:32:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1919470797",
      "id" : 1919470797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585yaMzN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1919470797/reactions"
      },
      "updated_at" : "2024-02-02T15:55:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1919470797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure about rushing this. I tested yesterday a bdb testnet3 wallet with 1000 txs on spinning storage, and I aborted the migration after 20 minutes. Happy to re-test if more pulls are merged.\r\n\r\nI think the migration performance can be consider a bugfix, so I'd suggest to at least give this another two weeks after feature freeze (yesterday), according to https://github.com/bitcoin/bitcoin/issues/29028.\r\n\r\nIt seems plausible that the users having a bdb wallet with many transactions are also the ones more likely to still have a slow storage device. So removing the \"experimental\" warning may affect the users the most that require performance the most.",
      "created_at" : "2024-02-13T09:16:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1940863159",
      "id" : 1940863159,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585zrzi3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1940863159/reactions"
      },
      "updated_at" : "2024-02-13T09:16:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1940863159",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I tested yesterday a bdb testnet3 wallet with 1000 txs on spinning storage, and I aborted the migration after 20 minutes.\r\n\r\nCan you profile that so we can see where it is actually spending the most time?",
      "created_at" : "2024-02-13T17:48:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1942094206",
      "id" : 1942094206,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585zwgF-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942094206/reactions"
      },
      "updated_at" : "2024-02-13T17:48:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942094206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure how to create a flame-graph, since it takes too long. But it may be eating time in `fdatasync` in\r\n\r\n```\r\n#9  0x0000559cb227c624 in wallet::SQLiteBatch::TxnCommit (this=0x7f5b24178fc0) at wallet/sqlite.cpp:668\r\n#10 0x0000559cb21cff66 in wallet::DescriptorScriptPubKeyMan::TopUp (this=0x7f5b24178970, size=<optimized out>) at wallet/scriptpubkeyman.cpp:2148\r\n#11 0x0000559cb21cb6d3 in wallet::LegacyScriptPubKeyMan::MigrateToDescriptor (this=0x7f5b24ee3900) at wallet/scriptpubkeyman.cpp:1925\r\n#12 0x0000559cb222b2f7 in wallet::CWallet::GetDescriptorsForLegacy (this=0x7f5b2517cc70, error=...) at wallet/wallet.cpp:3922\r\n#13 0x0000559cb222e8fa in wallet::DoMigration (wallet=..., context=..., error=..., res=...) at wallet/wallet.cpp:4155\r\n",
      "created_at" : "2024-02-13T20:40:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1942447314",
      "id" : 1942447314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585zx2TS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942447314/reactions"
      },
      "updated_at" : "2024-02-13T20:40:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942447314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@maflcko Can you provide any more details about the wallet? The output of `getwalletinfo` would be helpful.",
      "created_at" : "2024-02-13T20:43:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1942457440",
      "id" : 1942457440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585zx4xg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942457440/reactions"
      },
      "updated_at" : "2024-02-13T20:43:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942457440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It is just a normal testnet3 wallet:\r\n\r\n```\r\n{\r\n  \"walletname\": \"-1707752467.legacy.bak-1707848638.legacy.bak-1707849652.legacy.bak-1707855504.legacy.bak\",\r\n  \"walletversion\": 60000,\r\n  \"format\": \"bdb\",\r\n  \"balance\": 1.26999586,\r\n  \"unconfirmed_balance\": 0.00000000,\r\n  \"immature_balance\": 0.00000000,\r\n  \"txcount\": 661,\r\n  \"keypoololdest\": 1515426721,\r\n  \"keypoolsize\": 999,\r\n  \"unlocked_until\": 0,\r\n  \"paytxfee\": 0.00000000,\r\n  \"private_keys_enabled\": true,\r\n  \"avoid_reuse\": false,\r\n  \"scanning\": false,\r\n  \"descriptors\": false,\r\n  \"external_signer\": false,\r\n  \"blank\": false,\r\n  \"birthtime\": 1,\r\n  \"lastprocessedblock\": {\r\n    \"hash\": \"0000000000000093bcb68c03a9a168ae252572d348a2eaeba2cdf9231d73206f\",\r\n    \"height\": 2500000\r\n  }\r\n}\r\n",
      "created_at" : "2024-02-13T20:52:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1942482242",
      "id" : 1942482242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585zx-1C",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942482242/reactions"
      },
      "updated_at" : "2024-02-13T21:03:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942482242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "How long does it take to migrate if you just let it complete?",
      "created_at" : "2024-02-13T20:53:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1942484980",
      "id" : 1942484980,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585zx_f0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942484980/reactions"
      },
      "updated_at" : "2024-02-13T20:53:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942484980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, I can try that. I wonder if anyone else can try the HDD+BDB combo to double check. Or if really no one else has a HDD+BDB for testing, it can be declared unsupported?",
      "created_at" : "2024-02-13T21:09:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1942542460",
      "id" : 1942542460,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585zyNh8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942542460/reactions"
      },
      "updated_at" : "2024-02-13T21:09:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1942542460",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure. I am using the spinning storage only to test `migratewallet`. It finished after 2 hours.\r\n\r\nI don't want to block this pull request, but I wanted to share what I am seeing when running the migration on a slow storage. Migration is a one-time cost, so I'll leave it up to others whether to improve it, and by how much. However, if `migratewallet` is expected to take long for other wallets if they reside on slow storage, it may be good to add a note to the RPC? Something like, \"Depending on the size of your wallet and the speed of your storage device, migration may take several hours. Make sure to disable the client RPC timeout. Otherwise, the migration RPC result will not make it back to you.\"\r\n\r\nAnother problem is that (I presume) large single-keys-bag wallets may take hundred times longer to load after migration, even on fast storage, IIRC. If this is still the case, it seems like a higher priority to fix, because this is a cost to be paid every time the wallet is loaded.",
      "created_at" : "2024-02-14T08:12:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1943262513",
      "id" : 1943262513,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585z09Ux",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1943262513/reactions"
      },
      "updated_at" : "2024-02-14T08:12:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1943262513",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I guess `time loadwallet` will be improved by https://github.com/bitcoin/bitcoin/pull/26008#issuecomment-1943469180 ",
      "created_at" : "2024-02-14T10:25:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1943470403",
      "id" : 1943470403,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585z1wFD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1943470403/reactions"
      },
      "updated_at" : "2024-02-14T10:25:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1943470403",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Update: I'm cooking another set of improvements.. will try to have them for tonight.",
      "created_at" : "2024-02-14T14:34:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1943916606",
      "id" : 1943916606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585z3dA-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1943916606/reactions"
      },
      "updated_at" : "2024-02-14T14:34:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1943916606",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Or well, I just crafted a simple version of what I'm doing (I'm planning to create a statement builder around this work, and that will take me some more time).\r\n\r\nCould you please try this branch: https://github.com/furszy/bitcoin-core/tree/2024_wallet_batch_migration_multi_insert and share the results?\r\n\r\nIt is essentially #28574 + 506b73872b9ce232e8c6b9fefbdb0c33e04d0707. The new commit introduces a raw multi-insert statement. Locally, this shows a significant speedup but I'm on a SSD.",
      "created_at" : "2024-02-14T15:27:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1944061663",
      "id" : 1944061663,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585z4Abf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1944061663/reactions"
      },
      "updated_at" : "2024-02-14T15:43:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1944061663",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I tried to reproduce using a wallet with ~1k tx located on a spinning disk -- although this time on regtest -- but I found `migratewallet` to be pleasantly fast:\r\n\r\n```fish\r\nwill@will-ubuntu in ~/src/bitcoin on î  master [$?â¡] : C v17.0.2-clang : ð 3.9.18\r\nâ¿ time /home/will/src/bitcoin/src/bitcoin-cli -regtest -datadir=/media/will/PEPSI/big-wallet-900-tx-original migratewallet big\r\n{\r\n  \"wallet_name\": \"big\",\r\n  \"backup_path\": \"/media/will/PEPSI/big-wallet-900-tx-original/regtest/wallets/big/big-1707927351.legacy.bak\"\r\n}\r\n\r\n________________________________________________________\r\nExecuted in    8.14 secs      fish           external\r\n   usr time    1.69 millis  226.00 micros    1.46 millis\r\n   sys time    0.45 millis   45.00 micros    0.40 millis\r\n\r\n\r\nwill@will-ubuntu in ~/src/bitcoin on î  master [$?â¡] : C v17.0.2-clang : ð 3.9.18\r\nâ¿ /home/will/src/bitcoin/src/bitcoin-cli -regtest -datadir=/media/will/PEPSI/big-wallet-900-tx-original getwalletinfo\r\n{\r\n  \"walletname\": \"big\",\r\n  \"walletversion\": 169900,\r\n  \"format\": \"sqlite\",\r\n  \"balance\": 13606.24414485,\r\n  \"unconfirmed_balance\": 0.00000000,\r\n  \"immature_balance\": 515.63072317,\r\n  \"txcount\": 952,\r\n  \"keypoolsize\": 4000,\r\n  \"keypoolsize_hd_internal\": 4000,\r\n  \"paytxfee\": 0.00000000,\r\n  \"private_keys_enabled\": true,\r\n  \"avoid_reuse\": false,\r\n  \"scanning\": false,\r\n  \"descriptors\": true,\r\n  \"external_signer\": false,\r\n  \"blank\": false,\r\n  \"birthtime\": 0,\r\n  \"lastprocessedblock\": {\r\n    \"hash\": \"16632672917b708d311b8197d7be852c9a5ce41413b04ecfc2ca72637148766b\",\r\n    \"height\": 634\r\n  }\r\n}\r\n```\r\n\r\nThe BDB wallet `getwalletinfo` (slightly smaller keypool size):\r\n\r\n```fish\r\nwill@will-ubuntu in ~/src/bitcoin on î  master [$?â¡] : C v17.0.2-clang : ð 3.9.18\r\nâ¿ /home/will/src/bitcoin/src/bitcoin-cli -regtest -datadir=/media/will/PEPSI/big-wallet-900-tx-original getwalletinfo\r\n{\r\n  \"walletname\": \"/home/will/bitcoin-chains/big-wallet-900-tx-original/regtest/wallets/big\",\r\n  \"walletversion\": 169900,\r\n  \"format\": \"bdb\",\r\n  \"balance\": 13606.24414485,\r\n  \"unconfirmed_balance\": 0.00000000,\r\n  \"immature_balance\": 515.63072317,\r\n  \"txcount\": 952,\r\n  \"keypoololdest\": 1707925846,\r\n  \"keypoolsize\": 1000,\r\n  \"hdseedid\": \"f48cadf402473b7726449f7e50c836466970299e\",\r\n  \"keypoolsize_hd_internal\": 1000,\r\n  \"paytxfee\": 0.00000000,\r\n  \"private_keys_enabled\": true,\r\n  \"avoid_reuse\": false,\r\n  \"scanning\": false,\r\n  \"descriptors\": false,\r\n  \"external_signer\": false,\r\n  \"blank\": false,\r\n  \"birthtime\": 1707925845,\r\n  \"lastprocessedblock\": {\r\n    \"hash\": \"16632672917b708d311b8197d7be852c9a5ce41413b04ecfc2ca72637148766b\",\r\n    \"height\": 634\r\n  }\r\n}\r\n```",
      "created_at" : "2024-02-14T16:25:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1944173949",
      "id" : 1944173949,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585z4b19",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1944173949/reactions"
      },
      "updated_at" : "2024-02-14T16:25:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1944173949",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> ```fish\r\n>   \"walletversion\": 169900,\r\n> ```\r\n\r\nYes, HD wallets are fine. The issue is only about pre-HD wallets. My version is `60000`.",
      "created_at" : "2024-02-14T16:33:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28037#issuecomment-1944189545",
      "id" : 1944189545,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28037",
      "node_id" : "IC_kwDOABII585z4fpp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1944189545/reactions"
      },
      "updated_at" : "2024-02-14T16:33:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1944189545",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   }
]
