[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [willcl-ark](https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1658137282) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28185](https://github.com/bitcoin/bitcoin/pull/28185) (ci: Use hard-coded root path for CI containers (bugfix) by MarcoFalke)\n* [#27976](https://github.com/bitcoin/bitcoin/pull/27976) (ci: Start with clean env by MarcoFalke)\n* [#21652](https://github.com/bitcoin/bitcoin/pull/21652) (ci: Switch more tasks to self-hosted by MarcoFalke)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-07-17T10:15:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1637793067",
      "id" : 1637793067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585hnr0r",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1637793067/reactions"
      },
      "updated_at" : "2023-07-31T10:55:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1637793067",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "If it doesn't work locally, you can check the enabled architectures via `ls /proc/sys/fs/binfmt_misc/`",
      "created_at" : "2023-07-17T11:42:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1637960373",
      "id" : 1637960373,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585hoUq1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1637960373/reactions"
      },
      "updated_at" : "2023-07-17T11:42:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1637960373",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks like it is not set up on Cirrus CI: https://cirrus-ci.com/task/6369879847075840?logs=build#L42 ?",
      "created_at" : "2023-07-17T15:28:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1638378552",
      "id" : 1638378552,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585hp6w4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 1,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1638378552/reactions"
      },
      "updated_at" : "2023-07-17T15:28:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1638378552",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I may try using a full CI VM next.",
      "created_at" : "2023-07-17T15:29:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1638380697",
      "id" : 1638380697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585hp7SZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1638380697/reactions"
      },
      "updated_at" : "2023-07-17T15:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1638380697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The arm task is now run by @DrahtBot, which should make it green",
      "created_at" : "2023-07-24T08:08:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1647420555",
      "id" : 1647420555,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585iMaSL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1647420555/reactions"
      },
      "updated_at" : "2023-07-24T08:08:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1647420555",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks like calling the armhf (cross) compiler (which happens often) via qemu-aarch64 on amd64 is too much overhead and times out? I'll try to run on aarch64 metal directly, which should avoid the extra hop through qemu in the CI.",
      "created_at" : "2023-07-25T08:48:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1649399453",
      "id" : 1649399453,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585iT9ad",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1649399453/reactions"
      },
      "updated_at" : "2023-07-25T08:48:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1649399453",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Looks like CI is now green :)\r\n\r\nAlso the test failure from https://github.com/bitcoin/bitcoin/pull/27529#issuecomment-1521387810 can now be tested on this pull with just:\r\n\r\n```\r\nMAKEJOBS=\"-j$(nproc)\" FILE_ENV=\"./ci/test/00_setup_env_s390x.sh\" ./ci/test_run_all.sh\r\n```\r\n\r\nOutput:\r\n```\r\n test  2023-07-25T15:37:42.430000Z TestFramework (ERROR): Unexpected exception caught during testing \r\n                                   Traceback (most recent call last):\r\n                                     File \"/root/b-c-ci/ci/scratch/build/bitcoin-s390x-ibm-linux-gnu/test/functional/test_framework/test_framework.py\", line 131, in main\r\n                                       self.run_test()\r\n                                     File \"/root/b-c-ci/ci/scratch/build/bitcoin-s390x-ibm-linux-gnu/test/functional/feature_addrman.py\", line 68, in run_test\r\n                                       self.start_node(0, extra_args=[\"-checkaddrman=1\"])\r\n                                     File \"/root/b-c-ci/ci/scratch/build/bitcoin-s390x-ibm-linux-gnu/test/functional/test_framework/test_framework.py\", line 537, in start_node\r\n                                       node.wait_for_rpc_connection()\r\n                                     File \"/root/b-c-ci/ci/scratch/build/bitcoin-s390x-ibm-linux-gnu/test/functional/test_framework/test_node.py\", line 235, in wait_for_rpc_connection\r\n                                       raise FailedToStartError(self._node_msg(\r\n                                   test_framework.test_node.FailedToStartError: [node 0] bitcoind exited with status 1 during initialization\r\n test  2023-07-25T15:37:42.466000Z TestFramework (DEBUG): Closing down network thread \r\n test  2023-07-25T15:37:42.518000Z TestFramework (INFO): Stopping nodes \r\n test  2023-07-25T15:37:42.519000Z TestFramework.node0 (DEBUG): Stopping node \r\n\r\n node0 stderr Error: Invalid or corrupt peers.dat (AutoFile::read: end of file: iostream error). If you believe this is a bug, please report it to https://github.com/bitcoin/bitcoin/issues. As a workaround, you can move the file (\"/root/b-c-ci/ci/scratch/test_runner/test_runner_â¿_ð_20230725_152500/feature_addrman_40/node0/regtest/peers.dat\") out of the way (rename, move, or delete) to have a new one created on the next start. \r\n\r\n",
      "created_at" : "2023-07-25T15:41:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1650081711",
      "id" : 1650081711,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585iWj-v",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1650081711/reactions"
      },
      "updated_at" : "2023-07-25T15:41:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1650081711",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think I can give this much competent review I'm afraid. Partly because I can't get it working locally, and partly because I don't feel like I understand the changes fully yet.\r\n\r\nI did try to run `MAKEJOBS=\"-j$(nproc)\" FILE_ENV=\"./ci/test/00_setup_env_s390x.sh\" ./ci/test_run_all.sh`, but it takes more than 2 hours to run (amd64 local arch), and I keep getting (possibly) unrelated errors like this: [390x_build_error.txt](https://github.com/bitcoin/bitcoin/files/12180726/390x_build_error.txt)\r\n\r\nI do have some questions for my own understanding though...\r\n\r\nAm I right in understanding that in the new setup, docker is using qemu and binfmt-misc from the container engines' kernel to run (emulate) e.g. the `\"docker.io/s390x/debian:bookworm\"` image, and that this is _roughly_ the same (but simpler to configure from our side) than running an x86 image, manually installing qemu, and then wrapping our various binaries in it. But it also achieves \"The python tests are run on the host architecture, making it harder to find architecture specific bugs\"?",
      "created_at" : "2023-07-27T08:28:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1653142279",
      "id" : 1653142279,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585iiPMH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653142279/reactions"
      },
      "updated_at" : "2023-07-27T08:28:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653142279",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> but it takes more than 2 hours to run\r\n\r\nYes, this is expected. Instead of just running `bitcoind` through qemu, now the *whole* container is run through qemu.\r\n\r\n> unrelated errors\r\n\r\nJup, this should be unrelated, I presume it also happens on current master. You may be able to fix it by upgrading your `qemu-s390x --version`. IIRC qemu 7.2 or later is required.\r\n\r\n> this is roughly the same (but simpler to configure from our side) than running an x86 image, manually installing qemu, and then wrapping our various binaries in it. But it also achieves \"The python tests are run on the host architecture, making it harder to find architecture specific bugs\"?\r\n\r\n\r\nYeah, it requires a minimal setup procedure on your container engine and it may run slower at runtime. However, the result is otherwise,\r\n\r\n* simpler, less code;\r\n* more flexible, supporting a guest and host of *any* architecture combination; (:rocket:)\r\n* more efficient in the happy case by default, because the container engine will detect if the guest and host architecture matches, and sidestep the expensive qemu.\r\n* more complete, detecting more bugs, as *all* executables in the container are run in qemu. (:rocket:)\r\n\r\n(I've added rocket emojis to the main features/bugfixes I am interested in)",
      "created_at" : "2023-07-27T08:55:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1653188244",
      "id" : 1653188244,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585iiaaU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653188244/reactions"
      },
      "updated_at" : "2023-07-27T08:57:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653188244",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks Marco, thats a very helpful explanation (and I nice changes for us!).\r\n\r\nI will give it another go this afternoon after trying to update qemu.",
      "created_at" : "2023-07-27T09:00:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1653195617",
      "id" : 1653195617,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585iicNh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653195617/reactions"
      },
      "updated_at" : "2023-07-27T09:00:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1653195617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@MarcoFalke \r\n\r\n> Yes, this is expected. Instead of just running `bitcoind` through qemu, now the whole container is run through qemu.\r\n\r\nOk running this again... to setup and build Depends still takes more than an hour for me (with it taking 56 mins to progress past  `building qt`) which seems relatively annoying. Am I correct that this build will use a depends cache on actual CI though, which should speed it up there significantly?",
      "created_at" : "2023-07-31T09:43:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1658031353",
      "id" : 1658031353,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585i04z5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1658031353/reactions"
      },
      "updated_at" : "2023-07-31T09:43:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1658031353",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Depends still takes more than an hour for me\r\n\r\nYes, there seems to be quite an overhead in calling qemu for each configure check, and each build file. This is really the cost that is paid in this pull, but I think it is worth it the benefits.\r\n\r\n> Am I correct that this build will use a depends cache on actual CI though, which should speed it up there significantly?\r\n\r\nCI will run on `aarch64` metal, so qemu will never be called. (depends is also cached, but this is happening regardless).",
      "created_at" : "2023-07-31T09:58:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1658055880",
      "id" : 1658055880,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585i0-zI",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1658055880/reactions"
      },
      "updated_at" : "2023-07-31T09:58:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1658055880",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Unfortunately that build broke again for me for another seemingly unrealted reason. I have the correct version of qemu this time for sure:\r\n\r\n```log\r\nwill@ubuntu in ~\r\n$ qemu-s390x --version\r\nqemu-s390x version 7.2.0 (Debian 1:7.2+dfsg-5ubuntu2.2)\r\nCopyright (c) 2003-2022 Fabrice Bellard and the QEMU Project developers\r\n```\r\n\r\nI don't think I can test this on my side, but I am a concept ACK on these changes, and they _look_ correct to me.",
      "created_at" : "2023-07-31T10:55:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1658137282",
      "id" : 1658137282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585i1SrC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1658137282/reactions"
      },
      "updated_at" : "2023-07-31T10:55:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1658137282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
         "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/willcl-ark/followers",
         "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/willcl-ark",
         "id" : 6606587,
         "login" : "willcl-ark",
         "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
         "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
         "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
         "repos_url" : "https://api.github.com/users/willcl-ark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/willcl-ark"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Feel free to create an issue with the unrelated stuff you ran into. Happy to take a look. Personally, I spin up a fresh VM (in a cloud or locally) to do testing, so I likely miss most CI UX issues.",
      "created_at" : "2023-07-31T11:00:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28087#issuecomment-1658145208",
      "id" : 1658145208,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28087",
      "node_id" : "IC_kwDOABII585i1Um4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1658145208/reactions"
      },
      "updated_at" : "2023-07-31T11:00:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1658145208",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
