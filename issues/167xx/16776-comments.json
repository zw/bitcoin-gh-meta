[
   {
      "author_association" : "MEMBER",
      "body" : "How are you loading the wallets?",
      "created_at" : "2019-09-01T01:51:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-526878811",
      "id" : 526878811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjg3ODgxMQ==",
      "updated_at" : "2019-09-01T01:51:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526878811",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "File -> Open Wallet -> 8204388-wallet.dat then File -> Open Wallet -> 1352491-wallet.dat.  Click the second one (which is a duplicate of the first wallet) and the GUI crashes.",
      "created_at" : "2019-09-01T02:05:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-526879343",
      "id" : 526879343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjg3OTM0Mw==",
      "updated_at" : "2019-09-01T02:05:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526879343",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/11489666?v=4",
         "events_url" : "https://api.github.com/users/oxagast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/oxagast/followers",
         "following_url" : "https://api.github.com/users/oxagast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/oxagast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/oxagast",
         "id" : 11489666,
         "login" : "oxagast",
         "node_id" : "MDQ6VXNlcjExNDg5NjY2",
         "organizations_url" : "https://api.github.com/users/oxagast/orgs",
         "received_events_url" : "https://api.github.com/users/oxagast/received_events",
         "repos_url" : "https://api.github.com/users/oxagast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/oxagast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/oxagast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/oxagast"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Here's a backtrace.\r\n```\r\n(gdb) exec-file bitcoin-0.18.0/bin/bitcoin-qt\r\n(gdb) r -debug\r\nStarting program: /home/marshall/bitcoin-0.18.0/bin/bitcoin-qt -debug\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n[New Thread 0x7ffff4b38700 (LWP 22858)]\r\n[New Thread 0x7fffef3ed700 (LWP 22859)]\r\n[New Thread 0x7fffedff6700 (LWP 22860)]\r\n[New Thread 0x7fffe6ffe700 (LWP 22861)]\r\n[New Thread 0x7fffe67fd700 (LWP 22862)]\r\n[New Thread 0x7fffe5ffc700 (LWP 22863)]\r\n[New Thread 0x7fffe57fb700 (LWP 22864)]\r\n[New Thread 0x7fffe4ffa700 (LWP 22865)]\r\n[New Thread 0x7fff4ca12700 (LWP 23548)]\r\n[New Thread 0x7fff47fff700 (LWP 23549)]\r\n[Thread 0x7fff4ca12700 (LWP 23548) exited]\r\n[New Thread 0x7fff477fe700 (LWP 23600)]\r\n[New Thread 0x7fff46ffd700 (LWP 23601)]\r\n[New Thread 0x7fff467fc700 (LWP 23602)]\r\n[New Thread 0x7fff45ffb700 (LWP 23603)]\r\n[New Thread 0x7fff457fa700 (LWP 23604)]\r\n[New Thread 0x7fff44ff9700 (LWP 23607)]\r\n[New Thread 0x7fff2ffff700 (LWP 23621)]\r\n[New Thread 0x7fff2f7fe700 (LWP 23644)]\r\n[Thread 0x7fff46ffd700 (LWP 23601) exited]\r\nterminate called after throwing an instance of 'std::runtime_error'\r\n  what():  BerkeleyBatch: Can't open database 8204388-wallet.dat (duplicates fileid 8b1c090000000800e25686350000000000000000 from 1352491-wallet.dat)\r\n\r\nThread 17 \"QThread\" received signal SIGABRT, Aborted.\r\n[Switching to Thread 0x7fff44ff9700 (LWP 23607)]\r\n__GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\r\n51      ../sysdeps/unix/sysv/linux/raise.c: No such file or directory.\r\n(gdb) thread apply all bt\r\n\r\nThread 19 (Thread 0x7fff2f7fe700 (LWP 23644)):\r\n#0  0x00007ffff62bccf6 in __GI_ppoll (fds=0x7fff1c000fd8, nfds=1, timeout=<optimized out>, sigmask=0x0) at ../sysdeps/unix/sysv/linux/ppoll.c:39\r\n#1  0x00005555562a6b81 in ?? ()\r\n#2  0x0000000000000070 in ?? ()\r\n#3  0x00005555562a95aa in ?? ()\r\n#4  0x0000000000000001 in ?? ()\r\n#5  0x0000000000000008 in ?? ()\r\n#6  0x0000000000000000 in ?? ()\r\n\r\nThread 18 (Thread 0x7fff2ffff700 (LWP 23621)):\r\n#0  0x00007ffff62bccf6 in __GI_ppoll (fds=0x7fff24000d28, nfds=1, timeout=<optimized out>, sigmask=0x0) at ../sysdeps/unix/sysv/linux/ppoll.c:39\r\n#1  0x00005555562a6b81 in ?? ()\r\n#2  0x0000000000000070 in ?? ()\r\n#3  0x00005555562a95aa in ?? ()\r\n#4  0x0000000000000001 in ?? ()\r\n#5  0x0000000000000008 in ?? ()\r\n#6  0x0000000000000000 in ?? ()\r\n\r\nThread 17 (Thread 0x7fff44ff9700 (LWP 23607)):\r\n#0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\r\n#1  0x00007ffff61e8801 in __GI_abort () at abort.c:79\r\n#2  0x000055555573edd3 in ?? ()\r\n#3  0x0000000028062458 in ?? ()\r\n#4  0xa6afd5bcd5adff00 in ?? ()\r\n#5  0x00007fff28062430 in ?? ()\r\n#6  0x000055555798e8d0 in ?? ()\r\n#7  0x0000555556ad7050 in ?? ()\r\n#8  0x0000555556ad0ce6 in ?? ()\r\n#9  0x00007fff28062450 in ?? ()\r\n#10 0x0000555556ad0d21 in ?? ()\r\n#11 0x00007fff28062430 in ?? ()\r\n#12 0x0000555556ac5c04 in ?? ()\r\n#13 0x00007fff44ff8580 in ?? ()\r\n#14 0x00007fff44ff8540 in ?? ()\r\n#15 0x00007fffbda4c0c0 in ?? ()\r\n#16 0x000055555571254f in ?? ()\r\n#17 0x00007fff44ff8598 in ?? ()\r\n#18 0x0000555556ff9353 in ?? ()\r\n#19 0x00007fff44ff82c0 in ?? ()\r\n#20 0x00007fffbda4c0d0 in ?? ()\r\n#21 0x00007fff28007e78 in ?? ()\r\n#22 0x00007fff44ff8390 in ?? ()\r\n#23 0x0000000000000020 in ?? ()\r\n#24 0x00000000280008d0 in ?? ()\r\n#25 0x0000000000000000 in ?? ()\r\n\r\nThread 16 (Thread 0x7fff457fa700 (LWP 23604)):\r\n#0  0x00007ffff79bbf85 in futex_abstimed_wait_cancelable (private=<optimized out>, abstime=0x7fff457f9dc0, expected=0, futex_word=0x7fffe00a0080) at ../sysdeps/unix/sysv/linux/futex-internal.h:205\r\n#1  __pthread_cond_wait_common (abstime=0x7fff457f9dc0, mutex=0x7fffe00a0088, cond=0x7fffe00a0058) at pthread_cond_wait.c:539\r\n#2  __pthread_cond_timedwait (cond=0x7fffe00a0058, mutex=0x7fffe00a0088, abstime=0x7fff457f9dc0) at pthread_cond_wait.c:667\r\n#3  0x000055555587e42e in ?? ()\r\n#4  0x0000000000000000 in ?? ()\r\n\r\nThread 15 (Thread 0x7fff45ffb700 (LWP 23603)):\r\n#0  0x00007ffff79bbf85 in futex_abstimed_wait_cancelable (private=<optimized out>, abstime=0x7fff45ffaa40, expected=0, futex_word=0x7fffe00a00e0) at ../sysdeps/unix/sysv/linux/futex-internal.h:205\r\n#1  __pthread_cond_wait_common (abstime=0x7fff45ffaa40, mutex=0x7fffe00a00e8, cond=0x7fffe00a00b8) at pthread_cond_wait.c:539\r\n#2  __pthread_cond_timedwait (cond=0x7fffe00a00b8, mutex=0x7fffe00a00e8, abstime=0x7fff45ffaa40) at pthread_cond_wait.c:667\r\n#3  0x0000555555a4eec9 in ?? ()\r\n#4  0x00007fffe00a00e8 in ?? ()\r\n#5  0x0000000000000001 in ?? ()\r\n#6  0x000000005d6b2aa1 in ?? ()\r\n#7  0x000000000d9c0739 in ?? ()\r\n---Type <return> to continue, or q <return> to quit---\r\n#8  0x000000000000208d in ?? ()\r\n#9  0xa6afd5bcd5adff00 in ?? ()\r\n#10 0x0000000000000000 in ?? ()\r\n\r\nThread 14 (Thread 0x7fff467fc700 (LWP 23602)):\r\n#0  0x00007ffff79bbf85 in futex_abstimed_wait_cancelable (private=<optimized out>, abstime=0x7fff467fbce0, expected=0, futex_word=0x7fffe00a00e0) at ../sysdeps/unix/sysv/linux/futex-internal.h:205\r\n#1  __pthread_cond_wait_common (abstime=0x7fff467fbce0, mutex=0x7fffe00a00e8, cond=0x7fffe00a00b8) at pthread_cond_wait.c:539\r\n#2  __pthread_cond_timedwait (cond=0x7fffe00a00b8, mutex=0x7fffe00a00e8, abstime=0x7fff467fbce0) at pthread_cond_wait.c:667\r\n#3  0x0000555555a4eec9 in ?? ()\r\n#4  0x00007fffe00a00e8 in ?? ()\r\n#5  0xa6afd5bcd5adff01 in ?? ()\r\n#6  0x000000005d6b2aa2 in ?? ()\r\n#7  0x000000002332a584 in ?? ()\r\n#8  0x00007fff467fbd50 in ?? ()\r\n#9  0xa6afd5bcd5adff00 in ?? ()\r\n#10 0x00007fff467fbe20 in ?? ()\r\n#11 0x0000000000000000 in ?? ()\r\n\r\nThread 12 (Thread 0x7fff477fe700 (LWP 23600)):\r\n#0  0x00007ffff62bcbf9 in __GI___poll (fds=0x7fff480023a0, nfds=8, timeout=50) at ../sysdeps/unix/sysv/linux/poll.c:29\r\n#1  0x000055555587ec36 in ?? ()\r\n#2  0x0000000000000000 in ?? ()\r\n\r\nThread 11 (Thread 0x7fff47fff700 (LWP 23549)):\r\n#0  0x00007ffff62c9bb7 in epoll_wait (epfd=33, events=0x7fffbd8187c0, maxevents=32, timeout=7593) at ../sysdeps/unix/sysv/linux/epoll_wait.c:30\r\n#1  0x0000555556abc2d9 in ?? ()\r\n#2  0x0000000000000000 in ?? ()\r\n\r\nThread 9 (Thread 0x7fffe4ffa700 (LWP 22865)):\r\n#0  0x00007ffff79bb9f3 in futex_wait_cancelable (private=<optimized out>, expected=0, futex_word=0x7fffe0ab5838) at ../sysdeps/unix/sysv/linux/futex-internal.h:88\r\n#1  __pthread_cond_wait_common (abstime=0x0, mutex=0x7fffe0ab57e8, cond=0x7fffe0ab5810) at pthread_cond_wait.c:502\r\n#2  __pthread_cond_wait (cond=0x7fffe0ab5810, mutex=0x7fffe0ab57e8) at pthread_cond_wait.c:655\r\n#3  0x0000555555c9a343 in ?? ()\r\n#4  0x0000000000000000 in ?? ()\r\n\r\nThread 8 (Thread 0x7fffe57fb700 (LWP 22864)):\r\n#0  0x00007ffff79bbf85 in futex_abstimed_wait_cancelable (private=<optimized out>, abstime=0x7fffe57faab0, expected=0, futex_word=0x5555579b04c0) at ../sysdeps/unix/sysv/linux/futex-internal.h:205\r\n#1  __pthread_cond_wait_common (abstime=0x7fffe57faab0, mutex=0x5555579b0470, cond=0x5555579b0498) at pthread_cond_wait.c:539\r\n#2  __pthread_cond_timedwait (cond=0x5555579b0498, mutex=0x5555579b0470, abstime=0x7fffe57faab0) at pthread_cond_wait.c:667\r\n#3  0x0000555555c02876 in ?? ()\r\n#4  0x000000000000003c in ?? ()\r\n#5  0x00007fffe57fab20 in ?? ()\r\n#6  0x00005555579b0470 in ?? ()\r\n#7  0x00007fffe57faaa0 in ?? ()\r\n#8  0x00005555579b0498 in ?? ()\r\n#9  0x00007fffe57faab0 in ?? ()\r\n#10 0x00005555579b04c8 in ?? ()\r\n#11 0x0000555556b56700 in ?? ()\r\n#12 0x000000005d6b2aa1 in ?? ()\r\n#13 0x000000000ae21d7d in ?? ()\r\n#14 0x00007fffe57faaa0 in ?? ()\r\n#15 0x0000000000000000 in ?? ()\r\n\r\nThread 7 (Thread 0x7fffe5ffc700 (LWP 22863)):\r\n#0  0x00007ffff79bb9f3 in futex_wait_cancelable (private=<optimized out>, expected=0, futex_word=0x5555579b429c) at ../sysdeps/unix/sysv/linux/futex-internal.h:88\r\n#1  __pthread_cond_wait_common (abstime=0x0, mutex=0x5555579b4248, cond=0x5555579b4270) at pthread_cond_wait.c:502\r\n#2  __pthread_cond_wait (cond=0x5555579b4270, mutex=0x5555579b4248) at pthread_cond_wait.c:655\r\n#3  0x00005555559d8765 in ?? ()\r\n#4  0x0000000000000000 in ?? ()\r\n\r\nThread 6 (Thread 0x7fffe67fd700 (LWP 22862)):\r\n#0  0x00007ffff79bb9f3 in futex_wait_cancelable (private=<optimized out>, expected=0, futex_word=0x5555579b429c) at ../sysdeps/unix/sysv/linux/futex-internal.h:88\r\n#1  __pthread_cond_wait_common (abstime=0x0, mutex=0x5555579b4248, cond=0x5555579b4270) at pthread_cond_wait.c:502\r\n---Type <return> to continue, or q <return> to quit---\r\n#2  __pthread_cond_wait (cond=0x5555579b4270, mutex=0x5555579b4248) at pthread_cond_wait.c:655\r\n#3  0x00005555559d8765 in ?? ()\r\n#4  0x0000000000000000 in ?? ()\r\n\r\nThread 5 (Thread 0x7fffe6ffe700 (LWP 22861)):\r\n#0  0x00007ffff79bb9f3 in futex_wait_cancelable (private=<optimized out>, expected=0, futex_word=0x5555579b429c) at ../sysdeps/unix/sysv/linux/futex-internal.h:88\r\n#1  __pthread_cond_wait_common (abstime=0x0, mutex=0x5555579b4248, cond=0x5555579b4270) at pthread_cond_wait.c:502\r\n#2  __pthread_cond_wait (cond=0x5555579b4270, mutex=0x5555579b4248) at pthread_cond_wait.c:655\r\n#3  0x00005555559d8765 in ?? ()\r\n#4  0x0000000000000000 in ?? ()\r\n\r\nThread 4 (Thread 0x7fffedff6700 (LWP 22860)):\r\n#0  0x00007ffff62bccf6 in __GI_ppoll (fds=0x555557b31d48, nfds=1, timeout=<optimized out>, sigmask=0x0) at ../sysdeps/unix/sysv/linux/ppoll.c:39\r\n#1  0x00005555562a6b81 in ?? ()\r\n#2  0x0000000000000070 in ?? ()\r\n#3  0x00005555562a95aa in ?? ()\r\n#4  0x0000000000000001 in ?? ()\r\n#5  0x0000000000000008 in ?? ()\r\n#6  0x0000000000000000 in ?? ()\r\n\r\nThread 3 (Thread 0x7fffef3ed700 (LWP 22859)):\r\n#0  0x00007ffff62bccf6 in __GI_ppoll (fds=0x7fffe801d4b8, nfds=6, timeout=<optimized out>, sigmask=0x0) at ../sysdeps/unix/sysv/linux/ppoll.c:39\r\n#1  0x00005555562a6b81 in ?? ()\r\n#2  0x00007fffef3ecd30 in ?? ()\r\n#3  0x00005555562a95aa in ?? ()\r\n#4  0x0000000000000001 in ?? ()\r\n#5  0x00005555562a7e74 in ?? ()\r\n#6  0x000055555791f558 in ?? ()\r\n#7  0xa6afd5bcd5adff00 in ?? ()\r\n#8  0x00007fffe8040032 in ?? ()\r\n#9  0x00007fffe8000b40 in ?? ()\r\n#10 0x00007fffe8000bc8 in ?? ()\r\n#11 0x0000000000000000 in ?? ()\r\n\r\nThread 2 (Thread 0x7ffff4b38700 (LWP 22858)):\r\n#0  0x00007ffff62bcbf9 in __GI___poll (fds=0x7ffff4b37d88, nfds=1, timeout=-1) at ../sysdeps/unix/sysv/linux/poll.c:29\r\n#1  0x00007ffff67bc747 in ?? () from /usr/lib/x86_64-linux-gnu/libxcb.so.1\r\n#2  0x00007ffff67be36a in xcb_wait_for_event () from /usr/lib/x86_64-linux-gnu/libxcb.so.1\r\n#3  0x0000555555cda829 in ?? ()\r\n#4  0x0000555557b16fb0 in ?? ()\r\n#5  0x0000555557b17310 in ?? ()\r\n#6  0x00007ffff4b37ec8 in ?? ()\r\n#7  0x00005555560fad65 in ?? ()\r\n#8  0x0000000000000000 in ?? ()\r\n\r\nThread 1 (Thread 0x7ffff7fbe740 (LWP 22854)):\r\n#0  0x00007ffff62bccf6 in __GI_ppoll (fds=0x555557ffd4d8, nfds=2, timeout=<optimized out>, sigmask=0x0) at ../sysdeps/unix/sysv/linux/ppoll.c:39\r\n#1  0x00005555562a6a90 in ?? ()\r\n#2  0x0000555557b29fc0 in ?? ()\r\n#3  0x00005555562a95aa in ?? ()\r\n#4  0x0000000000000000 in ?? ()\r\n(gdb)\r\n```",
      "created_at" : "2019-09-01T02:23:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-526880122",
      "id" : 526880122,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNjg4MDEyMg==",
      "updated_at" : "2019-09-01T02:23:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/526880122",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/11489666?v=4",
         "events_url" : "https://api.github.com/users/oxagast/events{/privacy}",
         "followers_url" : "https://api.github.com/users/oxagast/followers",
         "following_url" : "https://api.github.com/users/oxagast/following{/other_user}",
         "gists_url" : "https://api.github.com/users/oxagast/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/oxagast",
         "id" : 11489666,
         "login" : "oxagast",
         "node_id" : "MDQ6VXNlcjExNDg5NjY2",
         "organizations_url" : "https://api.github.com/users/oxagast/orgs",
         "received_events_url" : "https://api.github.com/users/oxagast/received_events",
         "repos_url" : "https://api.github.com/users/oxagast/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/oxagast/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/oxagast/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/oxagast"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Is this a bug report or feature request? Be reminded that Bitcoin Core can't open two wallets with the same file id at the same time.",
      "created_at" : "2019-09-03T15:08:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-527501548",
      "id" : 527501548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNzUwMTU0OA==",
      "updated_at" : "2019-09-03T15:08:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527501548",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke Perhaps I'm misunderstanding something here but if the user is able to achieve a core dump from the UI then we're not handling this error condition in a very user friendly way?",
      "created_at" : "2019-09-03T15:37:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-527514465",
      "id" : 527514465,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNzUxNDQ2NQ==",
      "updated_at" : "2019-09-03T15:37:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527514465",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fair enough",
      "created_at" : "2019-09-03T15:41:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-527515853",
      "id" : 527515853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNzUxNTg1Mw==",
      "updated_at" : "2019-09-03T15:41:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527515853",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It appears this is only an issue with the GUI, not with the daemon",
      "created_at" : "2019-09-03T17:15:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-527553360",
      "id" : 527553360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNzU1MzM2MA==",
      "updated_at" : "2019-09-03T17:15:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527553360",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "No, it also affects the daemon. For instance, create copies of the default wallet and then\r\n```\r\nsrc/bitcoind -regtest -debug -wallet=wallet2.dat -wallet=wallet3.dat\r\n```\r\nI think `CWallet::CreateWalletFromFile` should catch the exception, WDYT?\r\n\r\nBTW, the exception comes from `CWallet::CreateWalletFromFile -> BerkeleyBatch::BerkeleyBatch -> CheckUniqueFileid`.",
      "created_at" : "2019-09-06T01:44:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-528672904",
      "id" : 528672904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyODY3MjkwNA==",
      "updated_at" : "2019-09-06T01:46:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/528672904",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @promag. Adjusted title again",
      "created_at" : "2019-09-06T12:14:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-528830882",
      "id" : 528830882,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyODgzMDg4Mg==",
      "updated_at" : "2019-09-06T12:14:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/528830882",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Turns out that catching the exception is not enough. For instance, with the following:\r\n```diff\r\ndiff --git a/src/wallet/wallet.cpp b/src/wallet/wallet.cpp\r\nindex cf88ab846..648b0b0ea 100644\r\n--- a/src/wallet/wallet.cpp\r\n+++ b/src/wallet/wallet.cpp\r\n@@ -4266,7 +4266,12 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\r\n     // TODO: Can't use std::make_shared because we need a custom deleter but\r\n     // should be possible to use std::allocate_shared.\r\n     std::shared_ptr<CWallet> walletInstance(new CWallet(&chain, location, WalletDatabase::Create(location.GetPath())), ReleaseWallet);\r\n-    DBErrors nLoadWalletRet = walletInstance->LoadWallet(fFirstRun);\r\n+    DBErrors nLoadWalletRet;\r\n+    try {\r\n+        nLoadWalletRet = walletInstance->LoadWallet(fFirstRun);\r\n+    } catch (const std::runtime_error& e) {\r\n+        return nullptr;\r\n+    }\r\n     if (nLoadWalletRet != DBErrors::LOAD_OK)\r\n     {\r\n         if (nLoadWalletRet == DBErrors::CORRUPT) {\r\n```\r\nAnd then\r\n```\r\nsrc/bitcoind -regtest -wallet=wallet2.dat\r\n\r\nsrc/bitcoin-cli -regtest loadwallet wallet3.dat\r\nerror code: -4\r\nerror message:\r\nWallet loading failed.\r\n```\r\nHowever:\r\n```\r\n2019-09-06T14:56:36Z ThreadRPCServer method=loadwallet user=__cookie__\r\n2019-09-06T14:56:36Z Using BerkeleyDB version Berkeley DB 4.8.30: (April  9, 2010)\r\n2019-09-06T14:56:36Z Using wallet /Users/joao/Library/Application Support/Bitcoin/regtest/wallets/wallet3.dat\r\n2019-09-06T14:56:36Z init message: Loading wallet...\r\n2019-09-06T14:56:36Z [wallet3.dat] Releasing wallet\r\n2019-09-06T14:56:36Z BerkeleyEnvironment::Flush: [/Users/joao/Library/Application Support/Bitcoin/regtest/wallets] Flush(false)\r\n2019-09-06T14:56:36Z BerkeleyEnvironment::Flush: Flushing wallet2.dat (refcount = 0)...\r\n2019-09-06T14:56:36Z BerkeleyEnvironment::Flush: wallet2.dat checkpoint\r\n2019-09-06T14:56:36Z BerkeleyEnvironment::Flush: wallet2.dat detach\r\n2019-09-06T14:56:36Z BerkeleyEnvironment::Flush: wallet2.dat closed\r\n2019-09-06T14:56:36Z BerkeleyEnvironment::Flush: Flush(false) took              30ms\r\n```\r\nSo I think it messes up `wallet2.dat`.",
      "created_at" : "2019-09-06T15:02:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-528890321",
      "id" : 528890321,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyODg5MDMyMQ==",
      "updated_at" : "2019-09-06T15:02:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/528890321",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "FWIW I ran across this issue today while testing #15204 (thanks @promag for the link here): https://github.com/bitcoin/bitcoin/pull/15204#issuecomment-533076341.",
      "created_at" : "2019-09-19T19:15:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-533269908",
      "id" : 533269908,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzMzI2OTkwOA==",
      "updated_at" : "2019-09-19T19:15:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/533269908",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Was able to reproduce with 0.19.0.rc1 on Windows. Used same method as OP.\r\nIn my debug.log, no info was given. When the error occurs, this is what I see (the debug log stops after this):\r\n\r\n```\r\n2019-10-14T11:05:21Z init message: Loading wallet ...\r\n2019-10-14T11:05:21Z BerkeleyEnvironment::Open: LogDir=C:\\Users\\usr\\AppData\\Roaming\\Bitcoin\\wallets\\1\\database ErrorFile=C:\\Users\\usr\\AppData\\Roaming\\Bitcoin\\wallets\\1\\db.log\r\n2019-10-14T11:05:27Z Loading addresses from DNS seed dnsseed.emzy.de\r\n\r\n\r\n```\r\n\r\nA window pops up which tells a bit more about the error.\r\n![Screenshot_115](https://user-images.githubusercontent.com/42591821/66743863-6b8f2c80-ee6a-11e9-9fc7-924015c0a728.png)\r\n",
      "created_at" : "2019-10-14T10:07:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-541591999",
      "id" : 541591999,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MTU5MTk5OQ==",
      "updated_at" : "2019-10-14T10:08:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/541591999",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/42591821?v=4",
         "events_url" : "https://api.github.com/users/GChuf/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GChuf/followers",
         "following_url" : "https://api.github.com/users/GChuf/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GChuf/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GChuf",
         "id" : 42591821,
         "login" : "GChuf",
         "node_id" : "MDQ6VXNlcjQyNTkxODIx",
         "organizations_url" : "https://api.github.com/users/GChuf/orgs",
         "received_events_url" : "https://api.github.com/users/GChuf/received_events",
         "repos_url" : "https://api.github.com/users/GChuf/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GChuf/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GChuf/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GChuf"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> 8b1c090000000800e25686350000000000000000\r\n\r\n",
      "created_at" : "2019-10-15T04:47:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16776#issuecomment-542034547",
      "id" : 542034547,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16776",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MjAzNDU0Nw==",
      "updated_at" : "2019-10-15T04:47:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/542034547",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/53099311?v=4",
         "events_url" : "https://api.github.com/users/sayobile/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sayobile/followers",
         "following_url" : "https://api.github.com/users/sayobile/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sayobile/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sayobile",
         "id" : 53099311,
         "login" : "sayobile",
         "node_id" : "MDQ6VXNlcjUzMDk5MzEx",
         "organizations_url" : "https://api.github.com/users/sayobile/orgs",
         "received_events_url" : "https://api.github.com/users/sayobile/received_events",
         "repos_url" : "https://api.github.com/users/sayobile/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sayobile/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sayobile/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sayobile"
      }
   }
]
