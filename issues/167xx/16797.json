{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "#### When creating a `scripted-diff` commit, a developer currently needs to:\r\n- Locate and read the [Developer Notes on scripted-diffs](https://github.com/bitcoin/bitcoin/tree/master/doc/developer-notes.md#scripted-diffs)\r\n- Write a script\r\n- Debug it, possibly over multiple attempts\r\n- Add `scripted-diff: ` to the beginning of the commit message & PR title\r\n- Add the script(s) to the commit body\r\n- Add `-BEGIN VERIFY SCRIPT-` and `-END VERIFY SCRIPT-` around the script\r\n\r\nI found copying the above text into the editor during `git commit` to be a manual and repetitive part of building these commits.\r\n\r\n#### This approach allows a simpler workflow for testing, applying, and committing these scripts. A developer can now:\r\n- Create a working script file, e.g. `0.sh`\r\n- Run `0.sh` to apply the changes, `git diff` to examine them, and perhaps `git checkout` to refresh and retry over multiple attempts. When desired, `git add` the changes.\r\n- Run ```./contrib/devtools/commit-scripted-diff 0.sh \"docs: Rename X to x globally\"```\r\n\r\n#### Improvements that could be made to this script:\r\n- Further input validation\r\n- Run `test/lint/commit-script-check.sh` against the most recent commit(s)\r\n- Use `git commit -t <template_file>`, which would instead drop the user off in the editor at `COMMIT_EDITMSG` with pre-filled text. We would need to create `template_file` on the fly.\r\n- Add to Developer Notes\r\n- Copyright info\r\n\r\nFeedback appreciated; thank you!",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16797/comments",
   "created_at" : "2019-09-03T19:45:25Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16797/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/16797",
   "id" : 488788378,
   "labels" : [
      {
         "color" : "ffffee",
         "default" : false,
         "id" : 231994551,
         "name" : "Scripts and tools",
         "node_id" : "MDU6TGFiZWwyMzE5OTQ1NTE=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Scripts%20and%20tools"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16797/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MzEzNzM4MjE4",
   "number" : 16797,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/16797.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16797",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/16797.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16797"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "scripts: Add convenience script for committing scripted-diffs from a file",
   "updated_at" : "2019-09-03T20:40:11Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16797",
   "user" : {
      "avatar_url" : "https://avatars2.githubusercontent.com/u/2287825?v=4",
      "events_url" : "https://api.github.com/users/ch4ot1c/events{/privacy}",
      "followers_url" : "https://api.github.com/users/ch4ot1c/followers",
      "following_url" : "https://api.github.com/users/ch4ot1c/following{/other_user}",
      "gists_url" : "https://api.github.com/users/ch4ot1c/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/ch4ot1c",
      "id" : 2287825,
      "login" : "ch4ot1c",
      "node_id" : "MDQ6VXNlcjIyODc4MjU=",
      "organizations_url" : "https://api.github.com/users/ch4ot1c/orgs",
      "received_events_url" : "https://api.github.com/users/ch4ot1c/received_events",
      "repos_url" : "https://api.github.com/users/ch4ot1c/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/ch4ot1c/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/ch4ot1c/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/ch4ot1c"
   }
}
