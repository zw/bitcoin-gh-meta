[
   {
      "body" : "bitcoind only supports GBT (not stratum nor getwork). What URI are you using with BFGMiner, and what error(s) do you get?",
      "created_at" : "2015-02-11T01:14:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5785#issuecomment-73818668",
      "id" : 73818668,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5785",
      "updated_at" : "2015-02-11T01:14:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73818668",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "It's a pleasure to receive a response from the bfgminer guru... \r\n\r\nI'm aware the documentation emphasizes that only GBT is supported. However, when the miner and bitcoind were on the same host.  The bfgminer provided me text feedback indicating that getwork and stratum were being applied (up top) with the JSON bfgconfig files being configured accordingly.\r\n\r\nSticking to the GBT theme that you are driving, here is what the corresponding JSON conf files looks like.\r\n\r\n  1 {\r\n  2 \"pools\" : [\r\n  3         {\r\n  4                 \"url\" : \"http://192.168.222.90:18332\",\r\n  5                 \"user\" : \"1Devn8jxj1fULfu6DbgoP7sEyu11DXYzXa\",\r\n  6                 \"pass\" : \"NOT-TO-BE-SHARED\",\r\n  7                 \"pool-priority\" : \"0\",\r\n  8                 \"generate-to\" : \"1Devn8jxj1fULfu6DbgoP7sEyu11DXYzXa\",\r\n  9                 \"coinbase-addr\" : \"1Devn8jxj1fULfu6DbgoP7sEyu11DXYzXa\",\r\n 10                 \"coinbase-sig\" : \"blacknight@bellsouth.net\"\r\n 11         }\r\n 12 ]\r\n 13 ,\r\n 14 \"no-stratum\" : true,\r\n 15 \"no-getwork\" : true,\r\n 16 \"kernel-path\" : \"/Users/Skaht/Projects/BFGminer/bin\",\r\n 17 \"config\" : \"/Users/Skaht/Projects/BFGminer/etc/BFG-testnet-GBT-Solo-remote.conf\",\r\n 18 \"debuglog\" : true,\r\n 19 \"algo\" : \"fastauto\",\r\n 20 \"api-listen\" : true,\r\n 21 \"api-mcast-port\" : \"4030\",\r\n 22 \"api-port\" : \"4030\",\r\n 23 \"expiry\" : \"120\",\r\n 24 \"expiry-lp\" : \"3600\",\r\n 25 \"failover-switch-delay\" : \"300\",\r\n 26 \"log\" : \"5\",\r\n 27 \"no-pool-disable\" : true,\r\n 28 \"no-client-reconnect\" : true,\r\n 29 \"queue\" : \"20\",\r\n 30 \"quiet-work-updates\" : true,\r\n 31 \"quiet-work-update\" : true,\r\n 32 \"scan-time\" : \"60\",\r\n 33 \"show-processors\" : true,\r\n 34 \"show-procs\" : true,\r\n 35 \"skip-security-checks\" : \"0\",\r\n 36 \"submit-stale\" : true,\r\n 37 \"temp-hysteresis\" : \"3\",\r\n 38 \"verbose\" : true,\r\n 39 \"shares\" : 0,\r\n 40 \"scan\" : [\r\n 41         \"/dev/cu.usbserial-00001014\"\r\n 42 ],\r\n 43 \"set-device\" : [\r\n 44         \"OCL:binary=no\"\r\n 45 ],\r\n 46 \"api-allow\" : \"W:127.0.0.1,192.168.222/24\"\r\n 47 }\r\n\r\nGive me a few minutes to recreate the conditions so I can cut-n-paste the errors.\r\n\r\nVR/Scott",
      "created_at" : "2015-02-11T01:58:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5785#issuecomment-73822772",
      "id" : 73822772,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5785",
      "updated_at" : "2015-02-11T01:58:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73822772",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6238506?v=3",
         "events_url" : "https://api.github.com/users/skaht/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skaht/followers",
         "following_url" : "https://api.github.com/users/skaht/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skaht/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skaht",
         "id" : 6238506,
         "login" : "skaht",
         "organizations_url" : "https://api.github.com/users/skaht/orgs",
         "received_events_url" : "https://api.github.com/users/skaht/received_events",
         "repos_url" : "https://api.github.com/users/skaht/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skaht/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skaht/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skaht"
      }
   },
   {
      "body" : "Here is the cut-n-paste with a few privacy redactions resulting from a very slow firing up of the miner after issuing \"bfgminer -c BFG-testNet-GBT-Solo-remote.conf\":\r\n\r\n [2015-02-10 21:06:17] Press any key to exit, or BFGMiner will try again in 15s.\r\n [2015-02-10 21:06:33] No servers were found that could be used to get work from.\r\n [2015-02-10 21:06:33] Please check the details from the list below of the servers you have input\r\n [2015-02-10 21:06:33] Most likely you have input the wrong URL, forgotten to add a port, or have not set up workers\r\n [2015-02-10 21:06:33] Pool: 0  URL: http://192.168.222.90:18332  User: 1Devn8jxj1fULfu6DbgoP7sEyu11DXYzXa  Password: NOT-TO-BE-SHARED\r\n [2015-02-10 21:06:33] Press any key to exit, or BFGMiner will try again in 15s.\r\n [2015-02-10 21:06:48] Testing pool http://192.168.222.90:18332\r\n [2015-02-10 21:06:48] HTTP request failed: The requested URL returned error: 403 Forbidden\r\n [2015-02-10 21:06:48] JSON decode failed(1): '[' or '{' expected near 'HTTP'\r\n [2015-02-10 21:06:48] JSON decode failed(1): '[' or '{' expected near 'HTTP'\r\n [2015-02-10 21:06:48] Closing socket for stratum pool 0\r\n [2015-02-10 21:06:48] Pool 0 slow/down or URL or credentials invalid\r\n [2015-02-10 21:06:49] No servers were found that could be used to get work from.\r\n [2015-02-10 21:06:49] Please check the details from the list below of the servers you have input\r\n [2015-02-10 21:06:49] Most likely you have input the wrong URL, forgotten to add a port, or have not set up workers\r\n [2015-02-10 21:06:49] Pool: 0  URL: http://192.168.222.90:18332  User: 1Devn8jxj1fULfu6DbgoP7sEyu11DXYzXa  Password: NOT-TO-BE-SHARED\r\n [2015-02-10 21:06:49] Press any key to exit, or BFGMiner will try again in 15s.\r\n [2015-02-10 21:07:05] No servers were found that could be used to get work from.\r\n [2015-02-10 21:07:05] Please check the details from the list below of the servers you have input\r\n [2015-02-10 21:07:05] Most likely you have input the wrong URL, forgotten to add a port, or have not set up workers\r\n [2015-02-10 21:07:05] Pool: 0  URL: http://192.168.222.90:18332  User: 1Devn8jxj1fULfu6DbgoP7sEyu11DXYzXa  Password: NOT-TO-BE-SHARED\r\n [2015-02-10 21:07:05] Press any key to exit, or BFGMiner will try again in 15s.\r\n [2015-02-10 21:07:20] Testing pool http://192.168.222.90:18332\r\n [2015-02-10 21:07:20] HTTP request failed: The requested URL returned error: 403 Forbidden\r\n [2015-02-10 21:07:20] JSON decode failed(1): '[' or '{' expected near 'HTTP'\r\n [2015-02-10 21:07:20] JSON decode failed(1): '[' or '{' expected near 'HTTP'\r\n [2015-02-10 21:07:20] Closing socket for stratum pool 0\r\n [2015-02-10 21:07:20] Pool 0 slow/down or URL or credentials invalid\r\n [2015-02-10 21:07:21] No servers were found that could be used to get work from.\r\n [2015-02-10 21:07:21] Please check the details from the list below of the servers you have input\r\n [2015-02-10 21:07:21] Most likely you have input the wrong URL, forgotten to add a port, or have not set up workers\r\n [2015-02-10 21:07:21] Pool: 0  URL: http://192.168.222.90:18332  User: 1Devn8jxj1fULfu6DbgoP7sEyu11DXYzXa  Password: NOT-TO-BE-SHARED\r\n [2015-02-10 21:07:21] Press any key to exit, or BFGMiner will try again in 15s.\r\n\r\nThe receiving bitcoind conf file contains the following pertinent lines:\r\n\r\nrpcuser=1Devn8jxj1fULfu6DbgoP7sEyu11DXYzXa\r\nrpcpassword=NOT-TO-BE-SHARED\r\ntxindex=1\r\nserver=1\r\nrpcallowip=localhost/24\r\nrpcallowip=192.168.222.0/24\r\ntestnet=1\r\nport=18333\r\nrpcport=18332\r\nkeypool=100\r\nalertnotify=echo %s | mail -s \"Bitcoin Alert\" blacknight@bellsouth.net\r\n\r\nI'm certain the credentials username and password are correct. ",
      "created_at" : "2015-02-11T02:27:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5785#issuecomment-73824918",
      "id" : 73824918,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5785",
      "updated_at" : "2015-02-11T02:27:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73824918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6238506?v=3",
         "events_url" : "https://api.github.com/users/skaht/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skaht/followers",
         "following_url" : "https://api.github.com/users/skaht/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skaht/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skaht",
         "id" : 6238506,
         "login" : "skaht",
         "organizations_url" : "https://api.github.com/users/skaht/orgs",
         "received_events_url" : "https://api.github.com/users/skaht/received_events",
         "repos_url" : "https://api.github.com/users/skaht/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skaht/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skaht/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skaht"
      }
   },
   {
      "body" : "Here the working result from using the BFG-testNet-GBT-Solo-local.conf file:\r\n\r\nbfgminer version 5.0.0-unknown - Started: [2015-02-10 21:33:28] - [  0 days 00:01:06]\r\n [M]anage devices [P]ool management [S]ettings [D]isplay options                                                           [H]elp [Q]uit\r\n Pool 0: 127.0.0.1           Diff:4.61M  - GBT   LU:[21:33:27]  User:1Devn8jxj1fULfu6DbgoP7sEyu11DXYzXa\r\n Block: ...63473d3aa20a7103  Diff:4.61M (33.03T)  Started: [21:33:27]  I:?\r\n ST:29  F:0  NB:1  AS:0  BW:[514/  9 B/s]  E:0.00  BS:287\r\n 1/3     50.0C |  9.46/ 9.38/ 8.34Gh/s | A:0 R:0+0(none) HW:2/1.6%\r\n-----------------------------------------------------------------------------------------------------------------------------------------\r\n BFL 0a: 51.0C |   0.0/  0.0/  0.0 h/s | A:0 R:0+0(none) HW:0/none\r\n BFL 0b: 51.0C |  3.72/ 3.64/ 3.44Gh/s | A:0 R:0+0(none) HW:0/none\r\n BFL 0c: 51.0C |   0.0/  0.0/  0.0 h/s | A:0 R:0+0(none) HW:0/none\r\n BFL 0d: 51.0C |  1.74/ 1.69/ 1.82Gh/s | A:0 R:0+0(none) HW:1/3.4%\r\n BFL 0e: 51.0C |   0.0/  0.0/  0.0 h/s | A:0 R:0+0(none) HW:0/none\r\n BFL 0f: 51.0C |   0.0/  0.0/  0.0 h/s | A:0 R:0+0(none) HW:0/none\r\n BFL 0g: 51.0C |   0.0/  0.0/  0.0 h/s | A:0 R:0+0(none) HW:0/none\r\n BFL 0h: 51.0C |  4.23/ 4.16/ 2.86Gh/s | A:0 R:0+0(none) HW:1/2.2%\r\n-----------------------------------------------------------------------------------------------------------------------------------------\r\n [2015-02-10 21:33:27] Loaded configuration file /Users/Scott/Projects/BFGminer/etc/BFG-testNet-GBT-Solo-local.conf\r\n [2015-02-10 21:33:27] Probing for an alive pool\r\n [2015-02-10 21:33:27] Testing pool http://127.0.0.1:18332\r\n [2015-02-10 21:33:27] Network difficulty changed to 4.61M (33.03T)\r\n [2015-02-10 21:33:27] New block: ...63473d3aa20a7103 diff 4.61M (33.03T)\r\n [2015-02-10 21:33:27] Selected getblocktemplate protocol for pool 0\r\n [2015-02-10 21:33:27] Pool 0 http://127.0.0.1:18332 alive\r\n [2015-02-10 21:33:27] No suitable long-poll found for http://127.0.0.1:18332\r\n [2015-02-10 21:33:28] API running in IP access mode on port 4030\r\n [2015-02-10 21:33:29] BFL 0: Opened /dev/cu.usbserial-00001014\r\n\r\nThe GBT request (your baby) is using the HTTP longpoll mechanism, so I don't think there is a request issue.   It doesn't look like I can configure my Antminer C1 to speak anything other than stratum.",
      "created_at" : "2015-02-11T02:52:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5785#issuecomment-73826695",
      "id" : 73826695,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5785",
      "updated_at" : "2015-02-11T16:04:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73826695",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6238506?v=3",
         "events_url" : "https://api.github.com/users/skaht/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skaht/followers",
         "following_url" : "https://api.github.com/users/skaht/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skaht/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skaht",
         "id" : 6238506,
         "login" : "skaht",
         "organizations_url" : "https://api.github.com/users/skaht/orgs",
         "received_events_url" : "https://api.github.com/users/skaht/received_events",
         "repos_url" : "https://api.github.com/users/skaht/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skaht/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skaht/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skaht"
      }
   },
   {
      "body" : "You probably shouldn't have the \"config\" option in the config files... that would cause a recursive include. Not sure it's the problem in this case, though..\r\n\r\n\"No suitable long-poll found\" means it is *not* using longpolling - which is expected for v0.9.4. I don't see why you think strautm or getwork are being used - the UI you pasted clearly shows only GBT is... bitcoind does not support anything but GBT, so stratum-only miners will simply not work.\r\n\r\nNow to your main problem... the BFGMiner config has \"url\" : \"http://192.168.1.90:18332\", which is an IP outside your allowed subnet of 192.168.222.0/24. Assuming the 192.168.1.90 network is also a /24 (as is standardly the case), the source IP from this will also be outside 192.168.222.0/24, which is not allowed to use the RPC server thus gets a 403 Forbidden response.",
      "created_at" : "2015-02-11T04:38:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5785#issuecomment-73833367",
      "id" : 73833367,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5785",
      "updated_at" : "2015-02-11T04:38:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73833367",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Busted!!!  My manual IP address \"redaction\" did not change 192.168.1.90 to be 192.168.222.90.  I can cut-n-paste the IP address from the config file and ping the pasted address. The url IP address is not the issue. (I also currently have bitcoind processes on the same computers talking to one another. Both the local bitcoind and the remote bitcoind daemons are using the same user ID and passwords.)\r\n\r\nI deleted the \"config\" file option to see if that makes a difference.  No difference in behaviors for either the broken BFG-testnet-GBT-Solo-remote.conf configuration file or the functioning BFG-testNet-GBT-Solo-local.conf configuration file that executes properly.\r\n\r\nConcerning stratum and getwork, I have different bfgminer config files the exercises stratum and getwork capabilities.  For example,  my BFG-testNet-GWK-Solo-local.conf file (not mentioned in the thread above) contains to force getwork to be used:\r\n\r\n\"no-stratum\" : true,\r\n\"no-gbt\" : true,\r\n\r\nAs you already know, bfgminer provides visual feedback as to what mining protocol is being used. (Granted I like to use of GBT because it provides individual miners autonomy as to what transactions they want to mine as opposed to stratum where all miners are mining what the pool says...) \r\n\r\nWhile I have your attention: \r\n\r\n1) What git \"tag\" from  https://github.com/luke-jr/bfgminer.git does http://luke.dashjr.org/programs/bitcoin/files/bfgminer/5.0.0/bfgminer-5.0.0.zip map to? \r\n2) Is bfgminer now supporting out of tree builds since the following configure flags, associated with cross compiling, are listed in the associated \"bfgminer-5.0.0/configure\"?\r\n  System types:\r\n    --build=BUILD     configure for building on BUILD [guessed]\r\n    --host=HOST       cross-compile to build programs to run on HOST [BUILD]\r\n    --target=TARGET   configure for building compilers for TARGET [HOST]\r\n\r\n3) If this continues to be a bfgminer discussion is it more appropriate to be moved to https://github.com/luke-jr/bfgminer/issues?\r\n\r\nThanks for your assistance.\r\n\r\nFYSA - I like mining at http://eligius.st:-)\r\n",
      "created_at" : "2015-02-11T14:48:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5785#issuecomment-73892530",
      "id" : 73892530,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5785",
      "updated_at" : "2015-02-11T16:06:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73892530",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6238506?v=3",
         "events_url" : "https://api.github.com/users/skaht/events{/privacy}",
         "followers_url" : "https://api.github.com/users/skaht/followers",
         "following_url" : "https://api.github.com/users/skaht/following{/other_user}",
         "gists_url" : "https://api.github.com/users/skaht/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/skaht",
         "id" : 6238506,
         "login" : "skaht",
         "organizations_url" : "https://api.github.com/users/skaht/orgs",
         "received_events_url" : "https://api.github.com/users/skaht/received_events",
         "repos_url" : "https://api.github.com/users/skaht/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/skaht/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/skaht/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/skaht"
      }
   },
   {
      "body" : "Right now, this seems more likely a bitcoind issue.\r\n\r\nI forgot you're using an older(kindof) version - maybe try using 192.168.1.* rather than 192.168.1.0/24 syntax? I'm not sure when that changed.",
      "created_at" : "2015-02-11T20:07:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5785#issuecomment-73954579",
      "id" : 73954579,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5785",
      "updated_at" : "2015-02-11T20:07:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73954579",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
