[
   {
      "body" : "You forgot to git add the new directory, it looks like.",
      "created_at" : "2015-02-03T20:42:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-72730340",
      "id" : 72730340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-02-03T20:42:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72730340",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@TheBlueMatt Bah. Now added. Thanks.",
      "created_at" : "2015-02-03T20:44:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-72730772",
      "id" : 72730772,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-02-03T20:44:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72730772",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "ACK (but needs rebase)",
      "created_at" : "2015-02-04T09:25:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-72819571",
      "id" : 72819571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-02-04T09:25:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72819571",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Rebased.",
      "created_at" : "2015-02-04T12:08:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-72844101",
      "id" : 72844101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-02-04T12:08:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72844101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Since there's a reasonably clean separation of the wallet files, I'd prefer to build the objects in the subdir, same as qt and tests:\r\n\r\n```diff\r\ndiff --git a/src/Makefile.am b/src/Makefile.am\r\nindex 88e7af2..1ff3180 100644\r\n--- a/src/Makefile.am\r\n+++ b/src/Makefile.am\r\n@@ -23,7 +23,7 @@ BITCOIN_INCLUDES=-I$(builddir) -I$(builddir)/obj $(BOOST_CPPFLAGS) $(LEVELDB_CPP\r\n BITCOIN_INCLUDES += -I$(srcdir)/secp256k1/include\r\n \r\n LIBBITCOIN_SERVER=libbitcoin_server.a\r\n-LIBBITCOIN_WALLET=libbitcoin_wallet.a\r\n+LIBBITCOIN_WALLET=wallet/libbitcoin_wallet.a\r\n LIBBITCOIN_COMMON=libbitcoin_common.a\r\n LIBBITCOIN_CLI=libbitcoin_cli.a\r\n LIBBITCOIN_UTIL=libbitcoin_util.a\r\n@@ -46,7 +46,7 @@ EXTRA_LIBRARIES = \\\r\n   libbitcoin_cli.a\r\n if ENABLE_WALLET\r\n BITCOIN_INCLUDES += $(BDB_CPPFLAGS)\r\n-EXTRA_LIBRARIES += libbitcoin_wallet.a\r\n+EXTRA_LIBRARIES += $(LIBBITCOIN_WALLET)\r\n endif\r\n \r\n if BUILD_BITCOIN_LIBS\r\n@@ -191,8 +191,8 @@ libbitcoin_server_a_SOURCES = \\\r\n \r\n # wallet: shared between bitcoind and bitcoin-qt, but only linked\r\n # when wallet enabled\r\n-libbitcoin_wallet_a_CPPFLAGS = $(BITCOIN_INCLUDES)\r\n-libbitcoin_wallet_a_SOURCES = \\\r\n+wallet_libbitcoin_wallet_a_CPPFLAGS = $(BITCOIN_INCLUDES)\r\n+wallet_libbitcoin_wallet_a_SOURCES = \\\r\n   wallet/db.cpp \\\r\n   crypter.cpp \\\r\n   wallet/rpcdump.cpp \\\r\n@@ -310,7 +310,7 @@ bitcoind_LDADD = \\\r\n   $(LIBSECP256K1)\r\n \r\n if ENABLE_WALLET\r\n-bitcoind_LDADD += libbitcoin_wallet.a\r\n+bitcoind_LDADD += $(LIBBITCOIN_WALLET)\r\n endif\r\n \r\n bitcoind_LDADD += $(BOOST_LIBS) $(BDB_LIBS) $(SSL_LIBS) $(CRYPTO_LIBS) $(MINIUPNPC_LIBS)\r\ndiff --git a/src/Makefile.qt.include b/src/Makefile.qt.include\r\nindex 31fe3a9..7b48b41 100644\r\n--- a/src/Makefile.qt.include\r\n+++ b/src/Makefile.qt.include\r\n@@ -370,7 +370,7 @@ QT_QM=$(QT_TS:.ts=.qm)\r\n \r\n SECONDARY: $(QT_QM)\r\n \r\n-qt/bitcoinstrings.cpp: $(libbitcoin_server_a_SOURCES) $(libbitcoin_wallet_a_SOURCES)\r\n+qt/bitcoinstrings.cpp: $(libbitcoin_server_a_SOURCES) $(wallet_libbitcoin_wallet_a_SOURCES)\r\n \t@test -n $(XGETTEXT) || echo \"xgettext is required for updating translations\"\r\n \t$(AM_V_GEN) cd $(srcdir); XGETTEXT=$(XGETTEXT) ../share/qt/extract_strings_qt.py $^\r\n \r\n\r\n```\r\nThat'd be my preference since imo it's cleaner, but I'm not strongly opposed to leaving it as-is.\r\n\r\nACK either way.",
      "created_at" : "2015-02-05T03:52:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-72989968",
      "id" : 72989968,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-02-05T03:52:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/72989968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni Yes. I think this should be the long term goal. Let me play with it.\r\nWhat about the wallet tests under `src/wallet/test`? I assume we keep these in the `src/Makefile.test.include` for now?\r\nThe problem is, that currently other tests relay on a wallet. I try to slowly also decouple things there. ",
      "created_at" : "2015-02-05T07:56:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-73007752",
      "id" : 73007752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-02-05T07:56:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73007752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli sure, no problem if things slowly move that way, no need to try to do it all at once. Yes, tests are fine as you handled them imo. Eventually we can create a Makefile.wallet.include once it's more decoupled.",
      "created_at" : "2015-02-05T15:20:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-73063283",
      "id" : 73063283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-02-05T15:20:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73063283",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "ut ACK",
      "created_at" : "2015-02-06T19:38:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-73299119",
      "id" : 73299119,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-02-06T19:38:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/73299119",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Rebased.\r\n\r\nWhat if we merge this (has ACK from @theuni  and @laanwj)? This requires rebase often when getting out of date.\r\nThe makefile changes (https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-72989968) could be done in a upcoming PR.",
      "created_at" : "2015-03-05T08:18:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-77323693",
      "id" : 77323693,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-03-05T08:18:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/77323693",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2015-03-05T08:26:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-77324599",
      "id" : 77324599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-03-05T08:26:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/77324599",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2015-03-05T08:38:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5745#issuecomment-77326043",
      "id" : 77326043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5745",
      "updated_at" : "2015-03-05T08:38:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/77326043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   }
]
