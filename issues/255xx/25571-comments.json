[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25499](https://github.com/bitcoin/bitcoin/pull/25499) (Use steady clock for all millis bench logging by MarcoFalke)\n* [#25487](https://github.com/bitcoin/bitcoin/pull/25487) ([kernel 3b/n] Decouple `{Dump,Load}Mempool` from `ArgsManager` by dongcarl)\n* [#16981](https://github.com/bitcoin/bitcoin/pull/16981) (Improve runtime performance of --reindex by LarryRuane)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-07-08T09:34:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25571#issuecomment-1178771215",
      "id" : 1178771215,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25571",
      "node_id" : "IC_kwDOABII585GQp8P",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1178771215/reactions"
      },
      "updated_at" : "2022-07-14T04:22:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1178771215",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25571#discussion_r916840609"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25571"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916840609"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could be written somewhat shorter as `assert(!dbp == !blocks_with_unknown_parent);`.",
      "commit_id" : "d6bbb6519b07b8afbe3950c707dcba6178d5106c",
      "created_at" : "2022-07-08T13:54:17Z",
      "diff_hunk" : "@@ -4253,11 +4253,16 @@ bool CChainState::LoadGenesisBlock()\n     return true;\n }\n \n-void CChainState::LoadExternalBlockFile(FILE* fileIn, FlatFilePos* dbp)\n+void CChainState::LoadExternalBlockFile(\n+    FILE* fileIn,\n+    FlatFilePos* dbp,\n+    std::multimap<uint256, FlatFilePos>* blocks_with_unknown_parent)\n {\n     AssertLockNotHeld(m_chainstate_mutex);\n-    // Map of disk positions for blocks with unknown parent (only used for reindex)\n-    static std::multimap<uint256, FlatFilePos> mapBlocksUnknownParent;\n+\n+    // Either both should be specified (-reindex), or neither (-loadblock).\n+    assert((dbp && blocks_with_unknown_parent) || (!dbp && !blocks_with_unknown_parent));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25571#discussion_r916840609",
      "id" : 916840609,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842peCh",
      "original_commit_id" : "3bd8416bf82a57e3aa1b869dc06fe4d55879a20a",
      "original_line" : 4264,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 1032948766,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25571",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916840609/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-08T13:55:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/916840609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2022-07-08T15:25:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25571#issuecomment-1179111504",
      "id" : 1179111504,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25571",
      "node_id" : "IC_kwDOABII585GR9BQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179111504/reactions"
      },
      "updated_at" : "2022-07-08T15:25:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179111504",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed to address review comments (thanks @sipa and @shaavan!)",
      "created_at" : "2022-07-08T16:30:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25571#issuecomment-1179171675",
      "id" : 1179171675,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25571",
      "node_id" : "IC_kwDOABII585GSLtb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179171675/reactions"
      },
      "updated_at" : "2022-07-08T16:30:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179171675",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25571#discussion_r917264495"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25571"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917264495"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: seems like this parameter's name is not consistent with the implementation\r\n```suggestion\r\n        FlatFilePos* dbp = nullptr,\r\n```",
      "commit_id" : "d6bbb6519b07b8afbe3950c707dcba6178d5106c",
      "created_at" : "2022-07-09T12:53:53Z",
      "diff_hunk" : "@@ -577,8 +577,36 @@ class CChainState\n     bool ResizeCoinsCaches(size_t coinstip_size, size_t coinsdb_size)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n \n-    /** Import blocks from an external file */\n-    void LoadExternalBlockFile(FILE* fileIn, FlatFilePos* dbp = nullptr)\n+    /**\n+     * Import blocks from an external file\n+     *\n+     * During reindexing, this function is called for each block file (datadir/blocks/blk?????.dat).\n+     * It reads all blocks contained in the given file and attempts to process them (add them to the\n+     * block index). The blocks may be out of order within each file and across files. Often this\n+     * function reads a block but finds that its parent hasn't been read yet, so the block can't be\n+     * processed yet. The function will add an entry to the blocks_with_unknown_parent map (which is\n+     * passed as an argument), so that when the block's parent is later read and processed, this\n+     * function can re-read the child block from disk and process it.\n+     *\n+     * Because a block's parent may be in a later file, not just later in the same file, the\n+     * blocks_with_unknown_parent map must be passed in and out with each call. It's a multimap,\n+     * rather than just a map, because multiple blocks may have the same parent (when chain splits\n+     * or stale blocks exist). It maps from parent-hash to child-disk-position.\n+     *\n+     * This function can also be used to read blocks from user-specified block files using the\n+     * -loadblock= option. There's no unknown-parent tracking, so the last two arguments are omitted.\n+     *\n+     *\n+     * @param[in]     fileIn                        FILE handle to file containing blocks to read\n+     * @param[in]     dps                           (optional) Disk position (only used for reindex)\n+     * @param[in,out] blocks_with_unknown_parent    (optional) Map of disk positions for blocks with\n+     *                                              unknown parent, key is parent block hash\n+     *                                              (only used for reindex)\n+     * */\n+    void LoadExternalBlockFile(\n+        FILE* fileIn,\n+        FlatFilePos* dps = nullptr,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25571#discussion_r917264495",
      "id" : 917264495,
      "line" : 608,
      "node_id" : "PRRC_kwDOABII5842rFhv",
      "original_commit_id" : "d6bbb6519b07b8afbe3950c707dcba6178d5106c",
      "original_line" : 608,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 34,
      "pull_request_review_id" : 1033523045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25571",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917264495/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-09T13:06:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917264495",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25571#discussion_r917270712"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25571"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917270712"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nice catch, @theStack. I noticed that the variable name is spelled `dbp` while defining the function, but it had been misspelled here.\r\n\r\nI think `dps` seems like a more apt name for this variable since it stands for \"Disk Position\". So I would favor renaming this variable from `dbp` -> `dps` at other places as well.",
      "commit_id" : "d6bbb6519b07b8afbe3950c707dcba6178d5106c",
      "created_at" : "2022-07-09T13:51:23Z",
      "diff_hunk" : "@@ -577,8 +577,36 @@ class CChainState\n     bool ResizeCoinsCaches(size_t coinstip_size, size_t coinsdb_size)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n \n-    /** Import blocks from an external file */\n-    void LoadExternalBlockFile(FILE* fileIn, FlatFilePos* dbp = nullptr)\n+    /**\n+     * Import blocks from an external file\n+     *\n+     * During reindexing, this function is called for each block file (datadir/blocks/blk?????.dat).\n+     * It reads all blocks contained in the given file and attempts to process them (add them to the\n+     * block index). The blocks may be out of order within each file and across files. Often this\n+     * function reads a block but finds that its parent hasn't been read yet, so the block can't be\n+     * processed yet. The function will add an entry to the blocks_with_unknown_parent map (which is\n+     * passed as an argument), so that when the block's parent is later read and processed, this\n+     * function can re-read the child block from disk and process it.\n+     *\n+     * Because a block's parent may be in a later file, not just later in the same file, the\n+     * blocks_with_unknown_parent map must be passed in and out with each call. It's a multimap,\n+     * rather than just a map, because multiple blocks may have the same parent (when chain splits\n+     * or stale blocks exist). It maps from parent-hash to child-disk-position.\n+     *\n+     * This function can also be used to read blocks from user-specified block files using the\n+     * -loadblock= option. There's no unknown-parent tracking, so the last two arguments are omitted.\n+     *\n+     *\n+     * @param[in]     fileIn                        FILE handle to file containing blocks to read\n+     * @param[in]     dps                           (optional) Disk position (only used for reindex)\n+     * @param[in,out] blocks_with_unknown_parent    (optional) Map of disk positions for blocks with\n+     *                                              unknown parent, key is parent block hash\n+     *                                              (only used for reindex)\n+     * */\n+    void LoadExternalBlockFile(\n+        FILE* fileIn,\n+        FlatFilePos* dps = nullptr,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25571#discussion_r917270712",
      "id" : 917270712,
      "in_reply_to_id" : 917264495,
      "line" : 608,
      "node_id" : "PRRC_kwDOABII5842rHC4",
      "original_commit_id" : "d6bbb6519b07b8afbe3950c707dcba6178d5106c",
      "original_line" : 608,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : 34,
      "pull_request_review_id" : 1033538205,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25571",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917270712/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-09T13:51:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917270712",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/85434418?v=4",
         "events_url" : "https://api.github.com/users/shaavan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaavan/followers",
         "following_url" : "https://api.github.com/users/shaavan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaavan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaavan",
         "id" : 85434418,
         "login" : "shaavan",
         "node_id" : "MDQ6VXNlcjg1NDM0NDE4",
         "organizations_url" : "https://api.github.com/users/shaavan/orgs",
         "received_events_url" : "https://api.github.com/users/shaavan/received_events",
         "repos_url" : "https://api.github.com/users/shaavan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaavan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaavan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaavan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25571#discussion_r917284690"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25571"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917284690"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "That was a typo, good catch, I'm going to preserve the existing naming to minimize the size of the patch. (I think `dbp` stands for \"disk block pointer\")",
      "commit_id" : "e9636158f29cb44f348ac7713294dc17358361f4",
      "created_at" : "2022-07-09T16:26:58Z",
      "diff_hunk" : "@@ -577,8 +577,36 @@ class CChainState\n     bool ResizeCoinsCaches(size_t coinstip_size, size_t coinsdb_size)\n         EXCLUSIVE_LOCKS_REQUIRED(::cs_main);\n \n-    /** Import blocks from an external file */\n-    void LoadExternalBlockFile(FILE* fileIn, FlatFilePos* dbp = nullptr)\n+    /**\n+     * Import blocks from an external file\n+     *\n+     * During reindexing, this function is called for each block file (datadir/blocks/blk?????.dat).\n+     * It reads all blocks contained in the given file and attempts to process them (add them to the\n+     * block index). The blocks may be out of order within each file and across files. Often this\n+     * function reads a block but finds that its parent hasn't been read yet, so the block can't be\n+     * processed yet. The function will add an entry to the blocks_with_unknown_parent map (which is\n+     * passed as an argument), so that when the block's parent is later read and processed, this\n+     * function can re-read the child block from disk and process it.\n+     *\n+     * Because a block's parent may be in a later file, not just later in the same file, the\n+     * blocks_with_unknown_parent map must be passed in and out with each call. It's a multimap,\n+     * rather than just a map, because multiple blocks may have the same parent (when chain splits\n+     * or stale blocks exist). It maps from parent-hash to child-disk-position.\n+     *\n+     * This function can also be used to read blocks from user-specified block files using the\n+     * -loadblock= option. There's no unknown-parent tracking, so the last two arguments are omitted.\n+     *\n+     *\n+     * @param[in]     fileIn                        FILE handle to file containing blocks to read\n+     * @param[in]     dps                           (optional) Disk position (only used for reindex)\n+     * @param[in,out] blocks_with_unknown_parent    (optional) Map of disk positions for blocks with\n+     *                                              unknown parent, key is parent block hash\n+     *                                              (only used for reindex)\n+     * */\n+    void LoadExternalBlockFile(\n+        FILE* fileIn,\n+        FlatFilePos* dps = nullptr,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25571#discussion_r917284690",
      "id" : 917284690,
      "in_reply_to_id" : 917264495,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5842rKdS",
      "original_commit_id" : "d6bbb6519b07b8afbe3950c707dcba6178d5106c",
      "original_line" : 608,
      "original_position" : 34,
      "original_start_line" : null,
      "path" : "src/validation.h",
      "position" : null,
      "pull_request_review_id" : 1033550706,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25571",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917284690/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-09T16:26:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/917284690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed to address review comment (change variable name `dps` back to the original name `dbp`), thanks @theStack.",
      "created_at" : "2022-07-09T16:32:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25571#issuecomment-1179570716",
      "id" : 1179570716,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25571",
      "node_id" : "IC_kwDOABII585GTtIc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179570716/reactions"
      },
      "updated_at" : "2022-07-09T16:32:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1179570716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I don't get how this could fix a fuzzer OOM error, #19594 (comment) also doesn't elaborate on this.\r\n\r\nThe fuzzer [calls](https://github.com/bitcoin/bitcoin/pull/25571/files#diff-16f38313b551facb707f5719133c1dc18a9153ceeaf08985363459805532eb38R38) `LoadExternalBlockFile()` many times, and without this PR, each call adds entries to the static multimap that are never removed (they would be in real life, almost always, but not with random input).\r\n\r\nIt's easy to reproduce the OOM problem without causing an actual OOM (which could take a long time depending on your system's memory resources):\r\n```\r\n$ FUZZ=load_external_block_file src/test/fuzz/fuzz\r\n```\r\nand while that's running, in another window, monitor its memory usage. I ran `ps -C b-test -o rss=` every 10 minutes (for some reason, the `fuzz` executable is called `b-test` when running). With the `master` branch (units are kbyte):\r\n```\r\n104664\r\n112532\r\n121912\r\n156560\r\n```\r\n(Then I stopped the test, clearly it continuously grows.) With this PR, there's expected startup growth, then it's unchanging:\r\n```\r\n104688\r\n109440\r\n109440\r\n109440\r\n```",
      "created_at" : "2022-07-11T22:24:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25571#issuecomment-1180931554",
      "id" : 1180931554,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25571",
      "node_id" : "IC_kwDOABII585GY5Xi",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 2,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 2,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180931554/reactions"
      },
      "updated_at" : "2022-07-12T15:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1180931554",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@practicalswift @promag @amitiuttarwar\r\nYou had previously ACKed PR #19594 by @hebasto that this PR is based on, maybe you would like to review, thanks.",
      "created_at" : "2022-07-17T01:19:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25571#issuecomment-1186363700",
      "id" : 1186363700,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25571",
      "node_id" : "IC_kwDOABII585Gtnk0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186363700/reactions"
      },
      "updated_at" : "2022-07-17T01:20:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1186363700",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8321330?v=4",
         "events_url" : "https://api.github.com/users/LarryRuane/events{/privacy}",
         "followers_url" : "https://api.github.com/users/LarryRuane/followers",
         "following_url" : "https://api.github.com/users/LarryRuane/following{/other_user}",
         "gists_url" : "https://api.github.com/users/LarryRuane/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/LarryRuane",
         "id" : 8321330,
         "login" : "LarryRuane",
         "node_id" : "MDQ6VXNlcjgzMjEzMzA=",
         "organizations_url" : "https://api.github.com/users/LarryRuane/orgs",
         "received_events_url" : "https://api.github.com/users/LarryRuane/received_events",
         "repos_url" : "https://api.github.com/users/LarryRuane/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/LarryRuane/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/LarryRuane"
      }
   }
]
