[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16440](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16440.html) (BIP-322: Generic signed message format by kallewoof)\n* [#16411](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16411.html) (Signet support by kallewoof)\n* [#13062](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13062.html) (Make script interpreter independent from storage type CScript by sipa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-08-19T08:15:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-522462817",
      "id" : 522462817,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMjQ2MjgxNw==",
      "updated_at" : "2019-10-10T21:19:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522462817",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 02a1db1607ec59b6c54072cd3ffb606422eea3a4",
      "created_at" : "2019-08-19T08:27:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-522467269",
      "id" : 522467269,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMjQ2NzI2OQ==",
      "updated_at" : "2019-08-19T08:27:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522467269",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK. It strictly adds new functions so that seems a pretty safe approach. This PR needs tests though.",
      "created_at" : "2019-08-19T10:33:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-522511624",
      "id" : 522511624,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMjUxMTYyNA==",
      "updated_at" : "2019-08-19T10:33:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522511624",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept NACK until it is being used actively.\r\nI don't think unused code is good, it just makes the binary bigger",
      "created_at" : "2019-08-19T16:12:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-522646806",
      "id" : 522646806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMjY0NjgwNg==",
      "updated_at" : "2019-08-19T16:12:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522646806",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@emilengler Did you read the PR description?",
      "created_at" : "2019-08-20T03:21:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-522836833",
      "id" : 522836833,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMjgzNjgzMw==",
      "updated_at" : "2019-08-20T03:21:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522836833",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Sjors Added tests. The multisig ones are based on the `multisig_tests.cpp` file, but adapted to use the new creators/checkers.",
      "created_at" : "2019-08-20T05:49:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-522863623",
      "id" : 522863623,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMjg2MzYyMw==",
      "updated_at" : "2019-08-20T05:49:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/522863623",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@kallewoof I did but until nothing is merged I don't think this should be added.\r\nI prefer a chronological order.",
      "created_at" : "2019-08-20T14:27:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-523040554",
      "id" : 523040554,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMzA0MDU1NA==",
      "updated_at" : "2019-08-20T14:27:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523040554",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "lol good trolling there",
      "created_at" : "2019-08-21T02:35:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-523270571",
      "id" : 523270571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMzI3MDU3MQ==",
      "updated_at" : "2019-08-21T02:35:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523270571",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@kallewoof thanks for adding the tests. They pass for me on macOS. I haven't followed the BIP-322 discussion in great detail, so can't really comment on the cryptography itself or how likely that is to change. It would be nice if it remained consistent with signet.\r\n\r\n@emilengler when you built the binary, how many bytes were added? Even if this difference is non-trivial, it only matters if for some reason this PR makes it into the the 0.19 release and neither of the two followup PRs make the cut-off. This PR seems well worth the reduced review burden and the improved coordination between both projects.",
      "created_at" : "2019-08-21T10:07:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-523391075",
      "id" : 523391075,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMzM5MTA3NQ==",
      "updated_at" : "2019-08-21T10:07:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523391075",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "On my side I am fine both about either having it in this PR or on the same PR as signet.",
      "created_at" : "2019-08-21T14:07:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-523473044",
      "id" : 523473044,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMzQ3MzA0NA==",
      "updated_at" : "2019-08-21T14:07:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523473044",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3020646?v=4",
         "events_url" : "https://api.github.com/users/NicolasDorier/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NicolasDorier/followers",
         "following_url" : "https://api.github.com/users/NicolasDorier/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NicolasDorier",
         "id" : 3020646,
         "login" : "NicolasDorier",
         "node_id" : "MDQ6VXNlcjMwMjA2NDY=",
         "organizations_url" : "https://api.github.com/users/NicolasDorier/orgs",
         "received_events_url" : "https://api.github.com/users/NicolasDorier/received_events",
         "repos_url" : "https://api.github.com/users/NicolasDorier/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NicolasDorier/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NicolasDorier"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Sjors Sure thing but why isn't this being added to the original PR? @kallewoof ",
      "created_at" : "2019-08-21T14:16:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-523476656",
      "id" : 523476656,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMzQ3NjY1Ng==",
      "updated_at" : "2019-08-21T14:16:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523476656",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This interface, where the caller provides the hash of a message, and then \"verifies\" that the signature is valid, seems problematic to me at this layer of our code -- my understanding is that without knowing the preimage of the hash (ie the message being signed), this doesn't prove that the signature could only have come from someone with knowledge of the private key.\r\n\r\nI know at some layer of our cryptography code we will have verification methods like this, but at this layer it seems inconsistent with all our other signature checkers, which are operating under different assumptions (well, except maybe for the DummySignatureChecker which does not do signature verifications, but hopefully that is clear to any callers).  So my initial thought is that this is not a good place to have what is effectively a lower-level API call to a crypto library function.\r\n\r\nI'm not very familiar with the broader work this is part of, so if this is in fact necessary or expedient from an implementation perspective, then I'd say at a minimum that we should at least include comments explaining that the assumptions here are different than for the other signature checkers.",
      "created_at" : "2019-08-21T14:58:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-523495761",
      "id" : 523495761,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMzQ5NTc2MQ==",
      "updated_at" : "2019-08-21T14:58:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523495761",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sdaftuar \r\n\r\nMaybe I'm misunderstanding, but I'm not sure if it's that inconsistent in the end. The \"CreateSig\" methods right now\r\n1. Get the private key from the signing provider.\r\n2. Generate the sighash based on internal data.\r\n3. Sign the sighash using the aforementioned private key.\r\n\r\nThis is consistent across all of these, and in fact, the other implementations could become sub-classes of this one (perform step 2 into internal sighash then have master do the rest; edit: I actually tried to do this, but it turns out a bit messy as the checker has to be re-constructed for every CreateSig call).\r\n\r\nTo pass the preimage rather than the hash itself would only lock this down to using some specific type of hasher, and would have no practical meaning for the actual implementation. The two (current) uses of these are here (#16411):\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/55d7c4ef3ccf9ad84d62592969de35c4ab84af2c/src/signet.cpp#L31-L36\r\n\r\nwhich gets the hash from\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/55d7c4ef3ccf9ad84d62592969de35c4ab84af2c/src/signet.cpp#L54-L58\r\n\r\nand here (#16440):\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/203464efb4302d4c21bf2bc1503487f116c8837e/src/script/proof.h#L226-L233\r\n\r\nwhich gets the hash from\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/203464efb4302d4c21bf2bc1503487f116c8837e/src/script/proof.cpp#L15-L18\r\n\r\nI made a note that these lack some assumptions that are normally present about the validity of the signature.",
      "created_at" : "2019-08-22T03:29:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-523732232",
      "id" : 523732232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMzczMjIzMg==",
      "updated_at" : "2019-08-22T16:28:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/523732232",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16653#discussion_r322933316"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16653"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/322933316"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This should emphasize that the issue about not knowing the hash preimage is for the verifier, not the signer.  Perhaps:\r\n```\r\n/** A low level signature checker.  Note that the caller must verify that the hash passed in relates to a known message (unlike for the other signature checkers). */",
      "commit_id" : "0bd274fe8544c896616268a21edd06b2d927fc0f",
      "created_at" : "2019-09-10T19:57:09Z",
      "diff_hunk" : "@@ -162,6 +162,18 @@ class BaseSignatureChecker\n     virtual ~BaseSignatureChecker() {}\n };\n \n+/** A general purpose signature checker. Note that this lacks assumptions about the `sighash`, as the preimage is not known to the signer. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#discussion_r322933316",
      "id" : 322933316,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyMjkzMzMxNg==",
      "original_commit_id" : "9b910a1a42133d00cb6667f9f1ac1b2b69367e1f",
      "original_position" : 4,
      "path" : "src/script/interpreter.h",
      "position" : null,
      "pull_request_review_id" : 286398148,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16653",
      "updated_at" : "2019-09-24T08:16:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/322933316",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16653#discussion_r327482613"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16653"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/327482613"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sorry for delay. Yes, that looks great, thanks. Adopting.",
      "commit_id" : "0bd274fe8544c896616268a21edd06b2d927fc0f",
      "created_at" : "2019-09-24T08:14:30Z",
      "diff_hunk" : "@@ -162,6 +162,18 @@ class BaseSignatureChecker\n     virtual ~BaseSignatureChecker() {}\n };\n \n+/** A general purpose signature checker. Note that this lacks assumptions about the `sighash`, as the preimage is not known to the signer. */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#discussion_r327482613",
      "id" : 327482613,
      "in_reply_to_id" : 322933316,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMyNzQ4MjYxMw==",
      "original_commit_id" : "9b910a1a42133d00cb6667f9f1ac1b2b69367e1f",
      "original_position" : 4,
      "path" : "src/script/interpreter.h",
      "position" : null,
      "pull_request_review_id" : 292245958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16653",
      "updated_at" : "2019-09-24T08:16:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/327482613",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/250224?v=4",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "node_id" : "MDQ6VXNlcjI1MDIyNA==",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 0bd274fe8544c896616268a21edd06b2d927fc0f\r\n\r\nAn alternative that perhaps @sdaftuar would like more given his reasonings, is having a templated class that will work for any object implementing a GetHash() method.\r\nSomething like:\r\n\r\n```\r\nexplicit SimpleSignatureChecker(const T& hashable) : hash(hashable.GetHash()) {}\r\n```\r\nBut that would require a wrapper class for signet and another one for the signed messages, I think.\r\nAnd if a comment solves the concerns, that's certainly easier. Just thinking out loud.\r\n\r\n\r\n",
      "created_at" : "2019-10-23T23:20:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16653#issuecomment-545675933",
      "id" : 545675933,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16653",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NTY3NTkzMw==",
      "updated_at" : "2019-10-23T23:20:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545675933",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "node_id" : "MDQ6VXNlcjEwMDg0NTg=",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
