{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "I find myself making pull requests against my fork (mostly on top of #28983), or asking others to do so. Since I don't want to splurge on a Cirrus account, and since Github free minutes are limited, I looked into how self hosted runners work on Github.\r\n\r\nYou can see this PR in action on this pull request to my fork: https://github.com/Sjors/bitcoin/actions/runs/7554260507\r\n\r\nTo test it yourself, spin up one or more [self hosted runners](https://docs.github.com/en/actions/hosting-your-own-runners) (each as its own user), install Docker (maybe in [single user mode](https://docs.docker.com/engine/security/rootless/)), and then make a pull request to your own fork, with this PR as the base branch.\r\n\r\nSecurity wise: when dealing with code from strangers on the internet, review it first before running the CI.\r\n\r\nThis PR also disables Github Actions on forks in order to prevent forks from running out of free minutes (that their owners may need for other projects with much shorter CI runs). This could be made into a separate PR, or dropped altogether.\r\n\r\nThe first two commits could be split out as well.\r\n\r\nTODO:\r\n- [ ] deduplicate yaml (can't use anchors https://github.com/actions/runner/issues/1182)\r\n- [ ] add macOS native worker\r\n- [ ] add Windows native worker (I can't easily test this myself, so might leave it followup)\r\n- [ ] prevent self hosted jobs from cluttering UI on the main \r\n- [ ] check behaviour against the gui repo\r\n- [ ] make resource consumption configurable (some function of nproc? or configured locally on the workers?)\r\n- [ ] documentation\r\n\r\nRelated: I wrote a [gist](https://gist.github.com/Sjors/cd55370fa67aa095df90c433ee9bd135) for how to run CI on Ubuntu desktop with one runner per window. The windows close if the run is successful so you can inspect the ones that fail. But I find using Github's CI web interface a bit more convenient, hence this PR.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29259/comments",
   "created_at" : "2024-01-17T10:47:59Z",
   "draft" : true,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29259/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/29259",
   "id" : 2085919055,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29259/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585kTHlR",
   "number" : 29259,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/29259.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29259",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/29259.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29259"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29259/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29259/timeline",
   "title" : "Support self hosted Github workers on forks",
   "updated_at" : "2024-01-17T10:48:04Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29259",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/10217?v=4",
      "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Sjors/followers",
      "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Sjors",
      "id" : 10217,
      "login" : "Sjors",
      "node_id" : "MDQ6VXNlcjEwMjE3",
      "organizations_url" : "https://api.github.com/users/Sjors/orgs",
      "received_events_url" : "https://api.github.com/users/Sjors/received_events",
      "repos_url" : "https://api.github.com/users/Sjors/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Sjors"
   }
}
