[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29227).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/29227#pullrequestreview-1818400509), [dergoegge](https://github.com/bitcoin/bitcoin/pull/29227#pullrequestreview-1818441827), [theStack](https://github.com/bitcoin/bitcoin/pull/29227#pullrequestreview-1818452953), [mzumsande](https://github.com/bitcoin/bitcoin/pull/29227#pullrequestreview-1818890399) |\n| Concept ACK | [kristapsk](https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1889643297), [kevkevinpal](https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1890595882) |\n| Stale ACK | [alfonsoromanz](https://github.com/bitcoin/bitcoin/pull/29227#pullrequestreview-1815715513) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2024-01-11T11:50:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1886987278",
      "id" : 1886987278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
      "node_id" : "IC_kwDOABII585weSQO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1886987278/reactions"
      },
      "updated_at" : "2024-01-13T17:10:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1886987278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2024-01-11T13:34:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1887174559",
      "id" : 1887174559,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
      "node_id" : "IC_kwDOABII585we_-f",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1887174559/reactions"
      },
      "updated_at" : "2024-01-11T13:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1887174559",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2024-01-11T16:44:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1887556899",
      "id" : 1887556899,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
      "node_id" : "IC_kwDOABII585wgdUj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1887556899/reactions"
      },
      "updated_at" : "2024-01-11T16:44:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1887556899",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK. I remember being surprised in the past that >5 minutes after starting up the node, my mempool was still loading.",
      "created_at" : "2024-01-11T18:38:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1887747143",
      "id" : 1887747143,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
      "node_id" : "IC_kwDOABII585whLxH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1887747143/reactions"
      },
      "updated_at" : "2024-01-11T18:38:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1887747143",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1450462010"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450462010"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit:\r\n\r\n```suggestion\r\n            const int percentage_done{(int)(100.0 * txns_tried / total_txns_to_load)};\r\n```",
      "commit_id" : "eb78ea4eebfe150bc1746282bfdad6eb0f764e3c",
      "created_at" : "2024-01-12T13:34:00Z",
      "diff_hunk" : "@@ -67,10 +67,20 @@ bool LoadMempool(CTxMemPool& pool, const fs::path& load_path, Chainstate& active\n             return false;\n         }\n         file.SetXor(xor_key);\n-        uint64_t num;\n-        file >> num;\n-        while (num) {\n-            --num;\n+        uint64_t total_txns_to_load;\n+        file >> total_txns_to_load;\n+        uint64_t txns_tried = 0;\n+        LogInfo(\"Loading %u mempool transactions from disk...\\n\", total_txns_to_load);\n+        int next_tenth_to_report = 0;\n+        while (txns_tried < total_txns_to_load) {\n+            const int percentage_done{static_cast<int>((static_cast<double>(100 * (txns_tried))) / static_cast<double>(total_txns_to_load))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1450462010",
      "id" : 1450462010,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585WdEs6",
      "original_commit_id" : "6c3ca0cac38f3b9e307cd0522ba9e3b7a2bd05a5",
      "original_line" : 76,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1818278096,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450462010/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-01-12T13:36:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450462010",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/8077169?v=4",
         "events_url" : "https://api.github.com/users/dergoegge/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dergoegge/followers",
         "following_url" : "https://api.github.com/users/dergoegge/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dergoegge/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dergoegge",
         "id" : 8077169,
         "login" : "dergoegge",
         "node_id" : "MDQ6VXNlcjgwNzcxNjk=",
         "organizations_url" : "https://api.github.com/users/dergoegge/orgs",
         "received_events_url" : "https://api.github.com/users/dergoegge/received_events",
         "repos_url" : "https://api.github.com/users/dergoegge/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dergoegge/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dergoegge/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dergoegge"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1450470423"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450470423"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I thought we didn't like c-style casts?",
      "commit_id" : "eb78ea4eebfe150bc1746282bfdad6eb0f764e3c",
      "created_at" : "2024-01-12T13:42:17Z",
      "diff_hunk" : "@@ -67,10 +67,20 @@ bool LoadMempool(CTxMemPool& pool, const fs::path& load_path, Chainstate& active\n             return false;\n         }\n         file.SetXor(xor_key);\n-        uint64_t num;\n-        file >> num;\n-        while (num) {\n-            --num;\n+        uint64_t total_txns_to_load;\n+        file >> total_txns_to_load;\n+        uint64_t txns_tried = 0;\n+        LogInfo(\"Loading %u mempool transactions from disk...\\n\", total_txns_to_load);\n+        int next_tenth_to_report = 0;\n+        while (txns_tried < total_txns_to_load) {\n+            const int percentage_done{static_cast<int>((static_cast<double>(100 * (txns_tried))) / static_cast<double>(total_txns_to_load))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1450470423",
      "id" : 1450470423,
      "in_reply_to_id" : 1450462010,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585WdGwX",
      "original_commit_id" : "6c3ca0cac38f3b9e307cd0522ba9e3b7a2bd05a5",
      "original_line" : 76,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1818292538,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450470423/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-01-12T13:42:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450470423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1450471581"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450471581"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nitting the nit:\r\n\r\n```diff\r\n-const int percentage_done{(int)(100.0 * txns_tried / total_txns_to_load)};\r\n+const int percentage_done(100.0 * txns_tried / total_txns_to_load);",
      "commit_id" : "eb78ea4eebfe150bc1746282bfdad6eb0f764e3c",
      "created_at" : "2024-01-12T13:43:32Z",
      "diff_hunk" : "@@ -67,10 +67,20 @@ bool LoadMempool(CTxMemPool& pool, const fs::path& load_path, Chainstate& active\n             return false;\n         }\n         file.SetXor(xor_key);\n-        uint64_t num;\n-        file >> num;\n-        while (num) {\n-            --num;\n+        uint64_t total_txns_to_load;\n+        file >> total_txns_to_load;\n+        uint64_t txns_tried = 0;\n+        LogInfo(\"Loading %u mempool transactions from disk...\\n\", total_txns_to_load);\n+        int next_tenth_to_report = 0;\n+        while (txns_tried < total_txns_to_load) {\n+            const int percentage_done{static_cast<int>((static_cast<double>(100 * (txns_tried))) / static_cast<double>(total_txns_to_load))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1450471581",
      "id" : 1450471581,
      "in_reply_to_id" : 1450462010,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585WdHCd",
      "original_commit_id" : "6c3ca0cac38f3b9e307cd0522ba9e3b7a2bd05a5",
      "original_line" : 76,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1818294595,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450471581/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-01-12T13:43:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450471581",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1450477325"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450477325"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@maflcko knows best, changed.",
      "commit_id" : "eb78ea4eebfe150bc1746282bfdad6eb0f764e3c",
      "created_at" : "2024-01-12T13:49:11Z",
      "diff_hunk" : "@@ -67,10 +67,20 @@ bool LoadMempool(CTxMemPool& pool, const fs::path& load_path, Chainstate& active\n             return false;\n         }\n         file.SetXor(xor_key);\n-        uint64_t num;\n-        file >> num;\n-        while (num) {\n-            --num;\n+        uint64_t total_txns_to_load;\n+        file >> total_txns_to_load;\n+        uint64_t txns_tried = 0;\n+        LogInfo(\"Loading %u mempool transactions from disk...\\n\", total_txns_to_load);\n+        int next_tenth_to_report = 0;\n+        while (txns_tried < total_txns_to_load) {\n+            const int percentage_done{static_cast<int>((static_cast<double>(100 * (txns_tried))) / static_cast<double>(total_txns_to_load))};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1450477325",
      "id" : 1450477325,
      "in_reply_to_id" : 1450462010,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585WdIcN",
      "original_commit_id" : "6c3ca0cac38f3b9e307cd0522ba9e3b7a2bd05a5",
      "original_line" : 76,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : null,
      "pull_request_review_id" : 1818304102,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450477325/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-01-12T13:49:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450477325",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "CI failure is unrelated, #29234",
      "created_at" : "2024-01-12T14:29:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1889361221",
      "id" : 1889361221,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
      "node_id" : "IC_kwDOABII585wnV1F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1889361221/reactions"
      },
      "updated_at" : "2024-01-12T14:29:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1889361221",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1450533993"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450533993"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit\r\n```suggestion\r\n                LogInfo(\"Progress loading mempool transactions from disk: %d%% completed (tried %u txs, %u txs remaining)\\n\",\r\n```\r\n",
      "commit_id" : "eb78ea4eebfe150bc1746282bfdad6eb0f764e3c",
      "created_at" : "2024-01-12T14:36:52Z",
      "diff_hunk" : "@@ -67,10 +67,20 @@ bool LoadMempool(CTxMemPool& pool, const fs::path& load_path, Chainstate& active\n             return false;\n         }\n         file.SetXor(xor_key);\n-        uint64_t num;\n-        file >> num;\n-        while (num) {\n-            --num;\n+        uint64_t total_txns_to_load;\n+        file >> total_txns_to_load;\n+        uint64_t txns_tried = 0;\n+        LogInfo(\"Loading %u mempool transactions from disk...\\n\", total_txns_to_load);\n+        int next_tenth_to_report = 0;\n+        while (txns_tried < total_txns_to_load) {\n+            const int percentage_done(100.0 * txns_tried / total_txns_to_load);\n+            if (next_tenth_to_report < percentage_done / 10) {\n+                LogInfo(\"Progress loading mempool transactions from disk: %d%% (tried %u, %u remaining)\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1450533993",
      "id" : 1450533993,
      "line" : 78,
      "node_id" : "PRRC_kwDOABII585WdWRp",
      "original_commit_id" : "eb78ea4eebfe150bc1746282bfdad6eb0f764e3c",
      "original_line" : 78,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : 16,
      "pull_request_review_id" : 1818400509,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450533993/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-01-12T14:44:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1450533993",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2024-01-12T16:55:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1889643297",
      "id" : 1889643297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
      "node_id" : "IC_kwDOABII585woash",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1889643297/reactions"
      },
      "updated_at" : "2024-01-12T16:55:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1889643297",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4500994?v=4",
         "events_url" : "https://api.github.com/users/kristapsk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kristapsk/followers",
         "following_url" : "https://api.github.com/users/kristapsk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kristapsk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kristapsk",
         "id" : 4500994,
         "login" : "kristapsk",
         "node_id" : "MDQ6VXNlcjQ1MDA5OTQ=",
         "organizations_url" : "https://api.github.com/users/kristapsk/orgs",
         "received_events_url" : "https://api.github.com/users/kristapsk/received_events",
         "repos_url" : "https://api.github.com/users/kristapsk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kristapsk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kristapsk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kristapsk"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK [eb78ea4](https://github.com/bitcoin/bitcoin/pull/29227/commits/eb78ea4eebfe150bc1746282bfdad6eb0f764e3c)",
      "created_at" : "2024-01-13T17:10:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1890595882",
      "id" : 1890595882,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
      "node_id" : "IC_kwDOABII585wsDQq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1890595882/reactions"
      },
      "updated_at" : "2024-01-13T17:10:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1890595882",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/15950706?v=4",
         "events_url" : "https://api.github.com/users/kevkevinpal/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kevkevinpal/followers",
         "following_url" : "https://api.github.com/users/kevkevinpal/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kevkevinpal/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kevkevinpal",
         "id" : 15950706,
         "login" : "kevkevinpal",
         "node_id" : "MDQ6VXNlcjE1OTUwNzA2",
         "organizations_url" : "https://api.github.com/users/kevkevinpal/orgs",
         "received_events_url" : "https://api.github.com/users/kevkevinpal/received_events",
         "repos_url" : "https://api.github.com/users/kevkevinpal/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kevkevinpal/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kevkevinpal/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kevkevinpal"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1452031664"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1452031664"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Might be better if this information were also exposed to the gui? Perhaps something along the lines of:\r\n\r\n```c++\r\n    auto& cm = active_chainstate.m_chainman;\r\n    if (!cm.IsInitialBlockDownload()) {\r\n        cm.GetNotifications().progress(\"Loading mempool...\", percentage_done, false);\r\n    }\r\n```\r\n\r\nwould make sense? (completely untested)",
      "commit_id" : "eb78ea4eebfe150bc1746282bfdad6eb0f764e3c",
      "created_at" : "2024-01-15T08:02:52Z",
      "diff_hunk" : "@@ -67,10 +67,20 @@ bool LoadMempool(CTxMemPool& pool, const fs::path& load_path, Chainstate& active\n             return false;\n         }\n         file.SetXor(xor_key);\n-        uint64_t num;\n-        file >> num;\n-        while (num) {\n-            --num;\n+        uint64_t total_txns_to_load;\n+        file >> total_txns_to_load;\n+        uint64_t txns_tried = 0;\n+        LogInfo(\"Loading %u mempool transactions from disk...\\n\", total_txns_to_load);\n+        int next_tenth_to_report = 0;\n+        while (txns_tried < total_txns_to_load) {\n+            const int percentage_done(100.0 * txns_tried / total_txns_to_load);\n+            if (next_tenth_to_report < percentage_done / 10) {\n+                LogInfo(\"Progress loading mempool transactions from disk: %d%% (tried %u, %u remaining)\\n\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1452031664",
      "id" : 1452031664,
      "in_reply_to_id" : 1450533993,
      "line" : 78,
      "node_id" : "PRRC_kwDOABII585WjD6w",
      "original_commit_id" : "eb78ea4eebfe150bc1746282bfdad6eb0f764e3c",
      "original_line" : 78,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/kernel/mempool_persist.cpp",
      "position" : 16,
      "pull_request_review_id" : 1821141035,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29227",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1452031664/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-01-15T08:02:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1452031664",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> \"I wonder why Bitcoin Core takes so long to shutdown sometimes?\" repeatedly from users.\r\n\r\nI don't think that's due to dumping the mempool, but rather spinning on locks elsewhere in the code. I've seen very slow shutdowns myself, but been unable to nail it down precisely.",
      "created_at" : "2024-01-15T08:04:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1891521307",
      "id" : 1891521307,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
      "node_id" : "IC_kwDOABII585wvlMb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1891521307/reactions"
      },
      "updated_at" : "2024-01-15T08:04:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1891521307",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Leaving gui notifications (https://github.com/bitcoin/bitcoin/pull/29227#discussion_r1452031664) and dumping logs (https://github.com/bitcoin/bitcoin/pull/29227#pullrequestreview-1817064507) up for grabs",
      "created_at" : "2024-01-16T09:34:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1893375082",
      "id" : 1893375082,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
      "node_id" : "IC_kwDOABII585w2pxq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1893375082/reactions"
      },
      "updated_at" : "2024-01-16T09:34:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1893375082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "26.x backport in #29209",
      "created_at" : "2024-01-16T09:45:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29227#issuecomment-1893393129",
      "id" : 1893393129,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29227",
      "node_id" : "IC_kwDOABII585w2uLp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1893393129/reactions"
      },
      "updated_at" : "2024-01-16T09:45:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1893393129",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   }
]
