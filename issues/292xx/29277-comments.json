[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29277).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [maflcko](https://github.com/bitcoin/bitcoin/pull/29277#pullrequestreview-1893195194) |\n| Concept ACK | [ismaelsadeeq](https://github.com/bitcoin/bitcoin/pull/29277#issuecomment-1899213515), [fjahr](https://github.com/bitcoin/bitcoin/pull/29277#pullrequestreview-1887298400) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n",
      "created_at" : "2024-01-18T20:50:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#issuecomment-1899184125",
      "id" : 1899184125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29277",
      "node_id" : "IC_kwDOABII585xMz_9",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1899184125/reactions"
      },
      "updated_at" : "2024-02-21T13:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1899184125",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK ",
      "created_at" : "2024-01-18T21:13:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#issuecomment-1899213515",
      "id" : 1899213515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29277",
      "node_id" : "IC_kwDOABII585xM7LL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1899213515/reactions"
      },
      "updated_at" : "2024-01-18T21:13:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1899213515",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--85328a0da195eb286784d51f73fa0af9-->\n\nð§ At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/20633278087</sub>",
      "created_at" : "2024-01-18T21:56:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#issuecomment-1899283681",
      "id" : 1899283681,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29277",
      "node_id" : "IC_kwDOABII585xNMTh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1899283681/reactions"
      },
      "updated_at" : "2024-01-18T21:56:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1899283681",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force pushed to make CI happy:\r\n- removed doxygen `@params` since it didn't pick up the overloads (and it's already documented in plain-text anyway)\r\n- added a null return type to the testing `RPCHelpMan`",
      "created_at" : "2024-01-19T00:09:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#issuecomment-1899415885",
      "id" : 1899415885,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29277",
      "node_id" : "IC_kwDOABII585xNslN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1899415885/reactions"
      },
      "updated_at" : "2024-01-22T12:10:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1899415885",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1493816010"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493816010"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Indentation seems wrong?",
      "commit_id" : "d2369cbe8b56a9f2e0ac9e542cb56643c1a5268a",
      "created_at" : "2024-02-18T17:54:47Z",
      "diff_hunk" : "@@ -715,6 +717,16 @@ std::vector<std::pair<std::string, bool>> RPCHelpMan::GetArgNames() const\n     return ret;\n }\n \n+    size_t RPCHelpMan::GetParamIndex(std::string_view key) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1493816010",
      "id" : 1493816010,
      "line" : 720,
      "node_id" : "PRRC_kwDOABII585ZCdLK",
      "original_commit_id" : "6f83da656d2e1ffba84c70131e7f7752ac2dd20f",
      "original_line" : 720,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : 13,
      "pull_request_review_id" : 1887298400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493816010/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-18T18:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493816010",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @stickies-v have you considered preparing a map once when an RPC is called rather than doing the search for the index every time an arg is accessed?\r\n\r\nI doubt this will have any impact. It could even perform worse, and require more code? Also, maps aren't constexpr, so if this is moved toward constexpr/consteval, it will have to be re-written again.",
      "created_at" : "2024-02-19T11:02:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#issuecomment-1952207658",
      "id" : 1952207658,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29277",
      "node_id" : "IC_kwDOABII5850XFMq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1952207658/reactions"
      },
      "updated_at" : "2024-02-19T11:02:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1952207658",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1497485628"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497485628"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for spotting, fixed!",
      "commit_id" : "391873694137f241dfe1f57ed9058a438e147218",
      "created_at" : "2024-02-21T12:49:59Z",
      "diff_hunk" : "@@ -715,6 +717,16 @@ std::vector<std::pair<std::string, bool>> RPCHelpMan::GetArgNames() const\n     return ret;\n }\n \n+    size_t RPCHelpMan::GetParamIndex(std::string_view key) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1497485628",
      "id" : 1497485628,
      "in_reply_to_id" : 1493816010,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ZQdE8",
      "original_commit_id" : "6f83da656d2e1ffba84c70131e7f7752ac2dd20f",
      "original_line" : 720,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/rpc/util.cpp",
      "position" : null,
      "pull_request_review_id" : 1893117255,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497485628/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-21T12:49:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497485628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force pushed to address[ indentation issue](https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1493816010) (and removed the unintuitive \"developer mistake\" comment in docstring)\r\n\r\n> @stickies-v have you considered preparing a map once when an RPC is called rather than doing the search for the index every time an arg is accessed?\r\n\r\nI  agree with @maflcko's reasoning, so going to leave this as is.",
      "created_at" : "2024-02-21T12:53:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#issuecomment-1956590859",
      "id" : 1956590859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29277",
      "node_id" : "IC_kwDOABII5850nzUL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1956590859/reactions"
      },
      "updated_at" : "2024-02-21T12:53:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1956590859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1497547735"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497547735"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit in 0260f84ce07a7795b57cd84dc51d7c31a1ee15bd: `s/man/rpc/g`?",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-02-21T13:26:42Z",
      "diff_hunk" : "@@ -581,4 +581,58 @@ BOOST_AUTO_TEST_CASE(help_example)\n     BOOST_CHECK_NE(HelpExampleRpcNamed(\"foo\", {{\"arg\", true}}), HelpExampleRpcNamed(\"foo\", {{\"arg\", \"true\"}}));\n }\n \n+static void CheckRpc(const std::vector<RPCArg>& params, const UniValue& args, RPCHelpMan::RPCMethodImpl test_impl)\n+{\n+    auto null_result{RPCResult{RPCResult::Type::NONE, \"\", \"None\"}};\n+    const RPCHelpMan man{\"dummy\", \"dummy description\", params, null_result, RPCExamples{\"\"}, test_impl};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1497547735",
      "id" : 1497547735,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ZQsPX",
      "original_commit_id" : "0260f84ce07a7795b57cd84dc51d7c31a1ee15bd",
      "original_line" : 587,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/test/rpc_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1893195194,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497547735/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-21T13:44:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497547735",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1497549765"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497549765"
         }
      },
      "author_association" : "MEMBER",
      "body" : "0260f84ce07a7795b57cd84dc51d7c31a1ee15bd: Why `char[]`? Could use `auto`?",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-02-21T13:27:53Z",
      "diff_hunk" : "@@ -581,4 +581,58 @@ BOOST_AUTO_TEST_CASE(help_example)\n     BOOST_CHECK_NE(HelpExampleRpcNamed(\"foo\", {{\"arg\", true}}), HelpExampleRpcNamed(\"foo\", {{\"arg\", \"true\"}}));\n }\n \n+static void CheckRpc(const std::vector<RPCArg>& params, const UniValue& args, RPCHelpMan::RPCMethodImpl test_impl)\n+{\n+    auto null_result{RPCResult{RPCResult::Type::NONE, \"\", \"None\"}};\n+    const RPCHelpMan man{\"dummy\", \"dummy description\", params, null_result, RPCExamples{\"\"}, test_impl};\n+    JSONRPCRequest req;\n+    req.params = args;\n+\n+    man.HandleRequest(req);\n+}\n+\n+BOOST_AUTO_TEST_CASE(rpc_arg_helper)\n+{\n+    constexpr bool DEFAULT_BOOL = true;\n+    constexpr char DEFAULT_STRING[] = \"default\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1497549765",
      "id" : 1497549765,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ZQsvF",
      "original_commit_id" : "0260f84ce07a7795b57cd84dc51d7c31a1ee15bd",
      "original_line" : 597,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/test/rpc_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1893195194,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497549765/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-21T13:44:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497549765",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1497572844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497572844"
         }
      },
      "author_association" : "MEMBER",
      "body" : "28a33e1f9891a4ea56ba843001db84c878b0e2ea: No? It does not return a falsy value?",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-02-21T13:38:24Z",
      "diff_hunk" : "@@ -397,18 +397,24 @@ class RPCHelpMan\n \n     UniValue HandleRequest(const JSONRPCRequest& request) const;\n     /**\n-     * Helper to get a request argument.\n-     * This function only works during m_fun(), i.e. it should only be used in\n-     * RPC method implementations. The helper internally checks whether the\n-     * user-passed argument isNull() and parses (from JSON) and returns the\n-     * user-passed argument, or the default value derived from the RPCArg\n-     * documentation, or a falsy value if no default was given.\n+     * @brief Helper to get a required or default-valued request argument.\n      *\n-     * Use Arg<Type>(i) to get the argument or its default value. Otherwise,\n-     * use MaybeArg<Type>(i) to get the optional argument or a falsy value.\n+     * Use this function when the argument is required or when it has a default value. If the\n+     * argument is optional and may not be provided, use MaybeArg instead.\n      *\n-     * The Type passed to this helper must match the corresponding\n-     * RPCArg::Type.\n+     * This function only works during m_fun(), i.e., it should only be used in\n+     * RPC method implementations. It internally checks whether the user-passed\n+     * argument isNull() and parses (from JSON) and returns the user-passed argument,\n+     * or the default value derived from the RPCArg documentation.\n+     *\n+     * There are two overloads of this function:\n+     * - Use Arg<Type>(size_t i) to get the argument by index or its default value.\n+     * - Use Arg<Type>(const std::string& key) to get the argument by key or its default value.\n+     *\n+     * @return The value of the RPC argument as type R. If the argument is not provided\n+     *         and has no default, a falsy value is returned.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1497572844",
      "id" : 1497572844,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ZQyXs",
      "original_commit_id" : "28a33e1f9891a4ea56ba843001db84c878b0e2ea",
      "original_line" : 415,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/rpc/util.h",
      "position" : null,
      "pull_request_review_id" : 1893195194,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497572844/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-21T13:44:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497572844",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1497576027"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497576027"
         }
      },
      "author_association" : "MEMBER",
      "body" : "why remove this?",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-02-21T13:40:13Z",
      "diff_hunk" : "@@ -397,18 +397,24 @@ class RPCHelpMan\n \n     UniValue HandleRequest(const JSONRPCRequest& request) const;\n     /**\n-     * Helper to get a request argument.\n-     * This function only works during m_fun(), i.e. it should only be used in\n-     * RPC method implementations. The helper internally checks whether the\n-     * user-passed argument isNull() and parses (from JSON) and returns the\n-     * user-passed argument, or the default value derived from the RPCArg\n-     * documentation, or a falsy value if no default was given.\n+     * @brief Helper to get a required or default-valued request argument.\n      *\n-     * Use Arg<Type>(i) to get the argument or its default value. Otherwise,\n-     * use MaybeArg<Type>(i) to get the optional argument or a falsy value.\n+     * Use this function when the argument is required or when it has a default value. If the\n+     * argument is optional and may not be provided, use MaybeArg instead.\n      *\n-     * The Type passed to this helper must match the corresponding\n-     * RPCArg::Type.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1497576027",
      "id" : 1497576027,
      "line" : 416,
      "node_id" : "PRRC_kwDOABII585ZQzJb",
      "original_commit_id" : "28a33e1f9891a4ea56ba843001db84c878b0e2ea",
      "original_line" : 416,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/rpc/util.h",
      "position" : 18,
      "pull_request_review_id" : 1893195194,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497576027/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-21T13:44:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1497576027",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I doubt this will have any impact. It could even perform worse, and require more code? \r\n\r\nSame amount of code and I don't see how this would perform worse: https://github.com/fjahr/bitcoin/commit/cbda2cf2c012030544ffc03620cbfcb91b1984be I also find this easier to reason about.\r\n\r\n> Also, maps aren't constexpr, so if this is moved toward constexpr/consteval, it will have to be re-written again.\r\n\r\nI guess I don't have enough insight into future development plans of the RPC to judge that if is. But either way it seems weird to me that the best solution should be a `find_if` each time any argument is accessed (which comes out to O(n^2)), especially when we are already iterating over that information once before in the `RPCHelperMan` constructor. So it feels to me like this could be rewritten in the future just as likely.",
      "created_at" : "2024-02-21T16:19:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#issuecomment-1957172564",
      "id" : 1957172564,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29277",
      "node_id" : "IC_kwDOABII5850qBVU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1957172564/reactions"
      },
      "updated_at" : "2024-02-21T16:19:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1957172564",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Same amount of code and I don't see how this would perform worse: [fjahr@cbda2cf](https://github.com/fjahr/bitcoin/commit/cbda2cf2c012030544ffc03620cbfcb91b1984be) I also find this easier to reason about.\r\n\r\nYou removed the `CHECK_NONFATAL` to mark the bug as an internal bug.\r\n\r\n> which comes out to O(n^2)\r\n\r\nThe `O` notation only makes sense for large `n`. Is there more than one RPC with more than n=3? Again, if you measure it, I wouldn't be surprised if the runtime is slower for a map. Though, you likely won't be able to find an end-to-end performance difference, regardless of what is used.\r\n\r\nIn any case, it shouldn't matter much, since apparently it can easily be reverted if the switch to constexpr is done.",
      "created_at" : "2024-02-21T16:42:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#issuecomment-1957248978",
      "id" : 1957248978,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29277",
      "node_id" : "IC_kwDOABII5850qT_S",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1957248978/reactions"
      },
      "updated_at" : "2024-02-21T16:42:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1957248978",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1507719729"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1507719729"
         }
      },
      "author_association" : "NONE",
      "body" : "nit: What is the rationale for using the new Arg() overload in some locations but not others?   Increasing consistency of usage consistency may increase readability.\r\nFor example, `action == <string literal>` replaces `request.params[0].get_str()` in:\r\nhttps://github.com/bitcoin/bitcoin/blob/391873694137f241dfe1f57ed9058a438e147218/src/rpc/blockchain.cpp#L2153\r\nbut not later in:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/391873694137f241dfe1f57ed9058a438e147218/src/rpc/blockchain.cpp#L2239",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-02-29T14:55:31Z",
      "diff_hunk" : "@@ -2149,15 +2149,16 @@ static RPCHelpMan scantxoutset()\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n {\n     UniValue result(UniValue::VOBJ);\n-    if (request.params[0].get_str() == \"status\") {\n+    const auto action{self.Arg<std::string>(\"action\")};\n+    if (action == \"status\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1507719729",
      "id" : 1507719729,
      "line" : 2153,
      "node_id" : "PRRC_kwDOABII585Z3fox",
      "original_commit_id" : "391873694137f241dfe1f57ed9058a438e147218",
      "original_line" : 2153,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 6,
      "pull_request_review_id" : 1909104242,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1507719729/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-29T14:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1507719729",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/106488469?v=4",
         "events_url" : "https://api.github.com/users/tdb3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tdb3/followers",
         "following_url" : "https://api.github.com/users/tdb3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tdb3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tdb3",
         "id" : 106488469,
         "login" : "tdb3",
         "node_id" : "U_kgDOBljilQ",
         "organizations_url" : "https://api.github.com/users/tdb3/orgs",
         "received_events_url" : "https://api.github.com/users/tdb3/received_events",
         "repos_url" : "https://api.github.com/users/tdb3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tdb3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tdb3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tdb3"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1508903319"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508903319"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks for catching, I missed that. Updated. This is the only such inconsistency I could find in the PR - did you see any others?\r\n\r\nnote: \r\n- `request.params[1]` in `scantxoutset` is not yet updated because `Arg` doesn't support arrays yet, which is unrelated to this PR but absolutely warrants a follow-up\r\n- `request.params[2]` in `getbalance` is not updated because `ParseIncludeWatchonly` requires a `UniValue`, and I don't want to scope creep this PR too much (same for a couple other args)",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-03-01T12:12:53Z",
      "diff_hunk" : "@@ -2149,15 +2149,16 @@ static RPCHelpMan scantxoutset()\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n {\n     UniValue result(UniValue::VOBJ);\n-    if (request.params[0].get_str() == \"status\") {\n+    const auto action{self.Arg<std::string>(\"action\")};\n+    if (action == \"status\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1508903319",
      "id" : 1508903319,
      "in_reply_to_id" : 1507719729,
      "line" : 2153,
      "node_id" : "PRRC_kwDOABII585Z8AmX",
      "original_commit_id" : "391873694137f241dfe1f57ed9058a438e147218",
      "original_line" : 2153,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 6,
      "pull_request_review_id" : 1910992362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508903319/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-04T10:39:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508903319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1508915385"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508915385"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think I meant to, should be here indeed. Re-added (in both places), thanks.",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-03-01T12:25:54Z",
      "diff_hunk" : "@@ -397,18 +397,24 @@ class RPCHelpMan\n \n     UniValue HandleRequest(const JSONRPCRequest& request) const;\n     /**\n-     * Helper to get a request argument.\n-     * This function only works during m_fun(), i.e. it should only be used in\n-     * RPC method implementations. The helper internally checks whether the\n-     * user-passed argument isNull() and parses (from JSON) and returns the\n-     * user-passed argument, or the default value derived from the RPCArg\n-     * documentation, or a falsy value if no default was given.\n+     * @brief Helper to get a required or default-valued request argument.\n      *\n-     * Use Arg<Type>(i) to get the argument or its default value. Otherwise,\n-     * use MaybeArg<Type>(i) to get the optional argument or a falsy value.\n+     * Use this function when the argument is required or when it has a default value. If the\n+     * argument is optional and may not be provided, use MaybeArg instead.\n      *\n-     * The Type passed to this helper must match the corresponding\n-     * RPCArg::Type.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1508915385",
      "id" : 1508915385,
      "in_reply_to_id" : 1497576027,
      "line" : 416,
      "node_id" : "PRRC_kwDOABII585Z8Di5",
      "original_commit_id" : "28a33e1f9891a4ea56ba843001db84c878b0e2ea",
      "original_line" : 416,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/rpc/util.h",
      "position" : 18,
      "pull_request_review_id" : 1910992362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508915385/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-01T14:15:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508915385",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1508916466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508916466"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Indeed it doesn't, fixed. Also replaced `R` with `Type`.",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-03-01T12:27:02Z",
      "diff_hunk" : "@@ -397,18 +397,24 @@ class RPCHelpMan\n \n     UniValue HandleRequest(const JSONRPCRequest& request) const;\n     /**\n-     * Helper to get a request argument.\n-     * This function only works during m_fun(), i.e. it should only be used in\n-     * RPC method implementations. The helper internally checks whether the\n-     * user-passed argument isNull() and parses (from JSON) and returns the\n-     * user-passed argument, or the default value derived from the RPCArg\n-     * documentation, or a falsy value if no default was given.\n+     * @brief Helper to get a required or default-valued request argument.\n      *\n-     * Use Arg<Type>(i) to get the argument or its default value. Otherwise,\n-     * use MaybeArg<Type>(i) to get the optional argument or a falsy value.\n+     * Use this function when the argument is required or when it has a default value. If the\n+     * argument is optional and may not be provided, use MaybeArg instead.\n      *\n-     * The Type passed to this helper must match the corresponding\n-     * RPCArg::Type.\n+     * This function only works during m_fun(), i.e., it should only be used in\n+     * RPC method implementations. It internally checks whether the user-passed\n+     * argument isNull() and parses (from JSON) and returns the user-passed argument,\n+     * or the default value derived from the RPCArg documentation.\n+     *\n+     * There are two overloads of this function:\n+     * - Use Arg<Type>(size_t i) to get the argument by index or its default value.\n+     * - Use Arg<Type>(const std::string& key) to get the argument by key or its default value.\n+     *\n+     * @return The value of the RPC argument as type R. If the argument is not provided\n+     *         and has no default, a falsy value is returned.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1508916466",
      "id" : 1508916466,
      "in_reply_to_id" : 1497572844,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Z8Dzy",
      "original_commit_id" : "28a33e1f9891a4ea56ba843001db84c878b0e2ea",
      "original_line" : 415,
      "original_position" : 29,
      "original_start_line" : null,
      "path" : "src/rpc/util.h",
      "position" : null,
      "pull_request_review_id" : 1910992362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508916466/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-01T14:15:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1508916466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1509041055"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1509041055"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I like that better too, thanks.",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-03-01T13:50:07Z",
      "diff_hunk" : "@@ -581,4 +581,58 @@ BOOST_AUTO_TEST_CASE(help_example)\n     BOOST_CHECK_NE(HelpExampleRpcNamed(\"foo\", {{\"arg\", true}}), HelpExampleRpcNamed(\"foo\", {{\"arg\", \"true\"}}));\n }\n \n+static void CheckRpc(const std::vector<RPCArg>& params, const UniValue& args, RPCHelpMan::RPCMethodImpl test_impl)\n+{\n+    auto null_result{RPCResult{RPCResult::Type::NONE, \"\", \"None\"}};\n+    const RPCHelpMan man{\"dummy\", \"dummy description\", params, null_result, RPCExamples{\"\"}, test_impl};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1509041055",
      "id" : 1509041055,
      "in_reply_to_id" : 1497547735,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Z8iOf",
      "original_commit_id" : "0260f84ce07a7795b57cd84dc51d7c31a1ee15bd",
      "original_line" : 587,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/test/rpc_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1910992362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1509041055/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-01T14:15:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1509041055",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1509041625"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1509041625"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-03-01T13:50:39Z",
      "diff_hunk" : "@@ -581,4 +581,58 @@ BOOST_AUTO_TEST_CASE(help_example)\n     BOOST_CHECK_NE(HelpExampleRpcNamed(\"foo\", {{\"arg\", true}}), HelpExampleRpcNamed(\"foo\", {{\"arg\", \"true\"}}));\n }\n \n+static void CheckRpc(const std::vector<RPCArg>& params, const UniValue& args, RPCHelpMan::RPCMethodImpl test_impl)\n+{\n+    auto null_result{RPCResult{RPCResult::Type::NONE, \"\", \"None\"}};\n+    const RPCHelpMan man{\"dummy\", \"dummy description\", params, null_result, RPCExamples{\"\"}, test_impl};\n+    JSONRPCRequest req;\n+    req.params = args;\n+\n+    man.HandleRequest(req);\n+}\n+\n+BOOST_AUTO_TEST_CASE(rpc_arg_helper)\n+{\n+    constexpr bool DEFAULT_BOOL = true;\n+    constexpr char DEFAULT_STRING[] = \"default\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1509041625",
      "id" : 1509041625,
      "in_reply_to_id" : 1497549765,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Z8iXZ",
      "original_commit_id" : "0260f84ce07a7795b57cd84dc51d7c31a1ee15bd",
      "original_line" : 597,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/test/rpc_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1910992362,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1509041625/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-01T14:15:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1509041625",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69010457?v=4",
         "events_url" : "https://api.github.com/users/stickies-v/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stickies-v/followers",
         "following_url" : "https://api.github.com/users/stickies-v/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stickies-v/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stickies-v",
         "id" : 69010457,
         "login" : "stickies-v",
         "node_id" : "MDQ6VXNlcjY5MDEwNDU3",
         "organizations_url" : "https://api.github.com/users/stickies-v/orgs",
         "received_events_url" : "https://api.github.com/users/stickies-v/received_events",
         "repos_url" : "https://api.github.com/users/stickies-v/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stickies-v/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stickies-v/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stickies-v"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1511950947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1511950947"
         }
      },
      "author_association" : "NONE",
      "body" : "Throughout the files modified for the PR, looks like there might be other opportunities to use the new overloading (e.g. other instances of `params[0].get_str()`).  Some examples are referenced below.  It would seem reasonable to scope this PR for the overloading and initial usage, and batch more updates in a subsequent PR (helps keep this PR small/digestible).  It's your call as the PR author.  Great PR, and I would support either approach.\r\n\r\nIn `scanblocks()`:\r\nhttps://github.com/bitcoin/bitcoin/blob/30a6c999351041d6a1e8712a9659be1296a1b46a/src/rpc/blockchain.cpp#L2344\r\n\r\nIn `generateblock()`:\r\nhttps://github.com/bitcoin/bitcoin/blob/30a6c999351041d6a1e8712a9659be1296a1b46a/src/rpc/mining.cpp#L326\r\n\r\nIn `addconnection()`:\r\nhttps://github.com/bitcoin/bitcoin/blob/30a6c999351041d6a1e8712a9659be1296a1b46a/src/rpc/net.cpp#L392\r\n\r\n\r\n",
      "commit_id" : "30a6c999351041d6a1e8712a9659be1296a1b46a",
      "created_at" : "2024-03-04T23:51:03Z",
      "diff_hunk" : "@@ -2149,15 +2149,16 @@ static RPCHelpMan scantxoutset()\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n {\n     UniValue result(UniValue::VOBJ);\n-    if (request.params[0].get_str() == \"status\") {\n+    const auto action{self.Arg<std::string>(\"action\")};\n+    if (action == \"status\") {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29277#discussion_r1511950947",
      "id" : 1511950947,
      "in_reply_to_id" : 1507719729,
      "line" : 2153,
      "node_id" : "PRRC_kwDOABII585aHopj",
      "original_commit_id" : "391873694137f241dfe1f57ed9058a438e147218",
      "original_line" : 2153,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 6,
      "pull_request_review_id" : 1915587388,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29277",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1511950947/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-03-04T23:51:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1511950947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/106488469?v=4",
         "events_url" : "https://api.github.com/users/tdb3/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tdb3/followers",
         "following_url" : "https://api.github.com/users/tdb3/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tdb3/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tdb3",
         "id" : 106488469,
         "login" : "tdb3",
         "node_id" : "U_kgDOBljilQ",
         "organizations_url" : "https://api.github.com/users/tdb3/orgs",
         "received_events_url" : "https://api.github.com/users/tdb3/received_events",
         "repos_url" : "https://api.github.com/users/tdb3/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tdb3/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tdb3/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tdb3"
      }
   }
]
