[
   {
      "author_association" : "MEMBER",
      "body" : "I think RFC 1918 addresses are not considered routable by addrman and thus not added",
      "created_at" : "2019-09-30T20:25:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16990#issuecomment-536736430",
      "id" : 536736430,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16990",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNjczNjQzMA==",
      "updated_at" : "2019-09-30T20:25:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/536736430",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> I think RFC 1918 addresses are not considered routable by addrman and thus not added\r\n\r\nI was indeed using 10.0.0.0/16 as the docker network subnet, however changing the subnet to something else, e.g. 11.0.0.0/16 or 161.53.0.0/16 yields the same result.",
      "created_at" : "2019-10-01T13:17:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16990#issuecomment-537031495",
      "id" : 537031495,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16990",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzAzMTQ5NQ==",
      "updated_at" : "2019-10-01T13:17:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537031495",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/25860364?v=4",
         "events_url" : "https://api.github.com/users/boorac/events{/privacy}",
         "followers_url" : "https://api.github.com/users/boorac/followers",
         "following_url" : "https://api.github.com/users/boorac/following{/other_user}",
         "gists_url" : "https://api.github.com/users/boorac/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/boorac",
         "id" : 25860364,
         "login" : "boorac",
         "node_id" : "MDQ6VXNlcjI1ODYwMzY0",
         "organizations_url" : "https://api.github.com/users/boorac/orgs",
         "received_events_url" : "https://api.github.com/users/boorac/received_events",
         "repos_url" : "https://api.github.com/users/boorac/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/boorac/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/boorac/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/boorac"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Furthermore, in a network with the subnet `11.0.0.0/16` containing only two nodes, `A` and `B` when I replace the `add` option with the `onetry` option, I made an interesting observation:\r\n\r\n1) `A` first mines blocks\r\n2) `B` is not connected to `A` and has `height` set to 0\r\n3) `B` then connects to `A` and immediately updates the block height to the one known to `B`\r\n4) `B` runs the `getnodeaddresses` command and still the response is an empty array (same goes for `A`)\r\n\r\nHow come the nodes can exchange blocks but seem to not be connected?",
      "created_at" : "2019-10-01T13:43:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16990#issuecomment-537042548",
      "id" : 537042548,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16990",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzA0MjU0OA==",
      "updated_at" : "2019-10-01T13:43:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537042548",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/25860364?v=4",
         "events_url" : "https://api.github.com/users/boorac/events{/privacy}",
         "followers_url" : "https://api.github.com/users/boorac/followers",
         "following_url" : "https://api.github.com/users/boorac/following{/other_user}",
         "gists_url" : "https://api.github.com/users/boorac/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/boorac",
         "id" : 25860364,
         "login" : "boorac",
         "node_id" : "MDQ6VXNlcjI1ODYwMzY0",
         "organizations_url" : "https://api.github.com/users/boorac/orgs",
         "received_events_url" : "https://api.github.com/users/boorac/received_events",
         "repos_url" : "https://api.github.com/users/boorac/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/boorac/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/boorac/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/boorac"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> How come the nodes can exchange blocks but seem to not be connected?\r\n\r\nconnection info can be retrieved with `getnetworkinfo` and `getpeerinfo`, not `getnodeaddresses`",
      "created_at" : "2019-10-01T16:02:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16990#issuecomment-537106712",
      "id" : 537106712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16990",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzEwNjcxMg==",
      "updated_at" : "2019-10-01T16:02:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537106712",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> changing the subnet to something else, e.g. 11.0.0.0/16 or 161.53.0.0/16 yields the same result.\r\n\r\nDon't know about these, but you might want to check `IsRoutable` https://dev.visucore.com/bitcoin/doxygen/class_c_net_addr.html#a4e3b2fea2a6151c76684b3812df4a5c3",
      "created_at" : "2019-10-01T16:06:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16990#issuecomment-537108125",
      "id" : 537108125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16990",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzEwODEyNQ==",
      "updated_at" : "2019-10-01T16:06:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537108125",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> \r\n> \r\n> > changing the subnet to something else, e.g. 11.0.0.0/16 or 161.53.0.0/16 yields the same result.\r\n> \r\n> Don't know about these, but you might want to check `IsRoutable` https://dev.visucore.com/bitcoin/doxygen/class_c_net_addr.html#a4e3b2fea2a6151c76684b3812df4a5c3\r\n\r\nI tried some debugging with lldb, and have used a subnet 144.217.240.0/24 in my docker setup, which I have derived from the address of bitcoin.sipa.be DNS seed. For example, 144.217.240.5 is declared routable (by IsRoutable), however it is still not returned by getnodeaddresses\r\n\r\n",
      "created_at" : "2019-10-02T14:00:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16990#issuecomment-537505751",
      "id" : 537505751,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16990",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzUwNTc1MQ==",
      "updated_at" : "2019-10-02T14:00:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537505751",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/25860364?v=4",
         "events_url" : "https://api.github.com/users/boorac/events{/privacy}",
         "followers_url" : "https://api.github.com/users/boorac/followers",
         "following_url" : "https://api.github.com/users/boorac/following{/other_user}",
         "gists_url" : "https://api.github.com/users/boorac/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/boorac",
         "id" : 25860364,
         "login" : "boorac",
         "node_id" : "MDQ6VXNlcjI1ODYwMzY0",
         "organizations_url" : "https://api.github.com/users/boorac/orgs",
         "received_events_url" : "https://api.github.com/users/boorac/received_events",
         "repos_url" : "https://api.github.com/users/boorac/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/boorac/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/boorac/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/boorac"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> \r\n> \r\n> > How come the nodes can exchange blocks but seem to not be connected?\r\n> \r\n> connection info can be retrieved with `getnetworkinfo` and `getpeerinfo`, not `getnodeaddresses`\r\n\r\nMaybe I am misunderstanding the protocol, but shouldn't a node that is actively connected be declared as known and as such returned by `getnodeaddresses` - seems reasonable to me.",
      "created_at" : "2019-10-02T14:01:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16990#issuecomment-537506453",
      "id" : 537506453,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16990",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzUwNjQ1Mw==",
      "updated_at" : "2019-10-02T14:01:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537506453",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/25860364?v=4",
         "events_url" : "https://api.github.com/users/boorac/events{/privacy}",
         "followers_url" : "https://api.github.com/users/boorac/followers",
         "following_url" : "https://api.github.com/users/boorac/following{/other_user}",
         "gists_url" : "https://api.github.com/users/boorac/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/boorac",
         "id" : 25860364,
         "login" : "boorac",
         "node_id" : "MDQ6VXNlcjI1ODYwMzY0",
         "organizations_url" : "https://api.github.com/users/boorac/orgs",
         "received_events_url" : "https://api.github.com/users/boorac/received_events",
         "repos_url" : "https://api.github.com/users/boorac/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/boorac/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/boorac/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/boorac"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "`getnodeaddresses` is specifically for returning addresses from addrman (the database), which might include addresses of nodes that are currently connected, but generally those sets are not equal.",
      "created_at" : "2019-10-02T15:04:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16990#issuecomment-537536640",
      "id" : 537536640,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16990",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzUzNjY0MA==",
      "updated_at" : "2019-10-02T15:04:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537536640",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I tried some debugging with lldb, and have used a subnet 144.217.240.0/24 in my docker setup, which I have derived from the address of bitcoin.sipa.be DNS seed. For example, 144.217.240.5 is declared routable (by IsRoutable), however it is still not returned by getnodeaddresses\r\n\r\nSorry, can't help here. My knowledge ends there.",
      "created_at" : "2019-10-02T15:05:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/16990#issuecomment-537536849",
      "id" : 537536849,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16990",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUzNzUzNjg0OQ==",
      "updated_at" : "2019-10-02T15:05:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/537536849",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
