[
   {
      "body" : "I like this approach much better. Fully statically linking glibc is usually a bad idea, I've spent many an hour tracking down mysterious name resolution failures from static libc.",
      "created_at" : "2014-04-10T04:48:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40042753",
      "id" : 40042753,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-10T04:48:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40042753",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "This should also benefit from ASLR, which was not possible with static linked glibc.",
      "created_at" : "2014-04-10T05:30:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40044446",
      "id" : 40044446,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-10T05:38:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40044446",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4042#discussion_r11470995"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4042"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11470995"
         }
      },
      "body" : "I'd prefer to move these source files to `src/compat`. Let's keep them separate from the main bitcoin source.",
      "commit_id" : "05c20a553a12d03b1512a75973674c6d25534259",
      "created_at" : "2014-04-10T06:00:46Z",
      "diff_hunk" : "@@ -0,0 +1,19 @@\n+#include \"bitcoin-config.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#discussion_r11470995",
      "id" : 11470995,
      "original_commit_id" : "f17e2c7eb0c4ffd61ddac95468c7a6ecdf6a1f16",
      "original_position" : 1,
      "path" : "src/glibc_compat.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4042",
      "updated_at" : "2014-04-11T22:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11470995",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4042#discussion_r11471089"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4042"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11471089"
         }
      },
      "body" : "Sure, makes sense.",
      "commit_id" : "05c20a553a12d03b1512a75973674c6d25534259",
      "created_at" : "2014-04-10T06:06:42Z",
      "diff_hunk" : "@@ -0,0 +1,19 @@\n+#include \"bitcoin-config.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#discussion_r11471089",
      "id" : 11471089,
      "original_commit_id" : "f17e2c7eb0c4ffd61ddac95468c7a6ecdf6a1f16",
      "original_position" : 1,
      "path" : "src/glibc_compat.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4042",
      "updated_at" : "2014-04-11T22:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11471089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Static may be a bad idea, but it is the only way to be consistently compatible with a lot of old releases without extra maintenance overhead.\r\n\r\nI feel scared importing parts of the C and C++ libraries into bitcoin. Any change in the code may make it necessary to extend glibcxx_compat.cpp /  src/glibc_compat.cpp with 'one more function'. If there are implementation problems in those files it will be hard to debug.\r\n\r\nThen again, it may be lesser of evils. \r\n\r\nLet's at least get this tested on all the platforms people were concerned about in the other topic:\r\n-   Debian 7.2 32-bit and 64 bit\r\n-   Ubuntu 10.04.4 LTS 32-bit and 64 bit\r\n-   CentOS 6.5 32bit and 64 bit\r\n",
      "created_at" : "2014-04-10T06:08:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40046051",
      "id" : 40046051,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-10T06:22:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40046051",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Agreed on the overhead, but I do think that it's the best of all evils. We'd basically just have to keep an eye on it, and update as necessary. As for debugging though, as @gmaxwell pointed out, this makes it substantially easier, not harder.\r\n\r\nAnyway, release decisions should be locked in far earlier than they have been in the past. With a sane procedure, we'd know how we stand on final back-compat when shipping the first alpha.",
      "created_at" : "2014-04-10T06:14:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40046325",
      "id" : 40046325,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-10T06:14:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40046325",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Half related, but more urgent if the gitian-shipped and self-built executables further diverge in implementation: we should make gitian build external debug information files (not to be shipped, just for our own use). This makes it possible to debug crashes in the gitian builds as well as to resolve crash dumps that people send.\r\n\r\nWorking on test builds...",
      "created_at" : "2014-04-10T06:24:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40046762",
      "id" : 40046762,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-10T06:24:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40046762",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "That's one of the benefits of being deterministic :)\r\n\r\n'objcopy --only-keep-debug' on the pre-stripped binaries should be enough to track things down in the future.",
      "created_at" : "2014-04-10T06:29:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40047003",
      "id" : 40047003,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-10T06:29:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40047003",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Test builds available here:\r\nhttps://download.visucore.com/bitcoin/bitcoin-f17e2c7-linux.tar.gz\r\nhttps://download.visucore.com/bitcoin/bitcoin-f17e2c7-linux.tar.gz.sig\r\n\r\nIf you help testing, please let us know what you tested, and on what OS version and architecture.\r\n",
      "created_at" : "2014-04-10T08:48:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40055726",
      "id" : 40055726,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-10T08:49:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40055726",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "moved to compat/ and force-pushed, since nothing else changed.",
      "created_at" : "2014-04-11T02:27:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40165236",
      "id" : 40165236,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T02:27:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40165236",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "pinging @anton000, @jcea, and @norbertVC since they spoke up in the other PR. Would be great if you could test the binaries from @laanwj.",
      "created_at" : "2014-04-11T02:52:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40166295",
      "id" : 40166295,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T02:52:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40166295",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@laanwj  bins run fine on fully updated CentOS 6.5 64-bit. Currently offshore so cant test 32bit on my box as of yet.  ",
      "created_at" : "2014-04-11T10:18:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40189608",
      "id" : 40189608,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T10:18:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40189608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649154?v=3",
         "events_url" : "https://api.github.com/users/anton000/events{/privacy}",
         "followers_url" : "https://api.github.com/users/anton000/followers",
         "following_url" : "https://api.github.com/users/anton000/following{/other_user}",
         "gists_url" : "https://api.github.com/users/anton000/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/anton000",
         "id" : 649154,
         "login" : "anton000",
         "organizations_url" : "https://api.github.com/users/anton000/orgs",
         "received_events_url" : "https://api.github.com/users/anton000/received_events",
         "repos_url" : "https://api.github.com/users/anton000/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/anton000/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/anton000/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/anton000"
      }
   },
   {
      "body" : "Do any of the functions reimplemented by this patch actually get called from within Bitcoin? In particular, from within consensus-critical code?\r\n\r\nIs there any risk of this code not being exactly compatible with the libc/libstdc++ version the rest of the code is linked with? What if some of the implementation assumptions in std::list change?",
      "created_at" : "2014-04-11T10:52:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40191852",
      "id" : 40191852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T10:52:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40191852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "> Do any of the functions reimplemented by this patch actually get called from within Bitcoin? In particular, from within consensus-critical code?\r\n\r\nThat would be useful to investigate.\r\n\r\n> Is there any risk of this code not being exactly compatible with the libc/libstdc++ version the rest of the code is linked with? What if some of the implementation assumptions in std::list change?\r\n\r\nA significant change in assumptions would break the ABI. After all, the data structures in subsequent versions need to be binary-compatible: a large part of the C++ library consists of templates and headers which get included into the code. \r\n",
      "created_at" : "2014-04-11T11:07:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40192694",
      "id" : 40192694,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T11:07:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40192694",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "To be clear: I like this solution a lot, but I want to understand the risks.",
      "created_at" : "2014-04-11T11:42:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40194972",
      "id" : 40194972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T11:42:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40194972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4042#discussion_r11530150"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4042"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11530150"
         }
      },
      "body" : "That file and the above one don't seem to use our 4 spaces indentation rule.",
      "commit_id" : "05c20a553a12d03b1512a75973674c6d25534259",
      "created_at" : "2014-04-11T12:46:53Z",
      "diff_hunk" : "@@ -0,0 +1,80 @@\n+#include <cstddef>\n+#include <istream>\n+#include <stdexcept>\n+#include <typeinfo>\n+\n+#ifndef _GLIBCXX_USE_NOEXCEPT\n+    #define _GLIBCXX_USE_NOEXCEPT throw()\n+#endif\n+\n+namespace std {\n+\n+const char* bad_exception::what() const throw()\n+{\n+  return \"std::bad_exception\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#discussion_r11530150",
      "id" : 11530150,
      "original_commit_id" : "49a3352c1c05319c5fa22c4cb6819371d71de74d",
      "original_position" : 14,
      "path" : "src/compat/glibcxx_compat.cpp",
      "position" : 14,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4042",
      "updated_at" : "2014-04-11T22:59:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11530150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@sipa obviously memcpy does. But I think that one is pretty self-explanatory.\r\n\r\nAs for the c++ ones, they have a specific purpose, just that the definitions were moved from the header to the binary implementation. I think it's safe to say that the purpose of those functions won't change. The only danger I can imagine is that they could (for example) change the side-effects of an internal function that we call.\r\n\r\nFor example, imagine that we need to implement list::insert. We call some of their internal methods like operator[] and iterator++, then we change some internal variables. It's possible that in the future, they could change those variables in the internal functions, so that we've actually changed them twice.\r\n\r\nBut I don't think that's a very reasonable concern. If you look at what's actually implemented, you'll see that it's so low-level that there's really only one way to handle the function.\r\n\r\nAnyway, let's enumerate here so we can narrow down the concern:\r\n\r\n__fdelt_warn: Checks for overflows in FD_ functions. This can be hit (read: this forces a crash) on:\r\n```\r\nfd_set rfds;\r\nFD_ZERO(&rfds);\r\nFD_SET(FD_SETSIZE+1, &rfds); //BOOM!\r\n```\r\nI initially had a unit-test for this, but the problem is that we actually _want_ it to crash, and boost tests don't play nice with the idea of a program abort being a passing test. Plus, it spews a really nasty backtrace.\r\n\r\nbad_alloc/bad_cast/bad_exception:\r\nThese are cosmetic, used for debugging or logging. If they end up displaying new messages in the future, that's no problem. Anything comparing these strings would be horribly broken already.\r\n\r\n_List_node_base:\r\nThese are related to list->insert or so. They were broken out of the headers and moved into the binary implementation, I believe as part of the c++11 split. These were taken as obvious from upstream, and it's hard to imagine that their meanings could change.\r\n\r\nostream/istream templates: These just force on new templates that are declared 'extern template' in the headers. Seems strange that those worked without c++11 anway. gnu extension, i guess?\r\n\r\nout_of_range: This one I'll admit I don't know much about.\r\nI found that another project received permission to copy glibc's implementation verbatim, so I did the same.\r\n\r\nIf there's any interest in seeing what pulls in a symbol, you can trace it at link-time using -Wl,--trace-symbol.\r\n\r\nAlso, as to the concern about accidentally introducing new symbols, it would be very easy to teach pull-tester to check for that. Though, obviously, it'd need to be using the same libc/libstdc++ as the release compiler.",
      "created_at" : "2014-04-11T17:19:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40227607",
      "id" : 40227607,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T17:19:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40227607",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Also worth noting that we may be able to drop some of these (the what()s look like good candidates) with smarter linking. Namely -ffunctions-sections + -Wl,--gc-sections, or by enabling lto. Unfortunately, these would need to be used for all dependencies as well since we link statically, so they wouldn't be trivial to pull off.",
      "created_at" : "2014-04-11T17:24:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40228146",
      "id" : 40228146,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T17:24:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40228146",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@Diapolo old habit, will fix.",
      "created_at" : "2014-04-11T17:25:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40228193",
      "id" : 40228193,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T17:25:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40228193",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "One last point. The libstdc++ stubs shouldn't be called in older distros anyway. The fact that those symbols aren't present means that their libs don't expect those functions to exist.. they're routed elsewhere. They just need to be present to satisfy the runtime linker.\r\n\r\nPoint being that the testing of these needs to happen on _newer_ distros, rather than old. For old distros, pass/fail should pretty much cover it.",
      "created_at" : "2014-04-11T17:39:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40229555",
      "id" : 40229555,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T17:39:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40229555",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Err.. above, out-of-range is simple enough, I meant that I hadn't looked deeply into ctype<char>::_M_widen_init.",
      "created_at" : "2014-04-11T18:30:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40238511",
      "id" : 40238511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T18:30:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40238511",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "(last spam here, I'm just trying to hit all of this at once)\r\n\r\nSee here for the _M_widen_init move: http://gcc.gnu.org/git/?p=gcc.git;a=commitdiff;h=2dbdf201fad2ea4c13a4826e515dc76cb66f84dd\r\n\r\nlibstdc++ even implements it several times (eww). So the abi is pretty much locked in.",
      "created_at" : "2014-04-11T18:48:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40240291",
      "id" : 40240291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T18:48:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40240291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/05c20a553a12d03b1512a75973674c6d25534259 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-04-11T23:33:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40263532",
      "id" : 40263532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-11T23:33:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40263532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Compiling everything with -lto would be interesting. As we compile everything including the dependencies from source I expect that there would be quite some savings. On the other hand, the compile time and memory usage juggling all those symbols may make this infeasible. But it's good to keep in mind.\r\n\r\n> One last point. The libstdc++ stubs shouldn't be called in older distros anyway. The fact that those symbols aren't present means that their libs don't expect those functions to exis\r\n\r\nI don't understand this. If our executable uses libstdc++ functions that are not provided by the older libstdc++'s, I would suppose it will still use them on older distros. 'Their' libs don't expect the symbols to exist, but 'our' libs do. Or am I overlooking something?\r\n",
      "created_at" : "2014-04-12T09:11:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40275751",
      "id" : 40275751,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-12T09:12:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40275751",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj I had a long explanation written up before I realized that you were right and I was wrong :)\r\n\r\nYou're overlooking how the function is called, but in these cases, it doesn't matter. For example, _M_unhook() is called by _M_erase(). If _M_erase were present in the libstdc++ shared lib, it would call whichever unhook implementation was hard-coded into it. But, as far as I can see, all of our replaced functions are used by inlined callers, so the effect is that it always will use our stubs.\r\n\r\nYou do seem to have a misconception about how our code uses these stubs, though. Keep in mind that we don't include definitions for these functions. \"Our\" code never sees them or has any idea  that they exist. We just ends up getting routed to them from inside of libstdc++ at runtime.",
      "created_at" : "2014-04-12T15:19:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40283195",
      "id" : 40283195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-12T15:19:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40283195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@laanwj can this also be tested for debian 6 squeeze? this is what Tails is based on, which is the basis of my interest in this issue, since I want people to easily use Bitcoin Core with Tor.\r\n\r\nEdit: Here's the results of running the 32-bit binaries in the latest version of tails (0.23):\r\n...\r\namnesia@amnesia:~/bitcoin-f17e2c7-linux/bin/32$ ./bitcoin-qt\r\n./bitcoin-qt: symbol lookup error: ./bitcoin-qt: undefined symbol: _ZN19QAbstractProxyModel11setItemDataERK11QModelIndexRK4QMapIi8QVariantE\r\n...\r\namnesia@amnesia:~/bitcoin-f17e2c7-linux/bin/32$ ./test_bitcoin-qt\r\n./test_bitcoin-qt: symbol lookup error: ./test_bitcoin-qt: undefined symbol: _ZN9QLineEdit18setPlaceholderTextERK7QString\r\n\r\n\r\nFull output here:\r\nhttp://paste.ubuntu.com/7247453/",
      "created_at" : "2014-04-14T00:06:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40324470",
      "id" : 40324470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-14T00:20:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40324470",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7227529?v=3",
         "events_url" : "https://api.github.com/users/kristovatlas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kristovatlas/followers",
         "following_url" : "https://api.github.com/users/kristovatlas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kristovatlas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kristovatlas",
         "id" : 7227529,
         "login" : "kristovatlas",
         "organizations_url" : "https://api.github.com/users/kristovatlas/orgs",
         "received_events_url" : "https://api.github.com/users/kristovatlas/received_events",
         "repos_url" : "https://api.github.com/users/kristovatlas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kristovatlas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kristovatlas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kristovatlas"
      }
   },
   {
      "body" : "@kristovatlas Thanks for testing. Looks like qt drags in some other symbols. I'll take a look.\r\n\r\nAnd yes, Debian stable is my primary motivation.\r\n\r\nEdit: Mm, I misread you. Squeeze is a target too, though.",
      "created_at" : "2014-04-14T01:06:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40326155",
      "id" : 40326155,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-14T01:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40326155",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Ok, those are coming from Qt itself.\r\n\r\n@laanwj Why are we using shared qt?",
      "created_at" : "2014-04-14T01:23:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40326639",
      "id" : 40326639,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-14T01:23:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40326639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni Statically linking Qt on Linux sucks. If you don't use the system's Qt, you'll lose system-specific theming and plugins (ubuntu appmenu integration, etc). Also, statically linking all the dependencies of Qt (such as X11 libs, possibly OpenGL) is a horrible mess in general.\r\n\r\nHow can this be a problem here? The system's Qt should not use any symbols that are not in the system's glibc.",
      "created_at" : "2014-04-14T05:09:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40333638",
      "id" : 40333638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-14T05:10:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40333638",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj I'll reserve judgement on the Qt static link since I haven't looked into it before for Linux. I'll take your word for it, but I'm curious so I'll research a bit. Qt (qt5 at least) dyloads GL and friends via plugins, specifically to avoid compile-time dependencies. It may be worth looking into using qt5 for that reason.\r\n\r\nThose aren't missing glibc symbols, they're missing qt symbols. The build-side qt is newer than Squeeze's, so it's missing some new functionality. To be more specific, Precise links against qt 4.8, Squeeze uses 4.6.",
      "created_at" : "2014-04-14T05:19:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40333946",
      "id" : 40333946,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-14T05:19:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40333946",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Last time I tried it was a mess, but you're welcome to try.\r\n",
      "created_at" : "2014-04-14T05:22:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40334042",
      "id" : 40334042,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-14T05:22:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40334042",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> To be more specific, Precise links against qt 4.8, Squeeze uses 4.6.\r\n\r\nIf this is the case, then this would not be a regression from the lucid-based gitian builds of Bitcoin 0.8.x.  We should not attempt to support things that old.\r\n\r\nIsn't Debian stable now 7 or Wheezy?",
      "created_at" : "2014-04-14T09:35:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40348133",
      "id" : 40348133,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-14T09:35:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40348133",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "body" : "@wtogami Debian stable is currently 7/Wheezy and qt is 4.8.  The strangest build requirement for bitcoin on Debian 7 is that we have to forward port/pull db4.8 from Debian 6/Squeeze/oldstable as db5.1 is the default on 7.",
      "created_at" : "2014-04-15T02:09:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40438740",
      "id" : 40438740,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-15T02:09:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40438740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/168584?v=3",
         "events_url" : "https://api.github.com/users/quel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/quel/followers",
         "following_url" : "https://api.github.com/users/quel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/quel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/quel",
         "id" : 168584,
         "login" : "quel",
         "organizations_url" : "https://api.github.com/users/quel/orgs",
         "received_events_url" : "https://api.github.com/users/quel/received_events",
         "repos_url" : "https://api.github.com/users/quel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/quel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/quel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/quel"
      }
   },
   {
      "body" : "@quel This statement of fact has nothing to do with the gitian binary.",
      "created_at" : "2014-04-15T02:12:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40438920",
      "id" : 40438920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-15T02:12:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40438920",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "body" : "@wtogami I will test the gitian binary on Debian 6 and 7 if I can ever pull it.  I'm averaging 15KB/s.",
      "created_at" : "2014-04-15T02:19:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40439234",
      "id" : 40439234,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-15T02:19:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40439234",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/168584?v=3",
         "events_url" : "https://api.github.com/users/quel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/quel/followers",
         "following_url" : "https://api.github.com/users/quel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/quel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/quel",
         "id" : 168584,
         "login" : "quel",
         "organizations_url" : "https://api.github.com/users/quel/orgs",
         "received_events_url" : "https://api.github.com/users/quel/received_events",
         "repos_url" : "https://api.github.com/users/quel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/quel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/quel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/quel"
      }
   },
   {
      "body" : "@wtogami https://download.visucore.com/bitcoin/bitcoin-f17e2c7-linux.tar.gz with gpg signature verified on Deiban 7.4, x86_64, running bin/64 for bitcoind, bitcoin-cli, and bitcoin-qt run for me without errors.  That tar.gz appears to be dated 2014-04-10 08:22:55.  Additionally, on a 64-bit platform running the 32-bit binaries works without issue as well.  Besides click testing and basic cli testing, it is in no way exhaustive.  I am happy to attach ldds, logs, or test additional builds.",
      "created_at" : "2014-04-15T03:02:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40441214",
      "id" : 40441214,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-15T03:02:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40441214",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/168584?v=3",
         "events_url" : "https://api.github.com/users/quel/events{/privacy}",
         "followers_url" : "https://api.github.com/users/quel/followers",
         "following_url" : "https://api.github.com/users/quel/following{/other_user}",
         "gists_url" : "https://api.github.com/users/quel/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/quel",
         "id" : 168584,
         "login" : "quel",
         "organizations_url" : "https://api.github.com/users/quel/orgs",
         "received_events_url" : "https://api.github.com/users/quel/received_events",
         "repos_url" : "https://api.github.com/users/quel/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/quel/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/quel/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/quel"
      }
   },
   {
      "body" : "@theuni Anything else in particular do you think needs testing before merge?",
      "created_at" : "2014-04-17T21:15:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40763765",
      "id" : 40763765,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-17T21:15:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40763765",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "body" : "@wtogami For the most part, I think these are pretty much all or nothing. If bitcoind starts up successfully and runs for a few seconds, I don't believe any problems would be likely to surface afterward.\r\n\r\nIf anyone is uncomfortable with that response, I can look into adding some tests, but they're low level enough that the tests would be something like:\r\n```\r\nstd::list<int> foo, bar;\r\nfoo.push_back(1); foo.push_back(2); foo.pop_back();\r\nbar.push_back(1); bar.push_back(2); bar.pop_back();\r\nassert(foo == bar);\r\n```\r\nPoint being that if that failed, it'd be pretty obvious even without the test.\r\n\r\nEssentially, we just need to decide if this is the favored approach, and if so, set some sort of policy to deal with changes in the future.",
      "created_at" : "2014-04-18T00:00:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40775770",
      "id" : 40775770,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-18T00:00:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40775770",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@theuni It would be nice to have at least tests that (indirectly) make use of the more complex functions in the compat/ files, like those in list_node and ctype<char>::_M_widen_init(). \r\nI don't care so much about all the errors, exceptions variants.\r\n\r\nAs for policy, we want to stay compatible with:\r\n\r\n- GLIBC_2.13+\r\n- GLIBCXX_3.4+\r\n\r\nRight? Let's write these things down and put them in some document under doc/...\r\n",
      "created_at" : "2014-04-18T07:23:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40792035",
      "id" : 40792035,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-18T07:23:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40792035",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj See my comment above about the low-level-ness of these functions. The example above wasn't abstract, that would be the actual test-case for list_node.\r\n\r\nAs for _M_widen_init(), this is all it takes is this to bring it in:\r\n```c++\r\n#include <iostream>\r\nint main()\r\n{\r\n  for(int i=0; i != 2; i++)\r\n    std::cout << std::endl;\r\n}\r\n```\r\nYou can verify that by doing a quick compile and grep:\r\n```bash\r\ncory@cory-i7:~/dev/bitcoin/src(libc-compat)$ g++ test.cpp -O1 -o test && objdump -TC test | grep _M_widen_init\r\n0000000000000000      DF *UND*\t0000000000000000  GLIBCXX_3.4.11 std::ctype<char>::_M_widen_init() const\r\n```\r\n\r\nSo cout (among many other things) would be broken with a borked version of that function. I'm not sure there's really anything to test for that wouldn't be 100% obvious in the resulting binary.\r\n\r\nI'm not trying to be difficult on this, I hope it doesn't seem that way. But since we've lifted the definitions of these from upstream, it really does seem (to me, anyway) to be all or nothing.\r\n\r\nAny suggestions for alternate tests, or alternative ways of testing?",
      "created_at" : "2014-04-18T08:22:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40794642",
      "id" : 40794642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-18T08:22:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40794642",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Low level is fine. If no difficult contortions are needed to bring the symbols in and test them, then that's all the better. Let's add those two examples that you give as sanity tests (maybe use std::iostream instead of std::cout so that no standard output is generated).\r\n",
      "created_at" : "2014-04-18T09:56:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40799123",
      "id" : 40799123,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-18T09:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40799123",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Lucid is glibc-2.11\r\nRHEL6 is glibc-2.12",
      "created_at" : "2014-04-18T21:11:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40844942",
      "id" : 40844942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-18T21:11:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40844942",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   },
   {
      "body" : "I wonder whether we want something like a start-up test at runtime, rather than unit tests (which wouldn't catch being loaded with an incompatible dynamic library).\r\n\r\nIt could also do something like a basic (and very short) memory test, or computing some EC identity to check verification correctness. On the other hand, systems that are sufficiently broken to be detected using a subsecond test likely wouldn't even boot...\r\n\r\n@theuni How much work/code do you think supporting 2.11 or 2.12 would be extra? Seems it would be very valuable if this can be extended, but of course... extra work and extra code to maintained.",
      "created_at" : "2014-04-18T21:46:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40847318",
      "id" : 40847318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-18T21:46:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40847318",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa: This is compatible back to glibc 2.9 and libstdc++ 3.4. Qt is a different story though, I'm afraid, see the discussion above.\r\n\r\nI agree that a startup check would be better. I still can't really wrap my head around what a unit-test would actually be able to verify.\r\n\r\nBasically every operation at startup would depend on these in some way, so I agree that it likely wouldn't get as far as running anyway. But it couldn't hurt to do a few quick A==A checks explicitly before anything else, rather than possibly racing with sensitive code.",
      "created_at" : "2014-04-18T21:52:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40847793",
      "id" : 40847793,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-18T21:52:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40847793",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "@sipa Good idea on a start-up sanity check.\r\n\r\n@theuni Ok let's make the policy then:\r\n- GLIBC_2.11+\r\n- GLIBCXX_3.4+\r\n\r\nWe could even add a script that automatically checks the post-gitian executables if 'forbidden' symbols have been used, hence the compat/ wrappers needs updating.\r\n\r\nI don't care about Qt there but only bitcoind/bitcoin-cli. The older stable distributions are almost exclusively used on headless servers.\r\n",
      "created_at" : "2014-04-19T06:57:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-40862697",
      "id" : 40862697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-19T06:59:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40862697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@sipa ACK on the startup built in self-tests, the fact that e.g. on current fedora the fact that secp256k1 isn't supported in openssl is only 'detected' by a failed assertion deep inside key.cpp when other things run is somewhat concerning to me... but doesn't need to be part of this pull.",
      "created_at" : "2014-04-22T07:43:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-41012112",
      "id" : 41012112,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-22T07:43:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/41012112",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "+1 to doing sanity checks as the next PR.  This current PR is ready for merge.\r\n\r\nACK",
      "created_at" : "2014-04-22T14:22:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4042#issuecomment-41045345",
      "id" : 41045345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4042",
      "updated_at" : "2014-04-22T14:22:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/41045345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/93665?v=3",
         "events_url" : "https://api.github.com/users/wtogami/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wtogami/followers",
         "following_url" : "https://api.github.com/users/wtogami/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wtogami/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wtogami",
         "id" : 93665,
         "login" : "wtogami",
         "organizations_url" : "https://api.github.com/users/wtogami/orgs",
         "received_events_url" : "https://api.github.com/users/wtogami/received_events",
         "repos_url" : "https://api.github.com/users/wtogami/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wtogami/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wtogami"
      }
   }
]
