{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "2 changes to better support building with GCC 12.\r\nPrevent `-Warray-bounds` errors when building libxkbcommon. i.e:\r\n```bash\r\nsrc/xkbcomp/ast-build.c:82:27: error: array subscript 'ExprDef[0]' is partly outside array bounds of 'unsigned char[32]' [-Werror=array-bounds]\r\n   82 |     expr->expr.value_type = type;\r\n      |     ~~~~~~~~~~~~~~~~~~~~~~^~~~~~\r\nsrc/xkbcomp/ast-build.c:75:21: note: object of size 32 allocated by 'malloc'\r\n   75 |     ExprDef *expr = malloc(size);\r\n      |                     ^~~~~~~~~~~~\r\n```\r\n\r\nIt might be the case that these would be fixed by updating the\r\npackage, but that would also require installing new build tools (meson),\r\nas well as potentially more dependencies (wayland), and it'd need\r\ntesting with Qt. For now, just turn the errors into wanrings.\r\n\r\nDefine `BOOST_NO_CXX98_FUNCTION_BASE` to prevent GCC warning about the use of `std::unary_function`. i.e:\r\n```bash\r\n/bitcoin/depends/aarch64-unknown-linux-gnu/include/boost/container_hash/hash.hpp:131:33:\r\nwarning: 'template<class _Arg, class _Result> struct std::unary_function' is deprecated [-Wdeprecated-declarations]\r\n  131 |         struct hash_base : std::unary_function<T, std::size_t> {};\r\n      |                                 ^~~~~~~~~~~~~~\r\nIn file included from /usr/include/c++/12/bits/unique_ptr.h:37,\r\n                 from /usr/include/c++/12/memory:76,\r\n                 from ./init.h:10,\r\n                 from init.cpp:10:\r\n/usr/include/c++/12/bits/stl_function.h:117:12: note: declared here\r\n  117 |     struct unary_function\r\n```\r\n\r\nBoost `container_hash` (included via functional -> multi_index) uses\r\n[`std::unary_function`, which was deprecated in C++11](https://en.cppreference.com/w/cpp/utility/functional/unary_function), and \"removed\" in\r\nC++17. It's use causes warnings with newer compilers, i.e GCC 12.1.\r\n\r\nUse the MACRO outlined in https://github.com/boostorg/container_hash/issues/22, and added to Boost Config for GCC 12 in https://github.com/boostorg/config/pull/430, to prevent it's use.\r\n\r\n[BOOST_NO_CXX98_FUNCTION_BASE](https://www.boost.org/doc/libs/master/libs/config/doc/html/boost_config/boost_macro_reference.html):\r\n> The standard library no longer supports std::unary_function and std::binary_function.\r\n> They were deprecated in C++11 and is removed from C++14.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25436/comments",
   "created_at" : "2022-06-21T10:05:31Z",
   "draft" : false,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25436/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/25436",
   "id" : 1278209231,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      },
      {
         "color" : "bfd4f2",
         "default" : false,
         "description" : "",
         "id" : 1947349437,
         "name" : "DrahtBot Guix build requested",
         "node_id" : "MDU6TGFiZWwxOTQ3MzQ5NDM3",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/DrahtBot%20Guix%20build%20requested"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25436/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII5846BF5v",
   "number" : 25436,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/25436.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25436",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/25436.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25436"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25436/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25436/timeline",
   "title" : "build: GCC-12 build improvements",
   "updated_at" : "2022-06-21T10:05:31Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25436",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
