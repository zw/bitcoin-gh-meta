[
   {
      "body" : "Can you explain what actions you expect implementations to take in response to a block rejection message?",
      "created_at" : "2013-10-31T14:06:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27488114",
      "id" : 27488114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-10-31T14:06:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27488114",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd: once an implementation is mature, I expect it would do nothing in response to a block rejection message, because false-positives (attackers being annoying) will be more common than true positives.\r\n\r\nWhile an implementation is being developed, I expect the developers will investigate every rejection message.\r\n\r\nI thought I was pretty clear in the gist that is the purpose of this message:\r\n\r\n\"In short, giving peers feedback about why their blocks or transactions are dropped or why they are being banned should help interoperability between different implementations\"\r\n",
      "created_at" : "2013-10-31T21:22:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27530058",
      "id" : 27530058,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-10-31T21:22:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27530058",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Looks good to me. Thanks for doing this.",
      "created_at" : "2013-11-01T14:25:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27568931",
      "id" : 27568931,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T14:25:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27568931",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Looks easy to fill up the disk with a stream of remote 'reject' messages.\r\n",
      "created_at" : "2013-11-01T14:28:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27569097",
      "id" : 27569097,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T14:28:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27569097",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "If you're thinking of logs, they're rotated anyway, I thought (or could be). Anyway making log rotation work nicely is an unrelated change.",
      "created_at" : "2013-11-01T14:40:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27570084",
      "id" : 27570084,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T14:40:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27570084",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "That's a dodge.  There's no rate limiting, you're still streaming from remote -> local disk.\r\n",
      "created_at" : "2013-11-01T15:03:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27571797",
      "id" : 27571797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T15:03:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27571797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@gavinandresen Right, so you're basically saying block rejection messages could be useful for an alt-implementation that's being used for mining. We know that the state of computer science isn't close to the point where we can do that safely; I personally a half-dozen forking bugs across a few alt-implementations the other week after an hour or two of work spent auditing them. We don't want to encourage that, and giving them handy rejection messages does.\r\n\r\nWhen it comes to blocks, the only useful feedback you can give them is \"stop doing that\". We don't need rejection messages for that; blocks get orphaned says that just fine already.",
      "created_at" : "2013-11-01T15:07:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27572075",
      "id" : 27572075,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T15:07:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27572075",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@jgarzik Looks to me like you could dump a 32MiB rejection message into your remotes logs, and what's worse is that I don't see anything stopping you from making fake logs by putting newlines in that rejection message. Ugh.",
      "created_at" : "2013-11-01T15:09:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27572266",
      "id" : 27572266,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T15:09:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27572266",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@jgarzik It's not a dodge. You can fill up the logs just by connecting repeatedly as well, or sending messages that cause a Misbehaving(0) to be hit, or lots of other things. That's just not something that's currently in our threat model. If you want to strengthen the bitcoind threat model to include \"attacker filling up logs\" then go ahead and do that on a new set of changes. It's just irrelevant to this change. But I'd suggest working on the more problematic DoS attacks first.\r\n\r\nBeing able to make fake logs is perhaps more of an issue, but that can be resolved just by forbidding newline characters (or heck, spaces) in the messages.",
      "created_at" : "2013-11-01T15:11:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27572417",
      "id" : 27572417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T15:11:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27572417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn @gavinandresen Should be forbidding anything non-ascii-standard, newline and carriage return, and limit messages to, say, 256 characters. (we did something similar with alert messages right?)",
      "created_at" : "2013-11-01T15:21:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27573153",
      "id" : 27573153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T15:21:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27573153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@jgarzik @petertodd : Reject messages are only logged if you are running -debug=net  (or -debug which means \"everything\"). I am assuming that you will only run -debug=net when you are, you know, debugging, and probably controlling who you are connecting to.\r\n\r\nI'll add a \"print out only the first 111 bytes\", that should be sufficient belt-and-suspenders.",
      "created_at" : "2013-11-01T18:34:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27589382",
      "id" : 27589382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T18:34:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27589382",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen I run all my nodes with -debug=net all the time so that if something odd happens with the network  (e.g. the chain fork) I can debug it; I've got stacks of disk space and io bandwidth. Filtering out garbage, especially newlines, is an absolute must.\r\n\r\nAlso, still NACK on block messages.",
      "created_at" : "2013-11-01T18:47:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27590628",
      "id" : 27590628,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T18:47:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27590628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd:  duly noted.\r\n\r\nEverybody else:  any objections?  If pull tester is happy, I'm going to pull.\r\n",
      "created_at" : "2013-11-01T18:53:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27591220",
      "id" : 27591220,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T18:53:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27591220",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "We probably shouldn't allow control characters in printfs from the network. I don't believe we do anywhere else (and I'd looked some back when the OSX unicode crasher happened). Beyond log entry emulation free access lets you trash peoples' terminals.\r\n\r\nRunning the text through a URL encode would probably be a trivial way to avoid trouble.",
      "created_at" : "2013-11-01T19:12:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27592756",
      "id" : 27592756,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T19:12:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27592756",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@gmaxwell : good point RE: -printtoconsole.\r\n\r\nTwo commits now-- the first refactors the code we have in alert for sanitizing a string into a util.h SanitizeString method. Please don't suggest super-optimizing it with a lookup table, this is not performance-critical code.\r\n\r\nThe second limits the text printed to debug.log if -debug or -debug=net to 111 safe characters.\r\n\r\n@petertodd : I'd get less annoyed if you made helpful observations like \"don't we do something like that processing alerts...\" up front. Maybe it is just me, but I constantly get the feeling you are trying to torpedo other people's ideas instead of trying to work together to be helpful.",
      "created_at" : "2013-11-01T19:35:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27594574",
      "id" : 27594574,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T19:35:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27594574",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen I hadn't read the code until today.\r\n\r\nAlso, limit the string to 111 characters first, then sanitize it.",
      "created_at" : "2013-11-01T19:38:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27594805",
      "id" : 27594805,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T19:38:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27594805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379615"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379615"
         }
      },
      "body" : "I dislike having codes in the protocol that correspond to implementation-specific details (nonstandard, dust, insufficient fee, and checkpoint). I'd prefer just encoding the class of problem (p2p protocol violatiom, network rule violation, local client policy) in the code, and use the message to further describe as necessary. Otherwise we'll end up with many extensions over time, and obsolete codes.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T19:47:20Z",
      "diff_hunk" : "@@ -63,6 +63,16 @@\n static const int fHaveUPnP = false;\n #endif\n \n+/** \"reject\" message codes **/\n+static const unsigned char REJECT_MALFORMED = 0x01;\n+static const unsigned char REJECT_INVALID = 0x10;\n+static const unsigned char REJECT_OBSOLETE = 0x11;\n+static const unsigned char REJECT_DUPLICATE = 0x12;\n+static const unsigned char REJECT_NONSTANDARD = 0x40;\n+static const unsigned char REJECT_DUST = 0x41;\n+static const unsigned char REJECT_INSUFFICIENTFEE = 0x42;\n+static const unsigned char REJECT_CHECKPOINT = 0x43;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379615",
      "id" : 7379615,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 12,
      "path" : "src/main.h",
      "position" : 12,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379631"
         }
      },
      "body" : "Why just the inv.hash, and not the whole actual inv?",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T19:47:57Z",
      "diff_hunk" : "@@ -3723,8 +3772,12 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n             mapAlreadyAskedFor.erase(inv);\n         int nDoS = 0;\n         if (state.IsInvalid(nDoS))\n+        {\n+            pfrom->PushMessage(\"reject\", strCommand, state.GetRejectCode(),\n+                               state.GetRejectReason(), inv.hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379631",
      "id" : 7379631,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 398,
      "path" : "src/main.cpp",
      "position" : 382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379673"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379673"
         }
      },
      "body" : "Adding a new P2P message certainly warrants a PROTOCOL_VERSION bump and a corresponding BIP.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T19:49:33Z",
      "diff_hunk" : "@@ -3918,6 +3971,29 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    else if (strCommand == \"reject\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379673",
      "id" : 7379673,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 409,
      "path" : "src/main.cpp",
      "position" : 406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379822"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379822"
         }
      },
      "body" : "Happy to write a BIP after we're sure we're happy with how it is working.\r\n\r\nPROTOCOL_VERSION bump: disagree:\r\n\r\n\"Sending \"reject\" messages to old nodes does no harm-- unknown commands are ignored for extensibility (in the reference implementation, at least-- other implementations should do the same). So there is no need to bump the protocol version.\"\r\n\r\n... but don't really care and will sway to consensus.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T19:54:29Z",
      "diff_hunk" : "@@ -3918,6 +3971,29 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    else if (strCommand == \"reject\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379822",
      "id" : 7379822,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 409,
      "path" : "src/main.cpp",
      "position" : 406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379822",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379835"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379835"
         }
      },
      "body" : "It seems REJECT_OBSOLETE can both be used for an obsolete P2P protocol number, and an obsolete block version.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T19:54:58Z",
      "diff_hunk" : "@@ -63,6 +63,16 @@\n static const int fHaveUPnP = false;\n #endif\n \n+/** \"reject\" message codes **/\n+static const unsigned char REJECT_MALFORMED = 0x01;\n+static const unsigned char REJECT_INVALID = 0x10;\n+static const unsigned char REJECT_OBSOLETE = 0x11;\n+static const unsigned char REJECT_DUPLICATE = 0x12;\n+static const unsigned char REJECT_NONSTANDARD = 0x40;\n+static const unsigned char REJECT_DUST = 0x41;\n+static const unsigned char REJECT_INSUFFICIENTFEE = 0x42;\n+static const unsigned char REJECT_CHECKPOINT = 0x43;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379835",
      "id" : 7379835,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 12,
      "path" : "src/main.h",
      "position" : 12,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379835",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379953"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379953"
         }
      },
      "body" : "Because the only thing serializing a CInv would add would be the MSG_TX byte, and strCommand already encodes that information.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T19:59:15Z",
      "diff_hunk" : "@@ -3723,8 +3772,12 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n             mapAlreadyAskedFor.erase(inv);\n         int nDoS = 0;\n         if (state.IsInvalid(nDoS))\n+        {\n+            pfrom->PushMessage(\"reject\", strCommand, state.GetRejectCode(),\n+                               state.GetRejectReason(), inv.hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7379953",
      "id" : 7379953,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 398,
      "path" : "src/main.cpp",
      "position" : 382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7379953",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380006"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380006"
         }
      },
      "body" : "Yes, REJECT_OBSOLETE can be used for both.  You get \"reject\" \"block\" OBSOLETE or \"reject\" \"version\" OBSOLETE.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T20:01:43Z",
      "diff_hunk" : "@@ -63,6 +63,16 @@\n static const int fHaveUPnP = false;\n #endif\n \n+/** \"reject\" message codes **/\n+static const unsigned char REJECT_MALFORMED = 0x01;\n+static const unsigned char REJECT_INVALID = 0x10;\n+static const unsigned char REJECT_OBSOLETE = 0x11;\n+static const unsigned char REJECT_DUPLICATE = 0x12;\n+static const unsigned char REJECT_NONSTANDARD = 0x40;\n+static const unsigned char REJECT_DUST = 0x41;\n+static const unsigned char REJECT_INSUFFICIENTFEE = 0x42;\n+static const unsigned char REJECT_CHECKPOINT = 0x43;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380006",
      "id" : 7380006,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 12,
      "path" : "src/main.h",
      "position" : 12,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380006",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380078"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380078"
         }
      },
      "body" : "RE: encoding class and letting the string encode the detail:\r\n\r\nMeh.  Either we'll get obsolete codes or we'll have peers trying to parse strings to figure out if their transactions are rejected because they don't have enough fees or because they have a dusty output.\r\n\r\nI vote for obsolete codes as the lesser of the two evils.\r\n",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T20:05:10Z",
      "diff_hunk" : "@@ -63,6 +63,16 @@\n static const int fHaveUPnP = false;\n #endif\n \n+/** \"reject\" message codes **/\n+static const unsigned char REJECT_MALFORMED = 0x01;\n+static const unsigned char REJECT_INVALID = 0x10;\n+static const unsigned char REJECT_OBSOLETE = 0x11;\n+static const unsigned char REJECT_DUPLICATE = 0x12;\n+static const unsigned char REJECT_NONSTANDARD = 0x40;\n+static const unsigned char REJECT_DUST = 0x41;\n+static const unsigned char REJECT_INSUFFICIENTFEE = 0x42;\n+static const unsigned char REJECT_CHECKPOINT = 0x43;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380078",
      "id" : 7380078,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 12,
      "path" : "src/main.h",
      "position" : 12,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380078",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380099"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380099"
         }
      },
      "body" : "I would certainly not confuse a protocol problem with a consensus rule violation.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T20:05:58Z",
      "diff_hunk" : "@@ -63,6 +63,16 @@\n static const int fHaveUPnP = false;\n #endif\n \n+/** \"reject\" message codes **/\n+static const unsigned char REJECT_MALFORMED = 0x01;\n+static const unsigned char REJECT_INVALID = 0x10;\n+static const unsigned char REJECT_OBSOLETE = 0x11;\n+static const unsigned char REJECT_DUPLICATE = 0x12;\n+static const unsigned char REJECT_NONSTANDARD = 0x40;\n+static const unsigned char REJECT_DUST = 0x41;\n+static const unsigned char REJECT_INSUFFICIENTFEE = 0x42;\n+static const unsigned char REJECT_CHECKPOINT = 0x43;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380099",
      "id" : 7380099,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 12,
      "path" : "src/main.h",
      "position" : 12,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380099",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380150"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380150"
         }
      },
      "body" : "But it can come as a response to both a transaction or a block, and we identify relayed objects by their CInv.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T20:08:46Z",
      "diff_hunk" : "@@ -3723,8 +3772,12 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n             mapAlreadyAskedFor.erase(inv);\n         int nDoS = 0;\n         if (state.IsInvalid(nDoS))\n+        {\n+            pfrom->PushMessage(\"reject\", strCommand, state.GetRejectCode(),\n+                               state.GetRejectReason(), inv.hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380150",
      "id" : 7380150,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 398,
      "path" : "src/main.cpp",
      "position" : 382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380162"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380162"
         }
      },
      "body" : "Increasing the protocol version is easy and cheap, and it allows discovery of nodes with certain features.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T20:09:26Z",
      "diff_hunk" : "@@ -3918,6 +3971,29 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    else if (strCommand == \"reject\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380162",
      "id" : 7380162,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 409,
      "path" : "src/main.cpp",
      "position" : 406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380162",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380280"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380280"
         }
      },
      "body" : "Sorry, I completely missed the strCommand. Ignore my comment.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T20:15:07Z",
      "diff_hunk" : "@@ -3723,8 +3772,12 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n             mapAlreadyAskedFor.erase(inv);\n         int nDoS = 0;\n         if (state.IsInvalid(nDoS))\n+        {\n+            pfrom->PushMessage(\"reject\", strCommand, state.GetRejectCode(),\n+                               state.GetRejectReason(), inv.hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380280",
      "id" : 7380280,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 398,
      "path" : "src/main.cpp",
      "position" : 382,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380280",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380292"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380292"
         }
      },
      "body" : "@mikehearn Do you see bitcoinj actually trying to find nodes that support rejection messages and connect to them preferentially?",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-01T20:15:25Z",
      "diff_hunk" : "@@ -3918,6 +3971,29 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    else if (strCommand == \"reject\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7380292",
      "id" : 7380292,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 409,
      "path" : "src/main.cpp",
      "position" : 406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7380292",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@jgarzik @sipa : I think I've addressed all your concerns, I'd really like to move on to bigger and better things (almost have a relay-first-doublespend pull ready), can I get \"good enough to pull\" ACKs ?",
      "created_at" : "2013-11-01T20:16:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27597490",
      "id" : 27597490,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-01T20:16:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27597490",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7387943"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7387943"
         }
      },
      "body" : "Seeking them out, not right now. Preferring them for tx broadcast vs monitoring, yes. But I vote for a bump anyway - if you know you can expect a reject message in case of a problem, then you can use that to improve the user experience by eliminating arbitrary timeouts and giving the user instant feedback if there was a problem. So we can plumb it through to the UI layers.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-02T16:18:28Z",
      "diff_hunk" : "@@ -3918,6 +3971,29 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    else if (strCommand == \"reject\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7387943",
      "id" : 7387943,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 409,
      "path" : "src/main.cpp",
      "position" : 406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7387943",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7389268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7389268"
         }
      },
      "body" : "@mikehearn Sounds pretty reasonable to me.\r\n\r\nI vote for a bump too - use 70002 and I'll update the NODE_BLOOM patch to 70003.",
      "commit_id" : "69aada346f74c978b5d8be59a5d7c79be966ef8c",
      "created_at" : "2013-11-03T00:35:08Z",
      "diff_hunk" : "@@ -3918,6 +3971,29 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    else if (strCommand == \"reject\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#discussion_r7389268",
      "id" : 7389268,
      "original_commit_id" : "6e5fe78b093022fefc29cf1f985e09d1b27665af",
      "original_position" : 409,
      "path" : "src/main.cpp",
      "position" : 406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3185",
      "updated_at" : "2013-11-11T00:33:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/7389268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Rebased to fix conflicts with mempool refactor.\r\n\r\nFixed the alert unit tests so bumping protocol version doesn't make them break any more, and bumped the protocol version to 70002.\r\n",
      "created_at" : "2013-11-04T04:21:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27664061",
      "id" : 27664061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-04T04:21:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27664061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "ACK\n\nImplementation nit: in all call sites the reject reason message is kind of\nduplicated in the logged error message, the the point of both simply being\nreworded versions of each other. It may make sense to reuse the same\nmessage except where two different messages are really needed (ie for\nprivacy/security concerns).",
      "created_at" : "2013-11-04T10:06:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27674594",
      "id" : 27674594,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-04T10:06:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27674594",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Looks good to me",
      "created_at" : "2013-11-04T10:18:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27675171",
      "id" : 27675171,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-04T10:18:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27675171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@laanwj I thought the same, many strings seem just to be small modifications and tend to be dups even in some cases.",
      "created_at" : "2013-11-04T11:39:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-27679329",
      "id" : 27679329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-04T11:39:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/27679329",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "Rebased.\r\n\r\nRE: duplicating strings for debug.log and the reject message:  I decided a fix would be worth than the disease.\r\n\r\nCan't resist:  \"A foolish consistency is the hobgoblin of little minds, adored by little statesmen and philosophers and divines.\" -- Ralph Waldo Emerson\r\n",
      "created_at" : "2013-11-11T00:36:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-28165720",
      "id" : 28165720,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-11T00:36:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28165720",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/69aada346f74c978b5d8be59a5d7c79be966ef8c for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-11-11T00:54:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-28166122",
      "id" : 28166122,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-11T00:54:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28166122",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "@gavinandresen right, if it were translated messages it'd be different\r\n",
      "created_at" : "2013-11-11T06:58:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3185#issuecomment-28178040",
      "id" : 28178040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3185",
      "updated_at" : "2013-11-11T06:58:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/28178040",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
