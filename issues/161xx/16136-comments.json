[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "If you're running the CHECK no matter what, could consider making the failure configurable at runtime (could default to not abort on mainnet, but to abort on testnet/regtest maybe?). Something like:\r\n\r\n    do {\r\n         if (g_abort_on_check_fail) {\r\n              fprintf(stderr, ...); std::abort();\r\n         } else {\r\n              LogPrintf(...);\r\n         }\r\n    } while(0)",
      "created_at" : "2019-06-03T01:40:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-498086171",
      "id" : 498086171,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5ODA4NjE3MQ==",
      "updated_at" : "2019-06-03T01:40:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/498086171",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ajtowns I like the idea of making the default depend on the network. I'll let others chime in regarding how to choose the defaults and how to override it and then update based on the feedback :-)",
      "created_at" : "2019-06-03T07:23:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-498142949",
      "id" : 498142949,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5ODE0Mjk0OQ==",
      "updated_at" : "2019-06-03T07:23:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/498142949",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK -- I often want something that's like an assert but wouldn't cause cascading failure on the network if I'm wrong.",
      "created_at" : "2019-06-06T15:51:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-499554853",
      "id" : 499554853,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5OTU1NDg1Mw==",
      "updated_at" : "2019-06-06T15:51:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/499554853",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, but I also really like the idea of LogPrinting these (either no matter what or at least if some level of debug logging is on).   Part of the benefit would be in catching rare conditions that might not occur in regular testing but would show up occasionally among thousands of real world users.  The LogPrint could direct the user to report the error on GitHub.",
      "created_at" : "2019-06-07T12:17:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-499862751",
      "id" : 499862751,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5OTg2Mjc1MQ==",
      "updated_at" : "2019-06-07T12:17:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/499862751",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/4360349?v=4",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "node_id" : "MDQ6VXNlcjQzNjAzNDk=",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The link could even prefill all the additional debug information. E.g. https://github.com/bitcoin/bitcoin/issues/new?title=file_name.cpp:LINE_NR%20CHECK%20failed%20bla&body=more%20bla",
      "created_at" : "2019-06-07T12:31:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-499866876",
      "id" : 499866876,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ5OTg2Njg3Ng==",
      "updated_at" : "2019-06-07T12:31:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/499866876",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2019-06-10T02:27:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-500271507",
      "id" : 500271507,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMDI3MTUwNw==",
      "updated_at" : "2019-06-10T02:27:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/500271507",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293458154"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293458154"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Looks like you are using this wrong. This should be an assert, since it is dereferenced later on.",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T16:03:52Z",
      "diff_hunk" : "@@ -1691,6 +1692,7 @@ bool static ProcessHeadersMessage(CNode *pfrom, CConnman *connman, const std::ve\n                 }\n                 pindexWalk = pindexWalk->pprev;\n             }\n+            CHECK(pindexWalk);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293458154",
      "id" : 293458154,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzQ1ODE1NA==",
      "original_commit_id" : "d720388339dba45db9049dc01492770e47d27bee",
      "original_position" : 12,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 249452060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293458154",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293458551"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293458551"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Shorter without loss of precision:\r\n\r\n```suggestion\r\n// * otherwise:\r\n```",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T16:04:45Z",
      "diff_hunk" : "@@ -0,0 +1,50 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// CHECK(expression)\n+// =================\n+// * If compiled with -DABORT_ON_FAILED_CHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * If compiled without -DABORT_ON_FAILED_CHECK:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293458551",
      "id" : 293458551,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzQ1ODU1MQ==",
      "original_commit_id" : "d720388339dba45db9049dc01492770e47d27bee",
      "original_position" : 17,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 249452060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293458551",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293459112"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293459112"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is missing an explanation when to use it. How is it different from `assert` or `std::logic_error`? Where should it be used in net or in consensus/validation code?",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T16:06:02Z",
      "diff_hunk" : "@@ -0,0 +1,50 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// CHECK(expression)\n+// =================\n+// * If compiled with -DABORT_ON_FAILED_CHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * If compiled without -DABORT_ON_FAILED_CHECK:\n+//   Evaluate expression and continue execution.\n+//\n+// Example\n+// =======\n+// int main(void) {\n+//     CHECK(IsFoo());\n+//     ...\n+// }\n+//\n+// If !IsFoo() and -DABORT_ON_FAILED_CHECK, then:\n+//     filename.cpp:123: main: CHECK(IsFoo()) failed.\n+//     Aborted\n+// Otherwise the execution continues.\n+\n+#ifdef ABORT_ON_FAILED_CHECK\n+#define CHECK_FAILURE(expression, file, line, func)       \\\n+    do {                                                  \\\n+        fprintf(stderr, \"%s:%d: %s: CHECK(%s) failed.\\n\", \\\n+            file, line, func, expression);                \\\n+        std::abort();                                     \\\n+    } while (false)\n+#else\n+#define CHECK_FAILURE(expression, file, line, func) ((void)0)\n+#endif\n+\n+#define CHECK(expression)                                             \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293459112",
      "id" : 293459112,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzQ1OTExMg==",
      "original_commit_id" : "d720388339dba45db9049dc01492770e47d27bee",
      "original_position" : 43,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 249452060,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293459112",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This change seems good, but I'd suggest calling the macro `DCHECK` instead of `CHECK` because:\r\n\r\n- It would suggest that the macro has different behavior in debug vs release builds.\r\n- It would allow us to create a corresponding `CHECK` macro in the future to replace our current non-standard usages of `assert` (in standard c++, asserts are compiled out of release builds, but not in bitcoin c++).\r\n- It would be more consistent with other support libraries ([glog](https://github.com/google/glog/blob/ba8a9f6952d04d1403b97df24e6836227751454e/src/glog/logging.h.in#L582-L586), [folly](https://github.com/facebook/folly/blob/5a68ed6f9cfbe634af578b573e092a16b038c02e/folly/logging/xlog.h#L387-L395)) which use `CHECK` to abort unconditionally and `DCHECK` to only abort in debug builds.\r\n\r\nFor reference:\r\n\r\n|                                                                                                                                   | Condition is compiled | Condition is evaluated | Program is aborted   |\r\n|-----------------------------------------------------------------------------------------------------------------------------------|-----------------------|------------------------|----------------------|\r\n| C++ standard `assert`                                                                                                             | if `NDEBUG` is unset  | if `NDEBUG` is unset   | if `NDEBUG` is unset |\r\n| Bitcoin `assert`                                                                                                                  | always                | always                 | always               |\r\n| glog [`CHECK`](https://github.com/google/glog/blob/ba8a9f6952d04d1403b97df24e6836227751454e/src/glog/logging.h.in#L582-L586)      | always                | always                 | always               |\r\n| glog [`DCHECK`](https://github.com/google/glog/blob/ba8a9f6952d04d1403b97df24e6836227751454e/src/glog/logging.h.in#L1034-L1038)   | always                | if `NDEBUG` is unset   | if `NDEBUG` is unset |\r\n| folly [`XCHECK`](https://github.com/facebook/folly/blob/5a68ed6f9cfbe634af578b573e092a16b038c02e/folly/logging/xlog.h#L387-L395)  | always                | always                 | always               |\r\n| folly [`XDCHECK`](https://github.com/facebook/folly/blob/5a68ed6f9cfbe634af578b573e092a16b038c02e/folly/logging/xlog.h#L445-L457) | if `NDEBUG` is unset  | if `NDEBUG` is unset   | if `NDEBUG` is unset |\r\n\r\nRe: https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-499862751 and https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-499866876 I think what Marco and Alex are asking for is useful but out of scope for an assert or check macro. I think asserts and checks are best for succinctly conveying assumptions made by the code author that in no cases should ever be violated, and conveying at a very coarse level how crucial those assumptions are (abort-worthy or not). The main point of asserts and checks should be to make code more readable and communicate how to think about it.\r\n\r\nOnce you're in the realm of conditions that you think should never happen, but are more complicated and might end up happening anyway, you are really better off writing an actual log print with text that would put the error into context. You may also want to abort in these cases, which is why logging frameworks support `FATAL` and `DFATAL` severity levels.",
      "created_at" : "2019-06-13T16:36:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-501779934",
      "id" : 501779934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwMTc3OTkzNA==",
      "updated_at" : "2019-06-13T16:36:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/501779934",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293521769"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293521769"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I agree it is not an optimal example: `assert(â¦);` would obviously be the more appropriate choice for cases where we want an unconditional `abort` if the assumption does not hold. I'll remove this example.",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T18:36:21Z",
      "diff_hunk" : "@@ -1691,6 +1692,7 @@ bool static ProcessHeadersMessage(CNode *pfrom, CConnman *connman, const std::ve\n                 }\n                 pindexWalk = pindexWalk->pprev;\n             }\n+            CHECK(pindexWalk);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293521769",
      "id" : 293521769,
      "in_reply_to_id" : 293458154,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzUyMTc2OQ==",
      "original_commit_id" : "d720388339dba45db9049dc01492770e47d27bee",
      "original_position" : 12,
      "path" : "src/net_processing.cpp",
      "position" : null,
      "pull_request_review_id" : 249532952,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293521769",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293560403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293560403"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good point! Fixed!",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T20:21:57Z",
      "diff_hunk" : "@@ -0,0 +1,50 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// CHECK(expression)\n+// =================\n+// * If compiled with -DABORT_ON_FAILED_CHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * If compiled without -DABORT_ON_FAILED_CHECK:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293560403",
      "id" : 293560403,
      "in_reply_to_id" : 293458551,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzU2MDQwMw==",
      "original_commit_id" : "d720388339dba45db9049dc01492770e47d27bee",
      "original_position" : 17,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 249583810,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293560403",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293577017"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293577017"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n// Bitcoin Core is always compiled with assertions enabled. assert(...)\r\n```",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T21:07:16Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// DCHECK(expression)\n+// ==================\n+// DCHECK(...) is used to document assumptions.\n+//\n+// Bitcoin is always compiled with assertions enabled. assert(...)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293577017",
      "id" : 293577017,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzU3NzAxNw==",
      "original_commit_id" : "a32e448b0021d4041e68760f1cb1225d00fd8575",
      "original_position" : 16,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 249605573,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293577017",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293577281"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293577281"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        tfm::format(std::cerr, \"%s:%d: %s: DCHECK(%s) failed.\\n\", \\\r\n```",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T21:08:03Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// DCHECK(expression)\n+// ==================\n+// DCHECK(...) is used to document assumptions.\n+//\n+// Bitcoin is always compiled with assertions enabled. assert(...)\n+// is thus only appropriate for documenting critical assumptions\n+// where a failed assumption should lead to immediate abortion also\n+// in production environments.\n+//\n+// DCHECK(...) works like assert(...) if -DABORT_ON_FAILED_DCHECK\n+// and is side-effect safe.\n+//\n+// More specifically:\n+//\n+// * If compiled with -DABORT_ON_FAILED_DCHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * Otherwise:\n+//   Evaluate expression and continue execution.\n+//\n+// ABORT_ON_FAILED_DCHECK should not be set in production environments.\n+//\n+// Example\n+// =======\n+// int main(void) {\n+//     DCHECK(IsFoo());\n+//     ...\n+// }\n+//\n+// If !IsFoo() and -DABORT_ON_FAILED_DCHECK, then:\n+//     filename.cpp:123: main: DCHECK(IsFoo()) failed.\n+//     Aborted\n+// Otherwise the execution continues.\n+\n+#ifdef ABORT_ON_FAILED_DCHECK\n+#define DCHECK_FAILURE(expression, file, line, func)       \\\n+    do {                                                  \\\n+        fprintf(stderr, \"%s:%d: %s: DCHECK(%s) failed.\\n\", \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293577281",
      "id" : 293577281,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzU3NzI4MQ==",
      "original_commit_id" : "a32e448b0021d4041e68760f1cb1225d00fd8575",
      "original_position" : 49,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 249605573,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293577281",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293582542"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293582542"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added additional documentation. Please re-review :-)",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T21:23:02Z",
      "diff_hunk" : "@@ -0,0 +1,50 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// CHECK(expression)\n+// =================\n+// * If compiled with -DABORT_ON_FAILED_CHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * If compiled without -DABORT_ON_FAILED_CHECK:\n+//   Evaluate expression and continue execution.\n+//\n+// Example\n+// =======\n+// int main(void) {\n+//     CHECK(IsFoo());\n+//     ...\n+// }\n+//\n+// If !IsFoo() and -DABORT_ON_FAILED_CHECK, then:\n+//     filename.cpp:123: main: CHECK(IsFoo()) failed.\n+//     Aborted\n+// Otherwise the execution continues.\n+\n+#ifdef ABORT_ON_FAILED_CHECK\n+#define CHECK_FAILURE(expression, file, line, func)       \\\n+    do {                                                  \\\n+        fprintf(stderr, \"%s:%d: %s: CHECK(%s) failed.\\n\", \\\n+            file, line, func, expression);                \\\n+        std::abort();                                     \\\n+    } while (false)\n+#else\n+#define CHECK_FAILURE(expression, file, line, func) ((void)0)\n+#endif\n+\n+#define CHECK(expression)                                             \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293582542",
      "id" : 293582542,
      "in_reply_to_id" : 293459112,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzU4MjU0Mg==",
      "original_commit_id" : "d720388339dba45db9049dc01492770e47d27bee",
      "original_position" : 43,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 249612578,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293582542",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293582577"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293582577"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's possible I misunderstood part of the intent of this PR, but I don't think the expression should be evaluated in non-debug builds. Few reasons:\r\n\r\n- It would encourage putting code that has external side effects in DCHECK macros, which would make it easier not to notice the effects of invoking code, and be bad for readability.\r\n- It would encourage general misuse of the DCHECK macro. Like I wrote in my earlier comment I think the best use of DCHECK is just to state basic assumptions that code makes so it is more readable, and to help catch simple bugs during development. It shouldn't be used as lazy way to handle errors in release builds and avoid having to write readable error messages that put errors into context.\r\n- It could potentially make release code less efficient.\r\n- It would be inconsistent with other DCHECK implementations. Neither the glog nor folly DCHECK macros have side effects in release builds (see https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-501779934) .\r\n\r\nMy suggestion would be to rename `ABORT_ON_FAILED_DCHECK` to `ENABLE_DCHECK` and when it's not defined either make `DCHECK` a no-op like folly, or make it compile the condition expression without executing it like glog.",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T21:23:10Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// DCHECK(expression)\n+// ==================\n+// DCHECK(...) is used to document assumptions.\n+//\n+// Bitcoin is always compiled with assertions enabled. assert(...)\n+// is thus only appropriate for documenting critical assumptions\n+// where a failed assumption should lead to immediate abortion also\n+// in production environments.\n+//\n+// DCHECK(...) works like assert(...) if -DABORT_ON_FAILED_DCHECK\n+// and is side-effect safe.\n+//\n+// More specifically:\n+//\n+// * If compiled with -DABORT_ON_FAILED_DCHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * Otherwise:\n+//   Evaluate expression and continue execution.\n+//\n+// ABORT_ON_FAILED_DCHECK should not be set in production environments.\n+//\n+// Example\n+// =======\n+// int main(void) {\n+//     DCHECK(IsFoo());\n+//     ...\n+// }\n+//\n+// If !IsFoo() and -DABORT_ON_FAILED_DCHECK, then:\n+//     filename.cpp:123: main: DCHECK(IsFoo()) failed.\n+//     Aborted\n+// Otherwise the execution continues.\n+\n+#ifdef ABORT_ON_FAILED_DCHECK\n+#define DCHECK_FAILURE(expression, file, line, func)       \\\n+    do {                                                  \\\n+        fprintf(stderr, \"%s:%d: %s: DCHECK(%s) failed.\\n\", \\\n+            file, line, func, expression);                \\\n+        std::abort();                                     \\\n+    } while (false)\n+#else\n+#define DCHECK_FAILURE(expression, file, line, func) ((void)0)\n+#endif\n+\n+#define DCHECK(expression)                                             \\\n+    do {                                                              \\\n+        if (!(expression)) {                                          \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293582577",
      "id" : 293582577,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzU4MjU3Nw==",
      "original_commit_id" : "a32e448b0021d4041e68760f1cb1225d00fd8575",
      "original_position" : 59,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 249611606,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293582577",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293585322"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293585322"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It seemed like the consensus in #4576 was to make the expression evaluated also in non-debug builds. FWIW, that is consistent with how `CHECK(â¦)` works in `secp256k1`.\r\n\r\nI don't have a strong opinion here: I'll let others chime in and adjust the code to meet consensus.",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T21:31:48Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// DCHECK(expression)\n+// ==================\n+// DCHECK(...) is used to document assumptions.\n+//\n+// Bitcoin is always compiled with assertions enabled. assert(...)\n+// is thus only appropriate for documenting critical assumptions\n+// where a failed assumption should lead to immediate abortion also\n+// in production environments.\n+//\n+// DCHECK(...) works like assert(...) if -DABORT_ON_FAILED_DCHECK\n+// and is side-effect safe.\n+//\n+// More specifically:\n+//\n+// * If compiled with -DABORT_ON_FAILED_DCHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * Otherwise:\n+//   Evaluate expression and continue execution.\n+//\n+// ABORT_ON_FAILED_DCHECK should not be set in production environments.\n+//\n+// Example\n+// =======\n+// int main(void) {\n+//     DCHECK(IsFoo());\n+//     ...\n+// }\n+//\n+// If !IsFoo() and -DABORT_ON_FAILED_DCHECK, then:\n+//     filename.cpp:123: main: DCHECK(IsFoo()) failed.\n+//     Aborted\n+// Otherwise the execution continues.\n+\n+#ifdef ABORT_ON_FAILED_DCHECK\n+#define DCHECK_FAILURE(expression, file, line, func)       \\\n+    do {                                                  \\\n+        fprintf(stderr, \"%s:%d: %s: DCHECK(%s) failed.\\n\", \\\n+            file, line, func, expression);                \\\n+        std::abort();                                     \\\n+    } while (false)\n+#else\n+#define DCHECK_FAILURE(expression, file, line, func) ((void)0)\n+#endif\n+\n+#define DCHECK(expression)                                             \\\n+    do {                                                              \\\n+        if (!(expression)) {                                          \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293585322",
      "id" : 293585322,
      "in_reply_to_id" : 293582577,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzU4NTMyMg==",
      "original_commit_id" : "a32e448b0021d4041e68760f1cb1225d00fd8575",
      "original_position" : 59,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 249616164,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293585322",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293586310"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293586310"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Changed!",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T21:35:17Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// DCHECK(expression)\n+// ==================\n+// DCHECK(...) is used to document assumptions.\n+//\n+// Bitcoin is always compiled with assertions enabled. assert(...)\n+// is thus only appropriate for documenting critical assumptions\n+// where a failed assumption should lead to immediate abortion also\n+// in production environments.\n+//\n+// DCHECK(...) works like assert(...) if -DABORT_ON_FAILED_DCHECK\n+// and is side-effect safe.\n+//\n+// More specifically:\n+//\n+// * If compiled with -DABORT_ON_FAILED_DCHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * Otherwise:\n+//   Evaluate expression and continue execution.\n+//\n+// ABORT_ON_FAILED_DCHECK should not be set in production environments.\n+//\n+// Example\n+// =======\n+// int main(void) {\n+//     DCHECK(IsFoo());\n+//     ...\n+// }\n+//\n+// If !IsFoo() and -DABORT_ON_FAILED_DCHECK, then:\n+//     filename.cpp:123: main: DCHECK(IsFoo()) failed.\n+//     Aborted\n+// Otherwise the execution continues.\n+\n+#ifdef ABORT_ON_FAILED_DCHECK\n+#define DCHECK_FAILURE(expression, file, line, func)       \\\n+    do {                                                  \\\n+        fprintf(stderr, \"%s:%d: %s: DCHECK(%s) failed.\\n\", \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293586310",
      "id" : 293586310,
      "in_reply_to_id" : 293577281,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzU4NjMxMA==",
      "original_commit_id" : "a32e448b0021d4041e68760f1cb1225d00fd8575",
      "original_position" : 49,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 249617506,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293586310",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293586376"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293586376"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed!",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-13T21:35:27Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// DCHECK(expression)\n+// ==================\n+// DCHECK(...) is used to document assumptions.\n+//\n+// Bitcoin is always compiled with assertions enabled. assert(...)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293586376",
      "id" : 293586376,
      "in_reply_to_id" : 293577017,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzU4NjM3Ng==",
      "original_commit_id" : "a32e448b0021d4041e68760f1cb1225d00fd8575",
      "original_position" : 16,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 249617575,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293586376",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293929417"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293929417"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        tfm::format(std::cerr, \"%s:%d: %s: DCHECK(%s) failed. You may report this issue here: %s.\\n\", \\\r\n        ...\r\n        PACKAGE_BUGREPORT)\r\n```",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-14T18:35:13Z",
      "diff_hunk" : "@@ -0,0 +1,66 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <tinyformat.h>\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// DCHECK(expression)\n+// ==================\n+// DCHECK(...) is used to document assumptions.\n+//\n+// Bitcoin Core is always compiled with assertions enabled. assert(...)\n+// is thus only appropriate for documenting critical assumptions\n+// where a failed assumption should lead to immediate abortion also\n+// in production environments.\n+//\n+// DCHECK(...) works like assert(...) if -DABORT_ON_FAILED_DCHECK\n+// and is side-effect safe.\n+//\n+// More specifically:\n+//\n+// * If compiled with -DABORT_ON_FAILED_DCHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * Otherwise:\n+//   Evaluate expression and continue execution.\n+//\n+// ABORT_ON_FAILED_DCHECK should not be set in production environments.\n+//\n+// Example\n+// =======\n+// int main(void) {\n+//     DCHECK(IsFoo());\n+//     ...\n+// }\n+//\n+// If !IsFoo() and -DABORT_ON_FAILED_DCHECK, then:\n+//     filename.cpp:123: main: DCHECK(IsFoo()) failed.\n+//     Aborted\n+// Otherwise the execution continues.\n+\n+#ifdef ABORT_ON_FAILED_DCHECK\n+#define DCHECK_FAILURE(expression, file, line, func)              \\\n+    do {                                                          \\\n+        tfm::format(std::cerr, \"%s:%d: %s: DCHECK(%s) failed.\\n\", \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293929417",
      "id" : 293929417,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5MzkyOTQxNw==",
      "original_commit_id" : "d7406f1d2758bc9dc48145d59d80747876145499",
      "original_position" : 51,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 250061305,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293929417",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293990122"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293990122"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added!",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-14T21:15:34Z",
      "diff_hunk" : "@@ -0,0 +1,66 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <tinyformat.h>\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// DCHECK(expression)\n+// ==================\n+// DCHECK(...) is used to document assumptions.\n+//\n+// Bitcoin Core is always compiled with assertions enabled. assert(...)\n+// is thus only appropriate for documenting critical assumptions\n+// where a failed assumption should lead to immediate abortion also\n+// in production environments.\n+//\n+// DCHECK(...) works like assert(...) if -DABORT_ON_FAILED_DCHECK\n+// and is side-effect safe.\n+//\n+// More specifically:\n+//\n+// * If compiled with -DABORT_ON_FAILED_DCHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * Otherwise:\n+//   Evaluate expression and continue execution.\n+//\n+// ABORT_ON_FAILED_DCHECK should not be set in production environments.\n+//\n+// Example\n+// =======\n+// int main(void) {\n+//     DCHECK(IsFoo());\n+//     ...\n+// }\n+//\n+// If !IsFoo() and -DABORT_ON_FAILED_DCHECK, then:\n+//     filename.cpp:123: main: DCHECK(IsFoo()) failed.\n+//     Aborted\n+// Otherwise the execution continues.\n+\n+#ifdef ABORT_ON_FAILED_DCHECK\n+#define DCHECK_FAILURE(expression, file, line, func)              \\\n+    do {                                                          \\\n+        tfm::format(std::cerr, \"%s:%d: %s: DCHECK(%s) failed.\\n\", \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r293990122",
      "id" : 293990122,
      "in_reply_to_id" : 293929417,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5Mzk5MDEyMg==",
      "original_commit_id" : "d7406f1d2758bc9dc48145d59d80747876145499",
      "original_position" : 51,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 250131799,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/293990122",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r294043004"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/294043004"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Seems like clarifying the intent of the PR would be a good first step...\r\n\r\nI think there's four things we could have:\r\n\r\n * `assert(chk)` -- always evaluate, always abort if it failes\r\n * `CHECK(chk)` -- always evaluate, but only abort if in regtest or similar; maybe log errors if not aborting.\r\n * `debug_assert(chk)` -- evaluate condition only when invoked with a special option like `-debugchecks=1`, which is always off by default, and can be disabled at compile time, allowing the code to dropped out. these checks could be slow and heavyweight. they probably wouldn't be run in travis.\r\n * `traditional_assert(chk)` -- evaluate for test builds, but don't evaluate in release builds\r\n\r\nI think the `traditional_assert` style probably makes test and release builds different in ways that are hard to ensure are correct (in Haskell or Rust maybe we could ensure that chk is side effect free via the type-system, but that doesn't seem plausible in C++), so I don't think that's a good idea.\r\n\r\nI could see any of the others being reasonable though.",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-06-15T10:47:03Z",
      "diff_hunk" : "@@ -0,0 +1,64 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CHECK_H\n+#define BITCOIN_CHECK_H\n+\n+#include <cstdio>\n+#include <cstdlib>\n+\n+// DCHECK(expression)\n+// ==================\n+// DCHECK(...) is used to document assumptions.\n+//\n+// Bitcoin is always compiled with assertions enabled. assert(...)\n+// is thus only appropriate for documenting critical assumptions\n+// where a failed assumption should lead to immediate abortion also\n+// in production environments.\n+//\n+// DCHECK(...) works like assert(...) if -DABORT_ON_FAILED_DCHECK\n+// and is side-effect safe.\n+//\n+// More specifically:\n+//\n+// * If compiled with -DABORT_ON_FAILED_DCHECK (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * Otherwise:\n+//   Evaluate expression and continue execution.\n+//\n+// ABORT_ON_FAILED_DCHECK should not be set in production environments.\n+//\n+// Example\n+// =======\n+// int main(void) {\n+//     DCHECK(IsFoo());\n+//     ...\n+// }\n+//\n+// If !IsFoo() and -DABORT_ON_FAILED_DCHECK, then:\n+//     filename.cpp:123: main: DCHECK(IsFoo()) failed.\n+//     Aborted\n+// Otherwise the execution continues.\n+\n+#ifdef ABORT_ON_FAILED_DCHECK\n+#define DCHECK_FAILURE(expression, file, line, func)       \\\n+    do {                                                  \\\n+        fprintf(stderr, \"%s:%d: %s: DCHECK(%s) failed.\\n\", \\\n+            file, line, func, expression);                \\\n+        std::abort();                                     \\\n+    } while (false)\n+#else\n+#define DCHECK_FAILURE(expression, file, line, func) ((void)0)\n+#endif\n+\n+#define DCHECK(expression)                                             \\\n+    do {                                                              \\\n+        if (!(expression)) {                                          \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r294043004",
      "id" : 294043004,
      "in_reply_to_id" : 293582577,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NDA0MzAwNA==",
      "original_commit_id" : "a32e448b0021d4041e68760f1cb1225d00fd8575",
      "original_position" : 59,
      "path" : "src/check.h",
      "position" : null,
      "pull_request_review_id" : 250188262,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/294043004",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Why was this closed?",
      "created_at" : "2019-10-10T18:06:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-540704522",
      "id" : 540704522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MDcwNDUyMg==",
      "updated_at" : "2019-10-10T18:06:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/540704522",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke I try to limit the number of PR:s I have opened and it seemed like this had a low probability of being merged. Seems I was wrong: now re-opened :)",
      "created_at" : "2019-10-10T18:28:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-540713739",
      "id" : 540713739,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MDcxMzczOQ==",
      "updated_at" : "2019-10-10T18:28:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/540713739",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and renamed back from `DCHECK` to the originally suggested name `CHECK` (as first suggested by @sipa in #4576).\r\n\r\nI find `DCHECK` somewhat unintuitive: I prefer `CHECK` or `ASSUME`. Let's bikeshed! :)",
      "created_at" : "2019-10-10T18:48:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-540722915",
      "id" : 540722915,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0MDcyMjkxNQ==",
      "updated_at" : "2019-10-10T18:48:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/540722915",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Rebased and renamed back from `DCHECK` to the originally suggested name `CHECK` (as first suggested by @sipa in #4576).\r\n> \r\n> I find `DCHECK` somewhat unintuitive: I prefer `CHECK` or `ASSUME`. Let's bikeshed! :)\r\n\r\nNot interested in bikeshedding and this is fine if other reviewers want it, but I'll just point out that as of b1eba5575b53dda9bb7765701d4a6305d07faa74 this PR makes `assert` and `CHECK` mean the exact opposite things they mean in other C++ codebases, where `CHECK` aborts in all builds and `assert` aborts in debug builds only (examples in table above https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-501779934).\r\n\r\nA good way to provide more clarity, I think, would be to follow convention used in other libraries and add a pair of `CHECK`/`DCHECK` macros instead of a single macro, avoiding use of any assert. An advantage of doing this is that both macros could do extra things like log to `debug.log` or capture stack traces before aborting, which aren't so easily possible with `assert`.",
      "created_at" : "2019-10-24T15:34:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-545975343",
      "id" : 545975343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NTk3NTM0Mw==",
      "updated_at" : "2019-10-24T15:34:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545975343",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky What about `ASSUME`? :)",
      "created_at" : "2019-10-24T15:43:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-545979040",
      "id" : 545979040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NTk3OTA0MA==",
      "updated_at" : "2019-10-24T15:43:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545979040",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @ryanofsky What about `ASSUME`? :)\r\n\r\nSeems fine, and I personally don't care about the name. I'm trying to say that if you add a macro that aborts and reports errors in debug builds only, it would be good to have a corresponding macro that does the same thing in all builds, and that naming I've seen before for this is CHECK/DCHECK.\r\n\r\nTaking a step back, the only reason I have interest in this PR is that I think current `assert` macro sucks, and that it's be nice to have a better macro that can do things like log to debug.log, capture stack traces, suggest bug reporting, etc.",
      "created_at" : "2019-10-24T16:18:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-545993867",
      "id" : 545993867,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NTk5Mzg2Nw==",
      "updated_at" : "2019-10-24T16:24:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545993867",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r338853579"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338853579"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "\"false\"",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-10-25T01:23:23Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_ASSUME_H\n+#define BITCOIN_ASSUME_H\n+\n+#include <tinyformat.h>\n+\n+// ASSUME(expression)\n+// ==================\n+// ASSUME(...) is used to document assumptions.\n+//\n+// Bitcoin Core is always compiled with assertions enabled. assert(...)\n+// is thus only appropriate for documenting critical assumptions\n+// where a failed assumption should lead to immediate abortion also\n+// in production environments.\n+//\n+// ASSUME(...) works like assert(...) if -DABORT_ON_FAILED_ASSUME\n+// and is side-effect safe.\n+//\n+// More specifically:\n+//\n+// * If compiled with -DABORT_ON_FAILED_ASSUME (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r338853579",
      "id" : 338853579,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODg1MzU3OQ==",
      "original_commit_id" : "7ab1498652a50bc49f6f0b3b232943814e43bfed",
      "original_position" : 25,
      "path" : "src/assume.h",
      "position" : null,
      "pull_request_review_id" : 306942042,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338853579",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r338855020"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338855020"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm still not sure it wouldn't be better unconditionally log (independent of compile flags) something like `%s:%d: ASSUME(%s) failed` and change the testing harnesses to emit a failure if that happens? If we continue fine when running release versions anyway, wouldn't it make more sense to capture all the failures while testing to reduce the number of restarts needed?\r\n\r\nMy inclination would be more along the lines of:\r\n\r\n```\r\nif (!(expression)) {\r\n    LogPrintf(\"Assumption failed %s:%d: %s\", __FILE__,__LINE__, #expression);\r\n    if (!Params().IsTestChain()) std::abort();\r\n}\r\n```\r\n\r\n(or have the `std::abort()` always happen if a compile time flag is set, if that's helpful for static analysis)",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-10-25T01:33:34Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_ASSUME_H\n+#define BITCOIN_ASSUME_H\n+\n+#include <tinyformat.h>\n+\n+// ASSUME(expression)\n+// ==================\n+// ASSUME(...) is used to document assumptions.\n+//\n+// Bitcoin Core is always compiled with assertions enabled. assert(...)\n+// is thus only appropriate for documenting critical assumptions\n+// where a failed assumption should lead to immediate abortion also\n+// in production environments.\n+//\n+// ASSUME(...) works like assert(...) if -DABORT_ON_FAILED_ASSUME\n+// and is side-effect safe.\n+//\n+// More specifically:\n+//\n+// * If compiled with -DABORT_ON_FAILED_ASSUME (set by --enable-debug):\n+//   Evaluate expression and abort if expression is falsy.\n+//\n+// * Otherwise:\n+//   Evaluate expression and continue execution.\n+//\n+// ABORT_ON_FAILED_ASSUME should not be set in production environments.\n+//\n+// Example\n+// =======\n+// int main(void) {\n+//     ASSUME(IsFoo());\n+//     ...\n+// }\n+//\n+// If !IsFoo() and -DABORT_ON_FAILED_ASSUME, then:\n+//     filename.cpp:123: main: ASSUME(IsFoo()) failed.\n+//     Aborted\n+// Otherwise the execution continues.\n+\n+#ifdef ABORT_ON_FAILED_ASSUME\n+#define ASSUME_FAILED(expression, file, line, func)                                                  \\\n+    do {                                                                                             \\\n+        tfm::format(std::cerr, \"%s:%d: %s: ASSUME(%s) failed. You may report this issue here: %s\\n\", \\\n+            file, line, func, expression, PACKAGE_BUGREPORT);                                        \\\n+        std::abort();                                                                                \\\n+    } while (false)\n+#else\n+#define ASSUME_FAILED(expression, file, line, func) ((void)0)\n+#endif",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r338855020",
      "id" : 338855020,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODg1NTAyMA==",
      "original_commit_id" : "7ab1498652a50bc49f6f0b3b232943814e43bfed",
      "original_position" : 53,
      "path" : "src/assume.h",
      "position" : null,
      "pull_request_review_id" : 306942042,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338855020",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r338856437"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338856437"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It's not really clear to me when you should choose `assert`  vs `ASSUME` -- neither is any quicker because both always run the test, and if the assumptions you had when writing the code were wrong, how confident can you really be that continuing won't cause horrible corruption to decide that continuing is okay?",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-10-25T01:43:43Z",
      "diff_hunk" : "@@ -0,0 +1,62 @@\n+// Copyright (c) 2019 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_ASSUME_H\n+#define BITCOIN_ASSUME_H\n+\n+#include <tinyformat.h>\n+\n+// ASSUME(expression)\n+// ==================\n+// ASSUME(...) is used to document assumptions.\n+//\n+// Bitcoin Core is always compiled with assertions enabled. assert(...)\n+// is thus only appropriate for documenting critical assumptions\n+// where a failed assumption should lead to immediate abortion also\n+// in production environments.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r338856437",
      "id" : 338856437,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODg1NjQzNw==",
      "original_commit_id" : "7ab1498652a50bc49f6f0b3b232943814e43bfed",
      "original_position" : 17,
      "path" : "src/assume.h",
      "position" : null,
      "pull_request_review_id" : 306942042,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-28T23:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338856437",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Should be moved to the existing `util/check.h`",
      "created_at" : "2019-10-28T16:35:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-547033145",
      "id" : 547033145,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzAzMzE0NQ==",
      "updated_at" : "2019-10-28T16:35:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547033145",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke Good idea: addressed! Please re-review.",
      "created_at" : "2019-10-28T23:21:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-547188017",
      "id" : 547188017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzE4ODAxNw==",
      "updated_at" : "2019-10-28T23:21:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547188017",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would it make sense to add a wrapper around our current `assert`, which always aborts when false (even in production, with debug disabled)?\r\n\r\nWe have vague error reports like #17298, that obviously lack details in the debug log, because logging wasn't enabled. Maybe an wrapper around our current assert that still aborts the program, but also dumps a full `-debug=1` log for the last `n` (lets say 10 or 100) lines of debug log?",
      "created_at" : "2019-10-29T12:52:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-547404311",
      "id" : 547404311,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzQwNDMxMQ==",
      "updated_at" : "2019-10-29T12:52:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547404311",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke That could be nifty to have. I would like to keep this PR and `ASSUME(â¦)` as simple as possible, so I'll leave that for a future PR.\r\n\r\nMy suggestion is that we start with something super simple in and then we can iterate from that as we gain experience with the different use cases :)",
      "created_at" : "2019-10-29T13:05:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-547409378",
      "id" : 547409378,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzQwOTM3OA==",
      "updated_at" : "2019-10-29T13:05:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547409378",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r340065001"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/340065001"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Shouldn't this be logged even if the debug flag is not set at compile time?",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-10-29T13:13:55Z",
      "diff_hunk" : "@@ -38,4 +39,59 @@ class NonFatalCheckError : public std::runtime_error\n         }                                                         \\\n     } while (false)\n \n+/**\n+ * ASSUME(expression)\n+ *\n+ * ASSUME(...) is used to document assumptions.\n+ *\n+ * Bitcoin Core is always compiled with assertions enabled. assert(...)\n+ * is thus only appropriate for documenting critical assumptions\n+ * where a failed assumption should lead to immediate abortion also\n+ * in production environments.\n+ *\n+ * ASSUME(...) works like assert(...) if -DABORT_ON_FAILED_ASSUME\n+ * and is side-effect safe.\n+ *\n+ * More specifically:\n+ *\n+ * * If compiled with -DABORT_ON_FAILED_ASSUME (set by --enable-debug\n+ *   and --enable-fuzz): Evaluate expression and abort if expression is\n+ *   false.\n+ *\n+ * * Otherwise:\n+ *   Evaluate expression and continue execution.\n+ *\n+ * ABORT_ON_FAILED_ASSUME should not be set in production environments.\n+ *\n+ * Example\n+ * =======\n+ * int main(void) {\n+ *     ASSUME(IsFoo());\n+ *     ...\n+ * }\n+ *\n+ * If !IsFoo() and -DABORT_ON_FAILED_ASSUME, then:\n+ *     filename.cpp:123: main: ASSUME(IsFoo()) failed.\n+ *     Aborted\n+ * Otherwise the execution continues.\n+ */\n+\n+#ifdef ABORT_ON_FAILED_ASSUME\n+#define ASSUME_FAILED(expression, file, line, func)                                                  \\\n+    do {                                                                                             \\\n+        tfm::format(std::cerr, \"%s:%d: %s: ASSUME(%s) failed. You may report this issue here: %s\\n\", \\\n+            file, line, func, expression, PACKAGE_BUGREPORT);                                        \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r340065001",
      "id" : 340065001,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MDA2NTAwMQ==",
      "original_commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "original_position" : 53,
      "path" : "src/util/check.h",
      "position" : 53,
      "pull_request_review_id" : 308496336,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-29T13:13:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/340065001",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r340069709"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/340069709"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That's not how I intended it to work, but now that you suggest it there is perhaps no downside in logging it also in non-debug/non-fuzz mode? Since we're only writing to stderr (and not to disk) it should be safe. I'll update.",
      "commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "created_at" : "2019-10-29T13:23:02Z",
      "diff_hunk" : "@@ -38,4 +39,59 @@ class NonFatalCheckError : public std::runtime_error\n         }                                                         \\\n     } while (false)\n \n+/**\n+ * ASSUME(expression)\n+ *\n+ * ASSUME(...) is used to document assumptions.\n+ *\n+ * Bitcoin Core is always compiled with assertions enabled. assert(...)\n+ * is thus only appropriate for documenting critical assumptions\n+ * where a failed assumption should lead to immediate abortion also\n+ * in production environments.\n+ *\n+ * ASSUME(...) works like assert(...) if -DABORT_ON_FAILED_ASSUME\n+ * and is side-effect safe.\n+ *\n+ * More specifically:\n+ *\n+ * * If compiled with -DABORT_ON_FAILED_ASSUME (set by --enable-debug\n+ *   and --enable-fuzz): Evaluate expression and abort if expression is\n+ *   false.\n+ *\n+ * * Otherwise:\n+ *   Evaluate expression and continue execution.\n+ *\n+ * ABORT_ON_FAILED_ASSUME should not be set in production environments.\n+ *\n+ * Example\n+ * =======\n+ * int main(void) {\n+ *     ASSUME(IsFoo());\n+ *     ...\n+ * }\n+ *\n+ * If !IsFoo() and -DABORT_ON_FAILED_ASSUME, then:\n+ *     filename.cpp:123: main: ASSUME(IsFoo()) failed.\n+ *     Aborted\n+ * Otherwise the execution continues.\n+ */\n+\n+#ifdef ABORT_ON_FAILED_ASSUME\n+#define ASSUME_FAILED(expression, file, line, func)                                                  \\\n+    do {                                                                                             \\\n+        tfm::format(std::cerr, \"%s:%d: %s: ASSUME(%s) failed. You may report this issue here: %s\\n\", \\\n+            file, line, func, expression, PACKAGE_BUGREPORT);                                        \\",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#discussion_r340069709",
      "id" : 340069709,
      "in_reply_to_id" : 340065001,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MDA2OTcwOQ==",
      "original_commit_id" : "2812b0decfb2cc9b15eafe23b6a3138cb90f328c",
      "original_position" : 53,
      "path" : "src/util/check.h",
      "position" : 53,
      "pull_request_review_id" : 308502421,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16136",
      "updated_at" : "2019-10-29T13:23:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/340069709",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @MarcoFalke That could be nifty to have. I would like to keep this PR and ASSUME(â¦) as simple as possible, so I'll leave that for a future PR.\r\n\r\nFine, but at the very least we should decide on naming. I guess, given that this patch does not use the `CHECK`/`DCHECK` naming, your proposed naming would be `ASSERT`/`ASSUME`?",
      "created_at" : "2019-10-29T19:46:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-547597970",
      "id" : 547597970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzU5Nzk3MA==",
      "updated_at" : "2019-10-29T19:46:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547597970",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke I think `ASSERT` and `ASSUME` are fine, but I'm happy to change that to whatever the consensus opinion is :)\r\n\r\nI've encountered a few places where `ASSUME` would be handy when fuzzing: places where I want the program to abort when running under a fuzzer but where the error condition is not severe enough to warrant aborting in production. So for me getting the macro in is the important thing -- I can live with any name :)",
      "created_at" : "2019-10-29T22:08:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16136#issuecomment-547651308",
      "id" : 547651308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16136",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NzY1MTMwOA==",
      "updated_at" : "2019-10-29T22:08:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/547651308",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
