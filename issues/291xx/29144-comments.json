[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29144).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\nA summary of reviews will appear here.\n",
      "created_at" : "2023-12-26T22:52:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29144#issuecomment-1869809115",
      "id" : 1869809115,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29144",
      "node_id" : "IC_kwDOABII585vcwXb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1869809115/reactions"
      },
      "updated_at" : "2023-12-26T22:52:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1869809115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "see previous discussion in #23096, https://github.com/bitcoin/bitcoin/pull/22591, and https://github.com/bitcoin/bitcoin/issues/21340#issuecomment-880147010",
      "created_at" : "2023-12-27T11:43:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29144#issuecomment-1870230561",
      "id" : 1870230561,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29144",
      "node_id" : "IC_kwDOABII585veXQh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1870230561/reactions"
      },
      "updated_at" : "2023-12-27T11:52:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1870230561",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29144#discussion_r1438073495"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29144"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438073495"
         }
      },
      "author_association" : "NONE",
      "body" : "I agree with @shaavan  [here](https://github.com/bitcoin/bitcoin/pull/29144#pullrequestreview-1798049445) . What if we simply modify the error message here and keep rest of the code as is to be more user friendly. Referring to https://github.com/bitcoin/bitcoin/pull/23096, https://github.com/bitcoin/bitcoin/pull/22591, and https://github.com/bitcoin/bitcoin/issues/21340#issuecomment-880147010 as mentioned earlier, following change can be added to the error message\r\n```suggestion\r\n        errors.emplace_back(strprintf(\"Unable to parse settings file %s, the file may be corrupt or empty(Consider deleting the file if it is empty). If the settings file is getting truncated automatically, check if there is suffiecient disk space available.\", fs::PathToString(path)));\r\n```",
      "commit_id" : "725a1fc7a7dbb1153bec188eda2f17a217560352",
      "created_at" : "2023-12-29T07:42:51Z",
      "diff_hunk" : "@@ -80,7 +80,9 @@ bool ReadSettings(const fs::path& path, std::map<std::string, SettingsValue>& va\n     }\n \n     SettingsValue in;\n-    if (!in.read(std::string{std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()})) {\n+    std::string content{std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()};\n+    if (content.empty()) return true; // Ok for empty file\n+    if (!in.read(content)) {\n         errors.emplace_back(strprintf(\"Unable to parse settings file %s\", fs::PathToString(path)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29144#discussion_r1438073495",
      "id" : 1438073495,
      "line" : 86,
      "node_id" : "PRRC_kwDOABII585Vt0KX",
      "original_commit_id" : "725a1fc7a7dbb1153bec188eda2f17a217560352",
      "original_line" : 86,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/common/settings.cpp",
      "position" : 8,
      "pull_request_review_id" : 1798713324,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29144",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438073495/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-29T07:44:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438073495",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44436898?v=4",
         "events_url" : "https://api.github.com/users/anibilthare/events{/privacy}",
         "followers_url" : "https://api.github.com/users/anibilthare/followers",
         "following_url" : "https://api.github.com/users/anibilthare/following{/other_user}",
         "gists_url" : "https://api.github.com/users/anibilthare/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/anibilthare",
         "id" : 44436898,
         "login" : "anibilthare",
         "node_id" : "MDQ6VXNlcjQ0NDM2ODk4",
         "organizations_url" : "https://api.github.com/users/anibilthare/orgs",
         "received_events_url" : "https://api.github.com/users/anibilthare/received_events",
         "repos_url" : "https://api.github.com/users/anibilthare/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/anibilthare/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/anibilthare/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/anibilthare"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29144#discussion_r1438165814"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29144"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438165814"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I see your point here. But wording like this provides a very unclear reason for failure.\r\nDon't you think we would be throwing users in too many directions here?",
      "commit_id" : "725a1fc7a7dbb1153bec188eda2f17a217560352",
      "created_at" : "2023-12-29T11:39:51Z",
      "diff_hunk" : "@@ -80,7 +80,9 @@ bool ReadSettings(const fs::path& path, std::map<std::string, SettingsValue>& va\n     }\n \n     SettingsValue in;\n-    if (!in.read(std::string{std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()})) {\n+    std::string content{std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()};\n+    if (content.empty()) return true; // Ok for empty file\n+    if (!in.read(content)) {\n         errors.emplace_back(strprintf(\"Unable to parse settings file %s\", fs::PathToString(path)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29144#discussion_r1438165814",
      "id" : 1438165814,
      "in_reply_to_id" : 1438073495,
      "line" : 86,
      "node_id" : "PRRC_kwDOABII585VuKs2",
      "original_commit_id" : "725a1fc7a7dbb1153bec188eda2f17a217560352",
      "original_line" : 86,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/common/settings.cpp",
      "position" : 8,
      "pull_request_review_id" : 1798849891,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29144",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438165814/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-29T11:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438165814",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/85434418?v=4",
         "events_url" : "https://api.github.com/users/shaavan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaavan/followers",
         "following_url" : "https://api.github.com/users/shaavan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaavan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaavan",
         "id" : 85434418,
         "login" : "shaavan",
         "node_id" : "MDQ6VXNlcjg1NDM0NDE4",
         "organizations_url" : "https://api.github.com/users/shaavan/orgs",
         "received_events_url" : "https://api.github.com/users/shaavan/received_events",
         "repos_url" : "https://api.github.com/users/shaavan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaavan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaavan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaavan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> It would probably be useful to introduce support for comments. This way, we can write something at the beginning of the file, ensuring that users and other software developers don't clean it up manually, thinking that it will be regenerated automatically. \r\n\r\nThis will not help if cause was full disk. https://github.com/bitcoin/bitcoin/issues/21340#issuecomment-876779561",
      "created_at" : "2023-12-29T11:59:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29144#issuecomment-1871995364",
      "id" : 1871995364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29144",
      "node_id" : "IC_kwDOABII585vlGHk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1871995364/reactions"
      },
      "updated_at" : "2023-12-29T11:59:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1871995364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4500994?v=4",
         "events_url" : "https://api.github.com/users/kristapsk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kristapsk/followers",
         "following_url" : "https://api.github.com/users/kristapsk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kristapsk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kristapsk",
         "id" : 4500994,
         "login" : "kristapsk",
         "node_id" : "MDQ6VXNlcjQ1MDA5OTQ=",
         "organizations_url" : "https://api.github.com/users/kristapsk/orgs",
         "received_events_url" : "https://api.github.com/users/kristapsk/received_events",
         "repos_url" : "https://api.github.com/users/kristapsk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kristapsk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kristapsk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kristapsk"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29144#discussion_r1438182115"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29144"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438182115"
         }
      },
      "author_association" : "NONE",
      "body" : "Can you please point out exactly what part of these statements might confuse the user?\r\nAlthough we'll be asking the user to check for 2 things in the comment but I believe they are pretty straight forward, right?\r\n\r\n1. Is there any space left on the disk.\r\n2. Is settings.json empty or not?\r\n\r\nIf none of the above conditions hold true and user is still seeing the issue then we are indicating the possibility of corruption of the settings file itself.\r\n",
      "commit_id" : "725a1fc7a7dbb1153bec188eda2f17a217560352",
      "created_at" : "2023-12-29T12:24:17Z",
      "diff_hunk" : "@@ -80,7 +80,9 @@ bool ReadSettings(const fs::path& path, std::map<std::string, SettingsValue>& va\n     }\n \n     SettingsValue in;\n-    if (!in.read(std::string{std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()})) {\n+    std::string content{std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()};\n+    if (content.empty()) return true; // Ok for empty file\n+    if (!in.read(content)) {\n         errors.emplace_back(strprintf(\"Unable to parse settings file %s\", fs::PathToString(path)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29144#discussion_r1438182115",
      "id" : 1438182115,
      "in_reply_to_id" : 1438073495,
      "line" : 86,
      "node_id" : "PRRC_kwDOABII585VuOrj",
      "original_commit_id" : "725a1fc7a7dbb1153bec188eda2f17a217560352",
      "original_line" : 86,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/common/settings.cpp",
      "position" : 8,
      "pull_request_review_id" : 1798874629,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29144",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438182115/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-29T12:24:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438182115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44436898?v=4",
         "events_url" : "https://api.github.com/users/anibilthare/events{/privacy}",
         "followers_url" : "https://api.github.com/users/anibilthare/followers",
         "following_url" : "https://api.github.com/users/anibilthare/following{/other_user}",
         "gists_url" : "https://api.github.com/users/anibilthare/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/anibilthare",
         "id" : 44436898,
         "login" : "anibilthare",
         "node_id" : "MDQ6VXNlcjQ0NDM2ODk4",
         "organizations_url" : "https://api.github.com/users/anibilthare/orgs",
         "received_events_url" : "https://api.github.com/users/anibilthare/received_events",
         "repos_url" : "https://api.github.com/users/anibilthare/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/anibilthare/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/anibilthare/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/anibilthare"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I get your point, @furszy, and I can see your approach helping with smoother handling of the \"file empty\" situation.\r\n> \r\n> However, pointing back again to ryanofsky comment\r\n> \r\n> > A zero-size settings file is a corrupt settings file.\r\n> \r\n> The interpretation I draw from this is if a file is empty (and hence corrupted once) there is no telling what could be the reason for that happening or whether such corruption could happen again. So, I believe being very critical and clear with the handling will be better for the following reasons:\r\n> \r\n> 1. For crucial backend software, such as bitcoind, it seems negligent to not properly inform the user that their settings file has been lost to corruption.\r\n> 2. It seems to me that a regular user won't tinker with their settings file regularly, so any kind of auto-generated message in the settings.json file loses its relevance there.\r\n> 3. Finally, say a user sets some custom settings once and later loses the settings to corruption (=> file now empty); it seems an improper approach to me for bitcoind to return to default settings without any kind of proper log or error to the user.\r\n> \r\n> Also, a gentle ping to @ryanofsky to confirm if my interpretation of the situation is correct, and also to get his take on this PR.\r\n\r\nThere is no discussion over that. I agreed with all previous arguments against the current implementation since my first comment on this PR. See https://github.com/bitcoin/bitcoin/pull/29144#pullrequestreview-1797199209.\r\n\r\nThus I proposed a different solution for non-interactive users who are manually modifying the file. See https://github.com/bitcoin/bitcoin/pull/29144#pullrequestreview-1798109497.\r\nStating that the file is JSON-formatted and auto-generated gives bitcoind users another hint over what they can and can't do.",
      "created_at" : "2023-12-29T12:53:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29144#issuecomment-1872060582",
      "id" : 1872060582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29144",
      "node_id" : "IC_kwDOABII585vlWCm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1872060582/reactions"
      },
      "updated_at" : "2023-12-29T12:56:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1872060582",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29144#discussion_r1438254888"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29144"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438254888"
         }
      },
      "author_association" : "NONE",
      "body" : "NACK for this PR\r\n\r\nCore does not works for umbrel\r\n\r\nThis is external and need to maintain outside of core: https://community.umbrel.com/t/bitcoin-docker-container-keeps-restarting/2144",
      "commit_id" : "725a1fc7a7dbb1153bec188eda2f17a217560352",
      "created_at" : "2023-12-29T13:28:41Z",
      "diff_hunk" : "@@ -80,7 +80,9 @@ bool ReadSettings(const fs::path& path, std::map<std::string, SettingsValue>& va\n     }\n \n     SettingsValue in;\n-    if (!in.read(std::string{std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()})) {\n+    std::string content{std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()};\n+    if (content.empty()) return true; // Ok for empty file\n+    if (!in.read(content)) {\n         errors.emplace_back(strprintf(\"Unable to parse settings file %s\", fs::PathToString(path)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29144#discussion_r1438254888",
      "id" : 1438254888,
      "in_reply_to_id" : 1438073495,
      "line" : 86,
      "node_id" : "PRRC_kwDOABII585Vugco",
      "original_commit_id" : "725a1fc7a7dbb1153bec188eda2f17a217560352",
      "original_line" : 86,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/common/settings.cpp",
      "position" : 8,
      "pull_request_review_id" : 1798995444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29144",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438254888/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-29T13:28:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438254888",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/147166694?v=4",
         "events_url" : "https://api.github.com/users/1440000bytes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/1440000bytes/followers",
         "following_url" : "https://api.github.com/users/1440000bytes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/1440000bytes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/1440000bytes",
         "id" : 147166694,
         "login" : "1440000bytes",
         "node_id" : "U_kgDOCMWV5g",
         "organizations_url" : "https://api.github.com/users/1440000bytes/orgs",
         "received_events_url" : "https://api.github.com/users/1440000bytes/received_events",
         "repos_url" : "https://api.github.com/users/1440000bytes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/1440000bytes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/1440000bytes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/1440000bytes"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29144#discussion_r1438263758"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29144"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438263758"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Core does not works for umbrel\r\n\r\n@1440000bytes, I did not know about umbrel existence until you pointed it out.\r\n\r\nThe PR tries to improve a confusing situation reported by users who did not understand why a settings parsing error occurred when the file was empty and did not know how to solve it.\r\nStill, I'm no longer in favor of the current approach. And proposed a different path https://github.com/bitcoin/bitcoin/pull/29144#pullrequestreview-1798109497.",
      "commit_id" : "725a1fc7a7dbb1153bec188eda2f17a217560352",
      "created_at" : "2023-12-29T13:52:00Z",
      "diff_hunk" : "@@ -80,7 +80,9 @@ bool ReadSettings(const fs::path& path, std::map<std::string, SettingsValue>& va\n     }\n \n     SettingsValue in;\n-    if (!in.read(std::string{std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()})) {\n+    std::string content{std::istreambuf_iterator<char>(file), std::istreambuf_iterator<char>()};\n+    if (content.empty()) return true; // Ok for empty file\n+    if (!in.read(content)) {\n         errors.emplace_back(strprintf(\"Unable to parse settings file %s\", fs::PathToString(path)));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29144#discussion_r1438263758",
      "id" : 1438263758,
      "in_reply_to_id" : 1438073495,
      "line" : 86,
      "node_id" : "PRRC_kwDOABII585VuinO",
      "original_commit_id" : "725a1fc7a7dbb1153bec188eda2f17a217560352",
      "original_line" : 86,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/common/settings.cpp",
      "position" : 8,
      "pull_request_review_id" : 1799008877,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29144",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438263758/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-29T13:54:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1438263758",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   }
]
