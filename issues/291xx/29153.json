{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Current behaviour\n\nbitcoin-qt crashed while loading wallets at startup.\r\n\r\nI used to see occasional crashes on startup a few years ago, but it hasn't been happening at all in the last couple of major releases.\r\n\r\nI've been running v26.0 for a week or two and haven't had any problem with it crashing until today.\r\n\r\nHere's a backtrace. I run it in gdb habitually because I used to see a lot of crashes and never got around to changing that when it became more stable.\r\n\r\n```\r\n[Thread 0x7fffe8ff86c0 (LWP 2482766) exited]\r\n\r\nThread 1 \"bitcoin-qt-v26.\" received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff7a7c52d in ?? () from /lib/x86_64-linux-gnu/libQt5Core.so.5\r\n(gdb) where\r\n#0  0x00007ffff7a7c52d in ?? () from /lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#1  0x00007ffff7a82b57 in ?? () from /lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#2  0x000055555576a6ca in OverviewPage::setWalletModel(WalletModel*) ()\r\n#3  0x000055555572b9de in WalletView::WalletView(WalletModel*, PlatformStyle const*, QWidget*) ()\r\n#4  0x00005555555ea8ef in BitcoinGUI::addWallet(WalletModel*) ()\r\n#5  0x00005555556090ff in _ZZN7GUIUtil20ExceptionSafeConnectIP16WalletControllerMS1_FvP11WalletModelEP10BitcoinGUIMS7_FvS4_EEEDaT_T0_T1_T2_N2Qt14ConnectionTypeEENKUlDpOT_E_clIJRS4_EEEDaSJ_ ()\r\n#6  0x000055555560996d in _ZN9QtPrivate11FunctorCallINS_11IndexesListIJLi0EEEENS_4ListIJP11WalletModelEEEvZN7GUIUtil20ExceptionSafeConnectIP16WalletControllerMS9_FvS5_EP10BitcoinGUIMSD_FvS5_EEEDaT_T0_T1_T2_N2Qt14ConnectionTypeEEUlDpOT_E_E4callERSQ_PPv ()\r\n#7  0x000055555560713b in _ZN9QtPrivate7FunctorIZN7GUIUtil20ExceptionSafeConnectIP16WalletControllerMS3_FvP11WalletModelEP10BitcoinGUIMS9_FvS6_EEEDaT_T0_T1_T2_N2Qt14ConnectionTypeEEUlDpOT_E_Li1EE4callINS_4ListIJS6_EEEvEEvRSM_PvPSS_ ()\r\n#8  0x0000555555604d8c in _ZN9QtPrivate18QFunctorSlotObjectIZN7GUIUtil20ExceptionSafeConnectIP16WalletControllerMS3_FvP11WalletModelEP10BitcoinGUIMS9_FvS6_EEEDaT_T0_T1_T2_N2Qt14ConnectionTypeEEUlDpOT_E_Li1ENS_4ListIJS6_EEEvE4implEiPNS_15QSlotObjectBaseEP7QObjectPPvPb ()\r\n#9  0x00007ffff7add6f0 in QObject::event(QEvent*) () from /lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#10 0x00007ffff7162fae in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /lib/x86_64-linux-gnu/libQt5Widgets.so.5\r\n#11 0x00007ffff7ab16f8 in QCoreApplication::notifyInternal2(QObject*, QEvent*) () from /lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#12 0x00007ffff7ab4681 in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) ()\r\n   from /lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#13 0x00007ffff7b0a153 in ?? () from /lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#14 0x00007ffff591e7a9 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#15 0x00007ffff591ea38 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#16 0x00007ffff591eacc in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0\r\n#17 0x00007ffff7b09836 in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) ()\r\n   from /lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#18 0x00007ffff7ab017b in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from /lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#19 0x00007ffff7ab82d6 in QCoreApplication::exec() () from /lib/x86_64-linux-gnu/libQt5Core.so.5\r\n#20 0x00005555555ccd4a in GuiMain(int, char**) ()\r\n#21 0x00005555555c489c in main ()\r\n(gdb) \r\n```\r\n\r\nI configured with:\r\n\r\n`./configure CXXFLAGS=-fno-omit-frame-pointer --with-incompatible-bdb --with-miniupnpc=no --disable-debug`\n\n### Expected behaviour\n\nI expect it not to crash on startup...\n\n### Steps to reproduce\n\nunknown\n\n### Relevant log output\n\n```\r\n2023-12-29T14:43:16Z Saw new header hash=0000000000000000000087ce4be45642ce81d2db3618e7e3e776c6ac4cefd7fe height=823428\r\n2023-12-29T14:43:16Z Saw new header hash=000000000000000000017d31138550098a7af1d89c1f08b424b496af7657f068 height=823429\r\n2023-12-29T14:43:16Z Saw new header hash=00000000000000000002170138a0ca50ea13333fb26563d7624254d80f655155 height=823430\r\n2023-12-29T14:43:22Z UpdateTip: new best=0000000000000000000397759a23b3454cfb92c39368625ef2a3ff57199c814e height=823286 version=0x33856000 log2_work=94.630168 tx=943880620 date='2023-12-28T16:29:46Z' progress=0.999532 cache=2.0MiB(16572txo)\r\n2023-12-29T14:43:26Z UpdateTip: new best=0000000000000000000382dd93aba8bd6ef45839ae5417f5d7c53885fc89200b height=823287 version=0x20088000 log2_work=94.630183 tx=943883634 date='2023-12-28T16:30:35Z' progress=0.999532 cache=4.4MiB(35892txo)\r\n2023-12-29T14:43:29Z UpdateTip: new best=00000000000000000003cb20fc43bf96aca61fe62cf84af74b6f4ea863975beb height=823288 version=0x2757c000 log2_work=94.630198 tx=943887045 date='2023-12-28T16:42:28Z' progress=0.999537 cache=6.5MiB(52635txo)\r\n2023-12-29T14:43:31Z UpdateTip: new best=00000000000000000003527d1234eaf8f68c7a20f6828f4e2f181d71ca0e5cfd height=823289 version=0x2000e000 log2_work=94.630212 tx=943890468 date='2023-12-28T16:52:29Z' progress=0.999540 cache=8.4MiB(68875txo)\r\n2023-12-29T14:43:35Z UpdateTip: new best=000000000000000000011b6b288d5b61b4b0036f040e37aa41300a20b0db39fb height=823290 version=0x24000004 log2_work=94.630227 tx=943893464 date='2023-12-28T17:07:26Z' progress=0.999545 cache=11.0MiB(86319txo)\r\n2023-12-29T14:43:38Z UpdateTip: new best=0000000000000000000236c0c37e795a8ce2ccc785197a2b272acb4f03f428ab height=823291 version=0x27c48000 log2_work=94.630241 tx=943897695 date='2023-12-28T17:09:25Z' progress=0.999546 cache=12.9MiB(101026txo)\r\n2023-12-29T14:43:40Z UpdateTip: new best=00000000000000000001d2ec4340f0246650c7f383293de24203d5d53e105b0e height=823292 version=0x20014000 log2_work=94.630256 tx=943901049 date='2023-12-28T17:30:28Z' progress=0.999553 cache=14.9MiB(118884txo)\r\n\r\n\r\n\r\n\r\n\r\n2023-12-29T16:02:44Z Bitcoin Core version v26.0.0 (release build)\r\n```\n\n### How did you obtain Bitcoin Core\n\nCompiled from source\n\n### What version of Bitcoin Core are you using?\n\nv26.0\n\n### Operating system and version\n\nDebian 12\n\n### Machine specifications\n\nLinux, Intel, ssd, plenty of RAM",
   "closed_at" : "2024-01-09T13:34:54Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/32963518?v=4",
      "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
      "followers_url" : "https://api.github.com/users/hebasto/followers",
      "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/hebasto",
      "id" : 32963518,
      "login" : "hebasto",
      "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
      "organizations_url" : "https://api.github.com/users/hebasto/orgs",
      "received_events_url" : "https://api.github.com/users/hebasto/received_events",
      "repos_url" : "https://api.github.com/users/hebasto/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/hebasto"
   },
   "comments" : 5,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29153/comments",
   "created_at" : "2023-12-29T18:47:17Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29153/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/29153",
   "id" : 2060326065,
   "labels" : [
      {
         "color" : "FBBAAB",
         "default" : false,
         "description" : null,
         "id" : 64585,
         "name" : "Bug",
         "node_id" : "MDU6TGFiZWw2NDU4NQ==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Bug"
      },
      {
         "color" : "02d7e1",
         "default" : false,
         "description" : null,
         "id" : 135946,
         "name" : "GUI",
         "node_id" : "MDU6TGFiZWwxMzU5NDY=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/GUI"
      },
      {
         "color" : "08a781",
         "default" : false,
         "description" : null,
         "id" : 149424,
         "name" : "Wallet",
         "node_id" : "MDU6TGFiZWwxNDk0MjQ=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29153/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "I_kwDOABII5856zhSx",
   "number" : 29153,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29153/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "state_reason" : "completed",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29153/timeline",
   "title" : "new crash in v26.0",
   "updated_at" : "2024-01-09T13:34:54Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29153",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/573356?v=4",
      "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
      "followers_url" : "https://api.github.com/users/dooglus/followers",
      "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
      "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/dooglus",
      "id" : 573356,
      "login" : "dooglus",
      "node_id" : "MDQ6VXNlcjU3MzM1Ng==",
      "organizations_url" : "https://api.github.com/users/dooglus/orgs",
      "received_events_url" : "https://api.github.com/users/dooglus/received_events",
      "repos_url" : "https://api.github.com/users/dooglus/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/dooglus"
   }
}
