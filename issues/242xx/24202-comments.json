[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795163324"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795163324"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: I think it's better to print the default value as literal. This will make it easier to change the value (in case it is needed to be changed) without changing the logic.\r\n\r\n```suggestion\r\n    const bool is_human_readable{request.params[1].isNull() ? false : request.params[1].get_bool()};\r\n```",
      "commit_id" : "53c1662d2c0603bdf4b4324c3f68003c3a1c9d52",
      "created_at" : "2022-01-30T10:56:04Z",
      "diff_hunk" : "@@ -2721,10 +2722,12 @@ static RPCHelpMan dumptxoutset()\n                 }\n         },\n         RPCExamples{\n-            HelpExampleCli(\"dumptxoutset\", \"utxo.dat\")\n+            HelpExampleCli(\"dumptxoutset\", \"utxo.dat\") +\n+            HelpExampleCli(\"dumptxoutset\", \"utxo.dat true\")\n         },\n         [&](const RPCHelpMan& self, const JSONRPCRequest& request) -> UniValue\n {\n+    const bool is_human_readable = !request.params[1].isNull() && request.params[1].get_bool();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795163324",
      "id" : 795163324,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vZTq8",
      "original_commit_id" : "4ad72ef99241091a15784b341c0f9c22811d5973",
      "original_line" : 2730,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 867081159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795163324/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-30T11:11:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795163324",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/85434418?v=4",
         "events_url" : "https://api.github.com/users/shaavan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaavan/followers",
         "following_url" : "https://api.github.com/users/shaavan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaavan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaavan",
         "id" : 85434418,
         "login" : "shaavan",
         "node_id" : "MDQ6VXNlcjg1NDM0NDE4",
         "organizations_url" : "https://api.github.com/users/shaavan/orgs",
         "received_events_url" : "https://api.github.com/users/shaavan/received_events",
         "repos_url" : "https://api.github.com/users/shaavan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaavan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaavan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaavan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795163986"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795163986"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit:\r\n```suggestion\r\n    const std::string& separator{\",\"};\r\n```",
      "commit_id" : "53c1662d2c0603bdf4b4324c3f68003c3a1c9d52",
      "created_at" : "2022-01-30T11:01:48Z",
      "diff_hunk" : "@@ -2762,6 +2771,9 @@ UniValue CreateUTXOSnapshot(\n     CCoinsStats stats{CoinStatsHashType::HASH_SERIALIZED};\n     CBlockIndex* tip;\n \n+    // used when human readable format is requested\n+    const std::string& separator = \",\";",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795163986",
      "id" : 795163986,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vZT1S",
      "original_commit_id" : "4ad72ef99241091a15784b341c0f9c22811d5973",
      "original_line" : 2775,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 867081159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795163986/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-30T11:11:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795163986",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/85434418?v=4",
         "events_url" : "https://api.github.com/users/shaavan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaavan/followers",
         "following_url" : "https://api.github.com/users/shaavan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaavan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaavan",
         "id" : 85434418,
         "login" : "shaavan",
         "node_id" : "MDQ6VXNlcjg1NDM0NDE4",
         "organizations_url" : "https://api.github.com/users/shaavan/orgs",
         "received_events_url" : "https://api.github.com/users/shaavan/received_events",
         "repos_url" : "https://api.github.com/users/shaavan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaavan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaavan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaavan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795164197"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795164197"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: I think this extra line can be removed.\r\n```suggestion\r\n```",
      "commit_id" : "53c1662d2c0603bdf4b4324c3f68003c3a1c9d52",
      "created_at" : "2022-01-30T11:03:57Z",
      "diff_hunk" : "@@ -2792,9 +2804,19 @@ UniValue CreateUTXOSnapshot(\n         tip->nHeight, tip->GetBlockHash().ToString(),\n         fs::PathToString(path), fs::PathToString(temppath)));\n \n-    SnapshotMetadata metadata{tip->GetBlockHash(), stats.coins_count, tip->nChainTx};\n+    if (!is_human_readable) {\n+        SnapshotMetadata metadata{tip->GetBlockHash(), stats.coins_count, tip->nChainTx};\n+        afile << metadata;\n+    } else {\n+        afile.write(\"#(blockhash \" + tip->GetBlockHash().ToString() + \")\");\n \n-    afile << metadata;\n+        for(const auto& text : { \"txid\", \"vout\", \"value\", \"coinbase\", \"height\", \"scriptPubKey\" }) {\n+            afile.write(separator);\n+            afile.write(text);\n+        }\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795164197",
      "id" : 795164197,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584vZT4l",
      "original_commit_id" : "4ad72ef99241091a15784b341c0f9c22811d5973",
      "original_line" : 2817,
      "original_position" : 79,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 867081159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795164197/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-30T11:11:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795164197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/85434418?v=4",
         "events_url" : "https://api.github.com/users/shaavan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaavan/followers",
         "following_url" : "https://api.github.com/users/shaavan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaavan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaavan",
         "id" : 85434418,
         "login" : "shaavan",
         "node_id" : "MDQ6VXNlcjg1NDM0NDE4",
         "organizations_url" : "https://api.github.com/users/shaavan/orgs",
         "received_events_url" : "https://api.github.com/users/shaavan/received_events",
         "repos_url" : "https://api.github.com/users/shaavan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaavan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaavan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaavan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795331176"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795331176"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think it would be better to have a non-Boolean param for this. Not only are Booleans terrible for positional arguments, but it's quite plausible in the future the format might change, and specifying a format version Number or format String would help ease the transition from the deprecated format.",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-01-31T04:03:08Z",
      "diff_hunk" : "@@ -2705,9 +2705,10 @@ static RPCHelpMan dumptxoutset()\n {\n     return RPCHelpMan{\n         \"dumptxoutset\",\n-        \"Write the serialized UTXO set to disk.\",\n+        \"Write the UTXO set to disk.\",\n         {\n             {\"path\", RPCArg::Type::STR, RPCArg::Optional::NO, \"Path to the output file. If relative, will be prefixed by datadir.\"},\n+            {\"human_readable\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"Dump file is created in human-readable format\"}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795331176",
      "id" : 795331176,
      "line" : 2711,
      "node_id" : "PRRC_kwDOABII584vZ8po",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 2711,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 8,
      "pull_request_review_id" : 867372758,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795331176/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-31T04:03:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795331176",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795428610"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795428610"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr \r\n\r\nWhat do you think about shifting this boolean param from positional to option argument?",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-01-31T08:22:58Z",
      "diff_hunk" : "@@ -2705,9 +2705,10 @@ static RPCHelpMan dumptxoutset()\n {\n     return RPCHelpMan{\n         \"dumptxoutset\",\n-        \"Write the serialized UTXO set to disk.\",\n+        \"Write the UTXO set to disk.\",\n         {\n             {\"path\", RPCArg::Type::STR, RPCArg::Optional::NO, \"Path to the output file. If relative, will be prefixed by datadir.\"},\n+            {\"human_readable\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"Dump file is created in human-readable format\"}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795428610",
      "id" : 795428610,
      "in_reply_to_id" : 795331176,
      "line" : 2711,
      "node_id" : "PRRC_kwDOABII584vaUcC",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 2711,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 8,
      "pull_request_review_id" : 867503233,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795428610/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-31T08:22:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795428610",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/85434418?v=4",
         "events_url" : "https://api.github.com/users/shaavan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/shaavan/followers",
         "following_url" : "https://api.github.com/users/shaavan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/shaavan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/shaavan",
         "id" : 85434418,
         "login" : "shaavan",
         "node_id" : "MDQ6VXNlcjg1NDM0NDE4",
         "organizations_url" : "https://api.github.com/users/shaavan/orgs",
         "received_events_url" : "https://api.github.com/users/shaavan/received_events",
         "repos_url" : "https://api.github.com/users/shaavan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/shaavan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/shaavan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/shaavan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795460750"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795460750"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I still don't think a boolean is a good fit either way.",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-01-31T09:06:44Z",
      "diff_hunk" : "@@ -2705,9 +2705,10 @@ static RPCHelpMan dumptxoutset()\n {\n     return RPCHelpMan{\n         \"dumptxoutset\",\n-        \"Write the serialized UTXO set to disk.\",\n+        \"Write the UTXO set to disk.\",\n         {\n             {\"path\", RPCArg::Type::STR, RPCArg::Optional::NO, \"Path to the output file. If relative, will be prefixed by datadir.\"},\n+            {\"human_readable\", RPCArg::Type::BOOL, RPCArg::Default{false}, \"Dump file is created in human-readable format\"}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795460750",
      "id" : 795460750,
      "in_reply_to_id" : 795331176,
      "line" : 2711,
      "node_id" : "PRRC_kwDOABII584vacSO",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 2711,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 8,
      "pull_request_review_id" : 867556947,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795460750/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-31T09:06:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795460750",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795845168"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795845168"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n```\r\nFeel free to ignore: I'd remove this blank line",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-01-31T16:29:09Z",
      "diff_hunk" : "@@ -18,16 +19,12 @@ def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n \n-    def run_test(self):\n-        \"\"\"Test a trivial usage of the dumptxoutset RPC command.\"\"\"\n+    def test_dump_file(self, filename, is_human_readable, expected_digest):\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795845168",
      "id" : 795845168,
      "line" : 23,
      "node_id" : "PRRC_kwDOABII584vb6Iw",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 23,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/rpc_dumptxoutset.py",
      "position" : 15,
      "pull_request_review_id" : 868105465,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795845168/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-31T16:29:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795845168",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795854532"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795854532"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n        self.log.info(\"Test that a path to an existing file will fail\")\r\n```\r\n\r\nI would put some 'logs' on this test to follow each step when the test is running.",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-01-31T16:38:52Z",
      "diff_hunk" : "@@ -42,16 +39,38 @@ def run_test(self):\n         with open(str(expected_path), 'rb') as f:\n             digest = hashlib.sha256(f.read()).hexdigest()\n             # UTXO snapshot hash should be deterministic based on mocked time.\n-            assert_equal(\n-                digest, '7ae82c986fa5445678d2a21453bb1c86d39e47af13da137640c2b1cf8093691c')\n+            assert_equal(digest, expected_digest)\n \n         assert_equal(\n             out['txoutset_hash'], 'd4b614f476b99a6e569973bf1c0120d88b1a168076f8ce25691fb41dd1cef149')\n         assert_equal(out['nchaintx'], 101)\n \n         # Specifying a path to an existing file will fail.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r795854532",
      "id" : 795854532,
      "line" : 48,
      "node_id" : "PRRC_kwDOABII584vb8bE",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 48,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "test/functional/rpc_dumptxoutset.py",
      "position" : 41,
      "pull_request_review_id" : 868118315,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795854532/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-01-31T16:38:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/795854532",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r801191486"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801191486"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It doesn't make sense to have the blockhash \"comment\" line part of the headers, separator and all.\r\n\r\nLooking at #18689, it wasn't much better: had weird spacing after the block hash (`\" ) \"`) and concatenating the headers immediately after that with no separator.\r\n\r\nInstead, based on other CSVs I've seen, I suggest:\r\n\r\n```\r\n#(blockhash nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn)\r\ntxid,vout,value,coinbase,height,scriptPubKey\r\n```",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-02-08T01:19:22Z",
      "diff_hunk" : "@@ -2792,9 +2804,18 @@ UniValue CreateUTXOSnapshot(\n         tip->nHeight, tip->GetBlockHash().ToString(),\n         fs::PathToString(path), fs::PathToString(temppath)));\n \n-    SnapshotMetadata metadata{tip->GetBlockHash(), stats.coins_count, tip->nChainTx};\n+    if (!is_human_readable) {\n+        SnapshotMetadata metadata{tip->GetBlockHash(), stats.coins_count, tip->nChainTx};\n+        afile << metadata;\n+    } else {\n+        afile.write(\"#(blockhash \" + tip->GetBlockHash().ToString() + \")\");\n \n-    afile << metadata;\n+        for(const auto& text : { \"txid\", \"vout\", \"value\", \"coinbase\", \"height\", \"scriptPubKey\" }) {\n+            afile.write(separator);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r801191486",
      "id" : 801191486,
      "line" : 2814,
      "node_id" : "PRRC_kwDOABII584vwTY-",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 2814,
      "original_position" : 76,
      "original_start_line" : 2811,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 76,
      "pull_request_review_id" : 875422803,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801191486/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 2811,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-08T07:41:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801191486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r801336149"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801336149"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Probably better to do this inside `CreateUTXOSnapshot`",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-02-08T07:35:29Z",
      "diff_hunk" : "@@ -626,6 +626,11 @@ class CAutoFile\n         }\n     }\n \n+    void write(const std::string& s)\n+    {\n+        write(MakeByteSpan(s));\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r801336149",
      "id" : 801336149,
      "line" : 632,
      "node_id" : "PRRC_kwDOABII584vw2tV",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 632,
      "original_position" : 7,
      "original_start_line" : 629,
      "path" : "src/streams.h",
      "position" : 7,
      "pull_request_review_id" : 875422803,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801336149/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 629,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-08T07:41:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801336149",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r801339792"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801339792"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can do a `line_separator` (`\"\\n\") here too...\r\n\r\n```suggestion\r\n    const auto separator = MakeByteSpan(\",\").first(1);\r\n    const auto line_separator = MakeByteSpan(\"\\n\").first(1);\r\n```",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-02-08T07:41:33Z",
      "diff_hunk" : "@@ -2762,6 +2771,9 @@ UniValue CreateUTXOSnapshot(\n     CCoinsStats stats{CoinStatsHashType::HASH_SERIALIZED};\n     CBlockIndex* tip;\n \n+    // used when human readable format is requested\n+    const std::string& separator{\",\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r801339792",
      "id" : 801339792,
      "line" : 2775,
      "node_id" : "PRRC_kwDOABII584vw3mQ",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 2775,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 58,
      "pull_request_review_id" : 875422803,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801339792/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-08T20:53:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801339792",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r801343130"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801343130"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is kind of an ugly hack. Maybe we just need to open the file in text mode and hash it as if it were UNIX format? :/",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-02-08T07:47:08Z",
      "diff_hunk" : "@@ -42,16 +39,38 @@ def run_test(self):\n         with open(str(expected_path), 'rb') as f:\n             digest = hashlib.sha256(f.read()).hexdigest()\n             # UTXO snapshot hash should be deterministic based on mocked time.\n-            assert_equal(\n-                digest, '7ae82c986fa5445678d2a21453bb1c86d39e47af13da137640c2b1cf8093691c')\n+            assert_equal(digest, expected_digest)\n \n         assert_equal(\n             out['txoutset_hash'], 'd4b614f476b99a6e569973bf1c0120d88b1a168076f8ce25691fb41dd1cef149')\n         assert_equal(out['nchaintx'], 101)\n \n         # Specifying a path to an existing file will fail.\n         assert_raises_rpc_error(\n-            -8, '{} already exists'.format(FILENAME),  node.dumptxoutset, FILENAME)\n+            -8, '{} already exists'.format(filename),  node.dumptxoutset, filename)\n+\n+        if (is_human_readable):\n+            with open(expected_path, 'r', encoding='utf-8') as f:\n+                content = f.readlines()\n+                assert_equal(content[0].rstrip(),\n+                    \"#(blockhash 6fd417acba2a8738b06fee43330c50d58e6a725046c3d843c8dd7e51d46d1ed6),txid,vout,value,coinbase,height,scriptPubKey\")\n+                assert_equal(content[1].rstrip(),\n+                    \"213ecbdfe837a2c8ffc0812da62d4de94efce8894c67e22ff658517ecf104e03,0,5000000000,1,81,76a9142b4569203694fc997e13f2c0a1383b9e16c77a0d88ac\")\n+\n+    def run_test(self):\n+        \"\"\"Test a trivial usage of the dumptxoutset RPC command.\"\"\"\n+        node = self.nodes[0]\n+        mocktime = node.getblockheader(node.getblockhash(0))['time'] + 1\n+        node.setmocktime(mocktime)\n+        self.generate(node, COINBASE_MATURITY)\n+\n+        txt_file_digest = '5bc8a9c14d1f6d89833342dcd6014bdf9ddb5f19e3741760da6d6d666971df41'\n+\n+        if os.name == 'nt':\n+            txt_file_digest = 'dff298e77a80bb6e292526c0729d78fdef68a537c372563b5f5dbfadddabc780'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r801343130",
      "id" : 801343130,
      "line" : 70,
      "node_id" : "PRRC_kwDOABII584vw4aa",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 70,
      "original_position" : 64,
      "original_start_line" : 69,
      "path" : "test/functional/rpc_dumptxoutset.py",
      "position" : 64,
      "pull_request_review_id" : 875623347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801343130/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 69,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-08T07:47:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/801343130",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802046751"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802046751"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Python's text mode reader is overly tolerant, so wouldn't check the EOL used is correct.\r\n\r\nInstead, I ended up with https://github.com/luke-jr/bitcoin/commit/58e0d32de6a444bd73d30355ffe17dc7ed96e738 - but it may be better off just leaving this alone for this PR (unless we care about the added flexibility of supporting any arbitrary platform)",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-02-08T20:50:34Z",
      "diff_hunk" : "@@ -42,16 +39,38 @@ def run_test(self):\n         with open(str(expected_path), 'rb') as f:\n             digest = hashlib.sha256(f.read()).hexdigest()\n             # UTXO snapshot hash should be deterministic based on mocked time.\n-            assert_equal(\n-                digest, '7ae82c986fa5445678d2a21453bb1c86d39e47af13da137640c2b1cf8093691c')\n+            assert_equal(digest, expected_digest)\n \n         assert_equal(\n             out['txoutset_hash'], 'd4b614f476b99a6e569973bf1c0120d88b1a168076f8ce25691fb41dd1cef149')\n         assert_equal(out['nchaintx'], 101)\n \n         # Specifying a path to an existing file will fail.\n         assert_raises_rpc_error(\n-            -8, '{} already exists'.format(FILENAME),  node.dumptxoutset, FILENAME)\n+            -8, '{} already exists'.format(filename),  node.dumptxoutset, filename)\n+\n+        if (is_human_readable):\n+            with open(expected_path, 'r', encoding='utf-8') as f:\n+                content = f.readlines()\n+                assert_equal(content[0].rstrip(),\n+                    \"#(blockhash 6fd417acba2a8738b06fee43330c50d58e6a725046c3d843c8dd7e51d46d1ed6),txid,vout,value,coinbase,height,scriptPubKey\")\n+                assert_equal(content[1].rstrip(),\n+                    \"213ecbdfe837a2c8ffc0812da62d4de94efce8894c67e22ff658517ecf104e03,0,5000000000,1,81,76a9142b4569203694fc997e13f2c0a1383b9e16c77a0d88ac\")\n+\n+    def run_test(self):\n+        \"\"\"Test a trivial usage of the dumptxoutset RPC command.\"\"\"\n+        node = self.nodes[0]\n+        mocktime = node.getblockheader(node.getblockhash(0))['time'] + 1\n+        node.setmocktime(mocktime)\n+        self.generate(node, COINBASE_MATURITY)\n+\n+        txt_file_digest = '5bc8a9c14d1f6d89833342dcd6014bdf9ddb5f19e3741760da6d6d666971df41'\n+\n+        if os.name == 'nt':\n+            txt_file_digest = 'dff298e77a80bb6e292526c0729d78fdef68a537c372563b5f5dbfadddabc780'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802046751",
      "id" : 802046751,
      "in_reply_to_id" : 801343130,
      "line" : 70,
      "node_id" : "PRRC_kwDOABII584vzkMf",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 70,
      "original_position" : 64,
      "original_start_line" : 69,
      "path" : "test/functional/rpc_dumptxoutset.py",
      "position" : 64,
      "pull_request_review_id" : 876632882,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802046751/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 69,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-08T20:50:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802046751",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802047625"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802047625"
         }
      },
      "author_association" : "MEMBER",
      "body" : "eg https://github.com/luke-jr/bitcoin/commit/5ddb75caa0ab2e3be306b96132e3b9af7ba62a40 (but since you don't have all the params in this PR, it will take a bit of rebasing)",
      "commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "created_at" : "2022-02-08T20:51:53Z",
      "diff_hunk" : "@@ -626,6 +626,11 @@ class CAutoFile\n         }\n     }\n \n+    void write(const std::string& s)\n+    {\n+        write(MakeByteSpan(s));\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802047625",
      "id" : 802047625,
      "in_reply_to_id" : 801336149,
      "line" : 632,
      "node_id" : "PRRC_kwDOABII584vzkaJ",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 632,
      "original_position" : 7,
      "original_start_line" : 629,
      "path" : "src/streams.h",
      "position" : 7,
      "pull_request_review_id" : 876634188,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802047625/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 629,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-08T20:51:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802047625",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr , I accepted your suggestions. While I personally prefer simpler RPC (something like `dumptxoutset utxo.csv \"csv\"`, as I proposed earlier), I don't have a strong opinion on this. If other reviewers want to discuss it, we can eventually change it.\r\n\r\nI tried merging your commits first, but when I dropped the previous commits, this caused a lot of conflicts. So I reset and re-commit. If you prefer another approach, let me know.",
      "created_at" : "2022-02-09T02:31:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#issuecomment-1033280316",
      "id" : 1033280316,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24202",
      "node_id" : "IC_kwDOABII5849lps8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033280316/reactions"
      },
      "updated_at" : "2022-02-09T02:31:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033280316",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802220237"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220237"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Thanks for the detailed review.",
      "commit_id" : "1053636ddd99c1b7820fa24bb5b684aaa739c804",
      "created_at" : "2022-02-09T02:31:57Z",
      "diff_hunk" : "@@ -42,16 +39,38 @@ def run_test(self):\n         with open(str(expected_path), 'rb') as f:\n             digest = hashlib.sha256(f.read()).hexdigest()\n             # UTXO snapshot hash should be deterministic based on mocked time.\n-            assert_equal(\n-                digest, '7ae82c986fa5445678d2a21453bb1c86d39e47af13da137640c2b1cf8093691c')\n+            assert_equal(digest, expected_digest)\n \n         assert_equal(\n             out['txoutset_hash'], 'd4b614f476b99a6e569973bf1c0120d88b1a168076f8ce25691fb41dd1cef149')\n         assert_equal(out['nchaintx'], 101)\n \n         # Specifying a path to an existing file will fail.\n         assert_raises_rpc_error(\n-            -8, '{} already exists'.format(FILENAME),  node.dumptxoutset, FILENAME)\n+            -8, '{} already exists'.format(filename),  node.dumptxoutset, filename)\n+\n+        if (is_human_readable):\n+            with open(expected_path, 'r', encoding='utf-8') as f:\n+                content = f.readlines()\n+                assert_equal(content[0].rstrip(),\n+                    \"#(blockhash 6fd417acba2a8738b06fee43330c50d58e6a725046c3d843c8dd7e51d46d1ed6),txid,vout,value,coinbase,height,scriptPubKey\")\n+                assert_equal(content[1].rstrip(),\n+                    \"213ecbdfe837a2c8ffc0812da62d4de94efce8894c67e22ff658517ecf104e03,0,5000000000,1,81,76a9142b4569203694fc997e13f2c0a1383b9e16c77a0d88ac\")\n+\n+    def run_test(self):\n+        \"\"\"Test a trivial usage of the dumptxoutset RPC command.\"\"\"\n+        node = self.nodes[0]\n+        mocktime = node.getblockheader(node.getblockhash(0))['time'] + 1\n+        node.setmocktime(mocktime)\n+        self.generate(node, COINBASE_MATURITY)\n+\n+        txt_file_digest = '5bc8a9c14d1f6d89833342dcd6014bdf9ddb5f19e3741760da6d6d666971df41'\n+\n+        if os.name == 'nt':\n+            txt_file_digest = 'dff298e77a80bb6e292526c0729d78fdef68a537c372563b5f5dbfadddabc780'",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802220237",
      "id" : 802220237,
      "in_reply_to_id" : 801343130,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584v0OjN",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 70,
      "original_position" : 64,
      "original_start_line" : 69,
      "path" : "test/functional/rpc_dumptxoutset.py",
      "position" : null,
      "pull_request_review_id" : 876860640,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220237/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-09T02:31:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220237",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802220377"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220377"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "1053636ddd99c1b7820fa24bb5b684aaa739c804",
      "created_at" : "2022-02-09T02:32:18Z",
      "diff_hunk" : "@@ -2762,6 +2771,9 @@ UniValue CreateUTXOSnapshot(\n     CCoinsStats stats{CoinStatsHashType::HASH_SERIALIZED};\n     CBlockIndex* tip;\n \n+    // used when human readable format is requested\n+    const std::string& separator{\",\"};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802220377",
      "id" : 802220377,
      "in_reply_to_id" : 801339792,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584v0OlZ",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 2775,
      "original_position" : 58,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 876860779,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220377/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-09T02:32:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802220623"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220623"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Thanks.",
      "commit_id" : "1053636ddd99c1b7820fa24bb5b684aaa739c804",
      "created_at" : "2022-02-09T02:33:01Z",
      "diff_hunk" : "@@ -626,6 +626,11 @@ class CAutoFile\n         }\n     }\n \n+    void write(const std::string& s)\n+    {\n+        write(MakeByteSpan(s));\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802220623",
      "id" : 802220623,
      "in_reply_to_id" : 801336149,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584v0OpP",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 632,
      "original_position" : 7,
      "original_start_line" : 629,
      "path" : "src/streams.h",
      "position" : null,
      "pull_request_review_id" : 876861081,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220623/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-09T02:33:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220623",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802220826"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220826"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Suggestion accepted.",
      "commit_id" : "1053636ddd99c1b7820fa24bb5b684aaa739c804",
      "created_at" : "2022-02-09T02:33:35Z",
      "diff_hunk" : "@@ -42,16 +39,38 @@ def run_test(self):\n         with open(str(expected_path), 'rb') as f:\n             digest = hashlib.sha256(f.read()).hexdigest()\n             # UTXO snapshot hash should be deterministic based on mocked time.\n-            assert_equal(\n-                digest, '7ae82c986fa5445678d2a21453bb1c86d39e47af13da137640c2b1cf8093691c')\n+            assert_equal(digest, expected_digest)\n \n         assert_equal(\n             out['txoutset_hash'], 'd4b614f476b99a6e569973bf1c0120d88b1a168076f8ce25691fb41dd1cef149')\n         assert_equal(out['nchaintx'], 101)\n \n         # Specifying a path to an existing file will fail.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802220826",
      "id" : 802220826,
      "in_reply_to_id" : 795854532,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584v0Osa",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 48,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "test/functional/rpc_dumptxoutset.py",
      "position" : null,
      "pull_request_review_id" : 876861358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220826/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-09T02:33:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802220893"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220893"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done. Suggestion accepted.",
      "commit_id" : "1053636ddd99c1b7820fa24bb5b684aaa739c804",
      "created_at" : "2022-02-09T02:33:46Z",
      "diff_hunk" : "@@ -18,16 +19,12 @@ def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 1\n \n-    def run_test(self):\n-        \"\"\"Test a trivial usage of the dumptxoutset RPC command.\"\"\"\n+    def test_dump_file(self, filename, is_human_readable, expected_digest):\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r802220893",
      "id" : 802220893,
      "in_reply_to_id" : 795845168,
      "line" : 36,
      "node_id" : "PRRC_kwDOABII584v0Otd",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 36,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/rpc_dumptxoutset.py",
      "position" : 28,
      "pull_request_review_id" : 876861443,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220893/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-02-09T02:33:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/802220893",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r803983360"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/803983360"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done.",
      "commit_id" : "1053636ddd99c1b7820fa24bb5b684aaa739c804",
      "created_at" : "2022-02-10T18:27:03Z",
      "diff_hunk" : "@@ -2792,9 +2804,18 @@ UniValue CreateUTXOSnapshot(\n         tip->nHeight, tip->GetBlockHash().ToString(),\n         fs::PathToString(path), fs::PathToString(temppath)));\n \n-    SnapshotMetadata metadata{tip->GetBlockHash(), stats.coins_count, tip->nChainTx};\n+    if (!is_human_readable) {\n+        SnapshotMetadata metadata{tip->GetBlockHash(), stats.coins_count, tip->nChainTx};\n+        afile << metadata;\n+    } else {\n+        afile.write(\"#(blockhash \" + tip->GetBlockHash().ToString() + \")\");\n \n-    afile << metadata;\n+        for(const auto& text : { \"txid\", \"vout\", \"value\", \"coinbase\", \"height\", \"scriptPubKey\" }) {\n+            afile.write(separator);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#discussion_r803983360",
      "id" : 803983360,
      "in_reply_to_id" : 801191486,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584v69AA",
      "original_commit_id" : "4cef616000bdd92b5fc99b4367fa6c0e88204096",
      "original_line" : 2814,
      "original_position" : 76,
      "original_start_line" : 2811,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 879269332,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/24202",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/803983360/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-02-10T18:27:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/803983360",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/94266259?v=4",
         "events_url" : "https://api.github.com/users/w0xlt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/w0xlt/followers",
         "following_url" : "https://api.github.com/users/w0xlt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/w0xlt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/w0xlt",
         "id" : 94266259,
         "login" : "w0xlt",
         "node_id" : "U_kgDOBZ5jkw",
         "organizations_url" : "https://api.github.com/users/w0xlt/orgs",
         "received_events_url" : "https://api.github.com/users/w0xlt/received_events",
         "repos_url" : "https://api.github.com/users/w0xlt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/w0xlt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/w0xlt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/w0xlt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24732](https://github.com/bitcoin/bitcoin/pull/24732) (Remove buggy and confusing IncrementExtraNonce by MarcoFalke)\n* [#24456](https://github.com/bitcoin/bitcoin/pull/24456) (blockman: Properly guard blockfile members by dongcarl)\n* [#22564](https://github.com/bitcoin/bitcoin/pull/22564) (refactor: Move mutable globals cleared in `::UnloadBlockIndex` to `BlockManager` by dongcarl)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-02-24T13:23:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#issuecomment-1049856425",
      "id" : 1049856425,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24202",
      "node_id" : "IC_kwDOABII584-k4mp",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1049856425/reactions"
      },
      "updated_at" : "2022-04-02T02:46:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1049856425",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\n\r\nI think on the long-term writing a database (e.g. sqlite) would be even more helpful, as a text file in the size of multiple giga-bytes is relatively hard to handle without an index. But this is obviously out-of-scope for this PR and probably can also be solved by a script that creates the database with the human-readable data as input.",
      "created_at" : "2022-03-10T14:30:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#issuecomment-1064124278",
      "id" : 1064124278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24202",
      "node_id" : "IC_kwDOABII584_bT92",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1064124278/reactions"
      },
      "updated_at" : "2022-03-10T14:30:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1064124278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\n This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-04-06T10:05:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#issuecomment-1090089475",
      "id" : 1090089475,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24202",
      "node_id" : "IC_kwDOABII585A-XID",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1090089475/reactions"
      },
      "updated_at" : "2022-04-06T10:05:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1090089475",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--13523179cfe9479db18ec6c5d236f789-->There hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant?  Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant?  Please close.\n* Did the author lose interest or time to work on this?  Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
      "created_at" : "2022-07-25T07:41:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/24202#issuecomment-1193696764",
      "id" : 1193696764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24202",
      "node_id" : "IC_kwDOABII585HJl38",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1193696764/reactions"
      },
      "updated_at" : "2022-07-25T07:41:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1193696764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
