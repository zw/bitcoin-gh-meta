{
   "assignee" : null,
   "assignees" : [],
   "body" : "This has been a TODO since #4468\r\n\r\nComments in the code to make it (hopefully) understandable.\r\n\r\nPlease review/test. Thank you.\r\n\r\nThis is possibly still work in progress... needing to understand GetLocator in more detail, it may be that the best two options are to GetLocator(chainActive.Tip()) or GetLocator(pindexBestHeader). I'm also not assuming that chainActive.Tip() isn't always an ancestor of pindexBestHeader (based on the \"TODO: optimize\" comment that was made in #4468).",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 0,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9091/comments",
   "created_at" : "2016-11-06T14:41:49Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9091/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/9091",
   "id" : 187565287,
   "labels" : [
      {
         "color" : "006b75",
         "default" : false,
         "id" : 98298007,
         "name" : "P2P",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/P2P"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9091/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 9091,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/9091.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/9091",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/9091.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/9091"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Optimize sending of getheaders when pindexLast is an ancestor of pindexBestHeader",
   "updated_at" : "2016-12-10T12:11:23Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9091",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
      "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
      "followers_url" : "https://api.github.com/users/rebroad/followers",
      "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/rebroad",
      "id" : 1530283,
      "login" : "rebroad",
      "organizations_url" : "https://api.github.com/users/rebroad/orgs",
      "received_events_url" : "https://api.github.com/users/rebroad/received_events",
      "repos_url" : "https://api.github.com/users/rebroad/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/rebroad"
   }
}
