{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "<!--- Remove sections that do not apply -->\r\n\r\nThis issue tracker is only for technical issues related to bitcoin-core.\r\n\r\nGeneral bitcoin questions and/or support requests and are best directed to the [Bitcoin StackExchange](https://bitcoin.stackexchange.com).\r\n\r\n### Describe the issue\r\n\r\nI upgraded to 0.13.1 on Oct 29 @ 03:10:23 UTC.\r\nThis machine runs a dedicated bitcoin node and nothing else, except a small process that queries the node for certain transaction data.\r\nEver since upgrading, Disk IO is through the roof.\r\nPrior to the upgrade, this had never been a problem. We were running 0.13.0 prior to upgrade.\r\n\r\n### Can you reliably reproduce the issue?\r\n#### If so, please list the steps to reproduce below:\r\n1. Start bitcoind\r\n2. Let it run\r\n3. Disk I/O goes through the roof\r\n\r\n### Expected behaviour\r\nDisk IO shouldn't be consistently so high\r\n\r\n### Actual behaviour\r\nDisk IO is through the roof\r\n\r\n### Screenshots.\r\nThese are all from the monitoring software of where the machine runs. Using iotop (below) we found the culprit is bitcoind\r\nIf the issue is related to the GUI, screenshots can be added to this issue via drag & drop.\r\n<img width=\"776\" alt=\"screen shot 2016-10-31 at 5 46 37 pm\" src=\"https://cloud.githubusercontent.com/assets/1325863/19875452/71f0a4ac-9f92-11e6-883d-70621a1f0a14.png\">\r\n<img width=\"771\" alt=\"screen shot 2016-10-31 at 5 46 49 pm\" src=\"https://cloud.githubusercontent.com/assets/1325863/19875453/71f98c7a-9f92-11e6-8ca4-a01b5f953a52.png\">\r\n\r\n\r\n### What version of bitcoin-core are you using?\r\nList the version number/commit ID, and if it is an official binary, self compiled or a distribution package such as PPA.\r\nBitcoin core 0.13.1 as downloaded from bitcoin.org.\r\n\r\n### Machine specs:\r\n- OS: Linux version 3.13.0-87-generic (buildd@lgw01-25) (gcc version 4.8.4 (Ubuntu 4.8.4-2ubuntu1~14.04.3) ) #133-Ubuntu SMP Tue May 24 18:32:09 UTC 2016\r\n- CPU: 4x 2.3 GHz Intel Xeon E5-2686 v4\r\n- RAM: 16GB\r\n- Disk size: 252G\r\n- Disk Type (HD/SDD): SSD\r\n\r\n### Any extra information that might be useful in the debugging process.\r\nThis is normally the contents of a `debug.log` or `config.log` file. Raw text or a link to a pastebin type site are preferred.\r\n\r\nFrom `iotop`:\r\n```\r\nTotal DISK READ :     894.08 K/s | Total DISK WRITE :       0.00 B/s\r\nActual DISK READ:     894.08 K/s | Actual DISK WRITE:       3.96 K/s\r\n  TID  PRIO  USER     DISK READ  DISK WRITE  SWAPIN     IO>    COMMAND                                                                                                      \r\n14915 be/4 root      894.08 K/s    0.00 B/s  0.00 % 98.49 % bitcoind -datadir=/root/.bitcoin/ [bitcoin-msghand]\r\n    1 be/4 root        0.00 B/s    0.00 B/s  0.00 %  0.00 % init\r\n```",
   "closed_at" : "2017-09-05T13:15:04Z",
   "closed_by" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/1325863?v=4",
      "events_url" : "https://api.github.com/users/vogelito/events{/privacy}",
      "followers_url" : "https://api.github.com/users/vogelito/followers",
      "following_url" : "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url" : "https://api.github.com/users/vogelito/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/vogelito",
      "id" : 1325863,
      "login" : "vogelito",
      "node_id" : "MDQ6VXNlcjEzMjU4NjM=",
      "organizations_url" : "https://api.github.com/users/vogelito/orgs",
      "received_events_url" : "https://api.github.com/users/vogelito/received_events",
      "repos_url" : "https://api.github.com/users/vogelito/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/vogelito/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/vogelito"
   },
   "comments" : 24,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9051/comments",
   "created_at" : "2016-10-31T23:57:27Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9051/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/9051",
   "id" : 186432298,
   "labels" : [
      {
         "color" : "981023",
         "default" : false,
         "id" : 326918230,
         "name" : "Resource usage",
         "node_id" : "MDU6TGFiZWwzMjY5MTgyMzA=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Resource%20usage"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9051/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWUxODY0MzIyOTg=",
   "number" : 9051,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Disk IO > 90% on when running 0.13.1 on Ubuntu",
   "updated_at" : "2017-09-05T13:15:04Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9051",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/1325863?v=4",
      "events_url" : "https://api.github.com/users/vogelito/events{/privacy}",
      "followers_url" : "https://api.github.com/users/vogelito/followers",
      "following_url" : "https://api.github.com/users/vogelito/following{/other_user}",
      "gists_url" : "https://api.github.com/users/vogelito/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/vogelito",
      "id" : 1325863,
      "login" : "vogelito",
      "node_id" : "MDQ6VXNlcjEzMjU4NjM=",
      "organizations_url" : "https://api.github.com/users/vogelito/orgs",
      "received_events_url" : "https://api.github.com/users/vogelito/received_events",
      "repos_url" : "https://api.github.com/users/vogelito/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/vogelito/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/vogelito/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/vogelito"
   }
}
