{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "#15382 and #15421 both need to execute commands, monitor their process and/or consume their `stdout`. At the moment they both add [boost-process](https://www.boost.org/doc/libs/1_64_0/doc/html/process.html).\r\n\r\nThere is also an alternative [cpp-subprocess](\r\nhttps://github.com/arun11299/cpp-subprocess/blob/master/subprocess.hpp) which has less code, but probably also less review and doesn't work with Windows yet.\r\n\r\nWe currently ship Boost 1.64 so the corresponding boost-process code is [here](https://github.com/boostorg/process/tree/boost-1.64.0/include/boost).\r\n\r\nUsage wise it's super simple.\r\n\r\nThe code is spread over at least a hundred small files, which makes it hard to understand the whole, although I'm it makes sense to someone more familiar with Boost. Each component seems well documented. I'm not sure how to go about reviewing this.\r\n\r\nIt includes the following other Boost components, outside of what we already directly include:\r\n\r\n```cpp\r\n#include <boost/algorithm/string/case_conv.hpp>\r\n#include <boost/algorithm/string/join.hpp>\r\n#include <boost/algorithm/string/predicate.hpp>\r\n#include <boost/algorithm/string/trim.hpp>\r\n#include <boost/asio/async_result.hpp>\r\n#include <boost/asio/buffer.hpp>\r\n#include <boost/asio/dispatch.hpp>\r\n#include <boost/asio/io_context.hpp>\r\n#include <boost/asio/posix/stream_descriptor.hpp>\r\n#include <boost/asio/post.hpp>\r\n#include <boost/asio/read.hpp>\r\n#include <boost/asio/signal_set.hpp>\r\n#include <boost/asio/strand.hpp>\r\n#include <boost/asio/streambuf.hpp>\r\n#include <boost/asio/windows/object_handle.hpp>\r\n#include <boost/asio/windows/stream_handle.hpp>\r\n#include <boost/asio/write.hpp>\r\n#include <boost/config.hpp>\r\n#include <boost/core/ignore_unused.hpp>\r\n#include <boost/filesystem/operations.hpp>\r\n#include <boost/filesystem/path.hpp>\r\n#include <boost/fusion/adapted/std_tuple.hpp>\r\n#include <boost/fusion/algorithm/iteration/for_each.hpp>\r\n#include <boost/fusion/algorithm/query/find_if.hpp>\r\n#include <boost/fusion/algorithm/transformation/filter_if.hpp>\r\n#include <boost/fusion/algorithm/transformation/transform.hpp>\r\n#include <boost/fusion/container.hpp>\r\n#include <boost/fusion/container/set/convert.hpp>\r\n#include <boost/fusion/container/vector/convert.hpp>\r\n#include <boost/fusion/iterator/deref.hpp>\r\n#include <boost/fusion/sequence.hpp>\r\n#include <boost/fusion/sequence/comparison/equal_to.hpp>\r\n#include <boost/fusion/sequence/intrinsic/begin.hpp>\r\n#include <boost/fusion/sequence/intrinsic/end.hpp>\r\n#include <boost/fusion/sequence/intrinsic/has_key.hpp>\r\n#include <boost/fusion/tuple.hpp>\r\n#include <boost/fusion/view.hpp>\r\n#include <boost/fusion/view/transform_view.hpp>\r\n#include <boost/iterator/transform_iterator.hpp>\r\n#include <boost/move/move.hpp>\r\n#include <boost/none.hpp>\r\n#include <boost/system/api_config.hpp>\r\n#include <boost/system/error_code.hpp>\r\n#include <boost/tokenizer.hpp>\r\n#include <boost/type_index.hpp>\r\n#include <boost/winapi/access_rights.hpp>\r\n#include <boost/winapi/basic_types.hpp>\r\n#include <boost/winapi/character_code_conversion.hpp>\r\n#include <boost/winapi/config.hpp>\r\n#include <boost/winapi/dll.hpp>\r\n#include <boost/winapi/environment.hpp>\r\n#include <boost/winapi/error_codes.hpp>\r\n#include <boost/winapi/file_management.hpp>\r\n#include <boost/winapi/get_current_process.hpp>\r\n#include <boost/winapi/get_current_process_id.hpp>\r\n#include <boost/winapi/get_last_error.hpp>\r\n#include <boost/winapi/get_system_directory.hpp>\r\n#include <boost/winapi/handle_info.hpp>\r\n#include <boost/winapi/handles.hpp>\r\n#include <boost/winapi/jobs.hpp>\r\n#include <boost/winapi/overlapped.hpp>\r\n#include <boost/winapi/pipes.hpp>\r\n#include <boost/winapi/process.hpp>\r\n#include <boost/winapi/shell.hpp>\r\n#include <boost/winapi/show_window.hpp>\r\n#include <boost/winapi/synchronization.hpp>\r\n#include <boost/winapi/wait.hpp>\r\n```\r\n\r\nI'm not sure which of those we're already indirectly using.\r\n\r\nI found the following includes, outside of what we already directly include:\r\n```cpp\r\n#include <features.h>\r\n#include <initializer_list>\r\n#include <io.h>\r\n#include <iosfwd>\r\n#include <istream>\r\n#include <ostream>\r\n#include <streambuf>\r\n#include <system_error>\r\n```\r\n\r\nThe lists were composed with `grep -rhw . -e '#include' --include=\\*.{h,cpp,hpp} | sort | uniq` and `comm -23 boost bitcoin`.\r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 4,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15440/comments",
   "created_at" : "2019-02-19T12:55:13Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15440/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/15440",
   "id" : 411909845,
   "labels" : [
      {
         "color" : "ebd775",
         "default" : false,
         "id" : 64584,
         "name" : "Brainstorming",
         "node_id" : "MDU6TGFiZWw2NDU4NA==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming"
      },
      {
         "color" : "5319e7",
         "default" : false,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15440/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU0MTE5MDk4NDU=",
   "number" : 15440,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "RFC including boost-process",
   "updated_at" : "2019-03-13T01:08:23Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15440",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
      "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
      "followers_url" : "https://api.github.com/users/Sjors/followers",
      "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/Sjors",
      "id" : 10217,
      "login" : "Sjors",
      "node_id" : "MDQ6VXNlcjEwMjE3",
      "organizations_url" : "https://api.github.com/users/Sjors/orgs",
      "received_events_url" : "https://api.github.com/users/Sjors/received_events",
      "repos_url" : "https://api.github.com/users/Sjors/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/Sjors"
   }
}
