[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/27114).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [stratospher](https://github.com/bitcoin/bitcoin/pull/27114#pullrequestreview-1335638837), [furszy](https://github.com/bitcoin/bitcoin/pull/27114#pullrequestreview-1337886645), [RandyMcMillan](https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1738197965) |\n| Approach ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/27114#pullrequestreview-1422614006) |\n| Stale ACK | [naumenkogs](https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1651340516), [pinheadmz](https://github.com/bitcoin/bitcoin/pull/27114#pullrequestreview-1687883287) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28686](https://github.com/bitcoin/bitcoin/pull/28686) (refactor: Split per-peer parts of net module into new node/connection module by ajtowns)\n* [#27600](https://github.com/bitcoin/bitcoin/pull/27600) (net: Add new permission `forceinbound` to evict a random unprotected connection if all slots are otherwise full by pinheadmz)\n* [#25832](https://github.com/bitcoin/bitcoin/pull/25832) (tracing: network connection tracepoints by 0xB10C)\n* [#24142](https://github.com/bitcoin/bitcoin/pull/24142) (Deprecate SubtractFeeFromOutputs by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-02-16T20:31:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1433677301",
      "id" : 1433677301,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585VdC31",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 1,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1433677301/reactions"
      },
      "updated_at" : "2023-10-20T18:54:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1433677301",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "cc: @furszy @theStack ",
      "created_at" : "2023-02-16T20:31:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1433677572",
      "id" : 1433677572,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585VdC8E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1433677572/reactions"
      },
      "updated_at" : "2023-02-16T20:31:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1433677572",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2023-02-23T12:55:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1441727779",
      "id" : 1441727779,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585V7wUj",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1441727779/reactions"
      },
      "updated_at" : "2023-02-23T12:55:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1441727779",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1132895083"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1132895083"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "why do we mention outgoing? (isn't it incoming only)",
      "commit_id" : "4a2aa6c9e7168be9ace0a3f3fadc8a9b922b61f4",
      "created_at" : "2023-03-10T21:12:16Z",
      "diff_hunk" : "@@ -520,9 +520,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"\n         \"CIDR-notated network (e.g. 1.2.3.0/24). Uses the same permissions as \"\n-        \"-whitebind. Can be specified multiple times.\" , ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+        \"-whitebind. \"\n+        \"Additional flags in and out control whether permissions apply to incoming connections and/or outgoing (default: %s). \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1132895083",
      "id" : 1132895083,
      "line" : 526,
      "node_id" : "PRRC_kwDOABII585Dhptr",
      "original_commit_id" : "5410b13a9c60e29c7d98638aa643638265bb7640",
      "original_line" : 526,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 18,
      "pull_request_review_id" : 1335638837,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1132895083/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-10T21:17:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1132895083",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Could also add a test framework option to whitelist peers. So we don't have to add -whitelist flag everywhere.\r\n\r\nSounds good! Gonna implement it!",
      "created_at" : "2023-03-13T21:13:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1466964818",
      "id" : 1466964818,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585XcBtS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1466964818/reactions"
      },
      "updated_at" : "2023-03-13T21:13:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1466964818",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1135537203"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135537203"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Because this PR changes it to allow outgoing as well",
      "commit_id" : "4a2aa6c9e7168be9ace0a3f3fadc8a9b922b61f4",
      "created_at" : "2023-03-14T13:24:08Z",
      "diff_hunk" : "@@ -520,9 +520,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"\n         \"CIDR-notated network (e.g. 1.2.3.0/24). Uses the same permissions as \"\n-        \"-whitebind. Can be specified multiple times.\" , ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+        \"-whitebind. \"\n+        \"Additional flags in and out control whether permissions apply to incoming connections and/or outgoing (default: %s). \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1135537203",
      "id" : 1135537203,
      "in_reply_to_id" : 1132895083,
      "line" : 526,
      "node_id" : "PRRC_kwDOABII585Druwz",
      "original_commit_id" : "5410b13a9c60e29c7d98638aa643638265bb7640",
      "original_line" : 526,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 18,
      "pull_request_review_id" : 1339272370,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135537203/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-03-14T13:27:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1135537203",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "force-pushed: Added `self.whitelist_peers` in `test_framework` to avoid having to add `-whitelist` flag everywhere. Also, I changed the 1st commit message as suggested by @stratospher.",
      "created_at" : "2023-03-15T00:21:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1469045147",
      "id" : 1469045147,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585Xj9mb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1469045147/reactions"
      },
      "updated_at" : "2023-03-15T00:22:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1469045147",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-03-28T11:06:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1486658276",
      "id" : 1486658276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585YnJrk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486658276/reactions"
      },
      "updated_at" : "2023-03-28T11:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1486658276",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased",
      "created_at" : "2023-03-28T17:29:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1487331264",
      "id" : 1487331264,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585Ypt_A",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1487331264/reactions"
      },
      "updated_at" : "2023-03-28T17:29:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1487331264",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "linking #9923\r\nperhaps also relevant: #10594, #10051",
      "created_at" : "2023-04-20T09:57:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1516052330",
      "id" : 1516052330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585aXR9q",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1516052330/reactions"
      },
      "updated_at" : "2023-04-20T09:57:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1516052330",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25183001?v=4",
         "events_url" : "https://api.github.com/users/glozow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/glozow/followers",
         "following_url" : "https://api.github.com/users/glozow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/glozow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/glozow",
         "id" : 25183001,
         "login" : "glozow",
         "node_id" : "MDQ6VXNlcjI1MTgzMDAx",
         "organizations_url" : "https://api.github.com/users/glozow/orgs",
         "received_events_url" : "https://api.github.com/users/glozow/received_events",
         "repos_url" : "https://api.github.com/users/glozow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/glozow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/glozow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/glozow"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186270266"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186270266"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "39f6466 could be wrong, but there doesn't seem to be any need for this to be `CConnMan` class member instead of a static helper function in the implementation file.\r\n\r\n<details><summary>sample diff, modulo splitting the changes between the first two commits</summary><p>\r\n\r\n```diff\r\ndiff --git a/src/net.cpp b/src/net.cpp\r\nindex dc2fa7d2e17..7fd964b8cc3 100644\r\n--- a/src/net.cpp\r\n+++ b/src/net.cpp\r\n@@ -360,6 +360,20 @@ bool IsLocal(const CService& addr)\r\n     return mapLocalHost.count(addr) > 0;\r\n }\r\n \r\n+static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags) {\r\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::Implicit)) {\r\n+        NetPermissions::ClearFlag(flags, NetPermissionFlags::Implicit);\r\n+        if (gArgs.GetBoolArg(\"-whitelistforcerelay\", DEFAULT_WHITELISTFORCERELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::ForceRelay);\r\n+        if (gArgs.GetBoolArg(\"-whitelistrelay\", DEFAULT_WHITELISTRELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::Relay);\r\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::Mempool);\r\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::NoBan);\r\n+    }\r\n+\r\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::BloomFilter)) {\r\n+        service_flags = static_cast<ServiceFlags>(service_flags | NODE_BLOOM);\r\n+    }\r\n+}\r\n+\r\n CNode* CConnman::FindNode(const CNetAddr& ip)\r\n {\r\n     LOCK(m_nodes_mutex);\r\n@@ -608,20 +622,6 @@ void CConnman::AddWhitelistPermissionFlags(NetPermissionFlags& flags, const CNet\r\n     }\r\n }\r\n \r\n-void CConnman::InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags) {\r\n-    if (NetPermissions::HasFlag(flags, NetPermissionFlags::Implicit)) {\r\n-        NetPermissions::ClearFlag(flags, NetPermissionFlags::Implicit);\r\n-        if (gArgs.GetBoolArg(\"-whitelistforcerelay\", DEFAULT_WHITELISTFORCERELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::ForceRelay);\r\n-        if (gArgs.GetBoolArg(\"-whitelistrelay\", DEFAULT_WHITELISTRELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::Relay);\r\n-        NetPermissions::AddFlag(flags, NetPermissionFlags::Mempool);\r\n-        NetPermissions::AddFlag(flags, NetPermissionFlags::NoBan);\r\n-    }\r\n-\r\n-    if (NetPermissions::HasFlag(flags, NetPermissionFlags::BloomFilter)) {\r\n-        service_flags = static_cast<ServiceFlags>(service_flags | NODE_BLOOM);\r\n-    }\r\n-}\r\n-\r\n CService CNode::GetAddrLocal() const\r\n {\r\n     AssertLockNotHeld(m_addr_local_mutex);\r\ndiff --git a/src/net.h b/src/net.h\r\nindex 5fa8bf3fcf7..4387c5c8756 100644\r\n--- a/src/net.h\r\n+++ b/src/net.h\r\n@@ -987,7 +987,6 @@ private:\r\n     bool AttemptToEvictConnection();\r\n     CNode* ConnectNode(CAddress addrConnect, const char *pszDest, bool fCountFailure, ConnectionType conn_type) EXCLUSIVE_LOCKS_REQUIRED(!m_unused_i2p_sessions_mutex);\r\n     void AddWhitelistPermissionFlags(NetPermissionFlags& output_flags, const CNetAddr &addr, const std::vector<NetWhitelistPermissions>& ranges) const;\r\n-    static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags);\r\n \r\n     void DeleteNode(CNode* pnode);\r\n```\r\n</p></details>\r\n",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-05T16:09:44Z",
      "diff_hunk" : "@@ -983,7 +985,8 @@ class CConnman\n \n     bool AttemptToEvictConnection();\n     CNode* ConnectNode(CAddress addrConnect, const char *pszDest, bool fCountFailure, ConnectionType conn_type) EXCLUSIVE_LOCKS_REQUIRED(!m_unused_i2p_sessions_mutex);\n-    void AddWhitelistPermissionFlags(NetPermissionFlags& flags, const CNetAddr &addr) const;\n+    void AddWhitelistPermissionFlags(NetPermissionFlags& output_flags, const CNetAddr &addr, const std::vector<NetWhitelistPermissions>& ranges) const;\n+    static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186270266",
      "id" : 1186270266,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585GtQw6",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 989,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 1415072190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186270266/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-05T18:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186270266",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186324954"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186324954"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "f52fc86 named arg, if you retouch and stay with the nullptr approach\r\n```suggestion\r\n    if (!TryParsePermissionFlags(str, flags, /*output_connection_direction=*/nullptr, offset, error)) return false;\r\n```",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-05T17:10:53Z",
      "diff_hunk" : "@@ -85,7 +98,7 @@ bool NetWhitebindPermissions::TryParse(const std::string& str, NetWhitebindPermi\n {\n     NetPermissionFlags flags;\n     size_t offset;\n-    if (!TryParsePermissionFlags(str, flags, offset, error)) return false;\n+    if (!TryParsePermissionFlags(str, flags, nullptr, offset, error)) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186324954",
      "id" : 1186324954,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585GteHa",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 101,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "src/net_permissions.cpp",
      "position" : null,
      "pull_request_review_id" : 1415072190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186324954/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-05T18:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186324954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186325710"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186325710"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/f52fc86d0840221a5d106eec201a4dcffd7d5774 can make the function `static` while touching this line\r\n\r\n```suggestion\r\nstatic bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, ConnectionDirection* output_connection_direction, size_t& readen, bilingual_str& error)\r\n```",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-05T17:11:52Z",
      "diff_hunk" : "@@ -21,9 +21,10 @@ const std::vector<std::string> NET_PERMISSIONS_DOC{\n namespace {\n \n // Parse the following format: \"perm1,perm2@xxxxxx\"\n-bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, size_t& readen, bilingual_str& error)\n+bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, ConnectionDirection* output_connection_direction, size_t& readen, bilingual_str& error)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186325710",
      "id" : 1186325710,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585GteTO",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 24,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_permissions.cpp",
      "position" : null,
      "pull_request_review_id" : 1415072190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186325710/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-05T18:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186325710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186336634"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186336634"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/f52fc86d0840221a5d106eec201a4dcffd7d5774  \r\n\r\n- The following error message would be clearer, I think\r\n\r\n```suggestion\r\n                    error = _(\"whitebind may only be used for incoming connections (\\\"out\\\" was passed)\");\r\n```\r\n\r\n- My first thought was if it would make sense to pass `output_connection_direction` as a `std::optional<ConnectionDirection>`.\r\n\r\n- But also, relying on `nullptr` and overloading this param for the callee to know who the caller is (here and line 77 after) seems needlessly non-robust just to avoid a boolean param. Could either make it very clear\r\n\r\n```diff\r\n-                if (!output_connection_direction) {\r\n+                if (output_connection_direction == nullptr) {\r\n+                    // Only NetWhitebindPermissions() should pass a nullptr.\r\n```\r\n\r\nor use an explicit `is_whitebind` boolean param for this -- a bool is extremely cheap -- and pass `output_connection_direction` as a `ConnectionDirection`, which would make the code simpler and more self-documenting. (Edit: I realize this commit was pulled in from another author, so feel free to ignore this last point.)",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-05T17:23:22Z",
      "diff_hunk" : "@@ -52,6 +53,14 @@ bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output,\n             else if (permission == \"all\") NetPermissions::AddFlag(flags, NetPermissionFlags::All);\n             else if (permission == \"relay\") NetPermissions::AddFlag(flags, NetPermissionFlags::Relay);\n             else if (permission == \"addr\") NetPermissions::AddFlag(flags, NetPermissionFlags::Addr);\n+            else if (permission == \"in\") connection_direction |= ConnectionDirection::In;\n+            else if (permission == \"out\") {\n+                if (!output_connection_direction) {\n+                    error = _(\"whitebind is only used for incoming connections\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186336634",
      "id" : 1186336634,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Gtg96",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 59,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/net_permissions.cpp",
      "position" : null,
      "pull_request_review_id" : 1415072190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186336634/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-06T01:32:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186336634",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186352750"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186352750"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/f52fc86d0840221a5d106eec201a4dcffd7d5774 missing header, sort\r\n\r\n```diff \r\n #include <net_permissions.h>\r\n+#include <netbase.h>\r\n #include <test/fuzz/FuzzedDataProvider.h>\r\n@@ -31,8 +32,8 @@ FUZZ_TARGET(net_permissions)\r\n \r\n     NetWhitelistPermissions net_whitelist_permissions;\r\n-    bilingual_str error_net_whitelist_permissions;\r\n     ConnectionDirection connection_direction;\r\n+    bilingual_str error_net_whitelist_permissions;\r\n     if (NetWhitelistPermissions::TryParse(s, net_whitelist_permissions, connection_direction, error_net_whitelist_permissions)) {\r\n```\r\n",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-05T17:41:23Z",
      "diff_hunk" : "@@ -32,7 +32,8 @@ FUZZ_TARGET(net_permissions)\n \n     NetWhitelistPermissions net_whitelist_permissions;\n     bilingual_str error_net_whitelist_permissions;\n-    if (NetWhitelistPermissions::TryParse(s, net_whitelist_permissions, error_net_whitelist_permissions)) {\n+    ConnectionDirection connection_direction;\n+    if (NetWhitelistPermissions::TryParse(s, net_whitelist_permissions, connection_direction, error_net_whitelist_permissions)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186352750",
      "id" : 1186352750,
      "line" : 37,
      "node_id" : "PRRC_kwDOABII585Gtk5u",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 37,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/test/fuzz/net_permissions.cpp",
      "position" : 15,
      "pull_request_review_id" : 1415072190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186352750/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-05T18:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186352750",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186367052"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186367052"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/f52fc86d0840221a5d106eec201a4dcffd7d5774 Can also test the error case.\r\n\r\n```diff\r\n@@ -446,6 +446,9 @@ BOOST_AUTO_TEST_CASE(netpermissions_test)\r\n     BOOST_CHECK(NetWhitebindPermissions::TryParse(\",,@1.2.3.4:32\", whitebindPermissions, error));\r\n     BOOST_CHECK_EQUAL(whitebindPermissions.m_flags, NetPermissionFlags::None);\r\n \r\n+    BOOST_CHECK(!NetWhitebindPermissions::TryParse(\"out,forcerelay@1.2.3.4:32\", whitebindPermissions, error));\r\n+    BOOST_CHECK(error.original.find(\"whitebind may only be used for incoming connections (\\\"out\\\" was passed)\") != std::string::npos);\r\n+\r\n     // Detect invalid flag\r\n     BOOST_CHECK(!NetWhitebindPermissions::TryParse(\"bloom,forcerelay,oopsie@1.2.3.4:32\", whitebindPermissions, error));\r\n     BOOST_CHECK(error.original.find(\"Invalid P2P permission\") != std::string::npos);\r\n```\r\n",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-05T17:59:36Z",
      "diff_hunk" : "@@ -450,19 +451,25 @@ BOOST_AUTO_TEST_CASE(netpermissions_test)\n     BOOST_CHECK(error.original.find(\"Invalid P2P permission\") != std::string::npos);\n \n     // Check netmask error\n-    BOOST_CHECK(!NetWhitelistPermissions::TryParse(\"bloom,forcerelay,noban@1.2.3.4:32\", whitelistPermissions, error));\n+    BOOST_CHECK(!NetWhitelistPermissions::TryParse(\"bloom,forcerelay,noban@1.2.3.4:32\", whitelistPermissions, connection_direction, error));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186367052",
      "id" : 1186367052,
      "line" : 455,
      "node_id" : "PRRC_kwDOABII585GtoZM",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 455,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "src/test/netbase_tests.cpp",
      "position" : 21,
      "pull_request_review_id" : 1415072190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186367052/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-05T18:24:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186367052",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186373633"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186373633"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/f52fc86d0840221a5d106eec201a4dcffd7d5774 without quotes here it doesn't seem clear that these are values to be passed\r\n\r\n```suggestion\r\n        \"Additional flags \\\"in\\\" and \\\"out\\\" control whether permissions apply to incoming connections and/or outgoing (default: %s). \"\r\n```\r\n\r\n```\r\n$ ./src/bitcoind -h | grep -A7 \"\\-whitelist=\"\r\n  -whitelist=<[permissions@]IP address or network>\r\n       Add permission flags to the peers using the given IP address (e.g.\r\n       1.2.3.4) or CIDR-notated network (e.g. 1.2.3.0/24). Uses the same\r\n       permissions as -whitebind. Additional flags \"in\" and \"out\"\r\n       control whether permissions apply to incoming connections and/or\r\n       outgoing (default: incoming only). Can be specified multiple\r\n       times.\r\n```\r\n",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-05T18:07:46Z",
      "diff_hunk" : "@@ -520,9 +520,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"\n         \"CIDR-notated network (e.g. 1.2.3.0/24). Uses the same permissions as \"\n-        \"-whitebind. Can be specified multiple times.\" , ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+        \"-whitebind. \"\n+        \"Additional flags in and out control whether permissions apply to incoming connections and/or outgoing (default: %s). \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186373633",
      "id" : 1186373633,
      "in_reply_to_id" : 1132895083,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585GtqAB",
      "original_commit_id" : "5410b13a9c60e29c7d98638aa643638265bb7640",
      "original_line" : 525,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1415072190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186373633/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-05T18:24:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186373633",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186377787"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186377787"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "19f3f3a A comment here for future readers documenting when/why to use this would be good.",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-05T18:13:24Z",
      "diff_hunk" : "@@ -495,6 +496,9 @@ def get_bin_from_version(version, bin_name, bin_default):\n             extra_confs = [[]] * num_nodes\n         if extra_args is None:\n             extra_args = [[]] * num_nodes\n+        if self.whitelist_peers:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186377787",
      "id" : 1186377787,
      "line" : 500,
      "node_id" : "PRRC_kwDOABII585GtrA7",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 500,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 13,
      "pull_request_review_id" : 1415072190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186377787/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-05T18:24:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186377787",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186378760"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186378760"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/commit/19f3f3a316660890f03d6ddcb4a4230eb2ff5e91 This doesn't seem to be a pure refactoring here and in `mempool_packages.py` and `p2p_segwit.py`\r\n",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-05T18:14:46Z",
      "diff_hunk" : "@@ -15,12 +15,7 @@\n class MempoolCoinbaseTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 2\n-        self.extra_args = [\n-            [\n-                '-whitelist=noban@127.0.0.1',  # immediate tx relay\n-            ],\n-            []\n-        ]\n+        self.whitelist_peers = True",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186378760",
      "id" : 1186378760,
      "line" : 18,
      "node_id" : "PRRC_kwDOABII585GtrQI",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 18,
      "original_position" : 10,
      "original_start_line" : null,
      "path" : "test/functional/mempool_reorg.py",
      "position" : 10,
      "pull_request_review_id" : 1415072190,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186378760/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-05T18:24:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1186378760",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187582119"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187582119"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-08T15:26:40Z",
      "diff_hunk" : "@@ -983,7 +985,8 @@ class CConnman\n \n     bool AttemptToEvictConnection();\n     CNode* ConnectNode(CAddress addrConnect, const char *pszDest, bool fCountFailure, ConnectionType conn_type) EXCLUSIVE_LOCKS_REQUIRED(!m_unused_i2p_sessions_mutex);\n-    void AddWhitelistPermissionFlags(NetPermissionFlags& flags, const CNetAddr &addr) const;\n+    void AddWhitelistPermissionFlags(NetPermissionFlags& output_flags, const CNetAddr &addr, const std::vector<NetWhitelistPermissions>& ranges) const;\n+    static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187582119",
      "id" : 1187582119,
      "in_reply_to_id" : 1186270266,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585GyRCn",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 989,
      "original_position" : 22,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 1417022364,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187582119/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-08T15:26:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187582119",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187582254"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187582254"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-08T15:26:47Z",
      "diff_hunk" : "@@ -85,7 +98,7 @@ bool NetWhitebindPermissions::TryParse(const std::string& str, NetWhitebindPermi\n {\n     NetPermissionFlags flags;\n     size_t offset;\n-    if (!TryParsePermissionFlags(str, flags, offset, error)) return false;\n+    if (!TryParsePermissionFlags(str, flags, nullptr, offset, error)) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187582254",
      "id" : 1187582254,
      "in_reply_to_id" : 1186324954,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585GyREu",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 101,
      "original_position" : 44,
      "original_start_line" : null,
      "path" : "src/net_permissions.cpp",
      "position" : null,
      "pull_request_review_id" : 1417022603,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187582254/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-08T15:26:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187582254",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187582474"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187582474"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-08T15:26:59Z",
      "diff_hunk" : "@@ -21,9 +21,10 @@ const std::vector<std::string> NET_PERMISSIONS_DOC{\n namespace {\n \n // Parse the following format: \"perm1,perm2@xxxxxx\"\n-bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, size_t& readen, bilingual_str& error)\n+bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, ConnectionDirection* output_connection_direction, size_t& readen, bilingual_str& error)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187582474",
      "id" : 1187582474,
      "in_reply_to_id" : 1186325710,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585GyRIK",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 24,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net_permissions.cpp",
      "position" : null,
      "pull_request_review_id" : 1417022913,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187582474/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-08T15:26:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187582474",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187585622"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187585622"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I just changed the error message and adopted the diff (seems so much better to check whether this is a `nullptr`):\r\n```diff\r\n-                if (!output_connection_direction) {\r\n+                if (output_connection_direction == nullptr) {\r\n+                    // Only NetWhitebindPermissions() should pass a nullptr.\r\n```",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-08T15:30:02Z",
      "diff_hunk" : "@@ -52,6 +53,14 @@ bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output,\n             else if (permission == \"all\") NetPermissions::AddFlag(flags, NetPermissionFlags::All);\n             else if (permission == \"relay\") NetPermissions::AddFlag(flags, NetPermissionFlags::Relay);\n             else if (permission == \"addr\") NetPermissions::AddFlag(flags, NetPermissionFlags::Addr);\n+            else if (permission == \"in\") connection_direction |= ConnectionDirection::In;\n+            else if (permission == \"out\") {\n+                if (!output_connection_direction) {\n+                    error = _(\"whitebind is only used for incoming connections\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187585622",
      "id" : 1187585622,
      "in_reply_to_id" : 1186336634,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585GyR5W",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 59,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/net_permissions.cpp",
      "position" : null,
      "pull_request_review_id" : 1417027950,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187585622/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-08T15:30:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187585622",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187591763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187591763"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Added right before:\r\n```diff\r\n+ # Whitelist peers to speed up tx relay / mempool sync\r\n```",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-08T15:35:58Z",
      "diff_hunk" : "@@ -495,6 +496,9 @@ def get_bin_from_version(version, bin_name, bin_default):\n             extra_confs = [[]] * num_nodes\n         if extra_args is None:\n             extra_args = [[]] * num_nodes\n+        if self.whitelist_peers:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187591763",
      "id" : 1187591763,
      "in_reply_to_id" : 1186377787,
      "line" : 500,
      "node_id" : "PRRC_kwDOABII585GyTZT",
      "original_commit_id" : "19f3f3a316660890f03d6ddcb4a4230eb2ff5e91",
      "original_line" : 500,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 13,
      "pull_request_review_id" : 1417037191,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187591763/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-08T15:35:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187591763",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187595794"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187595794"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Just added it to make it clearer",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-08T15:39:51Z",
      "diff_hunk" : "@@ -520,9 +520,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"\n         \"CIDR-notated network (e.g. 1.2.3.0/24). Uses the same permissions as \"\n-        \"-whitebind. Can be specified multiple times.\" , ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+        \"-whitebind. \"\n+        \"Additional flags in and out control whether permissions apply to incoming connections and/or outgoing (default: %s). \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1187595794",
      "id" : 1187595794,
      "in_reply_to_id" : 1132895083,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585GyUYS",
      "original_commit_id" : "5410b13a9c60e29c7d98638aa643638265bb7640",
      "original_line" : 525,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1417044074,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187595794/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-08T15:39:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1187595794",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing @jonatack's review.\r\n\r\n- Moved `InitializePermissionFlags` out of `CConnman`\r\n- Made `TryParsePermissionFlags` static\r\n- Added more test coverage https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1186367052\r\n- Improved documentation",
      "created_at" : "2023-05-08T15:43:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1538611034",
      "id" : 1538611034,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585btVda",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1538611034/reactions"
      },
      "updated_at" : "2023-05-08T15:43:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1538611034",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191183121"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191183121"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "0a77e6ab37a9b23bd293 I would suggest placing this new helper with the other standalone ones, i.e. after `IsLocal()` or higher, not between the `CConnman::FindNode()` class members (unless there's a reason that I didn't see).",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-11T13:26:19Z",
      "diff_hunk" : "@@ -393,6 +393,20 @@ CNode* CConnman::FindNode(const std::string& addrName)\n     return nullptr;\n }\n \n+static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191183121",
      "id" : 1191183121,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585HAAMR",
      "original_commit_id" : "f99912850e2a50b1a89ba9bc622a6652f18c4049",
      "original_line" : 406,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1422614006,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191183121/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-11T13:58:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191183121",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191191757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191191757"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ea46500ece2\r\n```suggestion\r\n        \"Additional flags \\\"in\\\" and \\\"out\\\" control whether permissions apply to incoming connections and/or outgoing (default: %s). \"\r\n```",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-11T13:34:05Z",
      "diff_hunk" : "@@ -521,9 +521,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"\n         \"CIDR-notated network (e.g. 1.2.3.0/24). Uses the same permissions as \"\n-        \"-whitebind. Can be specified multiple times.\" , ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+        \"-whitebind. \"\n+        \"Additional flags \\\"in\\\" and \\\"in\\\" control whether permissions apply to incoming connections and/or outgoing (default: %s). \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191191757",
      "id" : 1191191757,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585HACTN",
      "original_commit_id" : "f99912850e2a50b1a89ba9bc622a6652f18c4049",
      "original_line" : 527,
      "original_position" : 18,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1422614006,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191191757/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-11T13:58:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191191757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191197012"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191197012"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "f99912850e2a50b1a\r\n```suggestion\r\n        # Whitelist peers to speed up tx relay / mempool sync. Don't use if testing tx relay or timing.\r\n```",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-11T13:41:27Z",
      "diff_hunk" : "@@ -495,6 +496,10 @@ def get_bin_from_version(version, bin_name, bin_default):\n             extra_confs = [[]] * num_nodes\n         if extra_args is None:\n             extra_args = [[]] * num_nodes\n+        # Whitelist peers to speed up tx relay / mempool sync",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191197012",
      "id" : 1191197012,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585HADlU",
      "original_commit_id" : "f99912850e2a50b1a89ba9bc622a6652f18c4049",
      "original_line" : 499,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 1422614006,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191197012/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-11T13:58:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191197012",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191201370"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191201370"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Why this change?",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-11T13:48:07Z",
      "diff_hunk" : "@@ -434,7 +434,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-blocknotify=<cmd>\", \"Execute command when the best block changes (%s in cmd is replaced by block hash)\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n #endif\n     argsman.AddArg(\"-blockreconstructionextratxn=<n>\", strprintf(\"Extra transactions to keep in memory for compact block reconstructions (default: %u)\", DEFAULT_BLOCK_RECONSTRUCTION_EXTRA_TXN), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n-    argsman.AddArg(\"-blocksonly\", strprintf(\"Whether to reject transactions from network peers. Automatic broadcast and rebroadcast of any transactions from inbound peers is disabled, unless the peer has the 'forcerelay' permission. RPC transactions are not affected. (default: %u)\", DEFAULT_BLOCKSONLY), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-blocksonly\", strprintf(\"Whether to reject transactions from network peers. Automatic broadcast and rebroadcast of any transactions from peers is disabled, unless the peer has the 'forcerelay' permission. RPC transactions are not affected. (default: %u)\", DEFAULT_BLOCKSONLY), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191201370",
      "id" : 1191201370,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585HAEpa",
      "original_commit_id" : "f99912850e2a50b1a89ba9bc622a6652f18c4049",
      "original_line" : 437,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1422614006,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191201370/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-11T13:58:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1191201370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1194103566"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194103566"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Make sense, going to address it.",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-15T16:55:20Z",
      "diff_hunk" : "@@ -393,6 +393,20 @@ CNode* CConnman::FindNode(const std::string& addrName)\n     return nullptr;\n }\n \n+static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1194103566",
      "id" : 1194103566,
      "in_reply_to_id" : 1191183121,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585HLJMO",
      "original_commit_id" : "f99912850e2a50b1a89ba9bc622a6652f18c4049",
      "original_line" : 406,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1426977330,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194103566/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-15T16:55:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194103566",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1194120554"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194120554"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it was accidental, sorry. I will revert it.",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-05-15T17:08:10Z",
      "diff_hunk" : "@@ -434,7 +434,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-blocknotify=<cmd>\", \"Execute command when the best block changes (%s in cmd is replaced by block hash)\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n #endif\n     argsman.AddArg(\"-blockreconstructionextratxn=<n>\", strprintf(\"Extra transactions to keep in memory for compact block reconstructions (default: %u)\", DEFAULT_BLOCK_RECONSTRUCTION_EXTRA_TXN), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n-    argsman.AddArg(\"-blocksonly\", strprintf(\"Whether to reject transactions from network peers. Automatic broadcast and rebroadcast of any transactions from inbound peers is disabled, unless the peer has the 'forcerelay' permission. RPC transactions are not affected. (default: %u)\", DEFAULT_BLOCKSONLY), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    argsman.AddArg(\"-blocksonly\", strprintf(\"Whether to reject transactions from network peers. Automatic broadcast and rebroadcast of any transactions from peers is disabled, unless the peer has the 'forcerelay' permission. RPC transactions are not affected. (default: %u)\", DEFAULT_BLOCKSONLY), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1194120554",
      "id" : 1194120554,
      "in_reply_to_id" : 1191201370,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585HLNVq",
      "original_commit_id" : "f99912850e2a50b1a89ba9bc622a6652f18c4049",
      "original_line" : 437,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1427003765,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194120554/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-05-15T17:08:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1194120554",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force pushed addressing:\r\n- https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191183121\r\n- https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191191757\r\n- https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191197012\r\n- https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1191201370",
      "created_at" : "2023-05-15T17:10:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1548238840",
      "id" : 1548238840,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585cSD_4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1548238840/reactions"
      },
      "updated_at" : "2023-05-15T17:10:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1548238840",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The InitializePermissionFlags function is added twice, at two different locations, at the first and second commits, then one of them gets erased at the third one.\r\nWould be good to cleanup the history so it's only added once.\r\n\r\nFixed! Thanks, @furszy ",
      "created_at" : "2023-06-22T17:11:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1603030369",
      "id" : 1603030369,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585fjE1h",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1603030369/reactions"
      },
      "updated_at" : "2023-06-22T17:11:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1603030369",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-07-26T09:22:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1651340516",
      "id" : 1651340516,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585ibXTk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1651340516/reactions"
      },
      "updated_at" : "2023-07-26T09:22:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1651340516",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1274667131"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274667131"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If the options is used to speedup tx relay / mempool sync, it should be named appropriately. For example `self.noban_tx_relay`. Also, the option shouldn't be set for tests that previously didn't have it set. Otherwise they are testing something else. (`noban` has other effects than just immediate trickle)",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-07-26T09:30:59Z",
      "diff_hunk" : "@@ -495,6 +496,10 @@ def get_bin_from_version(version, bin_name, bin_default):\n             extra_confs = [[]] * num_nodes\n         if extra_args is None:\n             extra_args = [[]] * num_nodes\n+        # Whitelist peers to speed up tx relay / mempool sync. Don't use it if testing tx relay or timing.\n+        if self.whitelist_peers:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1274667131",
      "id" : 1274667131,
      "line" : 500,
      "node_id" : "PRRC_kwDOABII585L-eB7",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 500,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 13,
      "pull_request_review_id" : 1547261792,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274667131/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-26T09:30:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1274667131",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275260090"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275260090"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Also, the option shouldn't be set for tests that previously didn't have it set\r\n\r\nIt's false by default and it has been set up for tests that were already using it. ",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-07-26T17:07:29Z",
      "diff_hunk" : "@@ -495,6 +496,10 @@ def get_bin_from_version(version, bin_name, bin_default):\n             extra_confs = [[]] * num_nodes\n         if extra_args is None:\n             extra_args = [[]] * num_nodes\n+        # Whitelist peers to speed up tx relay / mempool sync. Don't use it if testing tx relay or timing.\n+        if self.whitelist_peers:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275260090",
      "id" : 1275260090,
      "in_reply_to_id" : 1274667131,
      "line" : 500,
      "node_id" : "PRRC_kwDOABII585MAuy6",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 500,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 13,
      "pull_request_review_id" : 1548222456,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275260090/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-26T17:07:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275260090",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275409948"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275409948"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems weird to use a string placeholder here for `\"incoming only\"` when there isn't a variable",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-07-26T19:39:49Z",
      "diff_hunk" : "@@ -529,9 +529,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"\n         \"CIDR-notated network (e.g. 1.2.3.0/24). Uses the same permissions as \"\n-        \"-whitebind. Can be specified multiple times.\" , ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+        \"-whitebind. \"\n+        \"Additional flags \\\"in\\\" and \\\"out\\\" control whether permissions apply to incoming connections and/or outgoing (default: %s). \"\n+        \"Can be specified multiple times.\", \"incoming only\"), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275409948",
      "id" : 1275409948,
      "line" : 536,
      "node_id" : "PRRC_kwDOABII585MBTYc",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 536,
      "original_position" : 10,
      "original_start_line" : 535,
      "path" : "src/init.cpp",
      "position" : 10,
      "pull_request_review_id" : 1548474448,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275409948/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 535,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-07-26T20:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275409948",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275411963"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275411963"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also I think it's a bit unclear where the \"additional flags\" go, are they part of `[permissions@]` ?",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-07-26T19:41:56Z",
      "diff_hunk" : "@@ -529,9 +529,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"\n         \"CIDR-notated network (e.g. 1.2.3.0/24). Uses the same permissions as \"\n-        \"-whitebind. Can be specified multiple times.\" , ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+        \"-whitebind. \"\n+        \"Additional flags \\\"in\\\" and \\\"out\\\" control whether permissions apply to incoming connections and/or outgoing (default: %s). \"\n+        \"Can be specified multiple times.\", \"incoming only\"), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275411963",
      "id" : 1275411963,
      "in_reply_to_id" : 1275409948,
      "line" : 536,
      "node_id" : "PRRC_kwDOABII585MBT37",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 536,
      "original_position" : 10,
      "original_start_line" : 535,
      "path" : "src/init.cpp",
      "position" : 10,
      "pull_request_review_id" : 1548474448,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275411963/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 535,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-07-26T20:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275411963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275426912"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275426912"
         }
      },
      "author_association" : "MEMBER",
      "body" : "yeah? ð ",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-07-26T19:58:31Z",
      "diff_hunk" : "@@ -170,7 +170,6 @@ def setup_network(self):\n         self.start_nodes(extra_args=[[]] * self.num_nodes)\n         self.import_deterministic_coinbase_privkeys()\n         self.stop_nodes()\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275426912",
      "id" : 1275426912,
      "line" : 173,
      "node_id" : "PRRC_kwDOABII585MBXhg",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 173,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/wallet_import_rescan.py",
      "position" : 4,
      "pull_request_review_id" : 1548474448,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275426912/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-26T20:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275426912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275440729"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275440729"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not sure this is sufficient functional test coverage. With the exception of the new permissions \"in\" and \"out\" which are invalid on master, all tests otherwise pass with this commit (1e09c265a9598df3cc39336e3bcccb993dacf3d8) applied.\r\nI was expecting to see a test that makes an outbound connection to a node that misbehaves and doesn't get banned.\r\n\r\nOr was the motivation more about the tx \"trickle\"? In that case I can see it being hard to test without waiting for time to pass? ",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-07-26T20:14:57Z",
      "diff_hunk" : "@@ -495,6 +496,10 @@ def get_bin_from_version(version, bin_name, bin_default):\n             extra_confs = [[]] * num_nodes\n         if extra_args is None:\n             extra_args = [[]] * num_nodes\n+        # Whitelist peers to speed up tx relay / mempool sync. Don't use it if testing tx relay or timing.\n+        if self.whitelist_peers:\n+            for i in range(len(extra_args)):\n+                extra_args[i] = extra_args[i] + [\"-whitelist=noban,in,out@127.0.0.1\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275440729",
      "id" : 1275440729,
      "line" : 502,
      "node_id" : "PRRC_kwDOABII585MBa5Z",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 502,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 15,
      "pull_request_review_id" : 1548474448,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275440729/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-26T20:23:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275440729",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275643872"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275643872"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`node_services` has been discarded here, likely as an oversight trying to rebase it past 8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67.\r\n\r\nBest approach I see is to export it outward, ensuring callers need to handle the API change.",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-07-27T01:48:55Z",
      "diff_hunk" : "@@ -554,6 +568,11 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n         return nullptr;\n     }\n \n+    NetPermissionFlags permission_flags = NetPermissionFlags::None;\n+    ServiceFlags node_services = nLocalServices;\n+    AddWhitelistPermissionFlags(permission_flags, addrConnect, vWhitelistedRangeOutgoing);\n+    InitializePermissionFlags(permission_flags, node_services);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275643872",
      "id" : 1275643872,
      "line" : 574,
      "node_id" : "PRRC_kwDOABII585MCMfg",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 574,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 28,
      "pull_request_review_id" : 1548861708,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275643872/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-27T01:58:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275643872",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275760519"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275760519"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> It's false by default and it has been set up for tests that were already using it.\r\n\r\nYou are also setting it for tests (all nodes in the test) that only have it set on one node. Not sure about that.",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-07-27T05:48:46Z",
      "diff_hunk" : "@@ -495,6 +496,10 @@ def get_bin_from_version(version, bin_name, bin_default):\n             extra_confs = [[]] * num_nodes\n         if extra_args is None:\n             extra_args = [[]] * num_nodes\n+        # Whitelist peers to speed up tx relay / mempool sync. Don't use it if testing tx relay or timing.\n+        if self.whitelist_peers:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275760519",
      "id" : 1275760519,
      "in_reply_to_id" : 1274667131,
      "line" : 500,
      "node_id" : "PRRC_kwDOABII585MCo-H",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 500,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 13,
      "pull_request_review_id" : 1549049553,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275760519/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-07-27T05:48:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1275760519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1285784839"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285784839"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Also I think it's a bit unclear where the \"additional flags\" go, are they part of [permissions@] ?\r\n\r\nYes, see the docs of `-whitelist`:\r\n```cpp\r\n    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"\r\n        \"CIDR-notated network (e.g. 1.2.3.0/24). Uses the same permissions as \"\r\n        \"-whitebind. \"\r\n        \"Additional flags \\\"in\\\" and \\\"out\\\" control whether permissions apply to incoming connections and/or outgoing (default: %s). \"\r\n        \"Can be specified multiple times.\", \"incoming only\"), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\r\n\r\n    g_wallet_init_interface.AddWalletOptions(argsman);\r\n```\r\n\r\nWe call `[permissions@]` as permissions flags, so this adds additional ones.",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-08-07T12:16:13Z",
      "diff_hunk" : "@@ -529,9 +529,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"\n         \"CIDR-notated network (e.g. 1.2.3.0/24). Uses the same permissions as \"\n-        \"-whitebind. Can be specified multiple times.\" , ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+        \"-whitebind. \"\n+        \"Additional flags \\\"in\\\" and \\\"out\\\" control whether permissions apply to incoming connections and/or outgoing (default: %s). \"\n+        \"Can be specified multiple times.\", \"incoming only\"), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1285784839",
      "id" : 1285784839,
      "in_reply_to_id" : 1275409948,
      "line" : 536,
      "node_id" : "PRRC_kwDOABII585Mo4UH",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 536,
      "original_position" : 10,
      "original_start_line" : 535,
      "path" : "src/init.cpp",
      "position" : 10,
      "pull_request_review_id" : 1565196692,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285784839/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 535,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-07T12:16:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1285784839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286218964"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286218964"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yea, I'm going to change it",
      "commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "created_at" : "2023-08-07T17:56:18Z",
      "diff_hunk" : "@@ -554,6 +568,11 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n         return nullptr;\n     }\n \n+    NetPermissionFlags permission_flags = NetPermissionFlags::None;\n+    ServiceFlags node_services = nLocalServices;\n+    AddWhitelistPermissionFlags(permission_flags, addrConnect, vWhitelistedRangeOutgoing);\n+    InitializePermissionFlags(permission_flags, node_services);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286218964",
      "id" : 1286218964,
      "in_reply_to_id" : 1275643872,
      "line" : 574,
      "node_id" : "PRRC_kwDOABII585MqiTU",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 574,
      "original_position" : 28,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 28,
      "pull_request_review_id" : 1565890507,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286218964/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-07T17:56:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286218964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286334743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286334743"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yea, the motivation here is just to 'speed up' some existing tests. But I like the idea of \"I was expecting to see a test that makes an outbound connection to a node that misbehaves and doesn't get banned.\" this kind of coverage. I'm gonna add it.",
      "commit_id" : "d586e061edb3b9f9524b138e699e9641b7d94b19",
      "created_at" : "2023-08-07T20:00:30Z",
      "diff_hunk" : "@@ -495,6 +496,10 @@ def get_bin_from_version(version, bin_name, bin_default):\n             extra_confs = [[]] * num_nodes\n         if extra_args is None:\n             extra_args = [[]] * num_nodes\n+        # Whitelist peers to speed up tx relay / mempool sync. Don't use it if testing tx relay or timing.\n+        if self.whitelist_peers:\n+            for i in range(len(extra_args)):\n+                extra_args[i] = extra_args[i] + [\"-whitelist=noban,in,out@127.0.0.1\"]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286334743",
      "id" : 1286334743,
      "in_reply_to_id" : 1275440729,
      "line" : 499,
      "node_id" : "PRRC_kwDOABII585Mq-kX",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 499,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 15,
      "pull_request_review_id" : 1566070281,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286334743/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-07T20:00:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286334743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286378724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286378724"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You're right. I am gonna change it for tests that previously had set it for all nodes.",
      "commit_id" : "d586e061edb3b9f9524b138e699e9641b7d94b19",
      "created_at" : "2023-08-07T20:58:55Z",
      "diff_hunk" : "@@ -495,6 +496,10 @@ def get_bin_from_version(version, bin_name, bin_default):\n             extra_confs = [[]] * num_nodes\n         if extra_args is None:\n             extra_args = [[]] * num_nodes\n+        # Whitelist peers to speed up tx relay / mempool sync. Don't use it if testing tx relay or timing.\n+        if self.whitelist_peers:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286378724",
      "id" : 1286378724,
      "in_reply_to_id" : 1274667131,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MrJTk",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 500,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 1566141798,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286378724/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-07T20:58:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286378724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286421558"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286421558"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed",
      "commit_id" : "7a79c86da3e72fed48613272fe917c5b33cce7a3",
      "created_at" : "2023-08-07T22:08:05Z",
      "diff_hunk" : "@@ -170,7 +170,6 @@ def setup_network(self):\n         self.start_nodes(extra_args=[[]] * self.num_nodes)\n         self.import_deterministic_coinbase_privkeys()\n         self.stop_nodes()\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286421558",
      "id" : 1286421558,
      "in_reply_to_id" : 1275426912,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MrTw2",
      "original_commit_id" : "1e09c265a9598df3cc39336e3bcccb993dacf3d8",
      "original_line" : 173,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/wallet_import_rescan.py",
      "position" : null,
      "pull_request_review_id" : 1566208852,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286421558/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-07T22:08:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286421558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed:\r\n\r\n1. Renamed `whitelist_peers` to `noban_tx_relay` and set up it `True` for tests that explicity was whitelisting peers with this purpose of speeding up. - https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1274667131\r\n2. Added test coverage for an outbound node that misbehaves and doesn't get banned. - https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275440729\r\n3. Updated `-blocksonly` documentation.\r\n4. Changed `InitializePermissionFlags` to deal with `https://github.com/bitcoin/bitcoin/commit/8d8eeb422e64ccd08bce92eed2ee9cbbf55ffd67`  -https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1275643872",
      "created_at" : "2023-08-07T22:10:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1668641951",
      "id" : 1668641951,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585jdXSf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668641951/reactions"
      },
      "updated_at" : "2023-08-07T22:10:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668641951",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "1c1bd6cbc6d96fff7f67186aeb57adfe0ee872c4 doesn't build",
      "created_at" : "2023-08-07T22:51:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1668673685",
      "id" : 1668673685,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585jdfCV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668673685/reactions"
      },
      "updated_at" : "2023-08-07T22:51:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668673685",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> https://github.com/bitcoin/bitcoin/commit/1c1bd6cbc6d96fff7f67186aeb57adfe0ee872c4 doesn't build\r\n\r\nsorry, fixing!",
      "created_at" : "2023-08-07T23:02:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1668682243",
      "id" : 1668682243,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585jdhID",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668682243/reactions"
      },
      "updated_at" : "2023-08-07T23:02:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668682243",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> https://github.com/bitcoin/bitcoin/commit/1c1bd6cbc6d96fff7f67186aeb57adfe0ee872c4 doesn't build\r\n\r\nForce-pushed fixing it",
      "created_at" : "2023-08-07T23:13:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1668690479",
      "id" : 1668690479,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585jdjIv",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668690479/reactions"
      },
      "updated_at" : "2023-08-07T23:13:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668690479",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286463105"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286463105"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Dislike scattering this all over the place. `node_services` doesn't even have a meaning with nullptr. Maybe return `std::optional<...>` instead?",
      "commit_id" : "7a79c86da3e72fed48613272fe917c5b33cce7a3",
      "created_at" : "2023-08-07T23:33:53Z",
      "diff_hunk" : "@@ -437,21 +451,22 @@ static CAddress GetBindAddress(const Sock& sock)\n     return addr_bind;\n }\n \n-CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCountFailure, ConnectionType conn_type)\n+std::pair<CNode*, ServiceFlags> CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCountFailure, ConnectionType conn_type)\n {\n     AssertLockNotHeld(m_unused_i2p_sessions_mutex);\n     assert(conn_type != ConnectionType::INBOUND);\n+    ServiceFlags node_services = nLocalServices;\n \n     if (pszDest == nullptr) {\n         if (IsLocal(addrConnect))\n-            return nullptr;\n+            return std::make_pair(nullptr, node_services);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286463105",
      "id" : 1286463105,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Mrd6B",
      "original_commit_id" : "166088d1e7b7b6ed6f56400ca05c628c3562f0b4",
      "original_line" : 462,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1566270246,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286463105/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-07T23:41:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286463105",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286472092"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286472092"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Seems more elegant.",
      "commit_id" : "7a79c86da3e72fed48613272fe917c5b33cce7a3",
      "created_at" : "2023-08-07T23:50:17Z",
      "diff_hunk" : "@@ -437,21 +451,22 @@ static CAddress GetBindAddress(const Sock& sock)\n     return addr_bind;\n }\n \n-CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCountFailure, ConnectionType conn_type)\n+std::pair<CNode*, ServiceFlags> CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCountFailure, ConnectionType conn_type)\n {\n     AssertLockNotHeld(m_unused_i2p_sessions_mutex);\n     assert(conn_type != ConnectionType::INBOUND);\n+    ServiceFlags node_services = nLocalServices;\n \n     if (pszDest == nullptr) {\n         if (IsLocal(addrConnect))\n-            return nullptr;\n+            return std::make_pair(nullptr, node_services);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1286472092",
      "id" : 1286472092,
      "in_reply_to_id" : 1286463105,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585MrgGc",
      "original_commit_id" : "166088d1e7b7b6ed6f56400ca05c628c3562f0b4",
      "original_line" : 462,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1566282255,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286472092/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-07T23:50:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1286472092",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, @luke-jr! Force-pushed changing `CConnman::ConnectNode` to std::optional",
      "created_at" : "2023-08-08T00:01:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1668722534",
      "id" : 1668722534,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585jdq9m",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668722534/reactions"
      },
      "updated_at" : "2023-08-08T00:01:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1668722534",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1287433864"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287433864"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't think you need to use `sprintf` here? Might be left over from the `incoming only` thing you just updated?",
      "commit_id" : "d54e7dad7513ab4c587456b56d3a838daa151e4d",
      "created_at" : "2023-08-08T17:18:04Z",
      "diff_hunk" : "@@ -529,9 +529,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1287433864",
      "id" : 1287433864,
      "line" : 532,
      "node_id" : "PRRC_kwDOABII585MvK6I",
      "original_commit_id" : "42ad2ea37d1970bdcd1999a05158a04703935ea1",
      "original_line" : 532,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 14,
      "pull_request_review_id" : 1567795941,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287433864/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-08-08T18:50:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287433864",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1287479200"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287479200"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I might be misunderstanding something here, but I think this chunk can be moved to `net_processing.cpp` `InitializeNode()` because:\r\n- the `CNode` will already have its `m_permission_flags` set in `ConnectNode()`\r\n- `m_permission_flags` is all that's needed to set `our_services` inside `InitializeNode()`\r\n- then you won't need to use `std::optional<std::pair<CNode*, ServiceFlags>> ` which is, hey, a real banger of a type!\r\n\r\nOtherwise I don't see a reason to compute and then pass around those service flags through all those functions before they are used.  (`ConnectNode()->OpenNetworkConnection()->InitializeNode()`)\r\n\r\nAs a side note, this looks like a lot of work to allow BLOOM for an *outgoing* peer, which must be a really weird edge case anyway right?",
      "commit_id" : "d54e7dad7513ab4c587456b56d3a838daa151e4d",
      "created_at" : "2023-08-08T18:04:53Z",
      "diff_hunk" : "@@ -362,6 +362,20 @@ bool IsLocal(const CService& addr)\n     return mapLocalHost.count(addr) > 0;\n }\n \n+static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags) {\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::Implicit)) {\n+        NetPermissions::ClearFlag(flags, NetPermissionFlags::Implicit);\n+        if (gArgs.GetBoolArg(\"-whitelistforcerelay\", DEFAULT_WHITELISTFORCERELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::ForceRelay);\n+        if (gArgs.GetBoolArg(\"-whitelistrelay\", DEFAULT_WHITELISTRELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::Relay);\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::Mempool);\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::NoBan);\n+    }\n+\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::BloomFilter)) {\n+        service_flags = static_cast<ServiceFlags>(service_flags | NODE_BLOOM);\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1287479200",
      "id" : 1287479200,
      "line" : 376,
      "node_id" : "PRRC_kwDOABII585MvV-g",
      "original_commit_id" : "d54e7dad7513ab4c587456b56d3a838daa151e4d",
      "original_line" : 376,
      "original_position" : 15,
      "original_start_line" : 374,
      "path" : "src/net.cpp",
      "position" : 15,
      "pull_request_review_id" : 1567795941,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287479200/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 374,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-08-08T18:50:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1287479200",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1337794515"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337794515"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You're correct! Gonna change it.",
      "commit_id" : "d54e7dad7513ab4c587456b56d3a838daa151e4d",
      "created_at" : "2023-09-26T21:17:24Z",
      "diff_hunk" : "@@ -529,9 +529,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1337794515",
      "id" : 1337794515,
      "in_reply_to_id" : 1287433864,
      "line" : 532,
      "node_id" : "PRRC_kwDOABII585PvR_T",
      "original_commit_id" : "42ad2ea37d1970bdcd1999a05158a04703935ea1",
      "original_line" : 532,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 14,
      "pull_request_review_id" : 1645222850,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337794515/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-09-26T21:17:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1337794515",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1338932344"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338932344"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> `m_permission_flags` is all that's needed to set `our_services` inside `InitializeNode()`\r\n\r\nAre you sure? I think we need to access of `nLocalServices` for it and we need to do it in `CConnman`, doesn't it?",
      "commit_id" : "d54e7dad7513ab4c587456b56d3a838daa151e4d",
      "created_at" : "2023-09-27T17:02:08Z",
      "diff_hunk" : "@@ -362,6 +362,20 @@ bool IsLocal(const CService& addr)\n     return mapLocalHost.count(addr) > 0;\n }\n \n+static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags) {\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::Implicit)) {\n+        NetPermissions::ClearFlag(flags, NetPermissionFlags::Implicit);\n+        if (gArgs.GetBoolArg(\"-whitelistforcerelay\", DEFAULT_WHITELISTFORCERELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::ForceRelay);\n+        if (gArgs.GetBoolArg(\"-whitelistrelay\", DEFAULT_WHITELISTRELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::Relay);\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::Mempool);\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::NoBan);\n+    }\n+\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::BloomFilter)) {\n+        service_flags = static_cast<ServiceFlags>(service_flags | NODE_BLOOM);\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1338932344",
      "id" : 1338932344,
      "in_reply_to_id" : 1287479200,
      "line" : 376,
      "node_id" : "PRRC_kwDOABII585Pznx4",
      "original_commit_id" : "d54e7dad7513ab4c587456b56d3a838daa151e4d",
      "original_line" : 376,
      "original_position" : 15,
      "original_start_line" : 374,
      "path" : "src/net.cpp",
      "position" : 15,
      "pull_request_review_id" : 1647189914,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338932344/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 374,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-09-27T17:02:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1338932344",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2023-09-27T22:36:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1738197965",
      "id" : 1738197965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585nmsvN",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1738197965/reactions"
      },
      "updated_at" : "2023-09-27T22:36:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1738197965",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/152159?v=4",
         "events_url" : "https://api.github.com/users/RandyMcMillan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RandyMcMillan/followers",
         "following_url" : "https://api.github.com/users/RandyMcMillan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RandyMcMillan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RandyMcMillan",
         "id" : 152159,
         "login" : "RandyMcMillan",
         "node_id" : "MDQ6VXNlcjE1MjE1OQ==",
         "organizations_url" : "https://api.github.com/users/RandyMcMillan/orgs",
         "received_events_url" : "https://api.github.com/users/RandyMcMillan/received_events",
         "repos_url" : "https://api.github.com/users/RandyMcMillan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RandyMcMillan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RandyMcMillan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RandyMcMillan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-10-03T10:31:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1744688133",
      "id" : 1744688133,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585n_dQF",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1744688133/reactions"
      },
      "updated_at" : "2023-10-03T10:31:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1744688133",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1344179856"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1344179856"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done!",
      "commit_id" : "89460f993ddd6d4a52201fe8134300257314ed02",
      "created_at" : "2023-10-03T14:12:37Z",
      "diff_hunk" : "@@ -529,9 +529,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", strprintf(\"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1344179856",
      "id" : 1344179856,
      "in_reply_to_id" : 1287433864,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585QHo6Q",
      "original_commit_id" : "42ad2ea37d1970bdcd1999a05158a04703935ea1",
      "original_line" : 532,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1655320980,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1344179856/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-03T14:12:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1344179856",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased and addressed https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1287433864.",
      "created_at" : "2023-10-03T14:12:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1745065578",
      "id" : 1745065578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585oA5Zq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1745065578/reactions"
      },
      "updated_at" : "2023-10-03T14:12:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1745065578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1361163797"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1361163797"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Hi sorry just getting back to this review. Check out my top two commits here: \r\n\r\nhttps://github.com/pinheadmz/bitcoin/commits/zip-27114\r\n\r\nI'm still running the tests locally and I could be totally missing something, but this was what I was thinking. I don't think `ConnectNode()` needs to return a pair with the service flags, as long as we keep your other changes that pass the *permission flags* along inside the CNode",
      "commit_id" : "89460f993ddd6d4a52201fe8134300257314ed02",
      "created_at" : "2023-10-16T19:14:34Z",
      "diff_hunk" : "@@ -362,6 +362,20 @@ bool IsLocal(const CService& addr)\n     return mapLocalHost.count(addr) > 0;\n }\n \n+static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags) {\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::Implicit)) {\n+        NetPermissions::ClearFlag(flags, NetPermissionFlags::Implicit);\n+        if (gArgs.GetBoolArg(\"-whitelistforcerelay\", DEFAULT_WHITELISTFORCERELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::ForceRelay);\n+        if (gArgs.GetBoolArg(\"-whitelistrelay\", DEFAULT_WHITELISTRELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::Relay);\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::Mempool);\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::NoBan);\n+    }\n+\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::BloomFilter)) {\n+        service_flags = static_cast<ServiceFlags>(service_flags | NODE_BLOOM);\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1361163797",
      "id" : 1361163797,
      "in_reply_to_id" : 1287479200,
      "line" : 378,
      "node_id" : "PRRC_kwDOABII585RIbYV",
      "original_commit_id" : "d54e7dad7513ab4c587456b56d3a838daa151e4d",
      "original_line" : 378,
      "original_position" : 15,
      "original_start_line" : 374,
      "path" : "src/net.cpp",
      "position" : 15,
      "pull_request_review_id" : 1680794131,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1361163797/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 376,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-10-16T19:14:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1361163797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1363757202"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1363757202"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Interesting! I'm going to do some tests before addressing it, but it sounds good and much cleaner.",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-18T12:12:13Z",
      "diff_hunk" : "@@ -362,6 +362,20 @@ bool IsLocal(const CService& addr)\n     return mapLocalHost.count(addr) > 0;\n }\n \n+static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags) {\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::Implicit)) {\n+        NetPermissions::ClearFlag(flags, NetPermissionFlags::Implicit);\n+        if (gArgs.GetBoolArg(\"-whitelistforcerelay\", DEFAULT_WHITELISTFORCERELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::ForceRelay);\n+        if (gArgs.GetBoolArg(\"-whitelistrelay\", DEFAULT_WHITELISTRELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::Relay);\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::Mempool);\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::NoBan);\n+    }\n+\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::BloomFilter)) {\n+        service_flags = static_cast<ServiceFlags>(service_flags | NODE_BLOOM);\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1363757202",
      "id" : 1363757202,
      "in_reply_to_id" : 1287479200,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585RSUiS",
      "original_commit_id" : "d54e7dad7513ab4c587456b56d3a838daa151e4d",
      "original_line" : 378,
      "original_position" : 15,
      "original_start_line" : 374,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1684891167,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1363757202/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-10-18T12:12:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1363757202",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1364369082"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1364369082"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done! ",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-18T18:53:45Z",
      "diff_hunk" : "@@ -362,6 +362,20 @@ bool IsLocal(const CService& addr)\n     return mapLocalHost.count(addr) > 0;\n }\n \n+static void InitializePermissionFlags(NetPermissionFlags& flags, ServiceFlags& service_flags) {\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::Implicit)) {\n+        NetPermissions::ClearFlag(flags, NetPermissionFlags::Implicit);\n+        if (gArgs.GetBoolArg(\"-whitelistforcerelay\", DEFAULT_WHITELISTFORCERELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::ForceRelay);\n+        if (gArgs.GetBoolArg(\"-whitelistrelay\", DEFAULT_WHITELISTRELAY)) NetPermissions::AddFlag(flags, NetPermissionFlags::Relay);\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::Mempool);\n+        NetPermissions::AddFlag(flags, NetPermissionFlags::NoBan);\n+    }\n+\n+    if (NetPermissions::HasFlag(flags, NetPermissionFlags::BloomFilter)) {\n+        service_flags = static_cast<ServiceFlags>(service_flags | NODE_BLOOM);\n+    }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1364369082",
      "id" : 1364369082,
      "in_reply_to_id" : 1287479200,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585RUp66",
      "original_commit_id" : "d54e7dad7513ab4c587456b56d3a838daa151e4d",
      "original_line" : 378,
      "original_position" : 15,
      "original_start_line" : 374,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1685871936,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1364369082/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-10-18T18:53:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1364369082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed addressing https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1361163797. Thanks, @pinheadmz.",
      "created_at" : "2023-10-18T18:54:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1769136886",
      "id" : 1769136886,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585pcuL2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1769136886/reactions"
      },
      "updated_at" : "2023-10-18T18:54:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1769136886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365630948"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365630948"
         }
      },
      "author_association" : "MEMBER",
      "body" : "optional nit: I think `connecting from` is still better than `using`",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-19T14:22:03Z",
      "diff_hunk" : "@@ -531,9 +531,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365630948",
      "id" : 1365630948,
      "line" : 534,
      "node_id" : "PRRC_kwDOABII585RZd_k",
      "original_commit_id" : "22e64e8ab55310fa613946eaf3861b7211a493e1",
      "original_line" : 534,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 14,
      "pull_request_review_id" : 1687883287,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365630948/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-19T14:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365630948",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365639636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365639636"
         }
      },
      "author_association" : "MEMBER",
      "body" : "optional nit: unnecessary whitespace change?",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-19T14:27:28Z",
      "diff_hunk" : "@@ -2910,9 +2915,9 @@ void CConnman::OpenNetworkConnection(const CAddress& addrConnect, bool fCountFai\n         return;\n \n     CNode* pnode = ConnectNode(addrConnect, pszDest, fCountFailure, conn_type, use_v2transport);\n-\n     if (!pnode)\n         return;\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365639636",
      "id" : 1365639636,
      "line" : 2920,
      "node_id" : "PRRC_kwDOABII585RZgHU",
      "original_commit_id" : "22e64e8ab55310fa613946eaf3861b7211a493e1",
      "original_line" : 2920,
      "original_position" : 46,
      "original_start_line" : 2913,
      "path" : "src/net.cpp",
      "position" : 81,
      "pull_request_review_id" : 1687883287,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365639636/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 2912,
      "start_side" : "LEFT",
      "subject_type" : "line",
      "updated_at" : "2023-10-19T14:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365639636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365643561"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365643561"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Might be nice for future devs looking at this code to rename the original `vWhitelistedRange` to `vWhitelistedRangeIncoming`, unless there's a reason like is it ever not just for incoming connections?",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-19T14:29:36Z",
      "diff_hunk" : "@@ -1071,6 +1071,7 @@ class CConnman\n         int64_t m_peer_connect_timeout = DEFAULT_PEER_CONNECT_TIMEOUT;\n         std::vector<std::string> vSeedNodes;\n         std::vector<NetWhitelistPermissions> vWhitelistedRange;\n+        std::vector<NetWhitelistPermissions> vWhitelistedRangeOutgoing;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365643561",
      "id" : 1365643561,
      "line" : 1074,
      "node_id" : "PRRC_kwDOABII585RZhEp",
      "original_commit_id" : "22e64e8ab55310fa613946eaf3861b7211a493e1",
      "original_line" : 1074,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 4,
      "pull_request_review_id" : 1687883287,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365643561/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-19T14:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365643561",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365649327"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365649327"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Does this mean that `in` and `out` are now required in conf options? If you defaulted to `::In` here would that maintain backwards compatibility?",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-19T14:32:33Z",
      "diff_hunk" : "@@ -21,9 +21,10 @@ const std::vector<std::string> NET_PERMISSIONS_DOC{\n namespace {\n \n // Parse the following format: \"perm1,perm2@xxxxxx\"\n-bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, size_t& readen, bilingual_str& error)\n+static bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, ConnectionDirection* output_connection_direction, size_t& readen, bilingual_str& error)\n {\n     NetPermissionFlags flags = NetPermissionFlags::None;\n+    ConnectionDirection connection_direction = ConnectionDirection::None;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365649327",
      "id" : 1365649327,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII585RZiev",
      "original_commit_id" : "22e64e8ab55310fa613946eaf3861b7211a493e1",
      "original_line" : 27,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/net_permissions.cpp",
      "position" : 8,
      "pull_request_review_id" : 1687883287,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365649327/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-19T14:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365649327",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365653789"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365653789"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Update: oh I see the default now on line 75 below... why not set that here when you initialize the variable?",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-19T14:35:19Z",
      "diff_hunk" : "@@ -21,9 +21,10 @@ const std::vector<std::string> NET_PERMISSIONS_DOC{\n namespace {\n \n // Parse the following format: \"perm1,perm2@xxxxxx\"\n-bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, size_t& readen, bilingual_str& error)\n+static bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, ConnectionDirection* output_connection_direction, size_t& readen, bilingual_str& error)\n {\n     NetPermissionFlags flags = NetPermissionFlags::None;\n+    ConnectionDirection connection_direction = ConnectionDirection::None;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365653789",
      "id" : 1365653789,
      "in_reply_to_id" : 1365649327,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII585RZjkd",
      "original_commit_id" : "22e64e8ab55310fa613946eaf3861b7211a493e1",
      "original_line" : 27,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/net_permissions.cpp",
      "position" : 8,
      "pull_request_review_id" : 1687883287,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365653789/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-19T14:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365653789",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365682557"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365682557"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I really like this clean up commit! Nice feature. I didn't deeply check all the results from this git grep, but there might still be more to do? Maybe from recent test additions on master?\r\n\r\n```\r\n--> git grep whitelist *.py | wc -l\r\n55\r\n```",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-19T14:50:56Z",
      "diff_hunk" : "@@ -96,6 +96,7 @@ def __init__(self) -> None:\n         \"\"\"Sets test framework defaults. Do not override this method. Instead, override the set_test_params() method\"\"\"\n         self.chain: str = 'regtest'\n         self.setup_clean_chain: bool = False\n+        self.noban_tx_relay: bool = False",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365682557",
      "id" : 1365682557,
      "line" : 99,
      "node_id" : "PRRC_kwDOABII585RZql9",
      "original_commit_id" : "38839bea822213bd7a7b0da95c926331af8db002",
      "original_line" : 99,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 4,
      "pull_request_review_id" : 1687883287,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365682557/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-19T14:53:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365682557",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "oh one more thing! probably should add a release note :-)",
      "created_at" : "2023-10-19T14:54:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1771158819",
      "id" : 1771158819,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585pkb0j",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1771158819/reactions"
      },
      "updated_at" : "2023-10-19T14:54:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1771158819",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365770185"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365770185"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "perhaps only \"from\"? \"connecting from\" seems inbound only.",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-19T15:46:24Z",
      "diff_hunk" : "@@ -531,9 +531,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365770185",
      "id" : 1365770185,
      "in_reply_to_id" : 1365630948,
      "line" : 534,
      "node_id" : "PRRC_kwDOABII585RZ__J",
      "original_commit_id" : "22e64e8ab55310fa613946eaf3861b7211a493e1",
      "original_line" : 534,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 14,
      "pull_request_review_id" : 1688097414,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365770185/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-19T15:46:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365770185",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365801081"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365801081"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's cleaner when/if the default is changed to both.",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-19T16:09:23Z",
      "diff_hunk" : "@@ -21,9 +21,10 @@ const std::vector<std::string> NET_PERMISSIONS_DOC{\n namespace {\n \n // Parse the following format: \"perm1,perm2@xxxxxx\"\n-bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, size_t& readen, bilingual_str& error)\n+static bool TryParsePermissionFlags(const std::string& str, NetPermissionFlags& output, ConnectionDirection* output_connection_direction, size_t& readen, bilingual_str& error)\n {\n     NetPermissionFlags flags = NetPermissionFlags::None;\n+    ConnectionDirection connection_direction = ConnectionDirection::None;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365801081",
      "id" : 1365801081,
      "in_reply_to_id" : 1365649327,
      "line" : 27,
      "node_id" : "PRRC_kwDOABII585RaHh5",
      "original_commit_id" : "22e64e8ab55310fa613946eaf3861b7211a493e1",
      "original_line" : 27,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/net_permissions.cpp",
      "position" : 8,
      "pull_request_review_id" : 1688148294,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365801081/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-19T16:09:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365801081",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365853464"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365853464"
         }
      },
      "author_association" : "MEMBER",
      "body" : "\"at\" ? I dunno",
      "commit_id" : "51618c9c8a87f3a1cd7fcb9b4f7d4da96f182138",
      "created_at" : "2023-10-19T16:53:04Z",
      "diff_hunk" : "@@ -531,9 +531,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1365853464",
      "id" : 1365853464,
      "in_reply_to_id" : 1365630948,
      "line" : 534,
      "node_id" : "PRRC_kwDOABII585RaUUY",
      "original_commit_id" : "22e64e8ab55310fa613946eaf3861b7211a493e1",
      "original_line" : 534,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 14,
      "pull_request_review_id" : 1688233189,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365853464/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-19T16:53:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1365853464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1367364510"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1367364510"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : ">  there might still be more to do?\r\n\r\nMaybe. I'm checking it again, I only modified the tests that explicity points out that is using it to speedup tx relay. so, there are other tests using it for other purposes.",
      "commit_id" : "d69747ab656899d1014483809d22a2c85cb45d78",
      "created_at" : "2023-10-20T18:21:18Z",
      "diff_hunk" : "@@ -96,6 +96,7 @@ def __init__(self) -> None:\n         \"\"\"Sets test framework defaults. Do not override this method. Instead, override the set_test_params() method\"\"\"\n         self.chain: str = 'regtest'\n         self.setup_clean_chain: bool = False\n+        self.noban_tx_relay: bool = False",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1367364510",
      "id" : 1367364510,
      "in_reply_to_id" : 1365682557,
      "line" : 99,
      "node_id" : "PRRC_kwDOABII585RgFOe",
      "original_commit_id" : "38839bea822213bd7a7b0da95c926331af8db002",
      "original_line" : 99,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 4,
      "pull_request_review_id" : 1690702913,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1367364510/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-20T18:21:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1367364510",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1367440749"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1367440749"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "d69747ab656899d1014483809d22a2c85cb45d78",
      "created_at" : "2023-10-20T20:00:46Z",
      "diff_hunk" : "@@ -1071,6 +1071,7 @@ class CConnman\n         int64_t m_peer_connect_timeout = DEFAULT_PEER_CONNECT_TIMEOUT;\n         std::vector<std::string> vSeedNodes;\n         std::vector<NetWhitelistPermissions> vWhitelistedRange;\n+        std::vector<NetWhitelistPermissions> vWhitelistedRangeOutgoing;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1367440749",
      "id" : 1367440749,
      "in_reply_to_id" : 1365643561,
      "line" : 1062,
      "node_id" : "PRRC_kwDOABII585RgX1t",
      "original_commit_id" : "22e64e8ab55310fa613946eaf3861b7211a493e1",
      "original_line" : 1062,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 6,
      "pull_request_review_id" : 1690831375,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1367440749/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-20T20:00:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1367440749",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1367442229"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1367442229"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'll keep it that way for now",
      "commit_id" : "d69747ab656899d1014483809d22a2c85cb45d78",
      "created_at" : "2023-10-20T20:02:53Z",
      "diff_hunk" : "@@ -531,9 +531,11 @@ void SetupServerArgs(ArgsManager& argsman)\n         \"Use [host]:port notation for IPv6. Allowed permissions: \" + Join(NET_PERMISSIONS_DOC, \", \") + \". \"\n         \"Specify multiple permissions separated by commas (default: download,noban,mempool,relay). Can be specified multiple times.\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n \n-    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers connecting from the given IP address (e.g. 1.2.3.4) or \"\n+    argsman.AddArg(\"-whitelist=<[permissions@]IP address or network>\", \"Add permission flags to the peers using the given IP address (e.g. 1.2.3.4) or \"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1367442229",
      "id" : 1367442229,
      "in_reply_to_id" : 1365630948,
      "line" : 534,
      "node_id" : "PRRC_kwDOABII585RgYM1",
      "original_commit_id" : "22e64e8ab55310fa613946eaf3861b7211a493e1",
      "original_line" : 534,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 14,
      "pull_request_review_id" : 1690833683,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1367442229/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-20T20:02:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1367442229",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Force-pushed:\r\n\r\n- added release note\r\n- renamed `vWhitelistedRange` to `vWhitelistedRangeIncoming`\r\n- addressed `self.noban_tx_relay` in more tests",
      "created_at" : "2023-10-20T20:04:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1773328501",
      "id" : 1773328501,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585psth1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1773328501/reactions"
      },
      "updated_at" : "2023-10-20T20:04:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1773328501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "CI failure is unrelated.",
      "created_at" : "2023-10-22T21:23:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#issuecomment-1774202724",
      "id" : 1774202724,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/27114",
      "node_id" : "IC_kwDOABII585pwC9k",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1774202724/reactions"
      },
      "updated_at" : "2023-10-22T21:23:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1774202724",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1374410340"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1374410340"
         }
      },
      "author_association" : "MEMBER",
      "body" : "622a829ca1473814928ba32f003480b2382701a2\r\n\r\nwhat's the benefit of having two separate vectors?",
      "commit_id" : "d69747ab656899d1014483809d22a2c85cb45d78",
      "created_at" : "2023-10-27T11:02:00Z",
      "diff_hunk" : "@@ -1058,7 +1058,8 @@ class CConnman\n         uint64_t nMaxOutboundLimit = 0;\n         int64_t m_peer_connect_timeout = DEFAULT_PEER_CONNECT_TIMEOUT;\n         std::vector<std::string> vSeedNodes;\n-        std::vector<NetWhitelistPermissions> vWhitelistedRange;\n+        std::vector<NetWhitelistPermissions> vWhitelistedRangeIncoming;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1374410340",
      "id" : 1374410340,
      "line" : 1061,
      "node_id" : "PRRC_kwDOABII585R69Zk",
      "original_commit_id" : "622a829ca1473814928ba32f003480b2382701a2",
      "original_line" : 1061,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : 5,
      "pull_request_review_id" : 1701523180,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1374410340/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-27T11:11:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1374410340",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1374416829"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1374416829"
         }
      },
      "author_association" : "MEMBER",
      "body" : "edbc1ae33b0a17994331de0660b231e7f00a2bda\r\n\r\nI like saving a few LOC, but dropping these comments here and there... Presumably they were helpful for the reader to understand why `whitelist`. And `noban_tx_relay` doesn't immediately mean speeding up.",
      "commit_id" : "d69747ab656899d1014483809d22a2c85cb45d78",
      "created_at" : "2023-10-27T11:08:27Z",
      "diff_hunk" : "@@ -52,9 +52,7 @@ class RESTTest (BitcoinTestFramework):\n     def set_test_params(self):\n         self.num_nodes = 2\n         self.extra_args = [[\"-rest\", \"-blockfilterindex=1\"], []]\n-        # whitelist peers to speed up tx relay / mempool sync",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/27114#discussion_r1374416829",
      "id" : 1374416829,
      "line" : 55,
      "node_id" : "PRRC_kwDOABII585R6--9",
      "original_commit_id" : "edbc1ae33b0a17994331de0660b231e7f00a2bda",
      "original_line" : 55,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "test/functional/interface_rest.py",
      "position" : 4,
      "pull_request_review_id" : 1701523180,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/27114",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1374416829/reactions"
      },
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-10-27T11:11:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1374416829",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   }
]
