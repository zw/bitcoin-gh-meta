[
   {
      "body" : "@gavinandresen From what I can see, this also fixes the crash-at-shutdown issue.",
      "created_at" : "2013-02-16T18:49:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2315#issuecomment-13666192",
      "id" : 13666192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2315",
      "updated_at" : "2013-02-16T18:49:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/13666192",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Nice! I'll try to find time to test it a bit later tonight or early tomorrow.",
      "created_at" : "2013-02-16T20:31:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2315#issuecomment-13674336",
      "id" : 13674336,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2315",
      "updated_at" : "2013-02-16T20:31:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/13674336",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "I'm getting an assertion failure after saying \"Yes, please re-index\";  chainstate/blocks data uploaded to:\r\n  http://skypaint.com/bitcoin/corrupt_db.tar.gz\r\n\r\nAssertion failed: (dummy_versions_.next_ == &dummy_versions_), function ~VersionSet, file db/version_set.cc, line 715.\r\n\r\n4   org.bitcoinfoundation.Bitcoin-Qt\t0x0000000103030e5f leveldb::VersionSet::~VersionSet() + 111\r\n5   org.bitcoinfoundation.Bitcoin-Qt\t0x0000000103030de5 leveldb::VersionSet::~VersionSet() + 21\r\n6   org.bitcoinfoundation.Bitcoin-Qt\t0x000000010301114e leveldb::DBImpl::~DBImpl() + 286\r\n7   org.bitcoinfoundation.Bitcoin-Qt\t0x0000000103011025 leveldb::DBImpl::~DBImpl() + 21\r\n8   org.bitcoinfoundation.Bitcoin-Qt\t0x0000000103010fd8 leveldb::DBImpl::~DBImpl() + 24\r\n9   org.bitcoinfoundation.Bitcoin-Qt\t0x0000000102ff8877 CLevelDB::~CLevelDB() + 71\r\n10  org.bitcoinfoundation.Bitcoin-Qt\t0x0000000102d6a5a6 CBlockTreeDB::~CBlockTreeDB() + 38\r\n11  org.bitcoinfoundation.Bitcoin-Qt\t0x0000000102d46033 CBlockTreeDB::~CBlockTreeDB() + 35\r\n12  org.bitcoinfoundation.Bitcoin-Qt\t0x0000000102d41ca1 AppInit2() + 24769\r\n13  org.bitcoinfoundation.Bitcoin-Qt\t0x0000000102b28520 main + 6160\r\n",
      "created_at" : "2013-02-17T00:20:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2315#issuecomment-13677976",
      "id" : 13677976,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2315",
      "updated_at" : "2013-02-17T00:20:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/13677976",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Hmm, I just get the question, and reindex works. A no results in an exit... and a exception thrown at shutdown.\r\n\r\nThe reason is that Shutdown() isn't called if AppInit2() exits in an abnormal way, and thus ThreadScriptCheckQuit() isn't called, thus the script check threads just keep running.",
      "created_at" : "2013-02-17T01:06:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2315#issuecomment-13678609",
      "id" : 13678609,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2315",
      "updated_at" : "2013-02-17T01:06:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/13678609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@gavinandresen I added a very simple destructor to CCheckQueue that calls Quit(), which should take care of taking down the sigcheck threads during shutdown.\r\n\r\nI have no explanation for your assert error, though.",
      "created_at" : "2013-02-17T22:28:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2315#issuecomment-13698379",
      "id" : 13698379,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2315",
      "updated_at" : "2013-02-17T22:28:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/13698379",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Automatic sanity-testing: WARNING, see http://jenkins.bluematt.me/pull-tester/f7f3a96b74bb795d6e184a628adce21c744d234f for binaries and test log.\n\nThis pull decreases total test coverage, please add unit tests to test all new code and help us add test cases for existing code.\nCoverage report can be found at http://jenkins.bluematt.me/pull-tester/f7f3a96b74bb795d6e184a628adce21c744d234f/bitcoin/src/total.coverage/",
      "created_at" : "2013-02-17T23:43:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2315#issuecomment-13700374",
      "id" : 13700374,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2315",
      "updated_at" : "2013-02-17T23:43:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/13700374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   }
]
