[
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/903d146030e741441c288873ef3c682fb5019101 for binaries and test log.",
      "created_at" : "2013-01-19T18:15:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12458630",
      "id" : 12458630,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-19T18:15:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12458630",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "This replaces a ping-after-getdata, correct?",
      "created_at" : "2013-01-19T18:31:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12458893",
      "id" : 12458893,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-19T18:31:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12458893",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Yeah. I have code that can do both. It's a part of resolving the issues Peter Todd raised, from the bitcoinj side.",
      "created_at" : "2013-01-19T18:34:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12458945",
      "id" : 12458945,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-19T18:34:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12458945",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Could an attacker fill up memory using vNotFound?\r\n\r\n",
      "created_at" : "2013-01-21T18:12:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12510115",
      "id" : 12510115,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-21T18:13:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12510115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "There's no way for it to grow larger than the original getdata request, is there?",
      "created_at" : "2013-01-21T18:13:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12510173",
      "id" : 12510173,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-21T18:13:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12510173",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "ACK, no vulnerability because the response will always be smaller than the request.\r\n",
      "created_at" : "2013-01-21T18:15:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12510248",
      "id" : 12510248,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-21T18:15:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12510248",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Quibble on the naming:  \"notfound\" is pretty generic.  Maybe  \"inv_unknown\"  ?",
      "created_at" : "2013-01-21T18:17:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12510319",
      "id" : 12510319,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-21T18:17:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12510319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "There's a limit on how long message IDs can be :( inv_unknown is 11 so it just fits, but that naming scheme would be constraining in future.\r\n\r\nReally, the whole protocol needs to get more explicit. This is just one example of a general problem.\r\n\r\nHow about we introduce a convention for cases where a command results in an error. e:getdata? ",
      "created_at" : "2013-01-21T18:21:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12510512",
      "id" : 12510512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-21T18:21:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12510512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "How about we introduce a convention where all situations that _might_ result in a response _do_ receive a response.\r\n",
      "created_at" : "2013-01-21T18:53:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12511937",
      "id" : 12511937,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-21T18:53:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12511937",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "I'm all for that, but it has to be done piece-wise. This is one chunk of it. ",
      "created_at" : "2013-01-21T19:47:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12514150",
      "id" : 12514150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-21T19:47:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12514150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "ACK on this change, but I disagree with requiring a response for everything.\r\n\r\nIn its core, the P2P protocol is a gossip system. Nodes make sure they tell eachother about stuff they learn, and request what they don't know. This network layer caches and bundles requests, prevents duplicates, re-requests if necessary, .... Turning that into a request-response system would be wasting bandwith and performance. A fully fledged message-response system also needs things like request ID's that get repeated in responses, as otherwise an announcement can be confused to be a response to something else (for example, invs can be both sent as response to a getblocks, or as an announcement for a new best block - addr can be a response to getaddr or an announcement). I think there's just more to it than \"making everything that might result a response do receive a response\".\r\n\r\nOn the other hand, for some things, this would make perfect sense. getdata obviously needs a response, and so does version (verack). It just needs to be dealt with on a case-by-case basis.",
      "created_at" : "2013-01-22T11:38:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12540792",
      "id" : 12540792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-22T11:38:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12540792",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Merging now.  Can tweak later.\r\n",
      "created_at" : "2013-01-23T14:48:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-12598411",
      "id" : 12598411,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-01-23T14:48:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/12598411",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "I still wonder if this wants a BIP.",
      "created_at" : "2013-03-30T04:29:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-15669475",
      "id" : 15669475,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-03-30T04:29:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/15669475",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "This should certainly require a BIP. As a side note, I wonder if adding a timeout value to getdata is worthwhile also - i.e. most nodes wait 2 minutes before requesting a tx or block elsewhere. If a node responds more than 2 hours later it's only likely to be sending something the node already has. a timeout would allow the node to decide whether the requesting node is still interested.",
      "created_at" : "2013-04-02T01:22:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2192#issuecomment-15748163",
      "id" : 15748163,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2192",
      "updated_at" : "2013-04-02T01:22:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/15748163",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
