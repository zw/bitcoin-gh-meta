[
   {
      "body" : "You will need to use getrawtransaction and then do the math.\r\n\r\nSo using this txid as an example : e198d4b193644116d9df0b9d65c4346a9f4d6214a46ffba8c0b2fd6999eda314\r\n\r\n```\r\n{\r\n\t\"result\": {\r\n\t\t\"hex\": \"0200000001f9516e774026d5cd88e1039d6ce5879ccfe5df3bc43cf4473aa5528bb0687c7d0000000069463043021f547eaf1f48630195efe1c6424e517381ee633d6d245f9dfbae8891e48f3a8f02206d68b6e82f623c2c4c90f06db8803de9e0f44fa5965cd020aa6024fae13ef5a40121033aa5441548b3ba49cc974a0e9e141ffbfcdb70df7015da3fde5f63263bb01c6efeffffff020084d717000000001976a91461281b74375a87a0ed0a63c4b8540fc8cffbbf1988acc79d2112000000001976a914941cae6b6c65cb2b45322c5a1b5c62c14fda124488ac503c0700\",\r\n\t\t\"txid\": \"e198d4b193644116d9df0b9d65c4346a9f4d6214a46ffba8c0b2fd6999eda314\",\r\n\t\t\"hash\": \"e198d4b193644116d9df0b9d65c4346a9f4d6214a46ffba8c0b2fd6999eda314\",\r\n\t\t\"size\": 224,\r\n\t\t\"vsize\": 224,\r\n\t\t\"version\": 2,\r\n\t\t\"locktime\": 474192,\r\n\t\t\"vin\": [\r\n\t\t\t{\r\n\t\t\t\t\"txid\": \"7d7c68b08b52a53a47f43cc43bdfe5cf9c87e56c9d03e188cdd52640776e51f9\",\r\n\t\t\t\t\"vout\": 0,\r\n\t\t\t\t\"scriptSig\": {\r\n\t\t\t\t\t\"asm\": \"3043021f547eaf1f48630195efe1c6424e517381ee633d6d245f9dfbae8891e48f3a8f02206d68b6e82f623c2c4c90f06db8803de9e0f44fa5965cd020aa6024fae13ef5a4[ALL] 033aa5441548b3ba49cc974a0e9e141ffbfcdb70df7015da3fde5f63263bb01c6e\",\r\n\t\t\t\t\t\"hex\": \"463043021f547eaf1f48630195efe1c6424e517381ee633d6d245f9dfbae8891e48f3a8f02206d68b6e82f623c2c4c90f06db8803de9e0f44fa5965cd020aa6024fae13ef5a40121033aa5441548b3ba49cc974a0e9e141ffbfcdb70df7015da3fde5f63263bb01c6e\"\r\n\t\t\t\t},\r\n\t\t\t\t\"sequence\": 4294967294\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"vout\": [\r\n\t\t\t{\r\n\t\t\t\t\"value\": 4.00000000,\r\n\t\t\t\t\"n\": 0,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"OP_DUP OP_HASH160 61281b74375a87a0ed0a63c4b8540fc8cffbbf19 OP_EQUALVERIFY OP_CHECKSIG\",\r\n\t\t\t\t\t\"hex\": \"76a91461281b74375a87a0ed0a63c4b8540fc8cffbbf1988ac\",\r\n\t\t\t\t\t\"reqSigs\": 1,\r\n\t\t\t\t\t\"type\": \"pubkeyhash\",\r\n\t\t\t\t\t\"addresses\": [\r\n\t\t\t\t\t\t\"19ribJqiHeVrFiwWb1ogmvVGE646f4acD3\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"value\": 3.04192967,\r\n\t\t\t\t\"n\": 1,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"OP_DUP OP_HASH160 941cae6b6c65cb2b45322c5a1b5c62c14fda1244 OP_EQUALVERIFY OP_CHECKSIG\",\r\n\t\t\t\t\t\"hex\": \"76a914941cae6b6c65cb2b45322c5a1b5c62c14fda124488ac\",\r\n\t\t\t\t\t\"reqSigs\": 1,\r\n\t\t\t\t\t\"type\": \"pubkeyhash\",\r\n\t\t\t\t\t\"addresses\": [\r\n\t\t\t\t\t\t\"1EW9NCrefefLERJMZK5wAHPYGHtfwkmEvN\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"blockhash\": \"00000000000000000142d9a78c0097f291a028006056d3958b987bbb2ce4c391\",\r\n\t\t\"confirmations\": 1,\r\n\t\t\"time\": 1499173533,\r\n\t\t\"blocktime\": 1499173533\r\n\t},\r\n\t\"error\": null,\r\n\t\"id\": null\r\n}\r\n```\r\n\r\nNow what you need to do is to calculate the number of fees, is to look inside vin and take the vout number. So in this example the vout number is 0. And then you go to vout and add the value of all the output together.\r\n\r\nNow you will have to do another getrawtransaction on the vin txid. Which in our example will give us this :\r\n\r\n```\r\n{\r\n\t\"result\": {\r\n\t\t\"hex\": \"...\",\r\n\t\t\"txid\": \"7d7c68b08b52a53a47f43cc43bdfe5cf9c87e56c9d03e188cdd52640776e51f9\",\r\n\t\t\"hash\": \"7d7c68b08b52a53a47f43cc43bdfe5cf9c87e56c9d03e188cdd52640776e51f9\",\r\n\t\t\"size\": 520,\r\n\t\t\"vsize\": 520,\r\n\t\t\"version\": 2,\r\n\t\t\"locktime\": 473652,\r\n\t\t\"vin\": [...],\r\n\t\t\"vout\": [\r\n\t\t\t{\r\n\t\t\t\t\"value\": 7.04418967,\r\n\t\t\t\t\"n\": 0,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"OP_DUP OP_HASH160 941cae6b6c65cb2b45322c5a1b5c62c14fda1244 OP_EQUALVERIFY OP_CHECKSIG\",\r\n\t\t\t\t\t\"hex\": \"76a914941cae6b6c65cb2b45322c5a1b5c62c14fda124488ac\",\r\n\t\t\t\t\t\"reqSigs\": 1,\r\n\t\t\t\t\t\"type\": \"pubkeyhash\",\r\n\t\t\t\t\t\"addresses\": [\r\n\t\t\t\t\t\t\"1EW9NCrefefLERJMZK5wAHPYGHtfwkmEvN\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"value\": 25.00000000,\r\n\t\t\t\t\"n\": 1,\r\n\t\t\t\t\"scriptPubKey\": {\r\n\t\t\t\t\t\"asm\": \"OP_HASH160 53686151ca689cc39c42c6c63c774ec76ac12856 OP_EQUAL\",\r\n\t\t\t\t\t\"hex\": \"a91453686151ca689cc39c42c6c63c774ec76ac1285687\",\r\n\t\t\t\t\t\"reqSigs\": 1,\r\n\t\t\t\t\t\"type\": \"scripthash\",\r\n\t\t\t\t\t\"addresses\": [\r\n\t\t\t\t\t\t\"39J33vf83H4YdPvnDwiWYBzhoSWqVDhQP9\"\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"blockhash\": \"0000000000000000013602fbbd4791c0f4b7e612d11ccd4d825cc0fc34318f39\",\r\n\t\t\"confirmations\": 541,\r\n\t\t\"time\": 1498901391,\r\n\t\t\"blocktime\": 1498901391\r\n\t},\r\n\t\"error\": null,\r\n\t\"id\": null\r\n}\r\n```\r\n\r\nSo here, what you have to look for is, in vout, the n value that is equal to the previous number you got, so in our case it's 0. You take the value of this output which is 7.04418967 BTC. And now to calculate the fees, you take this number minus the previous value you got which give you :\r\n\r\nfees = 7.04418967 - (4.00000000 + 3.04192967)\r\nfees = 0.00226 BTC\r\n\r\nHope this will help you out.",
      "created_at" : "2017-07-04T13:44:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10734#issuecomment-312881872",
      "id" : 312881872,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10734",
      "updated_at" : "2017-07-04T13:44:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/312881872",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3265696?v=3",
         "events_url" : "https://api.github.com/users/Seccour/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Seccour/followers",
         "following_url" : "https://api.github.com/users/Seccour/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Seccour/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Seccour",
         "id" : 3265696,
         "login" : "Seccour",
         "organizations_url" : "https://api.github.com/users/Seccour/orgs",
         "received_events_url" : "https://api.github.com/users/Seccour/received_events",
         "repos_url" : "https://api.github.com/users/Seccour/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Seccour/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Seccour/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Seccour"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Given that this is (technically) publicly available information - it would be great if the fee would be calculated and then added to the result object returned by `getrawtransaction` - perhaps this could be done when a user has their block indexed?\r\n\r\nThis would also significantly reduce the load on a server being used to calculate fees as consumers would no longer need to hit the bitcoin node more than once for any single transaction (assuming they want to calculate fees)",
      "created_at" : "2018-03-05T02:34:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10734#issuecomment-370293318",
      "id" : 370293318,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10734",
      "updated_at" : "2018-03-05T02:34:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370293318",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6493307?v=4",
         "events_url" : "https://api.github.com/users/GrayedFox/events{/privacy}",
         "followers_url" : "https://api.github.com/users/GrayedFox/followers",
         "following_url" : "https://api.github.com/users/GrayedFox/following{/other_user}",
         "gists_url" : "https://api.github.com/users/GrayedFox/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/GrayedFox",
         "id" : 6493307,
         "login" : "GrayedFox",
         "organizations_url" : "https://api.github.com/users/GrayedFox/orgs",
         "received_events_url" : "https://api.github.com/users/GrayedFox/received_events",
         "repos_url" : "https://api.github.com/users/GrayedFox/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/GrayedFox/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/GrayedFox/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/GrayedFox"
      }
   }
]
