[
   {
      "author_association" : "MEMBER",
      "body" : "This makes changes like that proposed in #15633 much easier to make (I have a relatively small diff to the test that would support that change in particular, should we want to adopt a different behavior).",
      "created_at" : "2019-03-24T22:21:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#issuecomment-476006719",
      "id" : 476006719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15660",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NjAwNjcxOQ==",
      "updated_at" : "2019-03-24T22:21:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/476006719",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268535232"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268535232"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: Since `self` is not used -- this could be a function instead of a method?",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-25T08:52:09Z",
      "diff_hunk" : "@@ -135,11 +131,18 @@ def make_utxos(self):\n         block2.vtx.append(tx)\n         block2.hashMerkleRoot = block2.calc_merkle_root()\n         block2.solve()\n-        self.test_node.send_and_ping(msg_block(block2))\n+        self.segwit_node.send_and_ping(msg_block(block2))\n         assert_equal(int(self.nodes[0].getbestblockhash(), 16), block2.sha256)\n         self.utxos.extend([[tx.sha256, i, out_value] for i in range(10)])\n         return\n \n+    # Send balance to a segwit output\n+    def make_segwit_output(self, node):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268535232",
      "id" : 268535232,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2ODUzNTIzMg==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 52,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 218201677,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268535232",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268644233"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268644233"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This comment is no longer accurate and can be removed.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-25T13:40:08Z",
      "diff_hunk" : "@@ -94,11 +93,9 @@ def send_await_disconnect(self, message, timeout=30):\n class CompactBlocksTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n-        # Node0 = pre-segwit, node1 = segwit-aware\n-        self.num_nodes = 2\n+        self.num_nodes = 1\n         # This test was written assuming SegWit is activated using BIP9 at height 432 (3x confirmation window).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268644233",
      "id" : 268644233,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2ODY0NDIzMw==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 24,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 218332682,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268644233",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268660065"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268660065"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The first argument to `getnewaddress()` is `label` (the second argument is `address_type`) so this doesn't actually create a bech32 address. Consider using named arguments to avoid this class of bug.\r\n\r\nGiven that the test passes anyway, is it actually testing what you want?",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-25T14:14:00Z",
      "diff_hunk" : "@@ -135,11 +131,18 @@ def make_utxos(self):\n         block2.vtx.append(tx)\n         block2.hashMerkleRoot = block2.calc_merkle_root()\n         block2.solve()\n-        self.test_node.send_and_ping(msg_block(block2))\n+        self.segwit_node.send_and_ping(msg_block(block2))\n         assert_equal(int(self.nodes[0].getbestblockhash(), 16), block2.sha256)\n         self.utxos.extend([[tx.sha256, i, out_value] for i in range(10)])\n         return\n \n+    # Send balance to a segwit output\n+    def make_segwit_output(self, node):\n+        if node.getbalance() < 2:\n+            node.generate(101)\n+        address = node.getnewaddress(\"bech32\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268660065",
      "id" : 268660065,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2ODY2MDA2NQ==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 55,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 218332682,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268660065",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268660288"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268660288"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I suggest you combine this with `make_utxos()`, since both are called only once.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-25T14:14:30Z",
      "diff_hunk" : "@@ -135,11 +131,18 @@ def make_utxos(self):\n         block2.vtx.append(tx)\n         block2.hashMerkleRoot = block2.calc_merkle_root()\n         block2.solve()\n-        self.test_node.send_and_ping(msg_block(block2))\n+        self.segwit_node.send_and_ping(msg_block(block2))\n         assert_equal(int(self.nodes[0].getbestblockhash(), 16), block2.sha256)\n         self.utxos.extend([[tx.sha256, i, out_value] for i in range(10)])\n         return\n \n+    # Send balance to a segwit output\n+    def make_segwit_output(self, node):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268660288",
      "id" : 268660288,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2ODY2MDI4OA==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 52,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 218332682,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268660288",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268661595"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268661595"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Since there's only one node under test now, all of these methods can drop the `node` argument.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-25T14:17:17Z",
      "diff_hunk" : "@@ -793,126 +785,56 @@ def announce_cmpct_block(node, peer):\n \n     def run_test(self):\n         # Setup the p2p connections\n-        self.test_node = self.nodes[0].add_p2p_connection(TestP2PConn())\n-        self.segwit_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n-        self.old_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK)\n+        self.segwit_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n+        self.old_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK)\n+        self.additional_segwit_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n \n         # We will need UTXOs to construct transactions in later tests.\n         self.make_utxos()\n+        self.make_segwit_output(self.nodes[0])\n \n-        self.log.info(\"Running tests, pre-segwit activation:\")\n+        assert_equal(get_bip9_status(self.nodes[0], \"segwit\")[\"status\"], 'active')\n \n         self.log.info(\"Testing SENDCMPCT p2p message... \")\n-        self.test_sendcmpct(self.nodes[0], self.test_node, 1)\n-        sync_blocks(self.nodes)\n-        self.test_sendcmpct(self.nodes[1], self.segwit_node, 2, old_node=self.old_node)\n-        sync_blocks(self.nodes)\n+        self.test_sendcmpct(self.nodes[0], self.segwit_node, 2, old_node=self.old_node)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268661595",
      "id" : 268661595,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2ODY2MTU5NQ==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 139,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 218332682,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268661595",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268673629"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268673629"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`test_compct()` always takes the same `version` so that argument can be dropped.\r\n\r\nSame is true for most of these subtest functions.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-25T14:40:08Z",
      "diff_hunk" : "@@ -793,126 +785,56 @@ def announce_cmpct_block(node, peer):\n \n     def run_test(self):\n         # Setup the p2p connections\n-        self.test_node = self.nodes[0].add_p2p_connection(TestP2PConn())\n-        self.segwit_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n-        self.old_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK)\n+        self.segwit_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n+        self.old_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK)\n+        self.additional_segwit_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n \n         # We will need UTXOs to construct transactions in later tests.\n         self.make_utxos()\n+        self.make_segwit_output(self.nodes[0])\n \n-        self.log.info(\"Running tests, pre-segwit activation:\")\n+        assert_equal(get_bip9_status(self.nodes[0], \"segwit\")[\"status\"], 'active')\n \n         self.log.info(\"Testing SENDCMPCT p2p message... \")\n-        self.test_sendcmpct(self.nodes[0], self.test_node, 1)\n-        sync_blocks(self.nodes)\n-        self.test_sendcmpct(self.nodes[1], self.segwit_node, 2, old_node=self.old_node)\n-        sync_blocks(self.nodes)\n+        self.test_sendcmpct(self.nodes[0], self.segwit_node, 2, old_node=self.old_node)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268673629",
      "id" : 268673629,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2ODY3MzYyOQ==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 139,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 218332682,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268673629",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268762043"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268762043"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Default network services are `NODE_NETWORK | NODE_WITNESS` so this argument doesn't need to be passed.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-25T17:24:03Z",
      "diff_hunk" : "@@ -793,126 +785,56 @@ def announce_cmpct_block(node, peer):\n \n     def run_test(self):\n         # Setup the p2p connections\n-        self.test_node = self.nodes[0].add_p2p_connection(TestP2PConn())\n-        self.segwit_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n-        self.old_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK)\n+        self.segwit_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r268762043",
      "id" : 268762043,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2ODc2MjA0Mw==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 123,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 218332682,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268762043",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270492816"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270492816"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-29T16:48:28Z",
      "diff_hunk" : "@@ -94,11 +93,9 @@ def send_await_disconnect(self, message, timeout=30):\n class CompactBlocksTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n-        # Node0 = pre-segwit, node1 = segwit-aware\n-        self.num_nodes = 2\n+        self.num_nodes = 1\n         # This test was written assuming SegWit is activated using BIP9 at height 432 (3x confirmation window).",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270492816",
      "id" : 270492816,
      "in_reply_to_id" : 268644233,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDQ5MjgxNg==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 24,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 220650203,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270492816",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270492848"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270492848"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-29T16:48:34Z",
      "diff_hunk" : "@@ -135,11 +131,18 @@ def make_utxos(self):\n         block2.vtx.append(tx)\n         block2.hashMerkleRoot = block2.calc_merkle_root()\n         block2.solve()\n-        self.test_node.send_and_ping(msg_block(block2))\n+        self.segwit_node.send_and_ping(msg_block(block2))\n         assert_equal(int(self.nodes[0].getbestblockhash(), 16), block2.sha256)\n         self.utxos.extend([[tx.sha256, i, out_value] for i in range(10)])\n         return\n \n+    # Send balance to a segwit output\n+    def make_segwit_output(self, node):\n+        if node.getbalance() < 2:\n+            node.generate(101)\n+        address = node.getnewaddress(\"bech32\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270492848",
      "id" : 270492848,
      "in_reply_to_id" : 268660065,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDQ5Mjg0OA==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 55,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 220650251,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270492848",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270492875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270492875"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-29T16:48:39Z",
      "diff_hunk" : "@@ -135,11 +131,18 @@ def make_utxos(self):\n         block2.vtx.append(tx)\n         block2.hashMerkleRoot = block2.calc_merkle_root()\n         block2.solve()\n-        self.test_node.send_and_ping(msg_block(block2))\n+        self.segwit_node.send_and_ping(msg_block(block2))\n         assert_equal(int(self.nodes[0].getbestblockhash(), 16), block2.sha256)\n         self.utxos.extend([[tx.sha256, i, out_value] for i in range(10)])\n         return\n \n+    # Send balance to a segwit output\n+    def make_segwit_output(self, node):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270492875",
      "id" : 270492875,
      "in_reply_to_id" : 268660288,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDQ5Mjg3NQ==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 52,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 220650296,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270492875",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270492909"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270492909"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-29T16:48:44Z",
      "diff_hunk" : "@@ -793,126 +785,56 @@ def announce_cmpct_block(node, peer):\n \n     def run_test(self):\n         # Setup the p2p connections\n-        self.test_node = self.nodes[0].add_p2p_connection(TestP2PConn())\n-        self.segwit_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n-        self.old_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK)\n+        self.segwit_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n+        self.old_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK)\n+        self.additional_segwit_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n \n         # We will need UTXOs to construct transactions in later tests.\n         self.make_utxos()\n+        self.make_segwit_output(self.nodes[0])\n \n-        self.log.info(\"Running tests, pre-segwit activation:\")\n+        assert_equal(get_bip9_status(self.nodes[0], \"segwit\")[\"status\"], 'active')\n \n         self.log.info(\"Testing SENDCMPCT p2p message... \")\n-        self.test_sendcmpct(self.nodes[0], self.test_node, 1)\n-        sync_blocks(self.nodes)\n-        self.test_sendcmpct(self.nodes[1], self.segwit_node, 2, old_node=self.old_node)\n-        sync_blocks(self.nodes)\n+        self.test_sendcmpct(self.nodes[0], self.segwit_node, 2, old_node=self.old_node)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270492909",
      "id" : 270492909,
      "in_reply_to_id" : 268661595,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDQ5MjkwOQ==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 139,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 220650347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270492909",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270493001"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270493001"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Simplified.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-29T16:48:59Z",
      "diff_hunk" : "@@ -793,126 +785,56 @@ def announce_cmpct_block(node, peer):\n \n     def run_test(self):\n         # Setup the p2p connections\n-        self.test_node = self.nodes[0].add_p2p_connection(TestP2PConn())\n-        self.segwit_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n-        self.old_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK)\n+        self.segwit_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n+        self.old_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK)\n+        self.additional_segwit_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n \n         # We will need UTXOs to construct transactions in later tests.\n         self.make_utxos()\n+        self.make_segwit_output(self.nodes[0])\n \n-        self.log.info(\"Running tests, pre-segwit activation:\")\n+        assert_equal(get_bip9_status(self.nodes[0], \"segwit\")[\"status\"], 'active')\n \n         self.log.info(\"Testing SENDCMPCT p2p message... \")\n-        self.test_sendcmpct(self.nodes[0], self.test_node, 1)\n-        sync_blocks(self.nodes)\n-        self.test_sendcmpct(self.nodes[1], self.segwit_node, 2, old_node=self.old_node)\n-        sync_blocks(self.nodes)\n+        self.test_sendcmpct(self.nodes[0], self.segwit_node, 2, old_node=self.old_node)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270493001",
      "id" : 270493001,
      "in_reply_to_id" : 268673629,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDQ5MzAwMQ==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 139,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 220650468,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270493001",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270493024"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270493024"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Removed.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-29T16:49:03Z",
      "diff_hunk" : "@@ -793,126 +785,56 @@ def announce_cmpct_block(node, peer):\n \n     def run_test(self):\n         # Setup the p2p connections\n-        self.test_node = self.nodes[0].add_p2p_connection(TestP2PConn())\n-        self.segwit_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)\n-        self.old_node = self.nodes[1].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK)\n+        self.segwit_node = self.nodes[0].add_p2p_connection(TestP2PConn(), services=NODE_NETWORK | NODE_WITNESS)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270493024",
      "id" : 270493024,
      "in_reply_to_id" : 268762043,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDQ5MzAyNA==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 123,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 220650506,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270493024",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270493181"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270493181"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Eliminated this in the latest version.",
      "commit_id" : "7813eb1db132c023902ad945995cc32a325893ca",
      "created_at" : "2019-03-29T16:49:28Z",
      "diff_hunk" : "@@ -135,11 +131,18 @@ def make_utxos(self):\n         block2.vtx.append(tx)\n         block2.hashMerkleRoot = block2.calc_merkle_root()\n         block2.solve()\n-        self.test_node.send_and_ping(msg_block(block2))\n+        self.segwit_node.send_and_ping(msg_block(block2))\n         assert_equal(int(self.nodes[0].getbestblockhash(), 16), block2.sha256)\n         self.utxos.extend([[tx.sha256, i, out_value] for i in range(10)])\n         return\n \n+    # Send balance to a segwit output\n+    def make_segwit_output(self, node):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#discussion_r270493181",
      "id" : 270493181,
      "in_reply_to_id" : 268535232,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDQ5MzE4MQ==",
      "original_commit_id" : "5bc755fdd166e84d8606a613c379705b362f0bf2",
      "original_position" : 52,
      "path" : "test/functional/p2p_compactblocks.py",
      "position" : null,
      "pull_request_review_id" : 220650701,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15660",
      "updated_at" : "2019-04-01T21:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270493181",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've taken a bunch of the feedback and cherry-picked a few commits from @jnewbery's branch, and updated this PR.  Old version is here: https://github.com/sdaftuar/bitcoin/commits/15660.1",
      "created_at" : "2019-03-29T16:53:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#issuecomment-478071476",
      "id" : 478071476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15660",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODA3MTQ3Ng==",
      "updated_at" : "2019-03-29T16:53:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478071476",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "tested ACK f97b82149a5cda1443f8f1d085b95c7987b9ba1f. Please squash commits.",
      "created_at" : "2019-03-29T20:51:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#issuecomment-478145613",
      "id" : 478145613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15660",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODE0NTYxMw==",
      "updated_at" : "2019-03-29T20:51:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478145613",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Squashed.",
      "created_at" : "2019-04-01T21:10:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15660#issuecomment-478749167",
      "id" : 478749167,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15660",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODc0OTE2Nw==",
      "updated_at" : "2019-04-01T21:10:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478749167",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   }
]
