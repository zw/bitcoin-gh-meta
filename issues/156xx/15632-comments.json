[
   {
      "author_association" : "MEMBER",
      "body" : "Depends on #10973 ",
      "created_at" : "2019-03-20T22:18:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-475050493",
      "id" : 475050493,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NTA1MDQ5Mw==",
      "updated_at" : "2019-03-20T22:18:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475050493",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Obviously requires careful testing. We don't currently have any automated testing for wallet rebroadcasts (`wallet_resendwallettransactions.py()` basically only tests the `resendwallettransactions` rpc method, and doesn't test whether:\r\n- `ResendWalletTransactions()` is called on a timer\r\n- `ResendWalletTransactions()` actually causes txs to be rebroadcast",
      "created_at" : "2019-03-20T22:22:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-475051852",
      "id" : 475051852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NTA1MTg1Mg==",
      "updated_at" : "2019-03-20T22:22:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475051852",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Marking WIP until automated tests are written",
      "created_at" : "2019-03-20T22:23:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-475052118",
      "id" : 475052118,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NTA1MjExOA==",
      "updated_at" : "2019-03-20T22:23:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475052118",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15747](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15747.html) (wallet: Remove plethora of Get*Balance by MarcoFalke)\n* [#15728](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15728.html) ([wallet] Refactor relay transactions by jnewbery)\n* [#15719](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15719.html) (Drop Chain::requestMempoolTransactions method by ryanofsky)\n* [#15713](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15713.html) (refactor: Replace chain relayTransactions/submitMemoryPool by higher method by ariard)\n* [#15700](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15700.html) (rfc: Synchronize validation interface registration by promag)\n* [#15638](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15638.html) (Move-only: Pull wallet code out of libbitcoin_server by ryanofsky)\n* [#14942](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14942.html) (wallet: Make scan / abort status private to CWallet by Empact)\n* [#13756](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/13756.html) (wallet: \"avoid_reuse\" wallet flag for improved privacy by kallewoof)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-03-20T23:00:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-475061267",
      "id" : 475061267,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NTA2MTI2Nw==",
      "updated_at" : "2019-04-05T01:56:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475061267",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This seems to add a lot of lines of code for something intended to be a simplification?",
      "created_at" : "2019-03-21T06:21:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-475123638",
      "id" : 475123638,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NTEyMzYzOA==",
      "updated_at" : "2019-03-21T06:21:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475123638",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> This seems to add a lot of lines of code for something intended to be a simplification?\r\n\r\nOnly the last 3 commits are relevant here. The first 4 commits come from #10973 which would conflict with this PR, so John chose it as a base, but is actually independent. This PR could just as easily be based on master.",
      "created_at" : "2019-03-21T07:10:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-475130852",
      "id" : 475130852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NTEzMDg1Mg==",
      "updated_at" : "2019-03-21T07:10:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475130852",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The first 4 commits come from #10973 which would conflict with this PR\r\n\r\nIndeed. It didn't make sense to make or review changes in the node<->wallet interface while Russ's PR was open. It's merged now so I've rebased on master.\r\n\r\nChanges are now +28/-35",
      "created_at" : "2019-03-21T14:35:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-475254797",
      "id" : 475254797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NTI1NDc5Nw==",
      "updated_at" : "2019-03-21T14:35:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475254797",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tests added. See #15646 . Removing WIP tag.",
      "created_at" : "2019-03-22T19:16:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-475747660",
      "id" : 475747660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NTc0NzY2MA==",
      "updated_at" : "2019-03-22T19:16:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/475747660",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased on the updated #15646 (please leave review comments for the test in that PR)",
      "created_at" : "2019-03-26T15:26:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-476701816",
      "id" : 476701816,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NjcwMTgxNg==",
      "updated_at" : "2019-03-26T15:26:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/476701816",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The test is currently unreliable for me. I think there's a bad interaction between using mocktime and the scheduler thread scheduling tasks.",
      "created_at" : "2019-03-26T15:55:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-476716580",
      "id" : 476716580,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NjcxNjU4MA==",
      "updated_at" : "2019-03-26T15:55:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/476716580",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269573120"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269573120"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n// Resend wallet transactions that haven't gotten in a block yet;\r\n```",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-27T13:54:37Z",
      "diff_hunk" : "@@ -2138,8 +2138,13 @@ std::vector<uint256> CWallet::ResendWalletTransactionsBefore(interfaces::Chain::\n     return result;\n }\n \n-void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, int64_t nBestBlockTime)\n+// Resend wallet transactions that haven't gotten in a block yet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269573120",
      "id" : 269573120,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTU3MzEyMA==",
      "original_commit_id" : "3e7bea52fa76d522ce5befb2546cab6959b7aed5",
      "original_position" : 5,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 219474670,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269573120",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269573381"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269573381"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n// transactions become unconfirmed and spam other nodes.\r\n```",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-27T13:55:08Z",
      "diff_hunk" : "@@ -2138,8 +2138,13 @@ std::vector<uint256> CWallet::ResendWalletTransactionsBefore(interfaces::Chain::\n     return result;\n }\n \n-void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, int64_t nBestBlockTime)\n+// Resend wallet transactions that haven't gotten in a block yet\n+// Except during reindex, importing and IBD, when old wallet\n+// transactions become unconfirmed and spams other nodes.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269573381",
      "id" : 269573381,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTU3MzM4MQ==",
      "original_commit_id" : "3e7bea52fa76d522ce5befb2546cab6959b7aed5",
      "original_position" : 7,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 219474670,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269573381",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269639165"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269639165"
         }
      },
      "author_association" : "MEMBER",
      "body" : "On further thoughts on this, it seems brittle to use the time the miner decided to put in the block header as opposed to our local time, which at least can be assumed to be monotonic. ",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-27T15:57:44Z",
      "diff_hunk" : "@@ -2149,21 +2154,31 @@ void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, in\n     if (fFirst)\n         return;\n \n+    // Get the best block time\n+    auto locked_chain = chain().lock();\n+    Optional<int> tip_height = locked_chain->getHeight();\n+    int64_t best_block_time = tip_height ? locked_chain->getBlockTime(*tip_height) : 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269639165",
      "id" : 269639165,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTYzOTE2NQ==",
      "original_commit_id" : "3e7bea52fa76d522ce5befb2546cab6959b7aed5",
      "original_position" : 22,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 219559876,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269639165",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269643592"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269643592"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd just moved this comment from net_processing, but you're right that I should also improve it. Done!",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-27T16:06:28Z",
      "diff_hunk" : "@@ -2138,8 +2138,13 @@ std::vector<uint256> CWallet::ResendWalletTransactionsBefore(interfaces::Chain::\n     return result;\n }\n \n-void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, int64_t nBestBlockTime)\n+// Resend wallet transactions that haven't gotten in a block yet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269643592",
      "id" : 269643592,
      "in_reply_to_id" : 269573120,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTY0MzU5Mg==",
      "original_commit_id" : "3e7bea52fa76d522ce5befb2546cab6959b7aed5",
      "original_position" : 5,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 219565664,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269643592",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269643649"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269643649"
         }
      },
      "author_association" : "MEMBER",
      "body" : "see above",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-27T16:06:34Z",
      "diff_hunk" : "@@ -2138,8 +2138,13 @@ std::vector<uint256> CWallet::ResendWalletTransactionsBefore(interfaces::Chain::\n     return result;\n }\n \n-void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, int64_t nBestBlockTime)\n+// Resend wallet transactions that haven't gotten in a block yet\n+// Except during reindex, importing and IBD, when old wallet\n+// transactions become unconfirmed and spams other nodes.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269643649",
      "id" : 269643649,
      "in_reply_to_id" : 269573381,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTY0MzY0OQ==",
      "original_commit_id" : "3e7bea52fa76d522ce5befb2546cab6959b7aed5",
      "original_position" : 7,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 219565725,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269643649",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Could add `UpdateBlockTip` to `interfaces::Chain::Notifications` to avoid scheduler timer, maybe follow up?",
      "created_at" : "2019-03-27T16:13:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477232181",
      "id" : 477232181,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzIzMjE4MQ==",
      "updated_at" : "2019-03-27T16:13:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477232181",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269648151"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269648151"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think you're right that we should use the local time of the block received, but only in order to maintain existing behaviour.\r\n\r\nCan you explain how using block time would be brittle?",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-27T16:15:19Z",
      "diff_hunk" : "@@ -2149,21 +2154,31 @@ void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, in\n     if (fFirst)\n         return;\n \n+    // Get the best block time\n+    auto locked_chain = chain().lock();\n+    Optional<int> tip_height = locked_chain->getHeight();\n+    int64_t best_block_time = tip_height ? locked_chain->getBlockTime(*tip_height) : 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269648151",
      "id" : 269648151,
      "in_reply_to_id" : 269639165,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTY0ODE1MQ==",
      "original_commit_id" : "3e7bea52fa76d522ce5befb2546cab6959b7aed5",
      "original_position" : 22,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 219571395,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269648151",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Could add UpdateBlockTip to interfaces::Chain::Notifications to avoid scheduler timer, maybe follow up?\r\n\r\nI don't understand this. How would this avoid using the schedule timer?",
      "created_at" : "2019-03-27T16:16:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477233485",
      "id" : 477233485,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzIzMzQ4NQ==",
      "updated_at" : "2019-03-27T16:16:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477233485",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery untested, but see https://github.com/promag/bitcoin/commit/afc7ac58e9ee14d72467ae442256cf342f29ccfa.",
      "created_at" : "2019-03-27T16:41:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477245402",
      "id" : 477245402,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzI0NTQwMg==",
      "updated_at" : "2019-03-27T16:41:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477245402",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @promag . Your change is definitely a simplification, but I think it makes the already bad privacy of rebroadcasts even worse.\r\n\r\nCurrently, wallet rebroadcasts are pretty bad for privacy: If you connect to a peer and they send you the same broadcast repeatedly, then it's their tx. Furthermore, they'll send _all_ of their txs together, so it's even easier to identify which txs are rebroadcast.\r\n\r\nThe fact that we randomize when we rebroadcast transactions makes this _slightly_ less bad. Your suggested change would be to only rebroadcast your wallet txs immediately after receiving a block. That would pretty obviously identify which txs are yours.\r\n\r\nWays we could improve rebroadcast privacy:\r\n- add a timer to each tx so that the rebroadcast schedules are independent\r\n- rotate peers more aggressively and only rebroadcast to new peers (so we only ever broadcast a tx to each peer once)",
      "created_at" : "2019-03-27T17:12:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477260710",
      "id" : 477260710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzI2MDcxMA==",
      "updated_at" : "2019-03-27T17:12:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477260710",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think I don't change the behavior?",
      "created_at" : "2019-03-27T17:28:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477268193",
      "id" : 477268193,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzI2ODE5Mw==",
      "updated_at" : "2019-03-27T17:28:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477268193",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I think I don't change the behavior?\r\n\r\nYour change would mean that wallet txs are only ever rebroadcast immediately after a block is received. In the existing code, and in this PR, wallet txs are rebroadcast at random times.",
      "created_at" : "2019-03-27T17:32:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477269742",
      "id" : 477269742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzI2OTc0Mg==",
      "updated_at" : "2019-03-27T17:32:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477269742",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@jnewbery I think you are missing this check:\r\n```cpp\r\n    // Only do it if there's been a new block since last time\r\n    if (best_block_time < nLastResend)\r\n        return;\r\n    nLastResend = GetTime();\r\n```\r\nso in the existing behavior (your change too) txs are broadcast only once shortly after a new block.",
      "created_at" : "2019-03-27T18:21:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477290929",
      "id" : 477290929,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzI5MDkyOQ==",
      "updated_at" : "2019-03-27T18:21:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477290929",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269707372"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269707372"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It will hurt privacy even for tx that have a sufficient fee to get into the next block (+5 min). They will be rebroadcast regardless because a miner might have set the the block time to at least 5 minutes into the future.\r\n\r\nSimilarly, if the block time is set into the past, you might not rebroadcast transactions for quite some time, even if a block has been mined without your txs in the meantime.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-27T18:23:19Z",
      "diff_hunk" : "@@ -2149,21 +2154,31 @@ void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, in\n     if (fFirst)\n         return;\n \n+    // Get the best block time\n+    auto locked_chain = chain().lock();\n+    Optional<int> tip_height = locked_chain->getHeight();\n+    int64_t best_block_time = tip_height ? locked_chain->getBlockTime(*tip_height) : 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269707372",
      "id" : 269707372,
      "in_reply_to_id" : 269639165,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTcwNzM3Mg==",
      "original_commit_id" : "3e7bea52fa76d522ce5befb2546cab6959b7aed5",
      "original_position" : 22,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 219647045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269707372",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@promag , the `nNextResend` will be pushed into the future if there was not block ",
      "created_at" : "2019-03-27T18:25:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477292471",
      "id" : 477292471,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzI5MjQ3MQ==",
      "updated_at" : "2019-03-27T18:25:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477292471",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke right, but then if `best_block_time` is the same from the last `ResendWalletTransactions` then nothing happens.",
      "created_at" : "2019-03-27T18:32:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477294970",
      "id" : 477294970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzI5NDk3MA==",
      "updated_at" : "2019-03-27T18:32:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477294970",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sorry guys it resends if \"some random time passed AND there was a new block\".",
      "created_at" : "2019-03-27T18:48:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477300868",
      "id" : 477300868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzMwMDg2OA==",
      "updated_at" : "2019-03-27T18:48:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477300868",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-03-27T18:56:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477303706",
      "id" : 477303706,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzMwMzcwNg==",
      "updated_at" : "2019-03-27T18:56:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477303706",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269754733"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269754733"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Greg's comments about this in IRC were very non-obvious to me. It would be good if the information could be added as a code comment:\r\n\r\nhttp://www.erisian.com.au/bitcoin-core-dev/log-2019-03-27.html#l-219\r\n\r\n> \\<gmaxwell> jnewbery: the idea behind the current rebroadcast behavior is that unless the tip has changed we don't have any reason to expect our transaction to have been mined, so the rebroadcast is pointless, since the txn might just be sitting waiting to be mined and all the rebroadcasts in the world won't speed that up.\r\n> \\<gmaxwell> (I mean the idea behind why it watches the tip)\r\n> \\<gmaxwell> jnewbery: But thats still too rebroadcast heavy. If the tip changed but at our transaction wasn't near the top of our mempool, well it shouldn't have been mined then either.\r\n> \\<gmaxwell> jnewbery: so right now if you make a txn that won't get mined for 12 blocks, you'll end up potentially rebroadcasting 12 times, even though it was in miners mempools the whole time. I've also seen network spies that appear to be attempting to exploit the rebroadcasting.\r\n> \\<gmaxwell> So ideally we'd suppress rebroadcasting during periods when the txn is nowhere near the top. Rebroadcasting then is pointless and only serves to deanon us.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-27T20:27:03Z",
      "diff_hunk" : "@@ -2138,8 +2138,13 @@ std::vector<uint256> CWallet::ResendWalletTransactionsBefore(interfaces::Chain::\n     return result;\n }\n \n-void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, int64_t nBestBlockTime)\n+// Resend unconfirmed wallet transactions\n+void CWallet::ResendWalletTransactions()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269754733",
      "id" : 269754733,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTc1NDczMw==",
      "original_commit_id" : "930cfbe1574baf33ddd8e97ef8de7d5cfc0a6977",
      "original_position" : 6,
      "path" : "src/wallet/wallet.cpp",
      "position" : 25,
      "pull_request_review_id" : 219707158,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269754733",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I intend to update this PR to make use of the `UpdateBlockTip`. As @MarcoFalke pointed out (https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269639165), we should use the local time of the tip updated to maintain existing behaviour. To do that, the wallet should receive an UpdateBlockTip notification and store the local time (currently `nTimeBestReceived ` is stored in validation, and should be removed by this PR).",
      "created_at" : "2019-03-27T21:23:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477353148",
      "id" : 477353148,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzM1MzE0OA==",
      "updated_at" : "2019-03-27T21:23:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477353148",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased on master. I still intend to update this PR to use `UpdateBlockTip` (https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477353148) and add comments (https://github.com/bitcoin/bitcoin/pull/15632#discussion_r269754733)",
      "created_at" : "2019-03-27T21:31:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477355403",
      "id" : 477355403,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzM1NTQwMw==",
      "updated_at" : "2019-03-27T21:31:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477355403",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "New branch pushed. Changes:\r\n\r\n- don't change to using tip block time. Continue using the local time of the tip being updated (plug wallet into UpdatedBlockTip notification and track with in the wallet)\r\n- add comment\r\n- add short sleep to test to make it run reliably (previously 10% of runs were failing because the block would be mined before the first time ResendWalletTransactions and so `nNextResend` was not being set.\r\n\r\nShould be ready for review now.",
      "created_at" : "2019-03-28T19:06:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477731422",
      "id" : 477731422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzczMTQyMg==",
      "updated_at" : "2019-03-28T19:06:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477731422",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270158554"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270158554"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not really following how this is any worse for privacy, but I've reverted to using the local time of the tip being updated.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-28T19:09:09Z",
      "diff_hunk" : "@@ -2149,21 +2154,31 @@ void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, in\n     if (fFirst)\n         return;\n \n+    // Get the best block time\n+    auto locked_chain = chain().lock();\n+    Optional<int> tip_height = locked_chain->getHeight();\n+    int64_t best_block_time = tip_height ? locked_chain->getBlockTime(*tip_height) : 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270158554",
      "id" : 270158554,
      "in_reply_to_id" : 269639165,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDE1ODU1NA==",
      "original_commit_id" : "3e7bea52fa76d522ce5befb2546cab6959b7aed5",
      "original_position" : 22,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 220221292,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270158554",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270198547"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270198547"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not consistently worse, but in some race-conditions, one of which is enough to give an attacker useful observations\r\n\r\n* Attacker opens a bunch of new connections to you\r\n* You create tx with fee target of next block\r\n* tx is broadcast (attacker sees it)\r\n* less than 5 minutes pass, enough to mine a new block, but not enough to propagate the tx to miners\r\n* A block is mined with a timestamp of 60 min in the future, without your tx\r\n* Attacker sees the new block and opens a bunch of new connections to you\r\n* previous random wait in ResendWalletTransactions times out\r\n* we send the tx again to the attacker (we wouldn't do this for non-wallet txs, nor if we used local `GetTime()` for the block time)\r\n\r\n",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-28T21:04:20Z",
      "diff_hunk" : "@@ -2149,21 +2154,31 @@ void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, in\n     if (fFirst)\n         return;\n \n+    // Get the best block time\n+    auto locked_chain = chain().lock();\n+    Optional<int> tip_height = locked_chain->getHeight();\n+    int64_t best_block_time = tip_height ? locked_chain->getBlockTime(*tip_height) : 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270198547",
      "id" : 270198547,
      "in_reply_to_id" : 269639165,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDE5ODU0Nw==",
      "original_commit_id" : "3e7bea52fa76d522ce5befb2546cab6959b7aed5",
      "original_position" : 22,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 220273403,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270198547",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "nit in commit 94344f23ac2f914866f3f440e56dd4840344ff17:\r\n\r\nShould also remove `nTimeBestReceived` in here, since the other changes make it unused? That way it is easier to see that they are the same value, just passed around differently.\r\n\r\nSame goes for the next commit 82b2f8c5cf8bce0202c8911f6a57b97b87dc35a1:\r\n\r\nThe hunks that are removed in later commits should maybe already be removed in this commit. That way it is clearer that the code logic was  moved and the only difference is the scheduling.",
      "created_at" : "2019-03-28T22:00:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477787253",
      "id" : 477787253,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3Nzc4NzI1Mw==",
      "updated_at" : "2019-03-28T22:04:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477787253",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @MarcoFalke . I'll rearrange commits tomorrow to aid review.",
      "created_at" : "2019-03-28T23:58:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-477813850",
      "id" : 477813850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3NzgxMzg1MA==",
      "updated_at" : "2019-03-28T23:58:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477813850",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270508337"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270508337"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This is accessed from two different threads so it might be better if this were atomic or accessed with the cs_wallet lock.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-29T17:30:50Z",
      "diff_hunk" : "@@ -657,6 +657,8 @@ class CWallet final : public CCryptoKeyStore, private interfaces::Chain::Notific\n     int64_t nNextResend = 0;\n     int64_t nLastResend = 0;\n     bool fBroadcastTransactions = false;\n+    // Local time that the tip block was received. Used to schedule wallet rebroadcasts.\n+    int64_t m_best_block_time {0};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270508337",
      "id" : 270508337,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDUwODMzNw==",
      "original_commit_id" : "5c79e306414be60323d1169136c261af0050fba9",
      "original_position" : 5,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 220670784,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270508337",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270511484"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270511484"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't get why you'd need to sleep before a wait_until statement. Isn't wait_until going to wait longer than 1.1 seconds for the condition to be true? It would be helpful to update this comment saying where the failure is and what happens if the sleep is not long enough.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-29T17:39:24Z",
      "diff_hunk" : "@@ -39,6 +39,10 @@ def run_test(self):\n         self.log.info(\"Create a new transaction and wait until it's broadcast\")\n         txid = int(node.sendtoaddress(node.getnewaddress(), 1), 16)\n \n+        # Sleep for just over a second so the rebroadcast scheduler can get",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270511484",
      "id" : 270511484,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDUxMTQ4NA==",
      "original_commit_id" : "5c79e306414be60323d1169136c261af0050fba9",
      "original_position" : 4,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 220670784,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270511484",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270528961"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270528961"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Good catch! I'll make this atomic.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-29T18:29:51Z",
      "diff_hunk" : "@@ -657,6 +657,8 @@ class CWallet final : public CCryptoKeyStore, private interfaces::Chain::Notific\n     int64_t nNextResend = 0;\n     int64_t nLastResend = 0;\n     bool fBroadcastTransactions = false;\n+    // Local time that the tip block was received. Used to schedule wallet rebroadcasts.\n+    int64_t m_best_block_time {0};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270528961",
      "id" : 270528961,
      "in_reply_to_id" : 270508337,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDUyODk2MQ==",
      "original_commit_id" : "5c79e306414be60323d1169136c261af0050fba9",
      "original_position" : 5,
      "path" : "src/wallet/wallet.h",
      "position" : null,
      "pull_request_review_id" : 220698021,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270528961",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270539747"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270539747"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The `wait_until()` below can return in less than one second. If that happens then the rebroadcast timer won't have popped for the first time, and so `nNextResend` won't have been set. We then setmocktime, and when the rebroadcast timer does pop, `nNextResend` is still zero and `ResendWalletTransactions()` exits early.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-29T19:03:51Z",
      "diff_hunk" : "@@ -39,6 +39,10 @@ def run_test(self):\n         self.log.info(\"Create a new transaction and wait until it's broadcast\")\n         txid = int(node.sendtoaddress(node.getnewaddress(), 1), 16)\n \n+        # Sleep for just over a second so the rebroadcast scheduler can get",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270539747",
      "id" : 270539747,
      "in_reply_to_id" : 270511484,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDUzOTc0Nw==",
      "original_commit_id" : "5c79e306414be60323d1169136c261af0050fba9",
      "original_position" : 4,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 220712321,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270539747",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Commits updated as requested by @MarcoFalke and @ryanofsky.",
      "created_at" : "2019-03-29T19:04:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-478114686",
      "id" : 478114686,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODExNDY4Ng==",
      "updated_at" : "2019-03-29T19:04:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478114686",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270541611"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270541611"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In commit b53a127ec02fa42e87cb4151e0529fbf3226187a: \r\n\r\nWould have to adjust `boost::signals2::signal<void (int64_t nBestBlockTime, CConnman* connman)> Broadcast;` a few lines up as well",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-29T19:10:20Z",
      "diff_hunk" : "@@ -101,7 +101,7 @@ void RegisterValidationInterface(CValidationInterface* pwalletIn) {\n     conns.BlockDisconnected = g_signals.m_internals->BlockDisconnected.connect(std::bind(&CValidationInterface::BlockDisconnected, pwalletIn, std::placeholders::_1));\n     conns.TransactionRemovedFromMempool = g_signals.m_internals->TransactionRemovedFromMempool.connect(std::bind(&CValidationInterface::TransactionRemovedFromMempool, pwalletIn, std::placeholders::_1));\n     conns.ChainStateFlushed = g_signals.m_internals->ChainStateFlushed.connect(std::bind(&CValidationInterface::ChainStateFlushed, pwalletIn, std::placeholders::_1));\n-    conns.Broadcast = g_signals.m_internals->Broadcast.connect(std::bind(&CValidationInterface::ResendWalletTransactions, pwalletIn, std::placeholders::_1, std::placeholders::_2));\n+    conns.Broadcast = g_signals.m_internals->Broadcast.connect(std::bind(&CValidationInterface::ResendWalletTransactions, pwalletIn, std::placeholders::_1));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270541611",
      "id" : 270541611,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDU0MTYxMQ==",
      "original_commit_id" : "b53a127ec02fa42e87cb4151e0529fbf3226187a",
      "original_position" : 5,
      "path" : "src/validationinterface.cpp",
      "position" : null,
      "pull_request_review_id" : 220714759,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270541611",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270555186"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270555186"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks. Fixed.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-03-29T19:58:38Z",
      "diff_hunk" : "@@ -101,7 +101,7 @@ void RegisterValidationInterface(CValidationInterface* pwalletIn) {\n     conns.BlockDisconnected = g_signals.m_internals->BlockDisconnected.connect(std::bind(&CValidationInterface::BlockDisconnected, pwalletIn, std::placeholders::_1));\n     conns.TransactionRemovedFromMempool = g_signals.m_internals->TransactionRemovedFromMempool.connect(std::bind(&CValidationInterface::TransactionRemovedFromMempool, pwalletIn, std::placeholders::_1));\n     conns.ChainStateFlushed = g_signals.m_internals->ChainStateFlushed.connect(std::bind(&CValidationInterface::ChainStateFlushed, pwalletIn, std::placeholders::_1));\n-    conns.Broadcast = g_signals.m_internals->Broadcast.connect(std::bind(&CValidationInterface::ResendWalletTransactions, pwalletIn, std::placeholders::_1, std::placeholders::_2));\n+    conns.Broadcast = g_signals.m_internals->Broadcast.connect(std::bind(&CValidationInterface::ResendWalletTransactions, pwalletIn, std::placeholders::_1));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270555186",
      "id" : 270555186,
      "in_reply_to_id" : 270541611,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDU1NTE4Ng==",
      "original_commit_id" : "b53a127ec02fa42e87cb4151e0529fbf3226187a",
      "original_position" : 5,
      "path" : "src/validationinterface.cpp",
      "position" : null,
      "pull_request_review_id" : 220732932,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270555186",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-04-01T20:13:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-478729394",
      "id" : 478729394,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODcyOTM5NA==",
      "updated_at" : "2019-04-01T20:13:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478729394",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2019-04-01T20:48:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-478741805",
      "id" : 478741805,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3ODc0MTgwNQ==",
      "updated_at" : "2019-04-01T20:48:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/478741805",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2019-04-02T15:03:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479039089",
      "id" : 479039089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTAzOTA4OQ==",
      "updated_at" : "2019-04-02T15:03:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479039089",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2019-04-02T15:20:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479047381",
      "id" : 479047381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTA0NzM4MQ==",
      "updated_at" : "2019-04-02T15:20:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479047381",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271380535"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271380535"
         }
      },
      "author_association" : "MEMBER",
      "body" : "style-nit in f7790b3ad4c0cd5318841e30224c0d3dea0a3dca:\r\n\r\nany reason to scope cs_wallet, but not cs_main?",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-02T16:01:05Z",
      "diff_hunk" : "@@ -2120,11 +2137,12 @@ void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, in\n     if (fFirst) return;\n \n     // Only do it if there's been a new block since last time\n-    if (nBestBlockTime < nLastResend) return;\n+    if (m_best_block_time < nLastResend) return;\n     nLastResend = GetTime();\n \n     int relayed_tx_count = 0;\n \n+    auto locked_chain = chain().lock();\n     { // cs_wallet scope",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271380535",
      "id" : 271380535,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTM4MDUzNQ==",
      "original_commit_id" : "f7790b3ad4c0cd5318841e30224c0d3dea0a3dca",
      "original_position" : 45,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 221754747,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271380535",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271384635"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271384635"
         }
      },
      "author_association" : "MEMBER",
      "body" : "style-nit in commit 9ad047d936c5601ca3841303595368e3c23e50b9:\r\n\r\n```suggestion\r\n        # warmed up (see nNextResend in ResendWalletTransactions(), which is called first scheduled 1sec after startup)\r\n```",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-02T16:10:32Z",
      "diff_hunk" : "@@ -39,6 +39,10 @@ def run_test(self):\n         self.log.info(\"Create a new transaction and wait until it's broadcast\")\n         txid = int(node.sendtoaddress(node.getnewaddress(), 1), 16)\n \n+        # Sleep for just over a second so the rebroadcast scheduler can get\n+        # warmed up (see fNextResend in ResendWalletTransactions())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271384635",
      "id" : 271384635,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTM4NDYzNQ==",
      "original_commit_id" : "f7790b3ad4c0cd5318841e30224c0d3dea0a3dca",
      "original_position" : 5,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 221760064,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271384635",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK f7790b3ad4c0cd5318841e30224c0d3dea0a3dca",
      "created_at" : "2019-04-02T16:10:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479072426",
      "id" : 479072426,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTA3MjQyNg==",
      "updated_at" : "2019-04-02T16:10:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479072426",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271386890"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271386890"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-02T16:16:07Z",
      "diff_hunk" : "@@ -2120,11 +2137,12 @@ void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain, in\n     if (fFirst) return;\n \n     // Only do it if there's been a new block since last time\n-    if (nBestBlockTime < nLastResend) return;\n+    if (m_best_block_time < nLastResend) return;\n     nLastResend = GetTime();\n \n     int relayed_tx_count = 0;\n \n+    auto locked_chain = chain().lock();\n     { // cs_wallet scope",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271386890",
      "id" : 271386890,
      "in_reply_to_id" : 271380535,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTM4Njg5MA==",
      "original_commit_id" : "f7790b3ad4c0cd5318841e30224c0d3dea0a3dca",
      "original_position" : 45,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 221763045,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271386890",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271386951"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271386951"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-02T16:16:13Z",
      "diff_hunk" : "@@ -39,6 +39,10 @@ def run_test(self):\n         self.log.info(\"Create a new transaction and wait until it's broadcast\")\n         txid = int(node.sendtoaddress(node.getnewaddress(), 1), 16)\n \n+        # Sleep for just over a second so the rebroadcast scheduler can get\n+        # warmed up (see fNextResend in ResendWalletTransactions())",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271386951",
      "id" : 271386951,
      "in_reply_to_id" : 271384635,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTM4Njk1MQ==",
      "original_commit_id" : "f7790b3ad4c0cd5318841e30224c0d3dea0a3dca",
      "original_position" : 5,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 221763119,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271386951",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed @MarcoFalke's review comments.",
      "created_at" : "2019-04-02T16:16:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479075106",
      "id" : 479075106,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTA3NTEwNg==",
      "updated_at" : "2019-04-02T16:16:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479075106",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271389840"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271389840"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        # The rebroadcast is first scheduled 1 sec after startup\r\n```",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-02T16:23:08Z",
      "diff_hunk" : "@@ -39,6 +39,11 @@ def run_test(self):\n         self.log.info(\"Create a new transaction and wait until it's broadcast\")\n         txid = int(node.sendtoaddress(node.getnewaddress(), 1), 16)\n \n+        # The rebroadcast scheduler can is first called 1 sec after startupp",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271389840",
      "id" : 271389840,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTM4OTg0MA==",
      "original_commit_id" : "0fb4ba63f37cc42c87123ba71fe011645140fd92",
      "original_position" : 4,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 221766703,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271389840",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271389931"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271389931"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n        # (see nNextResend in ResendWalletTransactions()). Sleep for just over\r\n```",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-02T16:23:22Z",
      "diff_hunk" : "@@ -39,6 +39,11 @@ def run_test(self):\n         self.log.info(\"Create a new transaction and wait until it's broadcast\")\n         txid = int(node.sendtoaddress(node.getnewaddress(), 1), 16)\n \n+        # The rebroadcast scheduler can is first called 1 sec after startupp\n+        # (see fNextResend in ResendWalletTransactions()). Sleep for just over",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271389931",
      "id" : 271389931,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTM4OTkzMQ==",
      "original_commit_id" : "0fb4ba63f37cc42c87123ba71fe011645140fd92",
      "original_position" : 5,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 221766703,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271389931",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> some typos\r\n\r\nSorry. Now fixed.",
      "created_at" : "2019-04-02T16:28:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479080792",
      "id" : 479080792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTA4MDc5Mg==",
      "updated_at" : "2019-04-02T16:29:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479080792",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271493191"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271493191"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/15632#discussion_r270539747\r\n\r\nMaybe add \"to be certain that it has been called _before the first setmocktime call below_\".\r\n\r\nNormally when you see a sleep in a test, it's inserted right before the thing that needs to be delayed, but in this case, the thing that needs to be delayed is further down, so it would be helpful to point out.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-02T20:58:28Z",
      "diff_hunk" : "@@ -39,9 +39,9 @@ def run_test(self):\n         self.log.info(\"Create a new transaction and wait until it's broadcast\")\n         txid = int(node.sendtoaddress(node.getnewaddress(), 1), 16)\n \n-        # The rebroadcast scheduler can is first called 1 sec after startupp\n-        # (see fNextResend in ResendWalletTransactions()). Sleep for just over\n-        # a second to be certain that it's been called.\n+        # Wallet rebroadcast is first scheduled 1 sec after startup (see\n+        # nNextResend in ResendWalletTransactions()). Sleep for just over a\n+        # second to be certain that it has been called.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271493191",
      "id" : 271493191,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTQ5MzE5MQ==",
      "original_commit_id" : "4aa062760e5b6d91e3528833eff81d6a6cf96ff5",
      "original_position" : 9,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : null,
      "pull_request_review_id" : 221899056,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271493191",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK 4aa062760e",
      "created_at" : "2019-04-02T21:04:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479201550",
      "id" : 479201550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTIwMTU1MA==",
      "updated_at" : "2019-04-02T21:04:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479201550",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271497241"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271497241"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"[wallet] Remove unnecessary Chain::Lock parameter from ResendWalletTransactions\" (4aa062760e5b6d91e3528833eff81d6a6cf96ff5)\r\n\r\nComment change should go in the previous commit which adds the comment and the sleep: \"[wallet] Schedule tx rebroadcasts in wallet.\" (b1d1c414889aa2573806fe2d925651be66335bc4), since this isn't related to removing chain_lock.\r\n\r\n",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-02T21:10:17Z",
      "diff_hunk" : "@@ -39,9 +39,9 @@ def run_test(self):\n         self.log.info(\"Create a new transaction and wait until it's broadcast\")\n         txid = int(node.sendtoaddress(node.getnewaddress(), 1), 16)\n \n-        # The rebroadcast scheduler can is first called 1 sec after startupp\n-        # (see fNextResend in ResendWalletTransactions()). Sleep for just over\n-        # a second to be certain that it's been called.\n+        # Wallet rebroadcast is first scheduled 1 sec after startup (see",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271497241",
      "id" : 271497241,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTQ5NzI0MQ==",
      "original_commit_id" : "4aa062760e5b6d91e3528833eff81d6a6cf96ff5",
      "original_position" : 7,
      "path" : "test/functional/wallet_resendwallettransactions.py",
      "position" : 4,
      "pull_request_review_id" : 221899056,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271497241",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@ryanofsky's comments addressed. Sorry for the churn here!",
      "created_at" : "2019-04-02T21:45:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479217427",
      "id" : 479217427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTIxNzQyNw==",
      "updated_at" : "2019-04-02T21:45:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479217427",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK 28c75c0b5e\r\n\r\nOnly change is in a comment",
      "created_at" : "2019-04-02T22:28:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479233487",
      "id" : 479233487,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTIzMzQ4Nw==",
      "updated_at" : "2019-04-02T22:28:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479233487",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271754603"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271754603"
         }
      },
      "author_association" : "MEMBER",
      "body" : " nits, space after `*`, snake case, and unused symbols.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-03T13:55:38Z",
      "diff_hunk" : "@@ -202,16 +202,20 @@ class NotificationsHandlerImpl : public Handler, CValidationInterface\n     {\n         m_notifications->BlockDisconnected(*block);\n     }\n+    void UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) override",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271754603",
      "id" : 271754603,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTc1NDYwMw==",
      "original_commit_id" : "dfe16f090e6dbab94c8705461ec55b909e3218c4",
      "original_position" : 4,
      "path" : "src/interfaces/chain.cpp",
      "position" : null,
      "pull_request_review_id" : 222225000,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271754603",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271756207"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271756207"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, could have a comment.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-03T13:58:50Z",
      "diff_hunk" : "@@ -1229,6 +1229,8 @@ class CWallet final : public CCryptoKeyStore, private interfaces::Chain::Notific\n     friend struct WalletTestingSetup;\n };\n \n+void MaybeResendWalletTxs();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271756207",
      "id" : 271756207,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTc1NjIwNw==",
      "original_commit_id" : "3359591e30f02b7b3cd55388abb7a3eed6e93a1c",
      "original_position" : 13,
      "path" : "src/wallet/wallet.h",
      "position" : 34,
      "pull_request_review_id" : 222225000,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271756207",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271759199"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271759199"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, `if (wtx.RelayWalletTransaction(*locked_chain)) relayed_tx_count++;`  ",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-03T14:05:21Z",
      "diff_hunk" : "@@ -2151,7 +2152,7 @@ void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain)\n             // only rebroadcast unconfirmed txes older than 5 minutes before the\n             // last block was found\n             if (wtx.nTimeReceived > m_best_block_time - 5 * 60) continue;\n-            relayed_tx_count += wtx.RelayWalletTransaction(locked_chain) ? 1 : 0;\n+            relayed_tx_count += wtx.RelayWalletTransaction(*locked_chain) ? 1 : 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271759199",
      "id" : 271759199,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTc1OTE5OQ==",
      "original_commit_id" : "28c75c0b5ece90caa1560c31d04a898587624ffe",
      "original_position" : 24,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 222225000,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271759199",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271760285"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271760285"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Drop comment here and in L2145 (my preference), or update here.",
      "commit_id" : "fe82f317fad35fbe45caf84e224ec722e4cbd5ab",
      "created_at" : "2019-04-03T14:07:47Z",
      "diff_hunk" : "@@ -2151,7 +2152,7 @@ void CWallet::ResendWalletTransactions(interfaces::Chain::Lock& locked_chain)\n             // only rebroadcast unconfirmed txes older than 5 minutes before the\n             // last block was found\n             if (wtx.nTimeReceived > m_best_block_time - 5 * 60) continue;\n-            relayed_tx_count += wtx.RelayWalletTransaction(locked_chain) ? 1 : 0;\n+            relayed_tx_count += wtx.RelayWalletTransaction(*locked_chain) ? 1 : 0;\n         }\n     } // cs_wallet",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#discussion_r271760285",
      "id" : 271760285,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTc2MDI4NQ==",
      "original_commit_id" : "28c75c0b5ece90caa1560c31d04a898587624ffe",
      "original_position" : 26,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 222225000,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15632",
      "updated_at" : "2019-04-05T14:21:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271760285",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks @promag . Comments addressed.",
      "created_at" : "2019-04-03T14:36:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479517288",
      "id" : 479517288,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTUxNzI4OA==",
      "updated_at" : "2019-04-03T14:36:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479517288",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 4a0d1d5, ty @jnewbery.",
      "created_at" : "2019-04-03T14:46:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479521399",
      "id" : 479521399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTUyMTM5OQ==",
      "updated_at" : "2019-04-03T14:46:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479521399",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "re-utACK 10569b1067\r\n",
      "created_at" : "2019-04-03T21:07:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-479659368",
      "id" : 479659368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ3OTY1OTM2OA==",
      "updated_at" : "2019-04-03T21:07:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/479659368",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Removed extraneous `;`.",
      "created_at" : "2019-04-05T14:21:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15632#issuecomment-480293689",
      "id" : 480293689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15632",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ4MDI5MzY4OQ==",
      "updated_at" : "2019-04-05T14:21:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480293689",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
