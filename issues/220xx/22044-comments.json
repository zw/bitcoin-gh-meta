[
   {
      "author_association" : "NONE",
      "body" : "Before undrafting: Are there any other fees that should be sanitized? Is this the right approach?",
      "created_at" : "2021-05-24T14:46:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22044#issuecomment-847092320",
      "id" : 847092320,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NzA5MjMyMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-24T14:46:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847092320",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/35263201?v=4",
         "events_url" : "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amadeuszpawlik/followers",
         "following_url" : "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amadeuszpawlik",
         "id" : 35263201,
         "login" : "amadeuszpawlik",
         "node_id" : "MDQ6VXNlcjM1MjYzMjAx",
         "organizations_url" : "https://api.github.com/users/amadeuszpawlik/orgs",
         "received_events_url" : "https://api.github.com/users/amadeuszpawlik/received_events",
         "repos_url" : "https://api.github.com/users/amadeuszpawlik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amadeuszpawlik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amadeuszpawlik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22044#discussion_r638270074"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22044"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638270074"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please use correct formatting, see https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#coding-style-c.",
      "commit_id" : "a0cedcf0ac701f2a3d01bd101f42e109aef806c9",
      "created_at" : "2021-05-24T21:05:03Z",
      "diff_hunk" : "@@ -968,6 +968,9 @@ bool AppInitParameterInteraction(const ArgsManager& args)\n         CAmount n = 0;\n         if (!ParseMoney(args.GetArg(\"-blockmintxfee\", \"\"), n))\n             return InitError(AmountErrMsg(\"blockmintxfee\", args.GetArg(\"-blockmintxfee\", \"\")));\n+        // High fee check\n+        if(n > MAX_BLOCK_MIN_TX_FEE_PER_KVB)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22044#discussion_r638270074",
      "id" : 638270074,
      "line" : 972,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODI3MDA3NA==",
      "original_commit_id" : "a0cedcf0ac701f2a3d01bd101f42e109aef806c9",
      "original_line" : 972,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 667167041,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22044",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-05-24T21:05:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638270074",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'd say all fee rates should be sanitized with this",
      "created_at" : "2021-05-25T05:27:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22044#issuecomment-847544330",
      "id" : 847544330,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0NzU0NDMzMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-25T05:27:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847544330",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> \r\n> \r\n> I'd say all fee rates should be sanitized with this\r\n\r\n`-minrelaytxfee` is already checked for high fee in `CWallet::Create()`, does it make sense to do a rough (<1BTC) check in `AppInitParameterInteraction(...)` too, as to reject it as early as possible?",
      "created_at" : "2021-05-25T13:36:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22044#issuecomment-847876647",
      "id" : 847876647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0Nzg3NjY0Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-25T13:36:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847876647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/35263201?v=4",
         "events_url" : "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amadeuszpawlik/followers",
         "following_url" : "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amadeuszpawlik",
         "id" : 35263201,
         "login" : "amadeuszpawlik",
         "node_id" : "MDQ6VXNlcjM1MjYzMjAx",
         "organizations_url" : "https://api.github.com/users/amadeuszpawlik/orgs",
         "received_events_url" : "https://api.github.com/users/amadeuszpawlik/received_events",
         "repos_url" : "https://api.github.com/users/amadeuszpawlik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amadeuszpawlik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amadeuszpawlik"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The error should be printed even without the wallet",
      "created_at" : "2021-05-25T15:44:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22044#issuecomment-847983120",
      "id" : 847983120,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg0Nzk4MzEyMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-05-25T15:44:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847983120",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25388](https://github.com/bitcoin/bitcoin/pull/25388) (refactor: move policy constants to policy by fanquake)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2021-06-11T17:38:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22044#issuecomment-859737483",
      "id" : 859737483,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg1OTczNzQ4Mw==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/859737483/reactions"
      },
      "updated_at" : "2022-06-16T23:27:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/859737483",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Approach NACK.  A 1 BTC/kvB limit may make sense given the current market price of BTC, but in the context of the codebase it's arbitrary and thus doesn't belong.\r\n\r\nGiven that the purpose of this change is to avoid overflows, it might be more appropriate to sanitize the potential fee once it's ready to be calculated (_e.g._, check that `fee rate < int max / size`).  In that way it'd based on the technical constraint itself, rather than on what a reasonable fee looks like in 2021.",
      "created_at" : "2021-07-12T14:53:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22044#issuecomment-878346101",
      "id" : 878346101,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3ODM0NjEwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-12T14:53:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/878346101",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/842394?v=4",
         "events_url" : "https://api.github.com/users/timgurto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/timgurto/followers",
         "following_url" : "https://api.github.com/users/timgurto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/timgurto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/timgurto",
         "id" : 842394,
         "login" : "timgurto",
         "node_id" : "MDQ6VXNlcjg0MjM5NA==",
         "organizations_url" : "https://api.github.com/users/timgurto/orgs",
         "received_events_url" : "https://api.github.com/users/timgurto/received_events",
         "repos_url" : "https://api.github.com/users/timgurto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/timgurto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/timgurto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/timgurto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Given that the purpose of this change is to avoid overflows, it might be more appropriate to sanitize the potential fee once it's ready to be calculated (e.g., check that fee rate < int max / size). In that way it'd based on the technical constraint itself, rather than on what a reasonable fee looks like in 2021.\r\n\r\nWhen you sanitize it once it's calculated, it will become a run-time error, instead of InitError, as it is now. This forces the user to shutdown the node and adjust the fee when the node is already fully running. Also, the error might be intermittent, because it depends on the tx size.\r\n\r\nAlso, we already have upper limits for the maximum tx fee for local transaction (maxtxfee), with a default of 0.1 BTC. So I don't see why it is so bad to add another constant.\r\n\r\n If 1 BTC/kvB is still too controversial, 46116 BTC/kvB can be picked as I explained in #21893.",
      "created_at" : "2021-07-12T17:01:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22044#issuecomment-878440985",
      "id" : 878440985,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22044",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDg3ODQ0MDk4NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-07-12T17:01:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/878440985",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-08-24T03:44:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22044#issuecomment-904298547",
      "id" : 904298547,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22044",
      "node_id" : "IC_kwDOABII58415oAz",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-24T03:44:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/904298547",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-06-20T19:55:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22044#issuecomment-1160798385",
      "id" : 1160798385,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22044",
      "node_id" : "IC_kwDOABII585FMGCx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1160798385/reactions"
      },
      "updated_at" : "2022-06-20T19:55:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1160798385",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
