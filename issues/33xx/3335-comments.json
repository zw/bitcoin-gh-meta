[
   {
      "body" : "I have tested this patch.\r\n\r\n* A watch script polling every 30 seconds shows the values to be stable and sane. \r\n* Values persist through a clean node shutdown.\r\n* Values persist through an unexpected node shutdown.\r\n* Passing invalid queries to either command results in a proper error. \r\n\r\n**On startup:**\r\n````$ ./bitcoin-cli estimatepriority\r\n-1.00000000````\r\n\r\n````$ ./bitcoin-cli  estimatefee\r\n-1.00000000````\r\n\r\n**After 20 minutes:**\r\n````$ ./bitcoin-cli estimatepriority\r\n-1.00000000````\r\n\r\n````$ ./bitcoin-cli  estimatefee\r\n0.00044247````\r\n\r\n**After 60 minutes:**\r\n````$ ./bitcoin-cli estimatepriority\r\n320748687.31726366````\r\n\r\n````$ ./bitcoin-cli  estimatefee\r\n0.00044247````\r\n\r\n````$ ./bitcoin-cli estimatefee 0.5\r\n0.00044247````\r\n\r\n````$ ./bitcoin-cli estimatefee 0.1\r\n0.00028655````\r\n\r\n````$ ./bitcoin-cli estimatefee 0.01\r\n0.00014947````",
      "created_at" : "2013-12-01T06:19:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-29568238",
      "id" : 29568238,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2013-12-01T08:19:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29568238",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6076728?v=3",
         "events_url" : "https://api.github.com/users/ttys2/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ttys2/followers",
         "following_url" : "https://api.github.com/users/ttys2/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ttys2/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ttys2",
         "id" : 6076728,
         "login" : "ttys2",
         "organizations_url" : "https://api.github.com/users/ttys2/orgs",
         "received_events_url" : "https://api.github.com/users/ttys2/received_events",
         "repos_url" : "https://api.github.com/users/ttys2/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ttys2/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ttys2/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ttys2"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3335#discussion_r8013473"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3335"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8013473"
         }
      },
      "body" : "There is an else-statement missing:\r\n\r\n    else\r\n        nPayFee = nTransactionFee;\r\n\r\nCurrently, if AllowFree is true and nTransactionFee > 0, coin control shows zero fee. But this is wrong. Must show nTransactionFee.",
      "commit_id" : "07eeec5c12fbb22b4e53a63fdf0186fa2339f06b",
      "created_at" : "2013-12-01T10:42:46Z",
      "diff_hunk" : "@@ -515,19 +520,15 @@ void CoinControlDialog::updateLabels(WalletModel *model, QDialog* dialog)\n         dPriority = dPriorityInputs / (nBytes - nBytesInputs + (nQuantityUncompressed * 29)); // 29 = 180 - 151 (uncompressed public keys are over the limit. max 151 bytes of the input are ignored for priority)\n         sPriorityLabel = CoinControlDialog::getPriorityLabel(dPriority);\n \n-        // Fee\n-        int64_t nFee = nTransactionFee * (1 + (int64_t)nBytes / 1000);\n-\n-        // Min Fee\n-        int64_t nMinFee = GetMinFee(txDummy, nBytes, AllowFree(dPriority), GMF_SEND);\n-\n-        nPayFee = max(nFee, nMinFee);\n+        if (!AllowFree(txDummy, dPriority, nBytes, GMF_SEND))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#discussion_r8013473",
      "id" : 8013473,
      "original_commit_id" : "524c448173a6e9d0b3518f28d0e49ea3e000e0ba",
      "original_position" : 53,
      "path" : "src/qt/coincontroldialog.cpp",
      "position" : 53,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3335",
      "updated_at" : "2014-03-13T16:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8013473",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3335#discussion_r8015707"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3335"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8015707"
         }
      },
      "body" : "@cozz: nice catch!  I'll fix.",
      "commit_id" : "07eeec5c12fbb22b4e53a63fdf0186fa2339f06b",
      "created_at" : "2013-12-02T00:04:29Z",
      "diff_hunk" : "@@ -515,19 +520,15 @@ void CoinControlDialog::updateLabels(WalletModel *model, QDialog* dialog)\n         dPriority = dPriorityInputs / (nBytes - nBytesInputs + (nQuantityUncompressed * 29)); // 29 = 180 - 151 (uncompressed public keys are over the limit. max 151 bytes of the input are ignored for priority)\n         sPriorityLabel = CoinControlDialog::getPriorityLabel(dPriority);\n \n-        // Fee\n-        int64_t nFee = nTransactionFee * (1 + (int64_t)nBytes / 1000);\n-\n-        // Min Fee\n-        int64_t nMinFee = GetMinFee(txDummy, nBytes, AllowFree(dPriority), GMF_SEND);\n-\n-        nPayFee = max(nFee, nMinFee);\n+        if (!AllowFree(txDummy, dPriority, nBytes, GMF_SEND))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#discussion_r8015707",
      "id" : 8015707,
      "original_commit_id" : "524c448173a6e9d0b3518f28d0e49ea3e000e0ba",
      "original_position" : 53,
      "path" : "src/qt/coincontroldialog.cpp",
      "position" : 53,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3335",
      "updated_at" : "2014-03-13T16:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8015707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Fixed the bug @cozz found, and re-ordered includes to make the windows cross-compiler happy.\r\n",
      "created_at" : "2013-12-02T01:42:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-29589754",
      "id" : 29589754,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2013-12-02T01:42:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29589754",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3335#discussion_r8016826"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3335"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8016826"
         }
      },
      "body" : "Sorry to bother, but now you missed the case\r\n(nTransactionFee > 0 && nTransactionFee < 10000 && !AllowFree)\r\n\r\nExample:\r\nSet nTransactionFee to 1 satoshi. Select output < medium. Send Transaction with no CENT-outputs.\r\nYou have to pay 10000 satoshi for this transaction, but coin control says 1 satoshi.",
      "commit_id" : "07eeec5c12fbb22b4e53a63fdf0186fa2339f06b",
      "created_at" : "2013-12-02T03:08:04Z",
      "diff_hunk" : "@@ -515,19 +520,23 @@ void CoinControlDialog::updateLabels(WalletModel *model, QDialog* dialog)\n         dPriority = dPriorityInputs / (nBytes - nBytesInputs + (nQuantityUncompressed * 29)); // 29 = 180 - 151 (uncompressed public keys are over the limit. max 151 bytes of the input are ignored for priority)\n         sPriorityLabel = CoinControlDialog::getPriorityLabel(dPriority);\n \n-        // Fee\n-        int64_t nFee = nTransactionFee * (1 + (int64_t)nBytes / 1000);\n-\n-        // Min Fee\n-        int64_t nMinFee = GetMinFee(txDummy, nBytes, AllowFree(dPriority), GMF_SEND);\n-\n-        nPayFee = max(nFee, nMinFee);\n+        if (nTransactionFee > 0)\n+        {\n+            // If user set nTransactionFee, pay at least that;\n+            // more if transaction is > 1,000 bytes:\n+            nPayFee = max(nTransactionFee, nTransactionFee*nBytes/1000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#discussion_r8016826",
      "id" : 8016826,
      "original_commit_id" : "f60553d066838b844c3d1cca8d732be372566815",
      "original_position" : 57,
      "path" : "src/qt/coincontroldialog.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3335",
      "updated_at" : "2014-03-13T16:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8016826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3335#discussion_r8016897"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3335"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8016897"
         }
      },
      "body" : "Bah, brain fart on my part.  The coin control logic and wallet's send logic REALLY need to be refactored to share the same code....",
      "commit_id" : "07eeec5c12fbb22b4e53a63fdf0186fa2339f06b",
      "created_at" : "2013-12-02T03:18:24Z",
      "diff_hunk" : "@@ -515,19 +520,23 @@ void CoinControlDialog::updateLabels(WalletModel *model, QDialog* dialog)\n         dPriority = dPriorityInputs / (nBytes - nBytesInputs + (nQuantityUncompressed * 29)); // 29 = 180 - 151 (uncompressed public keys are over the limit. max 151 bytes of the input are ignored for priority)\n         sPriorityLabel = CoinControlDialog::getPriorityLabel(dPriority);\n \n-        // Fee\n-        int64_t nFee = nTransactionFee * (1 + (int64_t)nBytes / 1000);\n-\n-        // Min Fee\n-        int64_t nMinFee = GetMinFee(txDummy, nBytes, AllowFree(dPriority), GMF_SEND);\n-\n-        nPayFee = max(nFee, nMinFee);\n+        if (nTransactionFee > 0)\n+        {\n+            // If user set nTransactionFee, pay at least that;\n+            // more if transaction is > 1,000 bytes:\n+            nPayFee = max(nTransactionFee, nTransactionFee*nBytes/1000);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#discussion_r8016897",
      "id" : 8016897,
      "original_commit_id" : "f60553d066838b844c3d1cca8d732be372566815",
      "original_position" : 57,
      "path" : "src/qt/coincontroldialog.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3335",
      "updated_at" : "2014-03-13T16:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/8016897",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "I've been running this for a while and recording the fees. It seems that they oscillate a bit. Columns are:\r\n\r\nheight fee fee0.1 fee0.9\r\n\r\n272718 0.00051813 0.00038759 0.00387596\r\n272719 0.00051813 0.00038759 0.00386100\r\n272720 0.00053097 0.00038759 0.00386100\r\n272721 0.00053097 0.00038759 0.00386100\r\n272722 0.00070671 0.00038910 0.00386100\r\n272723 0.00070671 0.00038910 0.00386100\r\n272724 0.00053619 0.00038759 0.00386100\r\n272725 0.00052356 0.00038759 0.00386100\r\n272726 0.00052356 0.00038759 0.00386100\r\n272727 0.00052356 0.00038759 0.00386100\r\n272728 0.00052356 0.00038759 0.00386100\r\n272729 0.00052356 0.00038759 0.00307692\r\n272730 0.00052356 0.00038759 0.00307692\r\n272731 0.00052356 0.00038759 0.00386100\r\n272732 0.00052356 0.00038759 0.00386100\r\n272733 0.00052356 0.00038759 0.00386100\r\n272734 0.00052356 0.00038759 0.00386100\r\n272735 0.00052356 0.00038759 0.00386100\r\n272736 0.00077519 0.00038759 0.00386100\r\n272737 0.00077220 0.00038759 0.00386100\r\n272738 0.00077220 0.00038759 0.00341296\r\n272739 0.00076923 0.00038759 0.00307692\r\n\r\nSo the current calculated median fee is either ~55 cents or ~80 cents but nothing in between, which is a bit odd. The lowest fees on the other hand are stable at about 40 cents.\r\n\r\nThe lowest fee seen (estimatefee 0) is 0.00009569 or about 10 cents.\r\n\r\nI'm not really sure how to interpret the output of this command though. There's no time dimension. If I paid the lowest fee possible, how long would it take for my tx to confirm? The documentation for estimatefee doesn't help me figure that out.",
      "created_at" : "2013-12-03T09:59:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-29696706",
      "id" : 29696706,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2013-12-03T09:59:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29696706",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "RE: median jumping around:  fees are extremely quantized right now; 0.0005 and 0.0001 are hard-coded in lots of wallets. Anybody using Bitcoin-Qt or bitcoind will pay one of those two values per-number-of-bytes-in-your-transaction (assuming transaction is < 1,000 bytes); since transaction size depends on number of inputs and outputs, and since transactions < 1,000 bytes are a handful of inputs, one or two outputs, fees end up in very discrete bands.\r\n\r\nRE: time: \r\n\r\nIf you want to take a crack at a better estimatefee, please be my guest. txmempool.cpp keeps track of time/blocknumber/fee/priority into the memory pool, and is told when transactions exit the memory pool because they were included in a block.  Given that information, somebody who knows a lot more statistics than I do might be able to create a CMinerPolicyEstimator that gives \"should be confirmed in the next N blocks with X% likelihood.\"\r\n",
      "created_at" : "2013-12-03T10:54:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-29700099",
      "id" : 29700099,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2013-12-03T10:54:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29700099",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Hmm, I suspect my statistics isn't any better than yours :) Will have a think about what is required to calculate that.\r\n\r\nIf all wallets adopt a policy of trying to out compete a given percentage of transactions, would that risk an upwards spiral?",
      "created_at" : "2013-12-03T10:59:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-29700470",
      "id" : 29700470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2013-12-03T10:59:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29700470",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "RE: upwards spiral:  you'll note that I picked the median for the default, exactly to avoid an upward spiral.\r\n\r\nOnce estimation is in place, then we need to give users some control over the fee versus confirmation time tradeoff, which should give the right dynamic-- if users compete and force out low-fee transactions, so be it.",
      "created_at" : "2013-12-03T11:11:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-29701165",
      "id" : 29701165,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2013-12-03T11:11:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29701165",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "... I should have written:  some MORE control over the confirmation time versus fee tradeoff.  Users can set -paytxfee  (or set in the GUI) if they want to pay more or less.",
      "created_at" : "2013-12-03T11:14:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-29701319",
      "id" : 29701319,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2013-12-03T11:14:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29701319",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Yeah. I'm wondering what happens if any large user decides to pick something higher than the median. Like let's say a major exchange decides they want faster confirmations so they start using \"estimatefee 0.8\" for all their transactions. So that puts upwards pressure on the median that all the other nodes follow.",
      "created_at" : "2013-12-03T11:20:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-29701678",
      "id" : 29701678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2013-12-03T11:20:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29701678",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Do we need to update some strings in the client about fees (init.cpp / GUI) etc.?",
      "created_at" : "2013-12-05T07:50:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-29877678",
      "id" : 29877678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2013-12-05T07:50:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29877678",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo if you find any, let us know. Most important here for now is to get the fee estimation logic right, so let's not get distracted.\r\n",
      "created_at" : "2013-12-05T08:43:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-29880280",
      "id" : 29880280,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2013-12-05T08:43:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/29880280",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Any update on this?",
      "created_at" : "2014-01-18T04:28:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-32674306",
      "id" : 32674306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2014-01-18T04:28:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/32674306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1073681?v=3",
         "events_url" : "https://api.github.com/users/bardiharborow/events{/privacy}",
         "followers_url" : "https://api.github.com/users/bardiharborow/followers",
         "following_url" : "https://api.github.com/users/bardiharborow/following{/other_user}",
         "gists_url" : "https://api.github.com/users/bardiharborow/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/bardiharborow",
         "id" : 1073681,
         "login" : "bardiharborow",
         "organizations_url" : "https://api.github.com/users/bardiharborow/orgs",
         "received_events_url" : "https://api.github.com/users/bardiharborow/received_events",
         "repos_url" : "https://api.github.com/users/bardiharborow/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/bardiharborow/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/bardiharborow/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/bardiharborow"
      }
   },
   {
      "body" : "How does this affect fees in multisignature transactions?",
      "created_at" : "2014-01-22T18:05:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-33049662",
      "id" : 33049662,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2014-01-22T18:05:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33049662",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4469280?v=3",
         "events_url" : "https://api.github.com/users/ABISprotocol/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ABISprotocol/followers",
         "following_url" : "https://api.github.com/users/ABISprotocol/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ABISprotocol/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ABISprotocol",
         "id" : 4469280,
         "login" : "ABISprotocol",
         "organizations_url" : "https://api.github.com/users/ABISprotocol/orgs",
         "received_events_url" : "https://api.github.com/users/ABISprotocol/received_events",
         "repos_url" : "https://api.github.com/users/ABISprotocol/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ABISprotocol/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ABISprotocol/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ABISprotocol"
      }
   },
   {
      "body" : "Using this method, it seems to me it will be difficult for fees to go down. Users can only guess the minimum fee and risk having their transaction unconfirmed. Most users will probably not risk that and have bitcoins stuck for days and will put at least the median. \r\nAlso, couldn't miners include a large number of high fee transactions in their own blocks and broadcast the transactions just before publishing the block? This would increase the median fee at almost no cost for the miner.\r\n\r\nDid you consider creating a block version 3 and add  minfee+minpriority to the block as for block_height? Every transaction in the block would then need at least the minfee or minpriority specified or the block would be rejected(using a similar stragegy as BIP34). This is to make sure that miner don't publish a higher minfee than that they really accept. It would make it easy to compute the minimum fee depending on the how fast a confirmation is needed.\r\n",
      "created_at" : "2014-01-30T18:49:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-33719495",
      "id" : 33719495,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2014-01-30T18:49:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33719495",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/983579?v=3",
         "events_url" : "https://api.github.com/users/sirk390/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sirk390/followers",
         "following_url" : "https://api.github.com/users/sirk390/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sirk390/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sirk390",
         "id" : 983579,
         "login" : "sirk390",
         "organizations_url" : "https://api.github.com/users/sirk390/orgs",
         "received_events_url" : "https://api.github.com/users/sirk390/received_events",
         "repos_url" : "https://api.github.com/users/sirk390/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sirk390/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sirk390/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sirk390"
      }
   },
   {
      "body" : "It doesn't look like smart fees aren't going to make it into 0.9 :\r\nhttp://newsbtc.com/2014/02/24/bitcoin-transaction-fees-likely-drop-0-9-update/\r\nhttps://github.com/bitcoin/bitcoin/pull/3305",
      "created_at" : "2014-02-25T19:03:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-36044614",
      "id" : 36044614,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2014-02-25T19:03:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/36044614",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5756743?v=3",
         "events_url" : "https://api.github.com/users/chrisarnesen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chrisarnesen/followers",
         "following_url" : "https://api.github.com/users/chrisarnesen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chrisarnesen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chrisarnesen",
         "id" : 5756743,
         "login" : "chrisarnesen",
         "organizations_url" : "https://api.github.com/users/chrisarnesen/orgs",
         "received_events_url" : "https://api.github.com/users/chrisarnesen/received_events",
         "repos_url" : "https://api.github.com/users/chrisarnesen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chrisarnesen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chrisarnesen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chrisarnesen"
      }
   },
   {
      "body" : "Automatic sanity-testing: FAILED MERGE, see http://jenkins.bluematt.me/pull-tester/07eeec5c12fbb22b4e53a63fdf0186fa2339f06b for test log.\n\nThis pull does not merge cleanly onto current master\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-03-18T22:31:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-37997122",
      "id" : 37997122,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2014-03-18T22:31:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37997122",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Closing; this will be rolled out as a couple of separate pull requests.",
      "created_at" : "2014-03-31T16:56:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3335#issuecomment-39112742",
      "id" : 39112742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3335",
      "updated_at" : "2014-03-31T16:56:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39112742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   }
]
