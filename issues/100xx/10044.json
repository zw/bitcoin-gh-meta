{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "EDITED 2017/03/23. This PR is now ready for wider review\r\n\r\nThis PR adds the following make targets:\r\n\r\n- `make unit_tests`: runs the unit tests\r\n- `make functional_tests`: runs a small number of functional tests. Currently those tests are:\r\n    - nodehandling - 'Test node handling'\r\n    - httpbasics - 'Test the RPC HTTP basics'\r\n    - invalidblockrequest - 'Test node responses to invalid blocks'\r\n    - blockchain - 'Test RPCs related to blockchain state'\r\n    - rpcnamedargs - 'Test using named arguments for RPCs'\r\n(but any feedback is welcome on whether we should change that list)\r\n- `make all_functional_tests`: runs all the functional tests, including the extended tests\r\n- `make util_tests`: runs the bitcoin-tx tests\r\n\r\n`make check` is updated to run the unit_tests, functional_tests and util_tests targets.\r\n\r\nAll make test targets can be run from the root directory or the src directory.\r\n\r\nIn this implementation I've moved the functional and util targets to their own `/test/Makefile.include` file to separate them from the unit tests.\r\n\r\n~This is a WIP PR and shouldn't be merged yet. I've opened this to solicit feedback, particularly from @theuni , @MarcoFalke and @jtimon.~\r\n\r\n~This PR does the following:~\r\n\r\n- ~move the running of the 'integration' tests (currently the python functional tests and bitcoin-tx tests) from `make check` in /src/Makefile.test.include to `make check` in a new /test/Makefile.include file. Functionally, there is no difference for users running `make check` from the base dir, but it makes more sense to contain the integration tests in their own makefile rather then executing them from /src~\r\n- ~runs a small number of functional tests as part of `make check`. I picked the following since they cover basic functionality and are fairly quick to run (20s when run in parallel on my PC), but I'm happy to change the list if people think we should add/remove particular tests:~\r\n    - ~nodehandling - 'Test node handling'~\r\n    - ~httpbasics - 'Test the RPC HTTP basics'~\r\n    - ~invalidblockrequest - 'Test node responses to invalid blocks'~\r\n    - ~blockchain - 'Test RPCs related to blockchain state'~\r\n    - ~rpcnamedargs - 'Test using named arguments for RPCs'~\r\n\r\n~@jtimon - you mentioned wanting to keep separate make targets for just running the unit tests or just running the functional tests. I haven't implemented that yet, but I plan to before this PR gets merged. Are you happy with the target names `make unittests` and `make functionaltests`?~",
   "closed_at" : "2017-09-14T15:09:08Z",
   "closed_by" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
      "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jnewbery/followers",
      "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jnewbery",
      "id" : 1063656,
      "login" : "jnewbery",
      "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
      "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
      "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
      "repos_url" : "https://api.github.com/users/jnewbery/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jnewbery"
   },
   "comments" : 28,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10044/comments",
   "created_at" : "2017-03-21T18:31:37Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10044/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/10044",
   "id" : 215837166,
   "labels" : [
      {
         "color" : "d4c5f9",
         "default" : false,
         "id" : 62963516,
         "name" : "Tests",
         "node_id" : "MDU6TGFiZWw2Mjk2MzUxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Tests"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10044/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MTExODQ5MjY3",
   "number" : 10044,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/10044.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10044",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/10044.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10044"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "[tests] [build] Run functional tests in `make check`",
   "updated_at" : "2017-09-14T15:09:09Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10044",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
      "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jnewbery/followers",
      "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jnewbery",
      "id" : 1063656,
      "login" : "jnewbery",
      "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
      "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
      "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
      "repos_url" : "https://api.github.com/users/jnewbery/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jnewbery"
   }
}
