[
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-03-28T10:03:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605423211",
      "id" : 605423211,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTQyMzIxMQ==",
      "updated_at" : "2020-03-28T10:03:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605423211",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Adds one more call to `getinfo`. Under the hood, it loads the same structures `GetBalance().m_mine_trusted`. Not efficient, but since performance is acceptable, I think it's worth the change to prevent from future issues and allows stripping down `getwalletinfo`\r\n\r\nutACK f73ace05f2e67917e12026f0c69aec0e5b043366",
      "created_at" : "2020-03-28T10:09:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605423822",
      "id" : 605423822,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTQyMzgyMg==",
      "updated_at" : "2020-03-28T10:09:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605423822",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What would make me really happy, when you're making changes here anyway, is implementing point 2 from  #17314: show balance per wallet. This is much more useful in the multi-wallet case.\r\n",
      "created_at" : "2020-03-28T11:05:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605431806",
      "id" : 605431806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTQzMTgwNg==",
      "updated_at" : "2020-03-28T11:05:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605431806",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\n\r\nAgree in making @laanwj happy. The change requires a `listwallets` call before the batch.",
      "created_at" : "2020-03-28T11:14:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605432502",
      "id" : 605432502,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTQzMjUwMg==",
      "updated_at" : "2020-03-28T11:14:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605432502",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Good idea, will do.",
      "created_at" : "2020-03-28T11:14:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605432525",
      "id" : 605432525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTQzMjUyNQ==",
      "updated_at" : "2020-03-28T11:14:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605432525",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> The change requires a listwallets call before the batch\r\n\r\n~~I don't think that's necessary, `getbalances` will already retrieve the balances for all currently active wallets, which is what I mean, It doesn't need to list inactive ones in the datadir IMO.~~\r\nOh this is not true, I'm confused apparently.",
      "created_at" : "2020-03-28T11:19:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605433097",
      "id" : 605433097,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTQzMzA5Nw==",
      "updated_at" : "2020-03-28T11:20:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605433097",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Something like this? (getbalances version)\r\n```json\r\n$ bitcoin-cli -getinfo -regtest\r\n{\r\n  \"version\": 199900,\r\n  \"blocks\": 15599,\r\n  \"headers\": 15599,\r\n  \"verificationprogress\": 1,\r\n  \"timeoffset\": 0,\r\n  \"connections\": 0,\r\n  \"proxy\": \"\",\r\n  \"difficulty\": 4.656542373906925e-10,\r\n  \"chain\": \"regtest\",\r\n  \"balances\": [\r\n    {\r\n      \"\": {\r\n        \"mine\": {\r\n          \"trusted\": 0.00001000,\r\n          \"untrusted_pending\": 0.00000000,\r\n          \"immature\": 0.00000000\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"encrypted\": {\r\n        \"mine\": {\r\n          \"trusted\": 0.00003500,\r\n          \"untrusted_pending\": 0.00000000,\r\n          \"immature\": 0.00000000\r\n        }\r\n      }\r\n    },\r\n  ],\r\n  \"relayfee\": 0.00001000\r\n}\r\n```\r\nor like? (mine.trusted balances only)\r\n```json\r\n$ bitcoin-cli -getinfo -regtest\r\n{\r\n  \"version\": 199900,\r\n  \"blocks\": 15599,\r\n  \"headers\": 15599,\r\n  \"verificationprogress\": 1,\r\n  \"timeoffset\": 0,\r\n  \"connections\": 0,\r\n  \"proxy\": \"\",\r\n  \"difficulty\": 4.656542373906925e-10,\r\n  \"chain\": \"regtest\",\r\n  \"balances\": [\r\n    {\r\n      \"name\": \"\",\r\n      \"amount\": 0.00001000\r\n    },\r\n    {\r\n      \"name\": \"encrypted\",\r\n      \"amount\": 0.00003500\r\n    }\r\n  ],\r\n  \"relayfee\": 0.00001000\r\n}\r\n```",
      "created_at" : "2020-03-28T21:27:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605521801",
      "id" : 605521801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTUyMTgwMQ==",
      "updated_at" : "2020-03-28T21:27:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605521801",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It's best if `-getinfo` fits on a single screen, so I'd prefer a really condensed form, for ex.\r\n```json\r\n{\r\n  \"version\": 199900,\r\n  \"blocks\": 15599,\r\n  \"headers\": 15599,\r\n  \"verificationprogress\": 1,\r\n  \"timeoffset\": 0,\r\n  \"connections\": 0,\r\n  \"proxy\": \"\",\r\n  \"difficulty\": 4.656542373906925e-10,\r\n  \"chain\": \"regtest\",\r\n  \"balances\": {\r\n    \"\": 0.00001000,\r\n    \"encrypted\": 0.00003500,\r\n  },\r\n  \"relayfee\": 0.00001000\r\n}\r\n```\r\n",
      "created_at" : "2020-03-28T23:05:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605531404",
      "id" : 605531404,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTUzMTQwNA==",
      "updated_at" : "2020-03-28T23:05:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605531404",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> It's best if `-getinfo` fits on a single screen, so I'd prefer a really condensed form\r\n\r\nPerfect -- thanks :+1: ",
      "created_at" : "2020-03-28T23:24:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605532924",
      "id" : 605532924,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTUzMjkyNA==",
      "updated_at" : "2020-03-28T23:24:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605532924",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Done. If this approach is ok, I'll add tests for the new call.",
      "created_at" : "2020-03-29T01:37:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605544002",
      "id" : 605544002,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTU0NDAwMg==",
      "updated_at" : "2020-03-29T01:37:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605544002",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Why not iterate on the cli?",
      "created_at" : "2020-03-29T01:41:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605544326",
      "id" : 605544326,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTU0NDMyNg==",
      "updated_at" : "2020-03-29T01:41:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605544326",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I could be wrong, but this seemed cleaner, and I think we'll ultimately want either an rpc like this or allow passing a multi bool to getbalance or getbalances to do the same.",
      "created_at" : "2020-03-29T01:54:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605545393",
      "id" : 605545393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTU0NTM5Mw==",
      "updated_at" : "2020-03-29T01:54:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605545393",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Not sure about the approach TBH. I'd rather see the cli use existing calls.\r\n\r\nThe new RPC `getwalletbalances` is the first to use multiple wallets and could lead to more of multiwallet RPC. For instance, `getaddressesbylabel` could return all address of all loaded wallets.",
      "created_at" : "2020-03-29T14:49:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605648343",
      "id" : 605648343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTY0ODM0Mw==",
      "updated_at" : "2020-03-29T14:49:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605648343",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This works, but I understand. Interested in feedback. Note that for now `getwalletbalances` doesn't show up in the help. Rebased to add tests for `getwalletbalances` in the wallet_multiwallet tests (which also improves the existing tests).",
      "created_at" : "2020-03-29T15:10:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605651547",
      "id" : 605651547,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNTY1MTU0Nw==",
      "updated_at" : "2020-04-01T22:15:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605651547",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm not opposed to having \"across-all-wallets\" RPCs, but perhaps it's worth making them visually distinct? How about \"getallwalletbalances\" or \"allwalletsgetbalance\"?",
      "created_at" : "2020-04-01T23:15:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-607535231",
      "id" : 607535231,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzUzNTIzMQ==",
      "updated_at" : "2020-04-01T23:15:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607535231",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Yes. I was debating internally about \"listbalances\"...",
      "created_at" : "2020-04-01T23:23:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-607537512",
      "id" : 607537512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwNzUzNzUxMg==",
      "updated_at" : "2020-04-01T23:23:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/607537512",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK a5ea5717400d8f31ba210df5705eb6c1470da307\r\n\r\nReviewed code and did some light testing locally.\r\n\r\nI think multi wallet RPCs will be useful for a lot of users. For naming I don't have strong feelings but since \"multi wallet\" is already the term most frequently used for this scenario verbally, I think I would prefer if that gets used if people think the distinction is necessary. So I would prefer something like \"(get)multiwalletbalances\" to something like listbalances or something with allwallets.",
      "created_at" : "2020-04-03T17:36:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-608569531",
      "id" : 608569531,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwODU2OTUzMQ==",
      "updated_at" : "2020-04-03T17:36:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/608569531",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r403551614"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/403551614"
         }
      },
      "author_association" : "NONE",
      "body" : "Super nit (please feel free to ignore): Would it make sense to use `ID_WALLETBALANCES` in place of `ID_BALANCESINFO` to preserve the `getXXX` -> `ID_XXX` naming scheme?",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-04T22:41:26Z",
      "diff_hunk" : "@@ -239,16 +240,17 @@ class GetinfoRequestHandler: public BaseRequestHandler\n         result.push_back(JSONRPCRequestObj(\"getnetworkinfo\", NullUniValue, ID_NETWORKINFO));\n         result.push_back(JSONRPCRequestObj(\"getblockchaininfo\", NullUniValue, ID_BLOCKCHAININFO));\n         result.push_back(JSONRPCRequestObj(\"getwalletinfo\", NullUniValue, ID_WALLETINFO));\n+        result.push_back(JSONRPCRequestObj(\"getwalletbalances\", NullUniValue, ID_BALANCESINFO));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r403551614",
      "id" : 403551614,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU1MTYxNA==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 243,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 387764657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/403551614",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/63171930?v=4",
         "events_url" : "https://api.github.com/users/robot-visions/events{/privacy}",
         "followers_url" : "https://api.github.com/users/robot-visions/followers",
         "following_url" : "https://api.github.com/users/robot-visions/following{/other_user}",
         "gists_url" : "https://api.github.com/users/robot-visions/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/robot-visions",
         "id" : 63171930,
         "login" : "robot-visions",
         "node_id" : "MDQ6VXNlcjYzMTcxOTMw",
         "organizations_url" : "https://api.github.com/users/robot-visions/orgs",
         "received_events_url" : "https://api.github.com/users/robot-visions/received_events",
         "repos_url" : "https://api.github.com/users/robot-visions/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/robot-visions/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/robot-visions/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/robot-visions"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r403551851"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/403551851"
         }
      },
      "author_association" : "NONE",
      "body" : "Super nit (please feel free to ignore): Would it make sense to define a variable like `extern_wallet` next to where `wallet_names` is defined, instead of relying on the sort order of the path names?",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-04T22:42:05Z",
      "diff_hunk" : "@@ -173,17 +176,34 @@ def wallet_file(name):\n \n         w1, w2, w3, w4, *_ = wallets\n         node.generatetoaddress(nblocks=101, address=w1.getnewaddress())\n-        assert_equal(w1.getbalance(), 100)\n-        assert_equal(w2.getbalance(), 0)\n-        assert_equal(w3.getbalance(), 0)\n+        wallet_name = sorted(wallet_names)[1]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r403551851",
      "id" : 403551851,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzU1MTg1MQ==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 179,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : null,
      "pull_request_review_id" : 387764657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/403551851",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/63171930?v=4",
         "events_url" : "https://api.github.com/users/robot-visions/events{/privacy}",
         "followers_url" : "https://api.github.com/users/robot-visions/followers",
         "following_url" : "https://api.github.com/users/robot-visions/following{/other_user}",
         "gists_url" : "https://api.github.com/users/robot-visions/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/robot-visions",
         "id" : 63171930,
         "login" : "robot-visions",
         "node_id" : "MDQ6VXNlcjYzMTcxOTMw",
         "organizations_url" : "https://api.github.com/users/robot-visions/orgs",
         "received_events_url" : "https://api.github.com/users/robot-visions/received_events",
         "repos_url" : "https://api.github.com/users/robot-visions/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/robot-visions/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/robot-visions/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/robot-visions"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18724 (test: add coverage for -rpcwallet cli option by jonatack)\n* #18594 (cli: display multiwallet balances in -getinfo by jonatack)\n* #14707 ([RPC] Include coinbase transactions in receivedby RPCs by andrewtoth)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-04-05T20:03:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-609474114",
      "id" : 609474114,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYwOTQ3NDExNA==",
      "updated_at" : "2020-04-22T21:32:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/609474114",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r404921647"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404921647"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Maybe use `batch_in.size()` instead of `4`?",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-07T15:55:08Z",
      "diff_hunk" : "@@ -239,16 +240,17 @@ class GetinfoRequestHandler: public BaseRequestHandler\n         result.push_back(JSONRPCRequestObj(\"getnetworkinfo\", NullUniValue, ID_NETWORKINFO));\n         result.push_back(JSONRPCRequestObj(\"getblockchaininfo\", NullUniValue, ID_BLOCKCHAININFO));\n         result.push_back(JSONRPCRequestObj(\"getwalletinfo\", NullUniValue, ID_WALLETINFO));\n+        result.push_back(JSONRPCRequestObj(\"getwalletbalances\", NullUniValue, ID_BALANCESINFO));\n         return result;\n     }\n \n     /** Collect values from the batch and form a simulated `getinfo` reply. */\n     UniValue ProcessReply(const UniValue &batch_in) override\n     {\n         UniValue result(UniValue::VOBJ);\n-        std::vector<UniValue> batch = JSONRPCProcessBatchReply(batch_in, 3);\n-        // Errors in getnetworkinfo() and getblockchaininfo() are fatal, pass them on\n-        // getwalletinfo() is allowed to fail in case there is no wallet.\n+        std::vector<UniValue> batch = JSONRPCProcessBatchReply(batch_in, 4);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r404921647",
      "id" : 404921647,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDkyMTY0Nw==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 251,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 389257776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404921647",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r404944986"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404944986"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks for the feedback. The naming of `getwalletbalances` may change but will keep this in mind. ",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-07T16:26:53Z",
      "diff_hunk" : "@@ -239,16 +240,17 @@ class GetinfoRequestHandler: public BaseRequestHandler\n         result.push_back(JSONRPCRequestObj(\"getnetworkinfo\", NullUniValue, ID_NETWORKINFO));\n         result.push_back(JSONRPCRequestObj(\"getblockchaininfo\", NullUniValue, ID_BLOCKCHAININFO));\n         result.push_back(JSONRPCRequestObj(\"getwalletinfo\", NullUniValue, ID_WALLETINFO));\n+        result.push_back(JSONRPCRequestObj(\"getwalletbalances\", NullUniValue, ID_BALANCESINFO));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r404944986",
      "id" : 404944986,
      "in_reply_to_id" : 403551614,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk0NDk4Ng==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 243,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 389287188,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404944986",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r404946153"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404946153"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not a bad idea; will look at this if I have to retouch the PR.",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-07T16:28:24Z",
      "diff_hunk" : "@@ -173,17 +176,34 @@ def wallet_file(name):\n \n         w1, w2, w3, w4, *_ = wallets\n         node.generatetoaddress(nblocks=101, address=w1.getnewaddress())\n-        assert_equal(w1.getbalance(), 100)\n-        assert_equal(w2.getbalance(), 0)\n-        assert_equal(w3.getbalance(), 0)\n+        wallet_name = sorted(wallet_names)[1]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r404946153",
      "id" : 404946153,
      "in_reply_to_id" : 403551851,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk0NjE1Mw==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 179,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : null,
      "pull_request_review_id" : 389288471,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/404946153",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405048400"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405048400"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "These locks are [acquired](https://github.com/bitcoin/bitcoin/blob/1b151e3ffce7c1a2ee46bf280cc1d96775d1f91e/src/wallet/wallet.cpp#L2037-L2038) inside `GetBalance()`, so they can be removed from here?\r\n\r\nA wallet's chain will never change and, I assume, all wallets' chains are the same. That is - we are operating on one chain here, for all wallets. Can we / should we lock that chain before the for-loop in order to get a consistent view (i.e. avoid getting one wallet's balance as of height H and another wallet's balance as of height H+1)?",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-07T19:10:13Z",
      "diff_hunk" : "@@ -714,6 +714,28 @@ static UniValue getreceivedbylabel(const JSONRPCRequest& request)\n }\n \n \n+/**\n+ * Called by CLI -getinfo to fetch multiwallet balances (mine.trusted).\n+ */\n+static UniValue getwalletbalances(const JSONRPCRequest& request)\n+{\n+    UniValue obj{UniValue::VOBJ};\n+    for (const std::shared_ptr<CWallet>& rpc_wallet : GetWallets()) {\n+        if (!EnsureWalletIsAvailable(rpc_wallet.get(), request.fHelp)) {\n+            return NullUniValue;\n+        }\n+        CWallet& wallet = *rpc_wallet;\n+        wallet.BlockUntilSyncedToCurrentChain();\n+\n+        auto locked_chain = wallet.chain().lock();\n+        LOCK(wallet.cs_wallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405048400",
      "id" : 405048400,
      "line" : 727,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA0ODQwMA==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 727,
      "original_position" : 18,
      "original_start_line" : 730,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 18,
      "pull_request_review_id" : 389257776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : 726,
      "start_side" : "RIGHT",
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405048400",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405055116"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405055116"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The `GetBalance()` call without arguments will default to `GetBalance(min_depth=0)`, i.e. also counting unconfirmed transactions. Is this intended?\r\nAnswer: (probably) yes - from the unconfirmed transactions, it will actually count only those from us.\r\n\r\n`wallet.GetName()` produces something like `\"\": 0.00000000` for the default wallet. Would [GetDisplayName()](https://github.com/bitcoin/bitcoin/blob/1b151e3ffce7c1a2ee46bf280cc1d96775d1f91e/src/wallet/wallet.h#L1167) be more suitable here? It would produce `\"[default wallet]\": 0.00000000`.",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-07T19:22:06Z",
      "diff_hunk" : "@@ -714,6 +714,28 @@ static UniValue getreceivedbylabel(const JSONRPCRequest& request)\n }\n \n \n+/**\n+ * Called by CLI -getinfo to fetch multiwallet balances (mine.trusted).\n+ */\n+static UniValue getwalletbalances(const JSONRPCRequest& request)\n+{\n+    UniValue obj{UniValue::VOBJ};\n+    for (const std::shared_ptr<CWallet>& rpc_wallet : GetWallets()) {\n+        if (!EnsureWalletIsAvailable(rpc_wallet.get(), request.fHelp)) {\n+            return NullUniValue;\n+        }\n+        CWallet& wallet = *rpc_wallet;\n+        wallet.BlockUntilSyncedToCurrentChain();\n+\n+        auto locked_chain = wallet.chain().lock();\n+        LOCK(wallet.cs_wallet);\n+\n+        obj.pushKV(wallet.GetName(), ValueFromAmount(wallet.GetBalance().m_mine_trusted));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405055116",
      "id" : 405055116,
      "line" : 729,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA1NTExNg==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 729,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 20,
      "pull_request_review_id" : 389257776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405055116",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405067788"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405067788"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Should we be doing any of this if `request.fHelp` is `true`? It happens when `bitcoin-cli help` is executed even though none of its output contains `getwalletbalances` or any balances.",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-07T19:45:31Z",
      "diff_hunk" : "@@ -714,6 +714,28 @@ static UniValue getreceivedbylabel(const JSONRPCRequest& request)\n }\n \n \n+/**\n+ * Called by CLI -getinfo to fetch multiwallet balances (mine.trusted).\n+ */\n+static UniValue getwalletbalances(const JSONRPCRequest& request)\n+{\n+    UniValue obj{UniValue::VOBJ};\n+    for (const std::shared_ptr<CWallet>& rpc_wallet : GetWallets()) {\n+        if (!EnsureWalletIsAvailable(rpc_wallet.get(), request.fHelp)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405067788",
      "id" : 405067788,
      "line" : 720,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2Nzc4OA==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 720,
      "original_position" : 11,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 11,
      "pull_request_review_id" : 389257776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405067788",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405070095"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405070095"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Do you plan to document this before merge? If \"no\", then are there other undocumented commands?",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-07T19:49:38Z",
      "diff_hunk" : "@@ -4264,6 +4286,7 @@ static const CRPCCommand commands[] =\n     { \"wallet\",             \"encryptwallet\",                    &encryptwallet,                 {\"passphrase\"} },\n     { \"wallet\",             \"getaddressesbylabel\",              &getaddressesbylabel,           {\"label\"} },\n     { \"wallet\",             \"getaddressinfo\",                   &getaddressinfo,                {\"address\"} },\n+    { \"wallet\",             \"getwalletbalances\",                &getwalletbalances,             {} },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405070095",
      "id" : 405070095,
      "line" : 4291,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA3MDA5NQ==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 4291,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 33,
      "pull_request_review_id" : 389257776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405070095",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405110606"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405110606"
         }
      },
      "author_association" : "MEMBER",
      "body" : "If the consensus is to add a public RPC, yes, it should have documentation.",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-07T21:02:04Z",
      "diff_hunk" : "@@ -4264,6 +4286,7 @@ static const CRPCCommand commands[] =\n     { \"wallet\",             \"encryptwallet\",                    &encryptwallet,                 {\"passphrase\"} },\n     { \"wallet\",             \"getaddressesbylabel\",              &getaddressesbylabel,           {\"label\"} },\n     { \"wallet\",             \"getaddressinfo\",                   &getaddressinfo,                {\"address\"} },\n+    { \"wallet\",             \"getwalletbalances\",                &getwalletbalances,             {} },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405110606",
      "id" : 405110606,
      "in_reply_to_id" : 405070095,
      "line" : 4291,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTExMDYwNg==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 4291,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 33,
      "pull_request_review_id" : 389487616,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405110606",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405306220"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405306220"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, makes sense. IMO the current approach where the iterate-over-wallets logic is inside bitcoind and exposed via RPC is better than having that logic inside bitcoin-cli because in the latter case it cannot be reused by RPC users - should they need that functionality they would have to replicate the logic inside their applications.",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-08T07:14:38Z",
      "diff_hunk" : "@@ -4264,6 +4286,7 @@ static const CRPCCommand commands[] =\n     { \"wallet\",             \"encryptwallet\",                    &encryptwallet,                 {\"passphrase\"} },\n     { \"wallet\",             \"getaddressesbylabel\",              &getaddressesbylabel,           {\"label\"} },\n     { \"wallet\",             \"getaddressinfo\",                   &getaddressinfo,                {\"address\"} },\n+    { \"wallet\",             \"getwalletbalances\",                &getwalletbalances,             {} },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405306220",
      "id" : 405306220,
      "in_reply_to_id" : 405070095,
      "line" : 4291,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTMwNjIyMA==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 4291,
      "original_position" : 33,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 33,
      "pull_request_review_id" : 389707891,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405306220",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK.\r\nI added the RPC label as this now adds a new PRC command (should probably be in the PR description).\r\n\r\nI strongly agree with @sipa. Across-all-wallets calls should have a naming convention. IMO `allwallet[s]` should be the required string (works with `get`, `list`, `execute`, etc.). Once we have started adding across-all-wallets calls it will be difficult to change the concept (so its worth investing some brainpower in how that should work).\r\n\r\nAnother approach would be to add a special RPC endpoint like `/allwallets` that will combine the JSON output of each per-wallet-output (more a generic RPC multiwallet approach).\r\nFrom the users perspective that could look like:\r\n```\r\nbitcoin-cli -allwallets getbalances\r\nOutput:\r\n[\r\n  {\"name\": \"mywallet\",\r\n  {\"output\": \r\n\t\t{\r\n\t\t  \"mine\": {\r\n\t\t    \"trusted\": 0.00000000,\r\n\t\t    \"untrusted_pending\": 0.00000000,\r\n\t\t    \"immature\": 0.00000000\r\n\t\t  }\r\n\t\t}\r\n\t}\r\n,\r\n  {\"name\": \"encryptedwallet\",\r\n  {\"output\": \r\n\t\t{\r\n\t\t  \"mine\": {\r\n\t\t    \"trusted\": 1.00000000,\r\n\t\t    \"untrusted_pending\": 0.00000000,\r\n\t\t    \"immature\": 0.00000000\r\n\t\t  }\r\n\t\t}\r\n\t}\r\n,\r\n...\r\n]\r\n```\r\n\r\nI'm not convince that this is the better approach (has probably some performance and flexibility downsides), just wanted to highlight the importantness of defining the first across-all-wallets RPC. ",
      "created_at" : "2020-04-08T07:55:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-610810033",
      "id" : 610810033,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDgxMDAzMw==",
      "updated_at" : "2020-04-08T07:55:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610810033",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Updated the PR name and description.",
      "created_at" : "2020-04-08T13:44:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-610968893",
      "id" : 610968893,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMDk2ODg5Mw==",
      "updated_at" : "2020-04-08T13:44:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/610968893",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405658061"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405658061"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`GetDisplayName()` seems to be mainly for the GUI wallet. The RPC is primarily designed to be consumed by applications, whose developers would likely find `GetName()` more practical, which to me explains why GetName is used.\r\n\r\nCLI -getinfo is between the two and oriented toward users, so the new RPC could maybe return both fields, e.g. Name for RPC output and DisplayName for CLI output, but I'm -1 on it due to the additional complexity not being worth it (and admittedly also used to the RPC output as-is).",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-08T16:33:36Z",
      "diff_hunk" : "@@ -714,6 +714,28 @@ static UniValue getreceivedbylabel(const JSONRPCRequest& request)\n }\n \n \n+/**\n+ * Called by CLI -getinfo to fetch multiwallet balances (mine.trusted).\n+ */\n+static UniValue getwalletbalances(const JSONRPCRequest& request)\n+{\n+    UniValue obj{UniValue::VOBJ};\n+    for (const std::shared_ptr<CWallet>& rpc_wallet : GetWallets()) {\n+        if (!EnsureWalletIsAvailable(rpc_wallet.get(), request.fHelp)) {\n+            return NullUniValue;\n+        }\n+        CWallet& wallet = *rpc_wallet;\n+        wallet.BlockUntilSyncedToCurrentChain();\n+\n+        auto locked_chain = wallet.chain().lock();\n+        LOCK(wallet.cs_wallet);\n+\n+        obj.pushKV(wallet.GetName(), ValueFromAmount(wallet.GetBalance().m_mine_trusted));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405658061",
      "id" : 405658061,
      "in_reply_to_id" : 405055116,
      "line" : 729,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY1ODA2MQ==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 729,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 20,
      "pull_request_review_id" : 390141547,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405658061",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2020-04-08T16:57:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611073854",
      "id" : 611073854,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTA3Mzg1NA==",
      "updated_at" : "2020-04-08T16:57:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611073854",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405674045"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405674045"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "To be consistent with other rpcs like `listwallets` it's right for this to be using GetName not GetDisplayName. Other wallets have names, but the default wallet doesn't have a name.",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-08T16:58:09Z",
      "diff_hunk" : "@@ -714,6 +714,28 @@ static UniValue getreceivedbylabel(const JSONRPCRequest& request)\n }\n \n \n+/**\n+ * Called by CLI -getinfo to fetch multiwallet balances (mine.trusted).\n+ */\n+static UniValue getwalletbalances(const JSONRPCRequest& request)\n+{\n+    UniValue obj{UniValue::VOBJ};\n+    for (const std::shared_ptr<CWallet>& rpc_wallet : GetWallets()) {\n+        if (!EnsureWalletIsAvailable(rpc_wallet.get(), request.fHelp)) {\n+            return NullUniValue;\n+        }\n+        CWallet& wallet = *rpc_wallet;\n+        wallet.BlockUntilSyncedToCurrentChain();\n+\n+        auto locked_chain = wallet.chain().lock();\n+        LOCK(wallet.cs_wallet);\n+\n+        obj.pushKV(wallet.GetName(), ValueFromAmount(wallet.GetBalance().m_mine_trusted));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405674045",
      "id" : 405674045,
      "in_reply_to_id" : 405055116,
      "line" : 729,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY3NDA0NQ==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 729,
      "original_position" : 20,
      "original_start_line" : null,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 20,
      "pull_request_review_id" : 390160465,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405674045",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405678692"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405678692"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> A wallet's chain will never change and, I assume, all wallets' chains are the same. That is - we are operating on one chain here, for all wallets. Can we / should we lock that chain before the for-loop in order to get a consistent view (i.e. avoid getting one wallet's balance as of height H and another wallet's balance as of height H+1)?\r\n\r\nWe generally don't want wallet code to lock up the node, and after #16426 we are removing the ability of wallet code to be able to do this. It synchronization between different wallets is a concern, a solution could be to return tip hashes alongside balances. Or to restart the wallet loop if the tip changes midway.\r\n",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-08T17:05:17Z",
      "diff_hunk" : "@@ -714,6 +714,28 @@ static UniValue getreceivedbylabel(const JSONRPCRequest& request)\n }\n \n \n+/**\n+ * Called by CLI -getinfo to fetch multiwallet balances (mine.trusted).\n+ */\n+static UniValue getwalletbalances(const JSONRPCRequest& request)\n+{\n+    UniValue obj{UniValue::VOBJ};\n+    for (const std::shared_ptr<CWallet>& rpc_wallet : GetWallets()) {\n+        if (!EnsureWalletIsAvailable(rpc_wallet.get(), request.fHelp)) {\n+            return NullUniValue;\n+        }\n+        CWallet& wallet = *rpc_wallet;\n+        wallet.BlockUntilSyncedToCurrentChain();\n+\n+        auto locked_chain = wallet.chain().lock();\n+        LOCK(wallet.cs_wallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405678692",
      "id" : 405678692,
      "in_reply_to_id" : 405048400,
      "line" : 727,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTY3ODY5Mg==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 727,
      "original_position" : 18,
      "original_start_line" : 730,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 18,
      "pull_request_review_id" : 390166146,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : 726,
      "start_side" : "RIGHT",
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405678692",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "\r\n> I strongly agree with @sipa. Across-all-wallets calls should have a naming convention. IMO `allwallet[s]` should be the required string (works with `get`, `list`, `execute`, etc.). Once we have started adding across-all-wallets calls it will be difficult to change the concept (so its worth investing some brainpower in how that should work).\r\n\r\nJust using the word \"wallets\" seems pretty good as a naming convention here. And we already have a `listwallets` RPC method following this convention.\r\n \r\n> Another approach would be to add a special RPC endpoint like `/allwallets` that will combine the JSON output of each per-wallet-output (more a generic RPC multiwallet approach).\r\n\r\nThis is a neat idea. Another way to implement it without a new endpoint would be with `foreachwallet` forwarding method: `bitcoin-cli foreachwallet getbalances`",
      "created_at" : "2020-04-08T17:25:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611087505",
      "id" : 611087505,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTA4NzUwNQ==",
      "updated_at" : "2020-04-08T17:25:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611087505",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Just using the word \"wallets\" seems pretty good as a naming convention here. And we already have a listwallets RPC method following this convention.\r\n\r\nCould that lead to non-ideal distinguishability for certain (future?) calls (as an example `listwalletdir` versus `listwalletsdir` a.s.o.)?\r\n\r\n> This is a neat idea. Another way to implement it without a new endpoint would be with foreachwallet forwarding method: bitcoin-cli foreachwallet getbalances\r\n\r\nNice idea to use a dedicated RPC method instead of an endpoint.",
      "created_at" : "2020-04-08T18:10:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611109994",
      "id" : 611109994,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTEwOTk5NA==",
      "updated_at" : "2020-04-08T18:10:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611109994",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Could that lead to non-ideal distinguishability for certain (future?) calls (as an example `listwalletdir` versus `listwalletsdir` a.s.o.)?\r\n\r\nI think I'm not sure what the question is asking, but I'd rename `listwalletdir` to `listwalletsdir`  (and rename `-walletdir` to `-walletsdir`, see #12221), with aliases for backwards compatibility. `listwallets`, `listwalletsdir`, and `getwalletsbalances` as a convention for cross-wallet calls does seems clear enough to me",
      "created_at" : "2020-04-08T18:45:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611126827",
      "id" : 611126827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTEyNjgyNw==",
      "updated_at" : "2020-04-08T18:47:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611126827",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405743300"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405743300"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I see. So only the first question above remains (remove the locks acquisition).",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-08T18:54:29Z",
      "diff_hunk" : "@@ -714,6 +714,28 @@ static UniValue getreceivedbylabel(const JSONRPCRequest& request)\n }\n \n \n+/**\n+ * Called by CLI -getinfo to fetch multiwallet balances (mine.trusted).\n+ */\n+static UniValue getwalletbalances(const JSONRPCRequest& request)\n+{\n+    UniValue obj{UniValue::VOBJ};\n+    for (const std::shared_ptr<CWallet>& rpc_wallet : GetWallets()) {\n+        if (!EnsureWalletIsAvailable(rpc_wallet.get(), request.fHelp)) {\n+            return NullUniValue;\n+        }\n+        CWallet& wallet = *rpc_wallet;\n+        wallet.BlockUntilSyncedToCurrentChain();\n+\n+        auto locked_chain = wallet.chain().lock();\n+        LOCK(wallet.cs_wallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r405743300",
      "id" : 405743300,
      "in_reply_to_id" : 405048400,
      "line" : 727,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc0MzMwMA==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 727,
      "original_position" : 18,
      "original_start_line" : 730,
      "path" : "src/wallet/rpcwallet.cpp",
      "position" : 18,
      "pull_request_review_id" : 390244657,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : 726,
      "start_side" : "RIGHT",
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405743300",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, but approach NACK. I don't think we should add cross-wallet RPC methods to the server. Currently we have the following convention:\r\n\r\nFor a multiwallet node:\r\n\r\n- node RPC methods are available on the `/` endpoint\r\n- wallet RPC methods are available on the `/wallet/<wallet_name>` endpoint\r\n(wallet admin methods like `loadwallet`, `unloadwallet`, `listwallets` are on the node `/` endpoint\r\n\r\nFor a single wallet node:\r\n\r\n- all node and RPC methods are available on the `/` endpoint\r\n\r\nIn future, we might want to add per-wallet permissions (#10615) or wallets in a separate process with its own RPC server (#10102). Currently, both of these things map nicely to the one-endpoint-one-wallet design we have. I think adding cross-wallet RPCs would make those things more difficult.\r\n\r\nI think it shouldn't be too difficult to add this functionality on the bitcoin-cli client side. That seems like a better approach to me.",
      "created_at" : "2020-04-08T20:51:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611188201",
      "id" : 611188201,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTE4ODIwMQ==",
      "updated_at" : "2020-04-08T20:51:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611188201",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I also share @jnewbery opinion (https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-605648343).",
      "created_at" : "2020-04-08T21:11:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611196626",
      "id" : 611196626,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTE5NjYyNg==",
      "updated_at" : "2020-04-08T21:11:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611196626",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jnewbery, I don't understand the distinction you're making. What makes `listwallets` and `unloadwallet` \"wallet admin\" methods that are ok to have, and `getwalletsbalances` not a wallet admin method, or not a wallet admin method that's ok to have?\r\n\r\nI also don't see this interfering in a significant way with #10102 or #10615. From perspective of #10102 at least, this isn't different than the current `listwallets` method.",
      "created_at" : "2020-04-08T21:55:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611214861",
      "id" : 611214861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTIxNDg2MQ==",
      "updated_at" : "2020-04-08T21:55:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611214861",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">  I don't understand the distinction you're making. What makes listwallets and unloadwallet \"wallet admin\" methods that are ok to have\r\n\r\nI think it's fine to allow the node administrator to see which wallets are loaded or to unload a wallet, but they shouldn't be able to carry out any actions on that wallet. It would be unexpected to add wallet permissions to a wallet and then find out that a user without those permissions is able to see the balance. How would you expect this (or other cross-wallet RPC methods) to behave if some of the wallets had permissions?\r\n\r\nI generally don't like arguments that we shouldn't add a new feature because it might interact badly with some theoretical future feature, but in this case I don't see the need to add a whole new class of cross-wallet RPCs when the functionality can easily be added to the client.",
      "created_at" : "2020-04-08T23:04:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611238261",
      "id" : 611238261,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTIzODI2MQ==",
      "updated_at" : "2020-04-08T23:04:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611238261",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Concept ACK, but approach NACK. I don't think we should add cross-wallet RPC methods to the server.\r\n\r\nThanks @jnewbery for sharing your thoughts.\r\nThe advantage of having serverside across-all-wallets calls if probably only efficiency (performance, bandwidth) which might be not worth the effort. I think even with per wallet permissions serverside  across-all-wallet calls would work as well (some elements may be omitted or a permission error is returned).\r\n\r\n**Our JSON RPC implementation supports batches. Though,... I guess since we are using different endpoints for the wallet selection, batching across wallets is not possible?**\r\n\r\nTherefore I think it would make sense to support some sort of batching option that allow across-wallets batches (for performance reasons).\r\n\r\n@ryanofsky `foreachwallet` idea seems to be a viable way. Maybe as an endpoint or a method that has sub-methods are parameter.",
      "created_at" : "2020-04-09T07:50:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611385534",
      "id" : 611385534,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTM4NTUzNA==",
      "updated_at" : "2020-04-09T07:50:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611385534",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r406066423"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406066423"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks -- done in #18574 (please ack :).",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-09T09:12:39Z",
      "diff_hunk" : "@@ -239,16 +240,17 @@ class GetinfoRequestHandler: public BaseRequestHandler\n         result.push_back(JSONRPCRequestObj(\"getnetworkinfo\", NullUniValue, ID_NETWORKINFO));\n         result.push_back(JSONRPCRequestObj(\"getblockchaininfo\", NullUniValue, ID_BLOCKCHAININFO));\n         result.push_back(JSONRPCRequestObj(\"getwalletinfo\", NullUniValue, ID_WALLETINFO));\n+        result.push_back(JSONRPCRequestObj(\"getwalletbalances\", NullUniValue, ID_BALANCESINFO));\n         return result;\n     }\n \n     /** Collect values from the batch and form a simulated `getinfo` reply. */\n     UniValue ProcessReply(const UniValue &batch_in) override\n     {\n         UniValue result(UniValue::VOBJ);\n-        std::vector<UniValue> batch = JSONRPCProcessBatchReply(batch_in, 3);\n-        // Errors in getnetworkinfo() and getblockchaininfo() are fatal, pass them on\n-        // getwalletinfo() is allowed to fail in case there is no wallet.\n+        std::vector<UniValue> batch = JSONRPCProcessBatchReply(batch_in, 4);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r406066423",
      "id" : 406066423,
      "in_reply_to_id" : 404921647,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjA2NjQyMw==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 251,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 390622024,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406066423",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've extracted the original PR to #18574 to preserve this one as a discussion on multiwallet RPC/CLI.",
      "created_at" : "2020-04-09T09:14:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611423135",
      "id" : 611423135,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTQyMzEzNQ==",
      "updated_at" : "2020-04-09T09:14:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611423135",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "After looking at #10102 (and #10615 which is closed), I tend to agree with @ryanofsky and @jonasschnelli. Will propose multiwallet balances for -getinfo inside bitcoin-cli.cpp as a lower-scope solution for now in a separate PR, while this discussion continues in parallel for multiwallets on the server side.",
      "created_at" : "2020-04-09T09:27:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-611429161",
      "id" : 611429161,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMTQyOTE2MQ==",
      "updated_at" : "2020-04-09T09:27:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611429161",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r406081899"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406081899"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good idea to split the PR in two.",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-09T09:38:52Z",
      "diff_hunk" : "@@ -239,16 +240,17 @@ class GetinfoRequestHandler: public BaseRequestHandler\n         result.push_back(JSONRPCRequestObj(\"getnetworkinfo\", NullUniValue, ID_NETWORKINFO));\n         result.push_back(JSONRPCRequestObj(\"getblockchaininfo\", NullUniValue, ID_BLOCKCHAININFO));\n         result.push_back(JSONRPCRequestObj(\"getwalletinfo\", NullUniValue, ID_WALLETINFO));\n+        result.push_back(JSONRPCRequestObj(\"getwalletbalances\", NullUniValue, ID_BALANCESINFO));\n         return result;\n     }\n \n     /** Collect values from the batch and form a simulated `getinfo` reply. */\n     UniValue ProcessReply(const UniValue &batch_in) override\n     {\n         UniValue result(UniValue::VOBJ);\n-        std::vector<UniValue> batch = JSONRPCProcessBatchReply(batch_in, 3);\n-        // Errors in getnetworkinfo() and getblockchaininfo() are fatal, pass them on\n-        // getwalletinfo() is allowed to fail in case there is no wallet.\n+        std::vector<UniValue> batch = JSONRPCProcessBatchReply(batch_in, 4);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r406081899",
      "id" : 406081899,
      "in_reply_to_id" : 404921647,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjA4MTg5OQ==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 251,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 390640559,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406081899",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r406345952"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406345952"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks -- done in #18574 (please review :))",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-09T17:00:12Z",
      "diff_hunk" : "@@ -239,16 +240,17 @@ class GetinfoRequestHandler: public BaseRequestHandler\n         result.push_back(JSONRPCRequestObj(\"getnetworkinfo\", NullUniValue, ID_NETWORKINFO));\n         result.push_back(JSONRPCRequestObj(\"getblockchaininfo\", NullUniValue, ID_BLOCKCHAININFO));\n         result.push_back(JSONRPCRequestObj(\"getwalletinfo\", NullUniValue, ID_WALLETINFO));\n+        result.push_back(JSONRPCRequestObj(\"getwalletbalances\", NullUniValue, ID_BALANCESINFO));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r406345952",
      "id" : 406345952,
      "in_reply_to_id" : 403551614,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM0NTk1Mg==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 243,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/bitcoin-cli.cpp",
      "position" : null,
      "pull_request_review_id" : 390971510,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406345952",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\n This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-10T18:43:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-612164185",
      "id" : 612164185,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMjE2NDE4NQ==",
      "updated_at" : "2020-04-10T18:43:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612164185",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.\r\n\r\nI implemented a client-side version of this PR at #18594 per the approach suggested by @laanwj, @promag, and @jnewbery. For now I think it's the immediate solution, and once a server-side multiwallet RPC API is adopted, it can be used for -getinfo.",
      "created_at" : "2020-04-13T16:40:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-612979854",
      "id" : 612979854,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxMjk3OTg1NA==",
      "updated_at" : "2020-04-13T16:40:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612979854",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\n This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-16T16:18:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-614752161",
      "id" : 614752161,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNDc1MjE2MQ==",
      "updated_at" : "2020-04-16T16:18:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/614752161",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r409776888"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409776888"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done in the latest rebase; it's much better with your suggestion.\r\n\r\nMind re-ACKing here and/or #18594 (the client-side version)?",
      "commit_id" : "98e37e0823ca84689c78b1485c1f2cb8ea129967",
      "created_at" : "2020-04-16T18:50:56Z",
      "diff_hunk" : "@@ -173,17 +176,34 @@ def wallet_file(name):\n \n         w1, w2, w3, w4, *_ = wallets\n         node.generatetoaddress(nblocks=101, address=w1.getnewaddress())\n-        assert_equal(w1.getbalance(), 100)\n-        assert_equal(w2.getbalance(), 0)\n-        assert_equal(w3.getbalance(), 0)\n+        wallet_name = sorted(wallet_names)[1]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#discussion_r409776888",
      "id" : 409776888,
      "in_reply_to_id" : 403551851,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc3Njg4OA==",
      "original_commit_id" : "a5ea5717400d8f31ba210df5705eb6c1470da307",
      "original_line" : 179,
      "original_position" : 24,
      "original_start_line" : null,
      "path" : "test/functional/wallet_multiwallet.py",
      "position" : null,
      "pull_request_review_id" : 394910367,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/18453",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-04-16T18:50:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/409776888",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased, with improved tests.",
      "created_at" : "2020-04-16T18:52:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-614834220",
      "id" : 614834220,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNDgzNDIyMA==",
      "updated_at" : "2020-04-16T18:52:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/614834220",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\n This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-20T12:04:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-616509012",
      "id" : 616509012,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjUwOTAxMg==",
      "updated_at" : "2020-04-20T12:04:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616509012",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonasschnelli:\r\n> Therefore I think it would make sense to support some sort of batching option that allow across-wallets batches (for performance reasons).\r\n\r\nACK this. Right now I have bash scripts for doing multi-wallet things like balances and coins but it's pretty horrible and slow since I can't batch requests. It would be so much nicer if there was a special wallet endpoint you could hit which signals that you want the result from all wallets, or at least a way to batch requests for different wallets.",
      "created_at" : "2020-04-20T18:17:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-616726869",
      "id" : 616726869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNjcyNjg2OQ==",
      "updated_at" : "2020-04-20T18:17:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/616726869",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased on master for the CI fix.",
      "created_at" : "2020-04-21T13:09:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-617168785",
      "id" : 617168785,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxNzE2ODc4NQ==",
      "updated_at" : "2020-04-21T13:09:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/617168785",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\n This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
      "created_at" : "2020-04-25T00:39:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-619292296",
      "id" : 619292296,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTI5MjI5Ng==",
      "updated_at" : "2020-04-25T00:39:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619292296",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks to everyone for reviewing.\r\n\r\nSummary:\r\n4 Concept ACKs\r\n1 Approach ACK\r\n1 Concept NACK\r\n2 Approach NACKs\r\n4 ACKs\r\n\r\nTo take the feedback into account, a client-side, smaller-scope version of this feature for `-getinfo` only, with Concept ACKs, ACKs, and several rounds of review, is ready now for final review at #18594. Can you please review?",
      "created_at" : "2020-04-25T15:07:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/18453#issuecomment-619393242",
      "id" : 619393242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/18453",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDYxOTM5MzI0Mg==",
      "updated_at" : "2020-04-25T15:07:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619393242",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   }
]
