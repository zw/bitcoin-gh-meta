[
   {
      "body" : "I agree that completely seperating wallet and network deamon would be a good idea. I think the first step towards that would be an explicit decision whether the wallet should use the network component as a library or via the existing RPC interface. The former would probably faster to develop and may generate a smoother end-user experience, but on the other hand the rpc interface could greatly benefit from being used for the official wallet. Also, if the wallet only communicates via RPC with bitcoind, that would simplyfy dogecoind to only one interface.",
      "created_at" : "2014-03-16T22:47:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-37774071",
      "id" : 37774071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-16T22:47:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37774071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4348296?v=3",
         "events_url" : "https://api.github.com/users/leofidus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/leofidus/followers",
         "following_url" : "https://api.github.com/users/leofidus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/leofidus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/leofidus",
         "id" : 4348296,
         "login" : "leofidus",
         "organizations_url" : "https://api.github.com/users/leofidus/orgs",
         "received_events_url" : "https://api.github.com/users/leofidus/received_events",
         "repos_url" : "https://api.github.com/users/leofidus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/leofidus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/leofidus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/leofidus"
      }
   },
   {
      "body" : "@laanwj RPC articulation . Define standard for interface to daemon (IF not already defined). \r\n\r\nA nice upside would be to pay the \"provider\" for hosting the daemon properly and providing availability and scalabity. i.e. if you host the files and can propagate a transaction super fast .. cash for timmy. ( this is bonus points ) ... ignore if too hard.",
      "created_at" : "2014-03-16T22:54:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-37774277",
      "id" : 37774277,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-16T22:59:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37774277",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5482481?v=3",
         "events_url" : "https://api.github.com/users/int03h/events{/privacy}",
         "followers_url" : "https://api.github.com/users/int03h/followers",
         "following_url" : "https://api.github.com/users/int03h/following{/other_user}",
         "gists_url" : "https://api.github.com/users/int03h/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/int03h",
         "id" : 5482481,
         "login" : "int03h",
         "organizations_url" : "https://api.github.com/users/int03h/orgs",
         "received_events_url" : "https://api.github.com/users/int03h/received_events",
         "repos_url" : "https://api.github.com/users/int03h/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/int03h/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/int03h/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/int03h"
      }
   },
   {
      "body" : "oh .. overall proposal gets a massive +1. ",
      "created_at" : "2014-03-16T23:01:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-37774470",
      "id" : 37774470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-16T23:01:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37774470",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5482481?v=3",
         "events_url" : "https://api.github.com/users/int03h/events{/privacy}",
         "followers_url" : "https://api.github.com/users/int03h/followers",
         "following_url" : "https://api.github.com/users/int03h/following{/other_user}",
         "gists_url" : "https://api.github.com/users/int03h/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/int03h",
         "id" : 5482481,
         "login" : "int03h",
         "organizations_url" : "https://api.github.com/users/int03h/orgs",
         "received_events_url" : "https://api.github.com/users/int03h/received_events",
         "repos_url" : "https://api.github.com/users/int03h/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/int03h/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/int03h/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/int03h"
      }
   },
   {
      "body" : "@leofidus: I assume that it will be possible to use the bitcoind through SPV (so the P2P network) and RPC (for progress queries, and managing).\r\nIf step 3 is left out, there would be indeed an intermediate phase in which the wallet *embeds* bitcoind as a library just as it does now. Then only the project layouts would change.\r\n\r\n@int03h: No changes to RPC interface are needed for this apart from a split. The walletd would implement the wallet side of the RPCs, bitcoind would implement the blockchain/query part of the RPCs. \r\nFor backward compatibility with clients that assume both are in the same process, the walletd could act as a proxy for those commands.\r\n",
      "created_at" : "2014-03-17T07:24:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-37790115",
      "id" : 37790115,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-17T07:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37790115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Agree that splitting these would be good.  I'm not clear on the need for a full SPV node implementation, though, for walletd to talk to bitcoind.  It seems the RPC interface on bitcoind is only lacking an asynchronous (non-polled) way of delivering notifications of wallet related events to walletd.  That could implemented in a variety of ways.",
      "created_at" : "2014-03-17T17:36:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-37845737",
      "id" : 37845737,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-17T17:36:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37845737",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   },
   {
      "body" : "If we use the RPC interface, then it should be build out to support everything the wallet needs. That would benefit everyone using bitcoind.",
      "created_at" : "2014-03-17T17:49:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-37847377",
      "id" : 37847377,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-17T17:49:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37847377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4348296?v=3",
         "events_url" : "https://api.github.com/users/leofidus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/leofidus/followers",
         "following_url" : "https://api.github.com/users/leofidus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/leofidus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/leofidus",
         "id" : 4348296,
         "login" : "leofidus",
         "organizations_url" : "https://api.github.com/users/leofidus/orgs",
         "received_events_url" : "https://api.github.com/users/leofidus/received_events",
         "repos_url" : "https://api.github.com/users/leofidus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/leofidus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/leofidus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/leofidus"
      }
   },
   {
      "body" : "I don't believe RPC is the appropriate medium for communication between a P2P node and a wallet. It's inefficient and synchronous.\r\n\r\nOn the other hand, the walletd can just be made an SPV client, which optionally connects to a decidated full node. There is only one feature I know of where the wallet actually needs a full node for, namely the recently added conflict-checking through the mempool. Perhaps some overlay or extension for trusted connections could be added (though I don't like where that may lead...).",
      "created_at" : "2014-03-17T19:04:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-37856616",
      "id" : 37856616,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-17T19:04:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37856616",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa This is what I was thinking as well.  *If* the walletd will be an actual SPV node, it doesn't need the bitcoind RPC interface at all.  Then it becomes a wallet like any other.",
      "created_at" : "2014-03-17T20:12:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-37864232",
      "id" : 37864232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-17T20:12:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37864232",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1492956?v=3",
         "events_url" : "https://api.github.com/users/jmcorgan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jmcorgan/followers",
         "following_url" : "https://api.github.com/users/jmcorgan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jmcorgan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jmcorgan",
         "id" : 1492956,
         "login" : "jmcorgan",
         "organizations_url" : "https://api.github.com/users/jmcorgan/orgs",
         "received_events_url" : "https://api.github.com/users/jmcorgan/received_events",
         "repos_url" : "https://api.github.com/users/jmcorgan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jmcorgan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jmcorgan"
      }
   },
   {
      "body" : "@sipa The only reason I mention the RPC interface is for the management part. At least for backwards compatibility of the user experience we want walletd to be able manage a bitcoind instance in the beginning (to ship a wallet+node like now).\r\nI was not proposing it as interface between the P2P node and wallet, indeed that would be  inefficient.\r\n",
      "created_at" : "2014-03-17T21:59:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-37876417",
      "id" : 37876417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-17T21:59:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37876417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@sipa You're right though, the mempool-based transaction conflict handling does complicate things. Same for upcoming floating fee computations. It looks like walletd will somehow have to mirror the mempool of the 'master' bitcoind (maybe with an RPC to receive an initial mempool and then updates from there?).",
      "created_at" : "2014-03-19T21:11:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-38107307",
      "id" : 38107307,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-19T21:11:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38107307",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj It's functionality that is inherently impossible to do for SPV clients, so it could just be limited to outsourcing the 0-conf validation to a trusted full node. Without trusted full node (i.e., no local one), it would simply be unavailable.",
      "created_at" : "2014-03-19T21:25:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3882#issuecomment-38108946",
      "id" : 38108946,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3882",
      "updated_at" : "2014-03-19T21:25:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38108946",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   }
]
