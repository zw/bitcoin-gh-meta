[
   {
      "body" : "You still haven't fixed the DoS attack this enables; there's two ways to fix it FWIW...",
      "created_at" : "2014-03-17T02:00:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-37779576",
      "id" : 37779576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-17T02:00:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37779576",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Back-of-the-envelope on what it would take to DoS:\r\n\r\nAssume wimpy 10mbps (~ 1 megabyte per second) connections that you are trying to DoS.\r\n\r\nA double-spend-flood-the-network attack lets you broadcast 100Kilobyte transactions at very low cost (attack is:  broadcast a normal-sized transaction, then broadcast a max-transaction-sized (100K) double-spend version of that transaction).\r\n\r\nTo sustain this attack, you need to be able to produce 10 transactions per second.\r\n\r\nEach transaction needs at least one at-least-fee-plus-more-than-dust-sized input, so you consume your unspent transaction outputs quicker than the transactions can be confirmed in blocks: so a DoS is not sustainable.\r\n\r\nSo if you have 36,000 unspent transaction outputs you can DoS anybody connected to the network with a 1Mbps or slower connection for one hour.\r\n\r\n\"meh\"\r\n\r\nYou'd need 36 million UTXO's to try to DoS nodes with gigabit ethernet connections for an hour. \"good luck with that\"\r\n\r\nIf somebody did manage to successfully mount this attack, worst case they would slow down part of the network for a limited amount of time; I doubt most nodes would even notice something was happening (because the attacker's transactions will get mixed in with normal transaction traffic).  The network regularly takes more than an hour to confirm a transaction, just because of block-finding variability.\r\n",
      "created_at" : "2014-03-17T12:15:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-37808835",
      "id" : 37808835,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-17T12:15:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37808835",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "You know, the phrase \"Don't stop your opponent when they're in the middle of digging themselves into a hole.\" comes to mind. Especially when in this case the hole you're digging happens to be right where I needed a basement for my new house.\r\n\r\nACK",
      "created_at" : "2014-03-17T14:45:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-37823276",
      "id" : 37823276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-17T14:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37823276",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "With this change in wide use, the probability of a merchant suffering the mining of an adverse double spend will be inversely related to the amount of time he decides to watch for a relayed double spend before delivering the goods.  The rest is just numbers, PROVIDED miners adhere to mining the first spend seen.\r\n\r\nAny kind of transaction replacement would create a game for attacker to wait a little while (merchant timeout), but not too long (next block), before broadcasting second spend.",
      "created_at" : "2014-03-18T01:24:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-37890855",
      "id" : 37890855,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-18T01:24:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37890855",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 I don't want to follow that logic too far down the rabbit hole.  There are valid use cases for transaction replacement.",
      "created_at" : "2014-03-18T01:51:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-37892188",
      "id" : 37892188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-18T01:51:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37892188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Also, now that I've actually looked at the code, I see two implementation-specific DoS attacks above and beyond the problems fundamental to this idea:\r\n\r\n1) The double-spent transactions don't end up in the mempool, so they fail AlreadyHave() in the \"inv\" message processing. Since we don't have them, next stop is pfrom->AskFor(inv), which adds them to the size-limited mapAlreadyAskedFor. Unfortunately that is limited to 50,000 entries, so if it rolls over we'll waste bandwidth re-asking for those double-spending transactions all over again. This shouldn't be too much of an issue, as we wouldn't resend those transactions, but...\r\n\r\n2) Because the double-spend detection is based on a bloom filter which is cleared with 1/1000 probability on every hit if I have enough double-spends to exceed that limit, and subsequently the percolation threshold of the network, I can re-double-spend outputs over and over again. Or even worse, nodes in the network might resend those transactions in a big loop if things get bogged down enough and the attack will self-propagate.\r\n\r\n@dgenr8 So do us all a favor and add a simple rate-limiter to the RelayDoubleSpend() function. You can copy the design of the free transaction rate limiter. (https://github.com/bitcoin/bitcoin/blob/5b6e9811fa64540c8feecc24f11fa867392f262f/src/main.cpp#L912) Make sure you make that rate limiter adjustable by a command-line option.\r\n\r\n@gavinandresen Notice how this is a good example of why actually testing against real attacks is valuable.",
      "created_at" : "2014-03-18T04:09:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-37898012",
      "id" : 37898012,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-18T04:09:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37898012",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "> With this change in wide use, the probability of a merchant suffering the mining of an adverse double spend will be inversely related to the amount of time he decides to watch for a relayed double spend before delivering the goods. The rest is just numbers, PROVIDED miners adhere to mining the first spend seen.\r\n\r\n::sigh::  No opinion currently on the rest of it (I don't have time at the moment to investigate the implementation specifics), but you're arguing for this with an incorrect argument here. E.g. Finney attack, and the fact that miners already do not mine the first spend seen (~all mine the first that they accepted, not seen, and there is already some hashpower that mines highest fees).\r\n\r\nThis kind of bad argument makes me uncomfortable and it makes it harder for me to objectively evaluate the implementation on its own merits when I know its proponents are exaggerating its benefits.",
      "created_at" : "2014-03-18T20:59:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-37987213",
      "id" : 37987213,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-18T21:00:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/37987213",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "@petertodd Is this what you had in mind?  Have you got any scripts that might help test this?",
      "created_at" : "2014-03-20T02:36:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-38129999",
      "id" : 38129999,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-20T02:36:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38129999",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@petertodd Doesn't rate-limiting respend relay give attacker a way to silence relay before executing his real double-spend?  Contrast with free transactions where antagonist wants his transaction relayed.  This is the opposite.",
      "created_at" : "2014-03-20T03:41:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-38132689",
      "id" : 38132689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-20T03:41:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38132689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@gmaxwell This change is concerned with countering race attacks on merchants accepting unconfirmed transactions.  I don't think it helps against Finney or any attack requiring hash power.\r\n\r\nIt implements one of the three recommendations (\"5.3 Communicating Double-Spending Alerts Among Peers\") made by [the research](http://users.encs.concordia.ca/~clark/biblio/bitcoin/Karame%202012.pdf) I am aware of.  The other two recommendations are a merchant listening period and merchants being well-connected.\r\n",
      "created_at" : "2014-03-20T21:12:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-38221665",
      "id" : 38221665,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-20T21:12:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38221665",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 could you add a note about that with reference to https://github.com/bitcoin/bitcoin/blob/master/doc/release-notes.md",
      "created_at" : "2014-03-20T21:27:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-38223187",
      "id" : 38223187,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-20T21:27:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38223187",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/251852?v=3",
         "events_url" : "https://api.github.com/users/drak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/drak/followers",
         "following_url" : "https://api.github.com/users/drak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/drak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/drak",
         "id" : 251852,
         "login" : "drak",
         "organizations_url" : "https://api.github.com/users/drak/orgs",
         "received_events_url" : "https://api.github.com/users/drak/received_events",
         "repos_url" : "https://api.github.com/users/drak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/drak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/drak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/drak"
      }
   },
   {
      "body" : "@petertodd To your concern about bloom filter reset: a DoS attack on a single node runs into the problem that its peer nodes have different randomized bloom filters which will not propagate repeat respend transactions at the moment attacked node's filter is reset unless another 1/1000 hurdle is passed, and so on.\r\n\r\nBloom filter states in adjacent peers might be too similar though.  State depends on node startup moment and subsequent respend traffic seen.  Perhaps the first clear() should be randomized to occur after U(500,1500) insertions or something like that.",
      "created_at" : "2014-03-22T16:14:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-38355668",
      "id" : 38355668,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-22T16:14:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38355668",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Next commit adds support for immediate UI notification when wallet sees a respend that affects it.\r\n\r\n![capture](https://f.cloud.github.com/assets/4284124/2506227/323ceaaa-b3a4-11e3-8189-d2beeba76382.PNG)\r\n",
      "created_at" : "2014-03-24T22:32:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-38509878",
      "id" : 38509878,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-24T22:32:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38509878",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@sipa confirmed via IRC that pull tester failed because of broken tests on git head.  Hopefully auto-test will be re-run when it is fixed.",
      "created_at" : "2014-03-25T14:41:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-38572108",
      "id" : 38572108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-03-25T14:41:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/38572108",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "ACK from me.  better is better, and this is better than the current behavior.",
      "created_at" : "2014-04-03T12:56:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-39447198",
      "id" : 39447198,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-04-03T12:56:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39447198",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Is this still alerting on malleability mutants (/simple resignatures that sign the same inputs and have the same outputs)?",
      "created_at" : "2014-04-03T14:59:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-39461526",
      "id" : 39461526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-04-03T14:59:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39461526",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r11258046"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11258046"
         }
      },
      "body" : "I don't entirely understand why there is no more use for this function.\r\nThe reason it was added was to make sure that the 'malleated' versions of transactions take over the metadata (such as the payment request data) of the original transaction.\r\nIs this now handled in another way?",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-04-03T15:53:19Z",
      "diff_hunk" : "@@ -262,42 +262,6 @@ bool CWallet::SetMaxVersion(int nVersion)\n     return result;\n }\n \n-void CWallet::SyncMetaData(pair<TxSpends::iterator, TxSpends::iterator> range)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r11258046",
      "id" : 11258046,
      "original_commit_id" : "43d6ff23a23b87fa44a92242a61b9bb3a9c4eb1e",
      "original_position" : 4,
      "path" : "src/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11258046",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@gmaxwell  Any wallet transaction with conflicting spends is highlighted.",
      "created_at" : "2014-04-03T17:49:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-39482536",
      "id" : 39482536,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-04-03T17:49:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39482536",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r11263531"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11263531"
         }
      },
      "body" : "@laanwj Malicious respends affecting the wallet will be tracked by the wallet db, and we don't want to give them that treatment.",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-04-03T17:50:02Z",
      "diff_hunk" : "@@ -262,42 +262,6 @@ bool CWallet::SetMaxVersion(int nVersion)\n     return result;\n }\n \n-void CWallet::SyncMetaData(pair<TxSpends::iterator, TxSpends::iterator> range)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r11263531",
      "id" : 11263531,
      "original_commit_id" : "43d6ff23a23b87fa44a92242a61b9bb3a9c4eb1e",
      "original_position" : 4,
      "path" : "src/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11263531",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 then it becomes trivial for a network trouble-maker to make every transaction turn up red. I don't think we should do this. Beyond it being a nuisance if it frequently cries wolf users will be told to ignore it.\r\n\r\nA \"double spend\" that continues to pay you as much as the listed payment should probably not trigger the alert. And especially third parties should not be able to trigger the alert.\r\n",
      "created_at" : "2014-04-03T17:56:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-39483314",
      "id" : 39483314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-04-03T17:56:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39483314",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I would like to see some sort of alert, even if triggerable by 3rd parties, but perhaps something more discrete than the red background. It's still nice to know about, and can be a factor in deciding whether to accept a transaction. The indication could be as discrete as the graphic showing the number of confirmations, perhaps a little exclamation mark in the corner prior to the 2nd confirmation coming through...?",
      "created_at" : "2014-04-04T03:47:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-39529424",
      "id" : 39529424,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-04-04T03:47:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39529424",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r11284466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11284466"
         }
      },
      "body" : "But what about genuine mallleated clones (same transaction but different txid)? They should still have that treatment. I don't think it is valid to remove this for every case.\r\n",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-04-04T06:44:31Z",
      "diff_hunk" : "@@ -262,42 +262,6 @@ bool CWallet::SetMaxVersion(int nVersion)\n     return result;\n }\n \n-void CWallet::SyncMetaData(pair<TxSpends::iterator, TxSpends::iterator> range)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r11284466",
      "id" : 11284466,
      "original_commit_id" : "43d6ff23a23b87fa44a92242a61b9bb3a9c4eb1e",
      "original_position" : 4,
      "path" : "src/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/11284466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@gmaxwell @laanwj Ok, we want a new distinction - that of a transaction whose only conflicts, re-signed or not, have identical inputs and outputs.  And this condition would suppress red highlight and alert, and we sync metadata to those identical conflicts (a single respent input triggers current SyncMetaData).\r\n",
      "created_at" : "2014-04-04T12:55:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-39561500",
      "id" : 39561500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-04-04T12:55:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/39561500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Adds respend txids to RPC output and adds -respendnotify hook for immediate user-defined action when a double-spend is observed.\r\n\r\n",
      "created_at" : "2014-04-09T23:18:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-40028008",
      "id" : 40028008,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-04-09T23:18:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40028008",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "I'm running a [mainnet node](https://github.com/dgenr8/github-maint/blob/mainnet-nodes/mainnet-nodes) on [0.9.0 + this branch](https://github.com/dgenr8/bitcoin/tree/0.9.0+first_double_spend).\r\n\r\nConnect some clients to it and double-spend yourself, if you're in the mood.  If it works maybe you can add another respend-relaying node to the list.",
      "created_at" : "2014-04-11T17:07:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-40226476",
      "id" : 40226476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-19T15:52:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/40226476",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "In the last 10 days, node has relayed just over 50 respend attempts per day.\r\n\r\nAs an example, today it tried to warn that SatoshiBONES was being double-spent when it saw 7bd9cab732f33e375f9bf319a9d6c35275d59b941372b365e9ad2a4434533190 at 19:54:34, a standard respend with a .00002 fee bump and missing the .001 payment to merchant.  The merchant-paying tx 6609ecd56281b680cd76c69b2d56f034c70eba067cbb00127fa67a42e6678512 was seen at 19:53:56.  The double-spend was successful, block time 19:57:32.\r\n",
      "created_at" : "2014-05-01T04:44:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-41879741",
      "id" : 41879741,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-01T04:46:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/41879741",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "I've brought up a node on this branch running on riker.plan99.net but it seems that your node is unreachable, @dgenr8 ?\r\n\r\nmike@mikeh:~/bitcoin/src$ date\r\nWed May  7 22:11:49 MSK 2014\r\nmike@mikeh:~/bitcoin/src$ telnet 54.186.233.100 8333\r\nTrying 54.186.233.100...\r\ntelnet: Unable to connect to remote host: Connection refused\r\n\r\n",
      "created_at" : "2014-05-07T18:12:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-42462483",
      "id" : 42462483,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-07T18:12:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42462483",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn hmm, bitcoind had died on trap divide.  Try again, thank you!",
      "created_at" : "2014-05-07T21:02:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-42482785",
      "id" : 42482785,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-07T21:02:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42482785",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "You got a divide by zero? That's .... not good! Any idea how that happened?",
      "created_at" : "2014-05-07T21:05:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-42483110",
      "id" : 42483110,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-07T21:05:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42483110",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Last time we had a divide by zero it was in the Bloom c'tor where the division happens. I can't see anywhere you initialise a filter with zero elements - it's always set to the constant. I think Gregory said he saw where the bug was.",
      "created_at" : "2014-05-07T22:30:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-42491738",
      "id" : 42491738,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-07T22:30:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42491738",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/56473b676b8400df3d52d13f232414a6222d5a95 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-05-08T13:39:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-42550521",
      "id" : 42550521,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-08T13:39:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/42550521",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Hey dgenr8, could you tell me what to look for in the logs? I am not seeing anything unusual printed to them by default, perhaps I have my node set up wrong.",
      "created_at" : "2014-05-19T13:53:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-43506467",
      "id" : 43506467,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-19T13:53:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/43506467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn The extra logging I added is an invasive hack, so it's not part of the branch.  I'll send to you privately for now.",
      "created_at" : "2014-05-19T17:26:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-43532412",
      "id" : 43532412,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-19T17:26:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/43532412",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Hmm. Seems like some logging at least would be useful/needed for node operators and developers.",
      "created_at" : "2014-05-19T17:35:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-43533345",
      "id" : 43533345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-19T17:35:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/43533345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Thanks. Node is up and running and indeed logging double spends that appear related to SatoshiBones. I guess they're getting attacked quite heavily using what we might call classical double spending - and maybe exploiting some miners that applied the stupid \"pick the highest fee\" patch.",
      "created_at" : "2014-05-22T11:24:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-43875667",
      "id" : 43875667,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-22T11:24:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/43875667",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Note that SatoshiBones isn't replying to those double-spent transactions and thus isn't vulnerable to them and isn't losing money. ",
      "created_at" : "2014-05-24T10:23:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-44083320",
      "id" : 44083320,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-24T10:23:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44083320",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd These respends are being transmitted only when the original bet placed was a loser, so the house is quite steadily losing money to the perpetrator.\r\n\r\nIt's happening to SatoshiDICE also.  Example: 9642d56ac0e4de9a65dfa4579b5eac2ec79cc2bde1578f4f6037d73ad02572a2.  This respend trailed the paying tx by 18 seconds, as observed by our tiny respend-relaying network.  That is time enough for the bettor to have learned he lost, and transmitted the \"undo\" respend with higher fee.\r\n\r\nWhile a regular merchant doesn't have to worry about paying out winnings, he also doesn't have the luxury of his product being a bitcoin payout that can be made a child of the original bet, as these gambling services do.\r\n\r\n",
      "created_at" : "2014-05-28T06:17:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-44369487",
      "id" : 44369487,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-28T06:17:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44369487",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 When I looked into this I didn't observe SatoshiBones or SatoshiDice paying out to unconfirmed bets, whether or not double-spent. Looking at blockchain.info, it appears that SatoshiDice has started responding to unconfirmed bets again, which will predictably cause them to lose money to simple attacks. Why they have decided to make their service less secure is unknown to me and I won't be surprised if they go back to the more secure behavior.\r\n\r\nDo note BTW that since Eligius does not accept satoshidice bets into their mempool you can always double-spend them with ~10% probability, something this relay and alert patch is inherently unable to prevent.",
      "created_at" : "2014-05-28T06:50:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-44371393",
      "id" : 44371393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-28T06:50:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44371393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "I'm curious if the issue these dice sites have is the Eligius \"spam filter\" that's allowing the double spends, or if it's actually that some big miner is running with the highest-fee-in-mempool patch. It'd be good to correlate the blocks that contain the double spends with blockchain.info's list of pools to learn more.",
      "created_at" : "2014-05-28T09:23:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-44383025",
      "id" : 44383025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-28T09:23:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44383025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Per b.i, the two examples listed here were mined by Eligius.  The fact that the respends have higher fees suggests that as the reason (otherwise, why offer the higher fee?)\r\n\r\nWe're noticing this because of the green vanity addresses being used.  Digging for likely successful respends against regular merchants will take a little more effort.\r\n\r\n@petertodd There are a great many problems that this patch doesn't prevent.  But it would have notified merchant over 20 minutes earlier in this case.  Of course, if they haven't noticed this happening already, I guess we shouldn't expect them to do much with the alert.\r\n\r\n",
      "created_at" : "2014-05-28T13:10:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-44403930",
      "id" : 44403930,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-28T13:13:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44403930",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "For double spends mined by Eligius that come from dice sites it's hard to tell because they deliberately don't allow transactions mentioning dice addresses into their mempool - and attackers know this. It would be better to find blocks not mined by Eligius and see if those miners are using the patch (and ask them to stop, if so).",
      "created_at" : "2014-05-28T13:14:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-44404405",
      "id" : 44404405,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-28T13:14:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44404405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn Uh, miners should NOT stop filtering spam. If anything, more need to adopt it.",
      "created_at" : "2014-05-28T13:18:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-44404764",
      "id" : 44404764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-28T13:18:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44404764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Perhaps that discussion should be had over on #3715 instead.",
      "created_at" : "2014-05-28T13:19:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-44404847",
      "id" : 44404847,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-28T13:19:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44404847",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Not really, it'd be off-topic on #3715.",
      "created_at" : "2014-05-28T13:21:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-44405142",
      "id" : 44405142,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-28T13:21:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44405142",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr Good point.\r\n\r\nWhy would a miner want to keep the transaction in their mempool? They'll use the bandwidth again when the block is broadcast anyway - might as well keep their mempools free of what they consider junk, particularly since not doing so can enable DoS attacks. (e.g. with the sigops issue, or indeed, any case where tx's are being mined by only a minority)",
      "created_at" : "2014-05-28T13:24:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-44405422",
      "id" : 44405422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-05-28T13:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/44405422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "For research, deployed mainnet node now publishes the double-spends it is relaying [here](http://respends.thinlink.com).",
      "created_at" : "2014-06-09T13:25:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45489850",
      "id" : 45489850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-25T04:33:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45489850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 Your site isn't accessible from my machine; firewall?",
      "created_at" : "2014-06-09T13:27:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45489997",
      "id" : 45489997,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-09T13:27:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45489997",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "You're blocked.  Kidding.  Fixed ;)",
      "created_at" : "2014-06-09T13:46:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45491742",
      "id" : 45491742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-09T13:46:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45491742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Your node is seeing way less doublespends than mine; try running a replace-by-fee node and connecting to it explicitly.",
      "created_at" : "2014-06-09T13:54:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45492541",
      "id" : 45492541,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-09T13:54:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45492541",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "(specifically my v0.9.1 branch that does preferential peering)",
      "created_at" : "2014-06-09T13:54:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45492578",
      "id" : 45492578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-09T13:54:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45492578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd if you pull the changes from [this branch](https://github.com/dgenr8/bitcoin/tree/0.9.0+first_double_spend), and connect to one of [these nodes](https://github.com/dgenr8/github-maint/blob/mainnet-nodes/mainnet-nodes), all the double-spends your node sees will be on the [list](http://respends.thinlink.com).  That's the idea of this PR after all.\r\n\r\nI'm happy to connect to you, where?\r\n",
      "created_at" : "2014-06-09T17:39:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45519689",
      "id" : 45519689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-25T04:30:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45519689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Like I said, if you run a replace-by-fee node and connect to it with your doublespend node you'll get more reliable results. Getting point-to-point connections to stay up in the long run is surprisingly difficult due to how the DoS rules/connection limits of Bitcoin work. Much easier if you either just run two nodes yourself and explicitly connect to either. You'll know it's working if getpeerinfo shows peers with services \"04000001\"\r\n\r\nBesides, I did say above that I think this patch opens up DoS attack vulnerabilities - I have no desire to be running insecure software. :)",
      "created_at" : "2014-06-09T19:28:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45533103",
      "id" : 45533103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-09T19:28:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45533103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd You never addressed my question of Mar 22 regarding your DOS objection, and in fact @gavinandresen had already anticipated that attack by [randomizing the clear moment](https://github.com/dgenr8/bitcoin/blob/first_double_spend/src/main.cpp#L1023).  Also, 5e3ee30 was committed at your explicit request due to general DOS concern.  You could demonstrate an attack at this point.  If txes show up on the list, they would have been relayed.",
      "created_at" : "2014-06-09T20:33:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45540464",
      "id" : 45540464,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-09T20:33:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45540464",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 The doublespend proof \"blow-up\" issue is pretty fundamental - I can double spend with a 100K (or heck, ~1MB) transaction and now the network has to propagate a bunch of useless data. My other concerns were just implementation specific mistakes that made that fundamental issue even worse.\r\n\r\nBetter to stick with proving double-spends by showing specific inputs were double-spent, and then on top of that using a custom payment protocol that guarantees things like never reusing addresses. (not unlike how I suspect any scorched earth implementation really needs to be its own payment protocol separate from normal transactions)\r\n\r\nAnyway, I've got no desire to waste a bunch of bandwidth DoS attacking the network on someone else's behalf. Seems you've got a connection to a replace-by-fee node through somewhere anyway - my double-spends I'm creating as part of my 1% reward for implementing replace-by-fee experiment(1) are showing up now. (I count 9 running on the network right now; I'm running 3 of those)\r\n\r\n1) https://bitcointalk.org/index.php?topic=645120.0",
      "created_at" : "2014-06-09T20:46:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45541919",
      "id" : 45541919,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-09T20:46:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45541919",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "BTW, as for specifics, there's a few parts:\r\n\r\n1) Payment protocol where Alice's wallet makes the promise to *never* double-spend some set of inputs, or even spend the same scriptPubKey twice. (at least until the payment goes through) To be able to add fees, sign with SIGHASH_ANYONECANPAY.\r\n\r\n2) Make double-spend relaying only relay a single double-spending scriptSig + list of SignatureHash() outputs. (to show signatures are valid) This is max 10KB of data, even for a non-standard tx double-spend proof.\r\n\r\n3) ...notice that you've implemented the double-spend notification I need for scorched earth to work. :) Also having a payment protocol for it makes it easy to do things like have the user put up more than the actual payment as a risk deposit. (1)\r\n\r\n1) http://www.mail-archive.com/bitcoin-development%40lists.sourceforge.net/msg05211.html - \"[Bitcoin-development] Replace-by-fee scorched-earth without child-pays-for-parent\"",
      "created_at" : "2014-06-09T20:59:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45543370",
      "id" : 45543370,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-09T21:02:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45543370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd Many interesting ideas, I look forward to the PR's/projects.  Remember, 5e3ee30 limits bandwidth usage to 50K/10 minutes.\r\n\r\nIf relaying respends increased their success rate, nobody is happy about that, even if it makes a cool project like scorched-earth-child-pays-for-parent-double-spend-retaliation more necessary.  But looking at the data, I don't see much evidence that relaying respends will increase the success rate of malicious ones, because so many are successful already.\r\n\r\n\r\n",
      "created_at" : "2014-06-09T23:15:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45556357",
      "id" : 45556357,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-09T23:15:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45556357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "DoS and transaction malleability issues have been addressed.  Any issues remaining with this? I still think 'better is better....'\r\n",
      "created_at" : "2014-06-11T15:51:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45760273",
      "id" : 45760273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-11T15:51:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45760273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "I still think 'an easy to avoid defense is a false sense of security'. It may seem to work now because people aren't trying to avoid the protection that is proposed, but when it becomes succesful, I'm sure that those already intentionally double-spending will adapt their behaviour.\r\n\r\nSIGHASH_ANYONECANPAY + just relaying proof of double spending rather than relaying full transactions seems much more scalable and harder to block (it doesn't have transaction size limitations on relay, for example).",
      "created_at" : "2014-06-11T16:58:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45769232",
      "id" : 45769232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-11T16:58:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45769232",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Consider this: even if receiver only learns of being double-spent AFTER the double-spend is confirmed, it still may not be too late to stop real-world losses.  He may still have time to withhold the unpaid-for goods or service, especially if block was mined quickly.  This can work for any double-spend, even a non-standard one.\r\n\r\nThis seems only logical and I am planning to add wallet notification of respends discovered via block in a follow-up PR.\r\n\r\nViewed in this context, the 0-conf notification is just part of a continuum of actions trying to protect the receiver.\r\n",
      "created_at" : "2014-06-11T18:21:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45779689",
      "id" : 45779689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-11T18:21:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45779689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 Yes, but if it doesn't work because of false alarms, DoS attacks, etc. we've made things worse, not better. We can't just consider features in isolation, we need to consider how they'll impact the whole ecosystem. For that matter, this really needs a BIP and public discussion on the mailing list - do you realize how your double-spend relaying mechanism would make for great BitMessage functionality? I mean, heck, my ideas for how to implement decentralized CoinJoin are suspiciously similar come to think of it... :/",
      "created_at" : "2014-06-11T19:34:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45788740",
      "id" : 45788740,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-11T19:34:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45788740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd Sorry if it sounded like I was proposing some new network alert.  I should have explained better.  I only meant that local wallet alert of a double-spend suddenly appearing in a block seems like a no-brainer, and a good example for other wallets.",
      "created_at" : "2014-06-11T20:13:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-45793291",
      "id" : 45793291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-11T20:13:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/45793291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "sounds like a pretty good idea imho.\r\naren't the false alarm and DoS issues already solved?\r\n\r\nabout eligius... can't luke-jr just add a simple fix to also refuse to mine double spends related to casino sites?",
      "created_at" : "2014-06-22T17:38:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46787377",
      "id" : 46787377,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-22T17:43:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46787377",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4629507?v=3",
         "events_url" : "https://api.github.com/users/tuttleorbuttle/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tuttleorbuttle/followers",
         "following_url" : "https://api.github.com/users/tuttleorbuttle/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tuttleorbuttle/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tuttleorbuttle",
         "id" : 4629507,
         "login" : "tuttleorbuttle",
         "organizations_url" : "https://api.github.com/users/tuttleorbuttle/orgs",
         "received_events_url" : "https://api.github.com/users/tuttleorbuttle/received_events",
         "repos_url" : "https://api.github.com/users/tuttleorbuttle/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tuttleorbuttle/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tuttleorbuttle/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tuttleorbuttle"
      }
   },
   {
      "body" : "IMHO, the DoS protection and no-false-sense-of-security are mutually exclusive: if the mechanism provided by these notifications are useful in preventing monetary loss, an attacker will just flood the network with other double spend alerts, hoping his real attack will not get through.",
      "created_at" : "2014-06-22T17:46:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46787570",
      "id" : 46787570,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-22T17:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46787570",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : ".... until he runs out of coins to double spend, unless the network is fast enough that it doesn't matter or unless businesses react to a flood of double spend alerts by temporarily pausing their operations, etc.\r\n\r\nI'm very wary of adversarial scenarios where people try to anticipate all the way to the end game. I've seen this sort of discussion before, back when my old team first proposed the Google anti-hijacking system. Indulge me in a quick story. Spammers had found ways to obtain millions of correct passwords and were logging in to people's email accounts, to send spam to their friends.  So that was the problem. We proposed to try and solve it using risk analysis and asking additional questions at login time when possible. \r\n\r\nNeedless to say we got lots and lots of negative feedback about this idea. It'll never work. You'll break the login system. Users won't accept it. Hackers will just log in from the same country as the users do and then you won't be able to spot them. Even if you do, they'll just switch to using old protocols like SMTP and IMAP where you can't ask for more than the password, and then it'll be game over. Users should just all use two-factor logins, anything else is a waste of time. Everyone being hacked is the future, it's inevitable, don't fight it. Etc.\r\n\r\nAll of these were great points made by smart people. Some of them we didn't have good answers for. We proceeded anyway, partly because we got paid to fight spam and just resigning from our jobs didn't seem like an option :) \r\n\r\nAnyway, end of the story: we did beat them. It turned out that even though there were a lot of different groups doing this kind of hacking they were not infinite and they were not invincible. A lot of the original justifications for why we would fail were based on faulty assumptions that weren't obvious at the time. For example, that attackers were infinitely smart, capable, didn't make mistakes, had unlimited time and endless motivation.  Another more subtle assumption was that our current set of tactics was the entire possible set; that we wouldn't invent or discover anything new, even though we did.\r\n\r\nIf we'd listened to those smart people back then, we'd have never started and thus never have succeeded.\r\n\r\nI don't know if this situation is analogous, I just know that it's very easy to think you can anticipate everything, that there's no point in playing defence because, \"I'm sure I could beat myself so why bother\". We shouldn't fall into that trap. In this case, I think the DoS issues are resolved as best we can with our current framework (i.e. not that great but it can improve in future), so the most harm that can occur here is that we do lose this first round, people ignore the alerts and the community ends up back in the same situation it's currently in. Not so terrible, really.",
      "created_at" : "2014-06-23T08:09:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46816400",
      "id" : 46816400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T08:09:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46816400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@sipa Agreed. And you know, basically you can say the difference between my \"relay the scriptSig\" proposal - which you also deserve credit for IIRC - and the \"relay the whole tx\" proposal is that the whole tx version requires about 100x more bandwidth to defend against an attacker.\r\n\r\nWe could do even better than that though and implement a \"relay the scriptSig\" double-spend alert scheme where the size of the scriptSig we'll relay was limited. Basically we'd only be making useful promises about scriptPubKey's that can only be redeemed with small scriptSigs - ~500 bytes should be fine for 99.9% of transactions. In that case per txout you can only get the network to relay another 500 bytes of data max, which is only about 5-10x the bandwidth creating the txout caused in the first place. Perfectly acceptable and keeps this feature from getting abused as a replacement for BitMessage.",
      "created_at" : "2014-06-23T12:03:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46835581",
      "id" : 46835581,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T12:03:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46835581",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@dgenr8 : commit history is messy; can you rebase -i to squash bugfix commits?\r\n\r\nEverybody else: see any bugs (as opposed to philosophical \"I can think of a better way\") that should prevent me from poking the \"merge pull request\" button?\r\n",
      "created_at" : "2014-06-23T19:33:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46890890",
      "id" : 46890890,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T19:33:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46890890",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14097476"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14097476"
         }
      },
      "body" : "Can the meaning of this nLimit value be documented somewhere? It looks like it means \"nLimit=X means up to X*1000 per minute\".",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-06-23T20:17:24Z",
      "diff_hunk" : "@@ -810,6 +830,21 @@ int64_t GetMinFee(const CTransaction& tx, unsigned int nBytes, bool fAllowFree,\n     return nMinFee;\n }\n \n+bool RateLimitExceeded(double& dCount, int64_t& nLastTime, int64_t nLimit, unsigned int nSize)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14097476",
      "id" : 14097476,
      "original_commit_id" : "43688adc1602f4a7d6abc368f059ffe3401a871f",
      "original_position" : 48,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14097476",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "It seems the current default double spending relay limit is 5000 bytes per minute? Is it intentionally so low?",
      "created_at" : "2014-06-23T20:19:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46896390",
      "id" : 46896390,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T20:19:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46896390",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Has anyone tested how this behaves in case a mutated version of an existing transaction is received? Does it broadcast the \"double spend\" and/or warn the user?\r\n\r\nEDIT: nevermind, it seems the double-spend logic won't trigger, as the transaction is seen as equivalent.",
      "created_at" : "2014-06-23T20:46:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46899639",
      "id" : 46899639,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T20:48:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46899639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Correct regarding relaying only isStandard, but an additional check could be added to relay only when !(tx1.isEquivalentTo(tx2)).  In [this example](http://respends.thinlink.com/tx/7ac6bffd38609e475768ec466eca49e39630440499da604f888b95558c9f341d), tx1 was admitted to mempool, and only scriptSig differs in tx2.  Wallet alert is already prevented.",
      "created_at" : "2014-06-23T21:07:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46902206",
      "id" : 46902206,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-25T04:31:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46902206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@sipa I chose 5000 bytes/min to be .33 of the free relay limit.  Currently, count of respend relays is less than .1 count of free transactions.  I haven't looked at size stats.  EDIT: the limit was triggered during an attack on my test node on June 10/11, 2014.",
      "created_at" : "2014-06-23T21:14:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46902963",
      "id" : 46902963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T21:21:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46902963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "So broadcasting 50 kB in a short time - by all attackers combined - worth of double spends is enough to flood the double-spend relay channel, globally?",
      "created_at" : "2014-06-23T21:16:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46903263",
      "id" : 46903263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T21:16:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46903263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@dgenr8 You realize how incredibly cheap it'll be to saturate that limit constantly? We're literally talking pennies a day.\r\n\r\nHeck, it may very well get saturated by just people bumping tx fees, which would be the more useful use of this patch.",
      "created_at" : "2014-06-23T21:16:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46903285",
      "id" : 46903285,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T21:16:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46903285",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Oh, and if you relay simple mutations, it's even cheaper, as you can use any transaction in the network, not just those you own the coins for. So yes, make sure you don't trigger double-spend relays for those.",
      "created_at" : "2014-06-23T21:18:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46903513",
      "id" : 46903513,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T21:19:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46903513",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@petertodd Is your preferred value for this limit no longer zero?  That is progress.\r\n",
      "created_at" : "2014-06-23T21:25:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46904290",
      "id" : 46904290,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T21:25:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46904290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@sipa Ok, but if I'm not mistaken, third parties cannot create mutants that pass isStandard.  I think that can only be done by altering the signature characteristics, but I'm out of my area there.  It would be great if someone could look at the example to see what is actually different about scriptSig.",
      "created_at" : "2014-06-23T21:31:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46904920",
      "id" : 46904920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T21:31:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46904920",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 They can, it's trivial. In BIP62 a new transaction type is introduced that can optionally be made non-malleable, but we are months away from availability for starters, and even then it can only work for wallets that choose to adopt that new type.",
      "created_at" : "2014-06-23T21:33:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46905145",
      "id" : 46905145,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T21:34:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46905145",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@dgenr8 Yes, this is great for replace-by-fee, and fee bumping in general, so please set the limit high enough to be useful and low enough that you don't take the network down. Something more like 50-150KB/minute should be fine.\r\n\r\n@sipa Additionally remember Gavin's relax IsStandard() patch(1) that opens up a whole new classes of malleability. Or for that matter SIGHASH_ANYONECANPAY transactions.\r\n\r\n1) https://github.com/bitcoin/bitcoin/pull/4365",
      "created_at" : "2014-06-23T21:39:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46905784",
      "id" : 46905784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-23T21:39:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46905784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd : what \"new classes of malleability\" are you thinking of? The only one I can see is \"Superfluous scriptSig operations\" (BIP 62 category 3), but since the reference implementation wallet will never produce any such weird transactions where that malleability is an issue that is not relevant to this pull request.\r\n\r\nOther wallet implementations that might produce wacky P2SH transactions might have to deal with malleability, but the right solution for that is to implement the BIP62 malleability fixes.\r\n",
      "created_at" : "2014-06-24T01:35:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46922978",
      "id" : 46922978,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-24T01:35:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46922978",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen @sipa and I are talking about DoS attacks enabled by unrelated third parties' malleable transactions and the attacker creating fake double-spends through malleability; the sender doesn't necessarily care that their tx's are malleable.",
      "created_at" : "2014-06-24T03:04:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46927445",
      "id" : 46927445,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-24T03:04:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46927445",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@sipa @petertodd Your requested changes have been committed, please review.\r\n\r\n@gavinandresen I tried, but having brought merges in previously, rather than rebasing, means a lot of edits would be required.  Sorry for the rookie mistake.",
      "created_at" : "2014-06-24T05:52:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46934578",
      "id" : 46934578,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-24T05:55:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46934578",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Mainnet node's [observed double-spend tracking page](http://respends.thinlink.com) includes, since 2014-06-22, double-spends that were first seen in a block.  Unless tx1->tx2 elapsed time is very short, these were likely introduced by the miner.  Background shaded red.",
      "created_at" : "2014-06-24T06:29:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-46936427",
      "id" : 46936427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-25T04:31:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46936427",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgener8 those red shaded transactions are interesting. the three top ones are all using outputs from tx 8e71c09772e9c456a1ca19c9b1d7fe68e4ac62e10ab88b755781a2421afedf69.\r\nseems like someone did this repeatedly throughout the day :D\r\nthe 4th one is pretty cool. seems like someone sent a tx with and without fee and was lucky enough to get the feeless transaction into a block first.\r\nsorry for the off-topic rambling.",
      "created_at" : "2014-06-24T17:16:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47000884",
      "id" : 47000884,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-24T17:40:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47000884",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4629507?v=3",
         "events_url" : "https://api.github.com/users/tuttleorbuttle/events{/privacy}",
         "followers_url" : "https://api.github.com/users/tuttleorbuttle/followers",
         "following_url" : "https://api.github.com/users/tuttleorbuttle/following{/other_user}",
         "gists_url" : "https://api.github.com/users/tuttleorbuttle/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/tuttleorbuttle",
         "id" : 4629507,
         "login" : "tuttleorbuttle",
         "organizations_url" : "https://api.github.com/users/tuttleorbuttle/orgs",
         "received_events_url" : "https://api.github.com/users/tuttleorbuttle/received_events",
         "repos_url" : "https://api.github.com/users/tuttleorbuttle/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/tuttleorbuttle/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/tuttleorbuttle/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/tuttleorbuttle"
      }
   },
   {
      "body" : "@dgenr8 re: rebase, use git add -p to recreate a sensible set of commits for review. Remember that git isn't a tool to record what you did, it's a tool to communicate to others what you want to do.",
      "created_at" : "2014-06-24T23:46:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47044954",
      "id" : 47044954,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-24T23:46:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47044954",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@gavinandresen @petertodd All cleaned up, thanks for the guidance.",
      "created_at" : "2014-06-26T07:35:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47196087",
      "id" : 47196087,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-26T07:36:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47196087",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@gavinandresen This time I compiled the intermediates :$",
      "created_at" : "2014-06-27T01:53:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47300499",
      "id" : 47300499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-27T01:53:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47300499",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "ACK.",
      "created_at" : "2014-06-27T16:52:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47373443",
      "id" : 47373443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-27T16:52:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47373443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "ACK",
      "created_at" : "2014-06-27T17:46:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47379423",
      "id" : 47379423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-27T17:46:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47379423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/251852?v=3",
         "events_url" : "https://api.github.com/users/drak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/drak/followers",
         "following_url" : "https://api.github.com/users/drak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/drak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/drak",
         "id" : 251852,
         "login" : "drak",
         "organizations_url" : "https://api.github.com/users/drak/orgs",
         "received_events_url" : "https://api.github.com/users/drak/received_events",
         "repos_url" : "https://api.github.com/users/drak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/drak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/drak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/drak"
      }
   },
   {
      "body" : "Code quality ACK.\r\n\r\nYeah, that's how you want to split up changes into individual commits, good job. ",
      "created_at" : "2014-06-27T20:25:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47396220",
      "id" : 47396220,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-27T20:25:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47396220",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14315791"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14315791"
         }
      },
      "body" : "Nit: Indentation",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-06-27T21:18:30Z",
      "diff_hunk" : "@@ -932,23 +969,15 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n         // be annoying or make others' transactions take longer to confirm.\n         if (fLimitFree && nFees < CTransaction::minRelayTxFee.GetFee(nSize))\n         {\n-            static CCriticalSection csFreeLimiter;\n             static double dFreeCount;\n-            static int64_t nLastTime;\n-            int64_t nNow = GetTime();\n-\n-            LOCK(csFreeLimiter);\n+            static int64_t nLastFreeTime;\n+            static int64_t nFreeLimit = GetArg(\"-limitfreerelay\", 15);\n \n-            // Use an exponentially decaying ~10-minute window:\n-            dFreeCount *= pow(1.0 - 1.0/600.0, (double)(nNow - nLastTime));\n-            nLastTime = nNow;\n-            // -limitfreerelay unit is thousand-bytes-per-minute\n-            // At default rate it would take over a month to fill 1GB\n-            if (dFreeCount >= GetArg(\"-limitfreerelay\", 15)*10*1000)\n+        \tif (RateLimitExceeded(dFreeCount, nLastFreeTime, nFreeLimit, nSize))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14315791",
      "id" : 14315791,
      "original_commit_id" : "9fa53dd3bdc6f62b16a7c2b970449c8c35f4c41b",
      "original_position" : 99,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14315791",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14315857"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14315857"
         }
      },
      "body" : "Nit: Could this not be 2 lines?",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-06-27T21:19:53Z",
      "diff_hunk" : "@@ -971,6 +1000,49 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n     return true;\n }\n \n+static void",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14315857",
      "id" : 14315857,
      "original_commit_id" : "9fa53dd3bdc6f62b16a7c2b970449c8c35f4c41b",
      "original_position" : 112,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14315857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14315918"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14315918"
         }
      },
      "body" : "Nit: Would be more readable, if every variable had a single line.",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-06-27T21:21:35Z",
      "diff_hunk" : "@@ -20,7 +20,8 @@ class TransactionStatus\n public:\n     TransactionStatus():\n         countsForBalance(false), sortKey(\"\"),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14315918",
      "id" : 14315918,
      "original_commit_id" : "9fa53dd3bdc6f62b16a7c2b970449c8c35f4c41b",
      "original_position" : 3,
      "path" : "src/qt/transactionrecord.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14315918",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14315943"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14315943"
         }
      },
      "body" : "Nit: Indentation",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-06-27T21:22:19Z",
      "diff_hunk" : "@@ -138,6 +138,14 @@ void WalletModel::checkBalanceChanged()\n \n void WalletModel::updateTransaction(const QString &hash, int status)\n {\n+\tif (status == CT_GOT_CONFLICT)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14315943",
      "id" : 14315943,
      "original_commit_id" : "9fa53dd3bdc6f62b16a7c2b970449c8c35f4c41b",
      "original_position" : 4,
      "path" : "src/qt/walletmodel.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14315943",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14315956"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14315956"
         }
      },
      "body" : "Nit: Indentation",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-06-27T21:22:37Z",
      "diff_hunk" : "@@ -535,7 +537,13 @@ QVariant TransactionTableModel::data(const QModelIndex &index, int role) const\n         return formatTooltip(rec);\n     case Qt::TextAlignmentRole:\n         return column_alignments[index.column()];\n+    case Qt::BackgroundColorRole:\n+    \tif (rec->status.hasConflicting)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14315956",
      "id" : 14315956,
      "original_commit_id" : "9fa53dd3bdc6f62b16a7c2b970449c8c35f4c41b",
      "original_position" : 49,
      "path" : "src/qt/transactiontablemodel.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14315956",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14316006"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14316006"
         }
      },
      "body" : "Nit: Indentation",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-06-27T21:23:49Z",
      "diff_hunk" : "@@ -610,7 +634,12 @@ bool CWallet::AddToWalletIfInvolvingMe(const CTransaction& tx, const CBlock* pbl\n         AssertLockHeld(cs_wallet);\n         bool fExisted = mapWallet.count(tx.GetHash());\n         if (fExisted && !fUpdate) return false;\n-        if (fExisted || IsMine(tx) || IsFromMe(tx))\n+\n+        bool fIsConflicting = IsConflicting(tx);\n+        if (fIsConflicting)\n+        \tnConflictsReceived++;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14316006",
      "id" : 14316006,
      "original_commit_id" : "9fa53dd3bdc6f62b16a7c2b970449c8c35f4c41b",
      "original_position" : 64,
      "path" : "src/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14316006",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14316060"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14316060"
         }
      },
      "body" : "CT_CONFLICTED? We use that term for this already anyway.",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-06-27T21:25:20Z",
      "diff_hunk" : "@@ -21,7 +21,8 @@ enum ChangeType\n {\n     CT_NEW,\n     CT_UPDATED,\n-    CT_DELETED\n+    CT_DELETED,\n+    CT_GOT_CONFLICT",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14316060",
      "id" : 14316060,
      "original_commit_id" : "9fa53dd3bdc6f62b16a7c2b970449c8c35f4c41b",
      "original_position" : 6,
      "path" : "src/ui_interface.h",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14316060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14319553"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14319553"
         }
      },
      "body" : "NAK as long as it relays trivial mutations of transactions. That makes it\ntrivial to flood the bandwidth of the double-spend relay traffic.\n\nIf that has been fixed by now (I can't check), my NAK is gone, but I still\nthink it is a bad idea. Let consensus decide, however.",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-06-27T23:15:29Z",
      "diff_hunk" : "@@ -21,7 +21,8 @@ enum ChangeType\n {\n     CT_NEW,\n     CT_UPDATED,\n-    CT_DELETED\n+    CT_DELETED,\n+    CT_GOT_CONFLICT",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14319553",
      "id" : 14319553,
      "original_commit_id" : "9fa53dd3bdc6f62b16a7c2b970449c8c35f4c41b",
      "original_position" : 6,
      "path" : "src/ui_interface.h",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-27T23:48:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14319553",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14320739"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14320739"
         }
      },
      "body" : "@Diapolo Formatting changes applied, thank you.  Despite the name of the updateTransaction \"status\" parameter containing it, CT_GOT_CONFLICT is an event type and not a status.  The transaction being updated is the original spend that just got a conflict.\r\n\r\n@sipa It has been fixed.",
      "commit_id" : "7a19efe04069d9a1e251cdc94b25184f76d9d901",
      "created_at" : "2014-06-28T00:08:11Z",
      "diff_hunk" : "@@ -21,7 +21,8 @@ enum ChangeType\n {\n     CT_NEW,\n     CT_UPDATED,\n-    CT_DELETED\n+    CT_DELETED,\n+    CT_GOT_CONFLICT",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#discussion_r14320739",
      "id" : 14320739,
      "original_commit_id" : "9fa53dd3bdc6f62b16a7c2b970449c8c35f4c41b",
      "original_position" : 6,
      "path" : "src/ui_interface.h",
      "position" : 6,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/3883",
      "updated_at" : "2014-06-28T00:08:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14320739",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p3883_7a19efe04069d9a1e251cdc94b25184f76d9d901/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-06-28T00:08:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47412084",
      "id" : 47412084,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-28T00:08:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47412084",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "It turns out no changes are needed to alert when a double-spend affecting the local wallet is first seen in a block.  It already works, because the wallet looks at every tx in a newly connected block.",
      "created_at" : "2014-06-29T19:12:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47468940",
      "id" : 47468940,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-29T19:12:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47468940",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@jgarzik No, for the general anti-DoS machinery, respends are treated like duplicates.  In recent versions, AcceptToMemoryPool returns false after detecting a respend, and does not flag an error in the validation state.\r\n\r\nOne effect is that it won't contribute to a peer ban.  Another is that the peer does not get feedback about the rejection.  I suggested adding a rejection code in response to #4057. But, to your point, the simple version of that change would have the effect of increasing traffic via the rejection network message.  Whether it contributed to peer banning would depend on the nDoS value chosen.",
      "created_at" : "2014-06-30T20:29:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47582556",
      "id" : 47582556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-06-30T23:00:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47582556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "I think there is a potential attack here (as noted by Sergio in another github thread):\r\n\r\nAttacker send you a valid transaction.\r\nThen attacker sends you a double-spend with an invalid signature.\r\n\r\nYou will relay that invalid signature transaction to your peers, and if any didn't happen to see the first transaction (maybe because they just connected to you) they will DoS-ban you.\r\n\r\nThere should be a regression test for this scenario (using the raw transactions API-- munging a signature to make it invalid should be pretty easy).\r\n",
      "created_at" : "2014-07-01T15:12:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47668597",
      "id" : 47668597,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-01T15:12:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47668597",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Not to mention the second transaction with invalid sigs can be made by anyone. ",
      "created_at" : "2014-07-01T18:22:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47691934",
      "id" : 47691934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-01T18:22:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47691934",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "It took me long to read all the comments, but I found no clear requirement that the double-spend relay system requires a bloom filter nor a rate-limit. If each double-spend is relayed only once, we have only doubled the attackers DoS capabilities, which imho is completely tolerable. \r\n\r\nRegarding allowing transaction replacements: a tx should be allowed to be replaced as long as it has one more input than the replaced (all the rest match), and the new input amount is higher than the required fees. Simple and effective. Allows to overwrite txs hanging forever. No child-pay-parent mess.\r\n\r\nImplementing both of them require 5 lines of code, at most.",
      "created_at" : "2014-07-01T22:02:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47715028",
      "id" : 47715028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-01T22:29:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47715028",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "The double spend can be hundreds of times larger than the original tx, e.g. a 160 byte minimal tx double spent by a 100k or even 1000k tx. Hence the rate limiter, or my suggestion of relaying just scriptSig's.\r\n\r\nAgreed on the relay with higher fee - I proposed that ages ago. Also no reason not to allow additional outputs to be added, or existing output amounts increased. (note how this is very useful for micropayment channels) I'm pretty sure I remember writing that code too, though like you say, its five lines. ",
      "created_at" : "2014-07-01T23:53:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47722798",
      "id" : 47722798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-01T23:53:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47722798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Ok. So the idea was to give double-spend alerts other relay algorithm because the second double-spend may be larger than the first. That's a pretty good reason because nodes do not know if miners will include the large or the small one. There is no easy way out this problem.\r\n\r\nAs Peter proposed, a minimal double-spend alert could be achieved using scriptsigs.\r\nI did the same proposal long ago here\r\nhttps://bitcointalk.org/index.php?topic=106026.msg1162636#msg1162636\r\n\r\nSo I vote to give Peter's proposal a second thought, I don't like the complexity of the bloom/rate-filter.  \r\n",
      "created_at" : "2014-07-02T01:38:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47728608",
      "id" : 47728608,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T01:38:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47728608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "One reason to relay the tx itself is that it may actually be the first spend.  No node is omniscient, but this change gives the network collectively more information to work with.",
      "created_at" : "2014-07-02T05:27:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47738646",
      "id" : 47738646,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T05:27:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47738646",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "I disagree.\n\nThe reason to relay the full transaction is because it is the only way to\nprove that there was an actual double spend. We wouldn't want people to be\nable to make the network incorrectly think a double spend occurred.\n\nPropagating double-spending transactions largely removes the distinction\nbetween first and second. As a node on the network you have an incentive to\nget the globally consistent state as close as possible to your own view of\nit. That means relaying what you expect or want to be valid, and nothing\nelse.\n\nYou are right that what you consider second, may have been the first. But\nwhat you saw first does have a higher chance of being actually first, and\nby propagating both, you're only decreasing the chance that the actual\nfirst one wins.",
      "created_at" : "2014-07-02T06:21:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47741099",
      "id" : 47741099,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T06:21:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47741099",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa I suspect you are right regarding proof, but I havent really studied the scriptsig idea.\r\n\r\nIt should not be possible to isolate a node from tx1, simply by sending it tx2 directly.  When tx1 reaches the \"light cone\" of tx2, it should penetrate it and cause local alerts inside, although in that realm it is the \"double spend\".  ",
      "created_at" : "2014-07-02T07:29:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47745136",
      "id" : 47745136,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T07:29:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47745136",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Could we gate this behind a version bump? It seems likely that some clients will not expect this behaviour change and will want to opt into it when they're ready. Consider an app connected to a local \"trusted node\" which knows what to do when a block containing a double spend appears, but isn't programmed to handle mempool double spends.\r\n\r\nAdditionally, other wallets will have to make the same changes as the Core wallet with respect to showing double spends in the UI and so on.",
      "created_at" : "2014-07-02T08:04:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47747619",
      "id" : 47747619,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T08:04:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47747619",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Or an explicit negotiation \"I want to receive double spend notifications\"?",
      "created_at" : "2014-07-02T08:09:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47747928",
      "id" : 47747928,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T08:09:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47747928",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@SergioDemianLerner Note how a scriptSig-based method really needs payment protocol support as even spending a txout with the same scriptPubKey twice can be turned into a false double-spend. With payment protocol support it works fine though and works well with scorched-earth. (though I need to fix a minor DoS attack w/ ANYONECANPAY transactions re: attackers adding useless inputs to them) \r\n\r\n@sipa That's only true if you are trying to make zeroconf secure; if you are trying to give everyone consistent information about the double spends that exist it's better if you propagate both. The latter is what scorched-earth needs from the network. ",
      "created_at" : "2014-07-02T08:22:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47748953",
      "id" : 47748953,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T08:22:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47748953",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@sipa How does that work? If you see A and then B, and you *always* relay A and then B, then in the absence of other information your peers will agree with you on the ordering. If they saw B and then A first, it doesn't matter what order you relay in. I don't see how it affects the likelihood of changing the perceived order for any transaction. Could you try explaining that again?\r\n\r\nAnother way to implement this is to make the double spend relay not a \"tx\" message but a \"dtx\" message. Core can treat them identically, other nodes will ignore them, and it's I think easier to see that the behaviour of the network should not change.",
      "created_at" : "2014-07-02T08:37:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47750231",
      "id" : 47750231,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T08:37:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47750231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn Not everyone will accept A to their mempool. ",
      "created_at" : "2014-07-02T08:41:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47750647",
      "id" : 47750647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T08:41:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47750647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "What @petertodd said, plus new nodes starting up may just see the double spend, and not the original.",
      "created_at" : "2014-07-02T08:43:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47750742",
      "id" : 47750742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T08:43:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47750742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@mikehearn A \"dtx\" message sounds like a good idea to me, it removes all risks of accidentally interpreting the transaction that was intended as a double spend as something else.",
      "created_at" : "2014-07-02T08:44:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47750863",
      "id" : 47750863,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T08:44:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47750863",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Of course as the \"dtx\" channel is trivially swamped we're back to the situation where the feature is useless, even for other uses like increasing fees. If we're going to go to the trouble of a separate message might as well just do scriptSig relaying and do it right. \n\nRemember that anyone can write a \"dtx->tx\" message converter and deploy a few nodes doing it. I personally would as that's a more useful behaviour for the network to have. \n\n\nOn 2 July 2014 10:45:06 CEST, Pieter Wuille <notifications@github.com> wrote:\n>@mikehearn A \"dtx\" message sounds like a good idea to me, it removes\n>all risks of accidentally interpreting the transaction that was\n>intended as a double spend as something else.\n>\n>---\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47750863",
      "created_at" : "2014-07-02T08:54:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47751721",
      "id" : 47751721,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T08:54:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47751721",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd My presumption was that \"dtx\" _must_ include an automatic dtx->tx converter, in the bitcoind implementation.  Otherwise you get the properties you describe.  If you have not seen a \"dtx\", then convert it to a tx and process accordingly.\r\n\r\nThus, no ordering problems, and older nodes magically ignore 2nd's.\r\n",
      "created_at" : "2014-07-02T08:57:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47752017",
      "id" : 47752017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T08:57:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47752017",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "No, a \"dtx\" is never treated as a regular transaction, as outlined above.\r\n\r\nIf you send a double spend onwards knowing it's a double spend but not marking it as such, and the remote node already saw the first spend, then it will be ignored same as today.",
      "created_at" : "2014-07-02T09:03:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47752518",
      "id" : 47752518,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T09:03:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47752518",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "The haven't-seen-first-spend-yet case should be handled.  Was not referring to opposite.\r\n\r\nYou cannot assume anything about a double spend, including intent behind it.  It may be a user attempting a valid recovery, or executing a branch of a smart contract.\r\n",
      "created_at" : "2014-07-02T09:08:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47752951",
      "id" : 47752951,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T09:08:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47752951",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Ah, well I think not knowing about transactions is supposed to be fixed by syncing the mempool at startup, right? But before that we need a limited/ordered mempool. So fixing this case involves the resource management/anti-DoS work.\r\n\r\nWith respect to the intent, I think under Bitcoin's current design there are no situations where a double spend of a broadcast transaction is valid. It's always a mistake or fraud. The contracts cases I know of involve double spending transactions that were never broadcast (i.e. because they are not valid).",
      "created_at" : "2014-07-02T09:11:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47753219",
      "id" : 47753219,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T09:11:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47753219",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Again with the over-assuming.  You cannot assume intent behind a double spend.\r\n\r\nEasy counter examples:\r\n* User's transaction got relayed, but is stuck in limbo (not confirming) due to insufficient fees or some other factor.  Fix is usually to double spend with higher fees.\r\n* Payment channel (smart contract).  User's refund TX races with payment channel rapidly-revised TX in at least one edge case.  Refund transactions intentionally spend the same inputs as the rapidly-revised TX, to guarantee only one is valid.\r\n* https://github.com/jgarzik/auctionpunk/ is another example of the common pattern of relying on X transactions to spend the same input(s), to guarantee that only one-of-N is valid.\r\n\r\nThere are valid cases for double spending, and you simply do not have information sufficient to judge a \"good\" versus \"evil\" double spend.\r\n\r\nLet's dispense with the \"no situations under Bitcoin's current design\" hokem right now.  One-of-N determination is a key use of the Bitcoin protocol -- including protocols you've helped design.\r\n\r\n",
      "created_at" : "2014-07-02T09:27:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47754861",
      "id" : 47754861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T09:27:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47754861",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@mikehearn There isn't a \"design\" of Bitcoin - a decentralised network - only what's possible given the implementations on the network. Right now the \"design\" includes even replace-by-fee by virtue of the fact that some % of hashing power and nodes on the p2p network support it. \n\nIn any case people already do double-spends to get stuck transactions unstuck by bumping fees. Note that you'll never get mempool uniformity because nodes have different resources available. \n\n@jgarzik Reasonable. Seems to me that \"dtx\" can be the same code-path as \"tx\"\n\n\nOn 2 July 2014 11:11:39 CEST, Mike Hearn <notifications@github.com> wrote:\n>Ah, well I think not knowing about transactions is supposed to be fixed\n>by syncing the mempool at startup, right? But before that we need a\n>limited/ordered mempool. So fixing this case involves the resource\n>management/anti-DoS work.\n>\n>With respect to the intent, I think under Bitcoin's current design\n>there are no situations where a double spend of a broadcast transaction\n>is valid. It's always a mistake or fraud. The contracts cases I know of\n>involve double spending transactions that were never broadcast (i.e.\n>because they are not valid).\n>\n>---\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47753219",
      "created_at" : "2014-07-02T09:28:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47754964",
      "id" : 47754964,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T09:28:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47754964",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@jgarzik Replace by fee isn't supposed to work, the fact that it does is a regrettable bug that we must work on, indeed this patch is part of doing that. And if a merchant sold something and then the tx was replaced-by-fee then that would certainly count as a form of payment fraud, no different to passing a bouncing cheque or forged paper currency. The fact that cheques can bounce and paper currency can be forged doesn't mean it's an intentional part of their design.\r\n\r\nIn payment channels the refund isn't supposed to be used unless one side has hung up/gone away. If the refund is used simultaneous with the last best signed tx, then one side or the other is attempting an attack *or* has come back online simultaneous with the channel closing and there's been a byzantine communication failure of some kind (mistake). \r\n\r\nI don't know about the auctionpunk case, I haven't seen how that works. I'll take your word for it that this is a case where you want semi-random (?) resolution of which transaction is the winner.\r\n\r\n@petertodd What do you think the white paper is if not an explanation of the design? The fact that our implementation doesn't always meet the design goals doesn't mean there's no design.\r\n\r\nW.R.T mempool resource uniformity, that's certainly something we'll want to tackle in future, if we end up with mempools routinely overflowing. But if we go overcapacity like that I'd expect the transactions that are constantly losing to eventually go away. There's no point in using Bitcoin in such a way that you know you'll constantly fail to obtain the supply of the service you need. The mismatch should end up being manageable.",
      "created_at" : "2014-07-02T09:49:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47756912",
      "id" : 47756912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T09:49:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47756912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn I was not referring to replace-by-fee.  And in general, you seem to be trying to avoid any case that fails to fit neatly inside a pre-conceived box ascribing maliciousness to all double-spends.  The primary mistake is attempting to divine any intent of a double spend, or cast a strict judgement upon the entire class.  The world is not that simple.\r\n",
      "created_at" : "2014-07-02T10:26:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47759970",
      "id" : 47759970,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T10:26:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47759970",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "The standard in-the-field advice for a transaction stuck in limbo, not confirming, is to respend [many of] the same inputs with a higher fee.  It is effective field advice because the \"stuck\" transaction usually hasn't propagated well and made it to miners, and it provides 100% guarantee that the other version of the transaction will never confirm.\r\n\r\nThis is not some deployed and argued-about \"replace by fee\" policy but a standard workaround for the \"stuck in limbo\" problem that is as old as bitcoin itself.\r\n\r\nRE mempool uniformity and synchronization, this is a topic of open debate.\r\n\r\nRE mempool overflowing, there are already designs (#3723) and PRs (#3753) that address such issues without any need to resort to any sort of explicit mempool uniformity scheme.\r\n",
      "created_at" : "2014-07-02T10:42:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47761290",
      "id" : 47761290,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T10:42:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47761290",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik Agreed. Anyway I'll see if I can get some time to write up a better patch after I get home if no-one else is going to write one. \n\n@mikehearn Replace-by-fee scorched-earth can be viewed as a proposed way of meeting that white paper's design goals; coinbase reallocation/blacklisting is another way. Greenaddress's double-spend guarantees is yet another way. \n\nWhich idea(s) are best remains to be seen, but if I can make replace-by-fee effective with a few reddit/bitcointalk posts and a few hundred dollars budget that suggests that designs that assume it doesn't exist are insecure. Meanwhile the community, research and otherwise, has rejected a whole host of miner level approaches to double-spending quite thoroughly.\n\n\nOn 2 July 2014 11:50:26 CEST, Mike Hearn <notifications@github.com> wrote:\n>@jgarzik Replace by fee isn't supposed to work, the fact that it does\n>is a regrettable bug that we must work on, indeed this patch is part of\n>doing that. And if a merchant sold something and then the tx was\n>replaced-by-fee then that would certainly count as a form of payment\n>fraud, no different to passing a bouncing cheque or forged paper\n>currency. The fact that cheques can bounce and paper currency can be\n>forged doesn't mean it's an intentional part of their design.\n>\n>In payment channels the refund isn't supposed to be used unless one\n>side has hung up/gone away. If the refund is used simultaneous with the\n>last best signed tx, then one side or the other is attempting an attack\n>*or* has come back online simultaneous with the channel closing and\n>there's been a byzantine communication failure of some kind (mistake). \n>\n>I don't know about the auctionpunk case, I haven't seen how that works.\n>I'll take your word for it that this is a case where you want\n>semi-random (?) resolution of which transaction is the winner.\n>\n>@petertodd What do you think the white paper is if not an explanation\n>of the design? The fact that our implementation doesn't always meet the\n>design goals doesn't mean there's no design.\n>\n>W.R.T mempool resource uniformity, that's certainly something we'll\n>want to tackle in future, if we end up with mempools routinely\n>overflowing. But if we go overcapacity like that I'd expect the\n>transactions that are constantly losing to eventually go away. There's\n>no point in using Bitcoin in such a way that you know you'll constantly\n>fail to obtain the supply of the service you need. The mismatch should\n>end up being manageable.\n>\n>---\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47756912",
      "created_at" : "2014-07-02T11:26:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47764629",
      "id" : 47764629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T11:26:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47764629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Wow, this is veering off-topic quickly...\r\n\r\nRE: @mikehearn : suggesting version bump:\r\n\r\nAll implementations MUST handle double-spends already. If we have two transactions tx1 and tx2 that spend the same outpoints, you must, today, be able to handle receiving 'inv' and 'tx' data for both of them.\r\n\r\nThe only change this makes is that you might now get the inv/tx messages from the same peer instead of different peers. Are there implementations that care about which peer sends them which transaction data?\r\n\r\nRE: 'dtx' message:  Same argument as above. The reference implementation doesn't care where transaction data comes from, and it MUST be able to handle double-spends.\r\n\r\nRE: writing up a better patch:  okey dokey.  Better is better.\r\n",
      "created_at" : "2014-07-02T13:45:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47777393",
      "id" : 47777393,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T13:45:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47777393",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Agreed. Do we really need to worry about nodes, or cooperating groups of nodes, who have decided to rely totally on the external network never to send them an unconfirmed double-spend?  That kind of faulty assumption must have been punished by nature long ago.\r\n\r\n\"dtx\" would be a value judgment by one node intended for others, and it could be faked.",
      "created_at" : "2014-07-02T13:49:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47777817",
      "id" : 47777817,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T13:49:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47777817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 The concern is custom setups, e.g. exchanges with software that assumes Bitcoin never sends a doublespend tx without a block in between. The situation would not be \"punished by nature\" as the node in question is internal and trusted.",
      "created_at" : "2014-07-02T14:05:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47779857",
      "id" : 47779857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T14:05:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47779857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd : if such an exchange (using bitcoind as a front-end, relying on it never relaying a double-spend) jumps in here and says \"no, we don't want to know about possible double-spends until we see the second spend in a block\" and they had some good reason (which I can't imagine right now-- why wouldn't you want to know about the double-spend earlier rather than later?) then maybe I'd change my mind.\r\n\r\n",
      "created_at" : "2014-07-02T15:20:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47790220",
      "id" : 47790220,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T15:20:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47790220",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen I suspect such an exchange isn't following development as closely as they should... Anyway, good to remember to put in the release notes when this gets settled. ",
      "created_at" : "2014-07-02T17:28:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-47808740",
      "id" : 47808740,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-02T17:28:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47808740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "I agree with the \"dtx\" message rather than \"tx\" - this allows bitcoin implementations to choose whether they subscribe to double-spend messages or not. Implementations may also choose to ban nodes that send too many of these, mind you.",
      "created_at" : "2014-07-21T00:37:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/3883#issuecomment-49564755",
      "id" : 49564755,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3883",
      "updated_at" : "2014-07-21T00:37:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49564755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   }
]
