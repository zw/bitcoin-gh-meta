[
   {
      "body" : "For debugging other gitian mismatches, here are my dependency checksums:\r\n\r\nLinux:\r\n```\r\n- in_manifest: |-\r\n    a9d7258eb26c4cd8897ca9906fb654905fa63101ed972218bd14af11d7f2624e  bitcoin-desc.yml\r\n    a6003db7a32717058016905ef4323a54326fc59ff9f461c81fb1ee18cb2bae50  bitcoin-deps-linux32-gitian-r2.zip\r\n    5444f1fe020435766c2dc62f9a703b820599243eb320192af751e365c9d54cf3  bitcoin-deps-linux64-gitian-r2.zip\r\n    51fc0d85ccfe0e9268919e67644cbd44823b25b9636fc0e1e125f94b1587f2a0  boost-linux32-1.55.0-gitian-r1.zip\r\n    d950310c806b3daea4e274a9fc75929f2cd05fe458c3f935b8e682d1c390a11e  boost-linux64-1.55.0-gitian-r1.zip\r\n    git:15ec451554b5889a92651b9fe71bf01047ba9fc3 bitcoin\r\n```\r\n\r\nWindows:\r\n```\r\n- in_manifest: |-\r\n    a3552e2fc61228c8d068d54101665a200abfc77633eb5f1c3429f227572dc77e  bitcoin-desc.yml\r\n    690fc422b7a925e16565cad40139384f0dba15030331a30e9269d659a1135ea6  qt-win32-5.2.0-gitian-r1.zip\r\n    be308ce02e547f9da468057184828c5ed065d9ad114f6f2ee5b46293e5f73752  qt-win64-5.2.0-gitian-r1.zip\r\n    c569a722aedbbfd28dce8ee8dd0a0abd6469a87c1d593ef1bc27b14adf03818f  boost-win32-1.55.0-gitian-r6.zip\r\n    dfb8fd6475b0692596f3c1c56aa1fac68b7fff458506b34c2326ac8d1b9786dd  boost-win64-1.55.0-gitian-r6.zip\r\n    7d3d22c433ee7b97ad6cab40aa148e602aa4e847e8d07ff2ae6b9573bbbe50d4  bitcoin-deps-win32-gitian-r10.zip\r\n    ede88f7152dfb0a28fe71577b0f1f0b254c6a820f5e54ddae9c71a5079e012e0  bitcoin-deps-win64-gitian-r10.zip\r\n    546b45ec363ad48007de79df2bfd08a60c97414d14fd2796ed82f7a445056885  protobuf-win32-2.5.0-gitian-r4.zip\r\n    18d210fdf44a156bbdaabd6aaec98ce0dadc61d206132881df83fcb16a685362  protobuf-win64-2.5.0-gitian-r4.zip\r\n    git:15ec451554b5889a92651b9fe71bf01047ba9fc3 bitcoin\r\n```",
      "created_at" : "2014-02-01T19:01:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3612#issuecomment-33880276",
      "id" : 33880276,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3612",
      "updated_at" : "2014-02-01T19:01:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33880276",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "I'm also seeing the bitcoin-qt.exes (and the setups, of course) not matching between builds, but I also noticed that Gavin and I don't have matching outputs. I don't know if the fact that my builds and Gavin's don't match is related, though... I am using LXC to build, while Gavin uses (I believe) VirtualBox, but I have successfully built matching binaries for 0.8.6 in LXC on that machine, so I don't know what changed.\r\n\r\nHere are my outputs:\r\n\r\nLinux:\r\n```\r\n- out_manifest: |\r\n    20b208827262ad4a4afb2419e60bf27c16e96406e3df518f77d56771e22ab13f  bin/32/bitcoin-cli\r\n    2368f359274c4ad6c3078c1f7fd7a306faab841c7103dc5adb7a2beb160c7e92  bin/32/bitcoin-qt\r\n    df3f7f54b412c4ace7345475783bed2ac3ee03f7aa0ecc92f54ac6f7df93c2f7  bin/32/bitcoind\r\n    557671b4ae41fb4561d83360e9da917a5b29a1c315fcf470d16230e4a5e64548  bin/32/test_bitcoin\r\n    21db605ee7ee03d8e8de24e9ac492db8ea66b94c310b22fb975948b0cf51320d  bin/32/test_bitcoin-qt\r\n    20a93099050df6176afa3a5745b15e54be88831bd7deb91398038d6b57013917  bin/64/bitcoin-cli\r\n    c60f6f4620d959a7cfefe22ab2484f09b91ea5de18397901bd5851c63b87b7b5  bin/64/bitcoin-qt\r\n    0af8095ac2a6fe3d69cdd49c7f1b40574e8cae60e7a737663697f04fd2e09d7f  bin/64/bitcoind\r\n    b62e830e6560fba96075964d406f9948b53fafd6c9009cd98caa1b87c4e87171  bin/64/test_bitcoin\r\n    d28e56cdc74630dffb649d8a9cd2149b089cb5c1287d171fecfaccd774c59d96  bin/64/test_bitcoin-qt\r\n    afca51f5299d27787a5c8edf350767718c13fa532037b37a65008d97d0be5c3c  src/bitcoin-0.9.0.tar.gz\r\n```\r\n\r\nWindows:\r\n```\r\n- out_manifest: |\r\n    ba7449ad3132df7ca7100a77c25a5129675010fc66e84f3d381c1076ff7d9c5a  32/bitcoin-0.9.0-win32-setup.exe\r\n    798b82c18b29fb25dc77ec30121942619533c43d43cacaa857b7a336dfcf781f  32/bitcoin-cli.exe\r\n    c2c21fcb9eacb49f0a6a2d0318199251531d989bd3e8425bc72ca28ed618633b  32/bitcoin-qt.exe\r\n    4c5f7737530016e971ab8e51df424c931ceebdb2d76f37df59c742d4c4f88871  32/bitcoind.exe\r\n    7bb0db3663c3ab3bea71ffad17fb4ad495f645bbe21a6d9e0e8af349d7aa8555  32/test_bitcoin-qt.exe\r\n    6cc535dd7b85db172b1de99f3d9966927d38b7cbb96e912f2dc5b13c13de859a  32/test_bitcoin.exe\r\n    5cf7928ad018c47d247ec9e8df1b1aecd5397e2ba6c8e0c7ca4e1f4dcfdb35b9  64/bitcoin-0.9.0-win64-setup.exe\r\n    c3bd6dffc332587e6ecb065828711a40d61de6630e5c23e2ca185858e3d6e0dc  64/bitcoin-cli.exe\r\n    9a332158ede24e4aa5c536c935e208bfdde20f972e56625de8aae66f4c1f77bd  64/bitcoin-qt.exe\r\n    9d985b1f14802a75be92b6b7ec4d4ed37ad980c291e3368816597b145d8cbb36  64/bitcoind.exe\r\n    a387c4c5dcea77b0b1344c92cb234ce772b0388658037e08e86f3ba5ed40c214  64/test_bitcoin-qt.exe\r\n    ef8c53cf2d53162406580f2052374a93a13d678c254571e19d1804f526751df6  64/test_bitcoin.exe\r\n    a294f1c1ac3988795c46b7b54d0f5f905265b7ad9937067198fd29de4abd62c9  src/bitcoin-0.9.0.tar.gz\r\n```",
      "created_at" : "2014-02-01T23:59:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3612#issuecomment-33887420",
      "id" : 33887420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3612",
      "updated_at" : "2014-02-02T00:03:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33887420",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2559390?v=3",
         "events_url" : "https://api.github.com/users/Michagogo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Michagogo/followers",
         "following_url" : "https://api.github.com/users/Michagogo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Michagogo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Michagogo",
         "id" : 2559390,
         "login" : "Michagogo",
         "organizations_url" : "https://api.github.com/users/Michagogo/orgs",
         "received_events_url" : "https://api.github.com/users/Michagogo/received_events",
         "repos_url" : "https://api.github.com/users/Michagogo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Michagogo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Michagogo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Michagogo"
      }
   },
   {
      "body" : "Looking into the determinism problems for Windows first.\r\nI see the same result as @gavinandresen for win32/win64 bitcoin-cli.exe bitcoind.exe and test_bitcoin.exe and even test_bitcoin-qt.exe.\r\nHowever the bitcoin-qt.exe and the setup.exe are different, and also different every run.\r\n",
      "created_at" : "2014-02-03T08:39:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3612#issuecomment-33932470",
      "id" : 33932470,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3612",
      "updated_at" : "2014-02-03T08:45:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33932470",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj What's your build system? LXC? KVM? VBox?\r\n\r\nOn Monday, February 3, 2014, Wladimir J. van der Laan <\r\nnotifications@github.com> wrote:\r\n\r\n> Looking into the determinism problems for Windows first.\r\n> I see the same result as @gavinandresen <https://github.com/gavinandresen>for win32/win64 bitcoin-cli.exe bitcoind.exe and test_bitcoin.exe.\r\n> However the bitcoin-qt.exe and test_bitcoin-qt.exe are different, and also\r\n> different every run.\r\n>\r\n> Ã¢ÂÂ\r\n> Reply to this email directly or view it on GitHub<https://github.com/bitcoin/bitcoin/issues/3612#issuecomment-33932470>\r\n> .\r\n>",
      "created_at" : "2014-02-03T08:41:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3612#issuecomment-33932611",
      "id" : 33932611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3612",
      "updated_at" : "2014-02-03T08:41:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33932611",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2559390?v=3",
         "events_url" : "https://api.github.com/users/Michagogo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Michagogo/followers",
         "following_url" : "https://api.github.com/users/Michagogo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Michagogo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Michagogo",
         "id" : 2559390,
         "login" : "Michagogo",
         "organizations_url" : "https://api.github.com/users/Michagogo/orgs",
         "received_events_url" : "https://api.github.com/users/Michagogo/received_events",
         "repos_url" : "https://api.github.com/users/Michagogo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Michagogo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Michagogo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Michagogo"
      }
   },
   {
      "body" : "KVM\r\n",
      "created_at" : "2014-02-03T08:44:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3612#issuecomment-33932733",
      "id" : 33932733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3612",
      "updated_at" : "2014-02-03T08:44:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33932733",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Interesting. When I get a chance, I'll try building in LXC on another\r\nsystem and see if LXC is non-deterministic or if it's just deterministic\r\ndifferently. (If that made sense... I'm a little tired.)\r\n\r\nOn Monday, February 3, 2014, Wladimir J. van der Laan <\r\nnotifications@github.com> wrote:\r\n\r\n> KVM\r\n>\r\n> Ã¢ÂÂ\r\n> Reply to this email directly or view it on GitHub<https://github.com/bitcoin/bitcoin/issues/3612#issuecomment-33932733>\r\n> .\r\n>",
      "created_at" : "2014-02-03T08:48:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3612#issuecomment-33932972",
      "id" : 33932972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3612",
      "updated_at" : "2014-02-03T08:48:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33932972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2559390?v=3",
         "events_url" : "https://api.github.com/users/Michagogo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Michagogo/followers",
         "following_url" : "https://api.github.com/users/Michagogo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Michagogo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Michagogo",
         "id" : 2559390,
         "login" : "Michagogo",
         "organizations_url" : "https://api.github.com/users/Michagogo/orgs",
         "received_events_url" : "https://api.github.com/users/Michagogo/received_events",
         "repos_url" : "https://api.github.com/users/Michagogo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Michagogo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Michagogo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Michagogo"
      }
   },
   {
      "body" : "Comparing two bitcoin-qt.exes the first difference is at offset 0xD8. This is likely some timestamp part of the PE header:\r\n\r\n    +0000 00D0: 00 E0 7F 01 00 04 00 00  0E 22 7F 01 02 00 40 01  ........ .\"....@.                                                                                 \r\n    -0000 00D0: 00 E0 7F 01 00 04 00 00  99 43 7F 01 02 00 40 01  ........ .C....@.                                                                                 \r\n\r\nThere is also a large non-matching tract 01270E70....014A1000. This contains image data and text and appear to be the compiled Qt resources. Possibly an ordering issue.\r\n\r\nEdit: the field at 0xD8 (PE_header+0x58) is a 16-bit checksum. It makes sense for this to not match. So the problem is fully in the compiled Qt resources.\r\n\r\nEdit.2: Yep, the `qrc_bitcoin.cpp` as generated by Qt's `rcc` is different every time. It appears to pick a random ordering of files easily reproduced with `~/staging32/host/bin/rcc --list bitcoin.qrc`. \r\n\r\nEdit.3: The Qt4 resource compiler does not do this randomization, as we still use Qt4 on Linux this explains why this only happens on Windows. Looking into a way around this Qt5 'feature'.\r\n\r\nEdit.4: Oh joy, all of this is due to a QHash security fix. Every run of an executable, the ordering is different. https://qt.gitorious.org/qt/qtbase/commit/c01eaa438200edc9a3bbcd8ae1e8ded058bea268 . They shouldn't be using a QHash here but some ordered dictionary...\r\n\r\nEdit.5: I think I found a way to override the behavior without patching Qt rcc source (for now) by setting `QT_RCC_TEST=1`.\r\n\r\nEdit 6: That worked. I'll submit a pull for this and #3610 later.\r\n",
      "created_at" : "2014-02-03T09:04:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3612#issuecomment-33933839",
      "id" : 33933839,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3612",
      "updated_at" : "2014-02-03T11:52:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/33933839",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Should be solved by #3625",
      "created_at" : "2014-02-22T08:57:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/3612#issuecomment-35798194",
      "id" : 35798194,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/3612",
      "updated_at" : "2014-02-22T08:57:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/35798194",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
