[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "FYI @hebasto, this adds error checking for the flags from #16097",
      "created_at" : "2019-08-04T14:14:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-518007182",
      "id" : 518007182,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxODAwNzE4Mg==",
      "updated_at" : "2019-08-04T14:14:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518007182",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390632"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310390632"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nice to see `ALLOW_NEGATED` flag [again](https://github.com/bitcoin/bitcoin/pull/16097#issuecomment-514627823) ;)",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-04T14:52:04Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390632",
      "id" : 310390632,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMDM5MDYzMg==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 15,
      "path" : "src/util/system.h",
      "position" : 15,
      "pull_request_review_id" : 270501537,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-07T10:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310390632",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390769"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310390769"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could we drop `ALLOW_NEGATED` for `TYPE_INT` now or in the future?",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-04T14:54:39Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,\n+        TYPE_OPTIONAL_STRING = ALLOW_NONEMPTY | ALLOW_NEGATED | ALLOW_EMPTY,\n+        TYPE_INT = ALLOW_INT | ALLOW_NEGATED,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390769",
      "id" : 310390769,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMDM5MDc2OQ==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 24,
      "path" : "src/util/system.h",
      "position" : 24,
      "pull_request_review_id" : 270501668,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-07T10:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/310390769",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15934](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15934.html) (Separate settings merging from parsing by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-08-04T14:59:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-518010518",
      "id" : 518010518,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxODAxMDUxOA==",
      "updated_at" : "2019-08-05T21:08:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518010518",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "It seems that not providing a new `InterpretNegated()` function has some benefits:\r\n- no need for `key_name` local variables\r\n- diff gets much smaller",
      "created_at" : "2019-08-04T15:21:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-518012293",
      "id" : 518012293,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxODAxMjI5Mw==",
      "updated_at" : "2019-08-04T15:21:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518012293",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311316763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311316763"
         }
      },
      "author_association" : "MEMBER",
      "body" : "00973301f6a1efb6aa2232544a49b080ac0c6c50\r\n\r\nLooks like this should be an assertion?\r\n```c++\r\n        if (flags) assert(flags & require_any);\r\n```",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-06T23:32:49Z",
      "diff_hunk" : "@@ -260,8 +260,60 @@ class ArgsManagerHelper {\n         }\n         return InterpretBool(found_result.second); // is set, so evaluate\n     }\n+\n+    static inline void CheckFlags(const ArgsManager& am, const std::string& key, unsigned int require_any)\n+    {\n+        unsigned int flags = am.FlagsOfKnownArg(key);\n+        if (flags != ArgsManager::NONE && ((flags & require_any) == 0)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311316763",
      "id" : 311316763,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTMxNjc2Mw==",
      "original_commit_id" : "00973301f6a1efb6aa2232544a49b080ac0c6c50",
      "original_position" : 8,
      "path" : "src/util/system.cpp",
      "position" : 15,
      "pull_request_review_id" : 271666106,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-07T10:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311316763",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311321892"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311321892"
         }
      },
      "author_association" : "MEMBER",
      "body" : "1efb9ee41ab228a73d293603838951af6fb0f59c\r\n\r\nIt would be nice to see a commit elsewhere using these \"types\".",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-06T23:59:13Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311321892",
      "id" : 311321892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTMyMTg5Mg==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 22,
      "path" : "src/util/system.h",
      "position" : 22,
      "pull_request_review_id" : 271666106,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-07T10:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311321892",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440418"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440418"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390632\r\n\r\n> Nice to see ALLOW_NEGATED flag again ;)\r\n\r\nIt is ok to have this, but like the comment above it says, it should only be used in rare cases, where a negated setting needs to be treated differently than a false/0/empty bool/int/string setting. Normal code for normal options should never have to use ALLOW_NEGATED or IsArgNegated.",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-07T08:55:14Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440418",
      "id" : 311440418,
      "in_reply_to_id" : 310390632,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ0MDQxOA==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 15,
      "path" : "src/util/system.h",
      "position" : 15,
      "pull_request_review_id" : 271818284,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-07T10:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440418",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440447"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440447"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r310390769\r\n\r\n> Could we drop ALLOW_NEGATED for TYPE_INT now or in the future?\r\n\r\nThis seems like a bad thing to provide as a shortcut. If an option is an integer, treating `-nonumber` exactly the same as `-number=0` provides a simple interface to users consistent with what we've always provided in the past. Treating these the same is also less error prone for developers than treating them differently. It is possible there may be exceptions where treating `-nonumber` differently from `-number=0` would be a good thing, but I'd honestly be surprised to see one, and ALLOW_ flags and IsArgNegated function are available if this is actually desired.\r\n\r\nIn case the reason you're asking about this is because you want range checking for integer options that shouldn't accept 0, I think it'd be better to implement that in a way that disallows both `-nonumber` and `-number=0` settings, not just one of them. This could be added with a TYPE_POSITIVE_INT shortcut, or letting AddArg take validation callbacks or options structs (`IntType{}.MinValue(1).MaxValue(65535)`) in place of flags.",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-07T08:55:19Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,\n+        TYPE_OPTIONAL_STRING = ALLOW_NONEMPTY | ALLOW_NEGATED | ALLOW_EMPTY,\n+        TYPE_INT = ALLOW_INT | ALLOW_NEGATED,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440447",
      "id" : 311440447,
      "in_reply_to_id" : 310390769,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ0MDQ0Nw==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 24,
      "path" : "src/util/system.h",
      "position" : 24,
      "pull_request_review_id" : 271818284,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-07T10:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440447",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440561"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440561"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311316763\r\n\r\n> Looks like this should be an assertion?\r\n\r\nI know you didn't check the tests yet, but the main reason for this being a logic_error instead of an assert is so the test can require and check this logic so it won't be accidentally broken in the future. The other reason this is a logic_error is to provide clearer feedback to a developer who accidentally sets the wrong flag or calls the wrong GetArg overload, by providing the option names and flags values in error messages.\r\n\r\nI tdo think it makes sense to use assert/abort instead of logic_error in cases where the error is critical (affecting consensus, or data integrity) and it's important to abort unconditionally and not take a risk that a caller may catch the error and handle it inappropriately. But this case is less critical than that.\r\n\r\nAlso this case really can and should be a compile error, not a runtime error. But it will take some more work and scripted-diffs to make that happen.",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-07T08:55:33Z",
      "diff_hunk" : "@@ -260,8 +260,60 @@ class ArgsManagerHelper {\n         }\n         return InterpretBool(found_result.second); // is set, so evaluate\n     }\n+\n+    static inline void CheckFlags(const ArgsManager& am, const std::string& key, unsigned int require_any)\n+    {\n+        unsigned int flags = am.FlagsOfKnownArg(key);\n+        if (flags != ArgsManager::NONE && ((flags & require_any) == 0)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440561",
      "id" : 311440561,
      "in_reply_to_id" : 311316763,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ0MDU2MQ==",
      "original_commit_id" : "00973301f6a1efb6aa2232544a49b080ac0c6c50",
      "original_position" : 8,
      "path" : "src/util/system.cpp",
      "position" : 15,
      "pull_request_review_id" : 271818284,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-07T10:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440561",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440627"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440627"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "re: https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311321892\r\n\r\n> It would be nice to see a commit elsewhere using these \"types\".\r\n\r\nThis is a good idea. I can open a draft PR applying these to some wallet flags, since I know hebasto already has good work on node flags like -datadir, -blocksdir, -pid etc that I don't want to interfere with. I do think any PR actually using flags should be merged after this one since changing flag behavior after flags are already in use would be unnecessarily confusing and risky.\r\n",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-07T08:55:41Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311440627",
      "id" : 311440627,
      "in_reply_to_id" : 311321892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ0MDYyNw==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 22,
      "path" : "src/util/system.h",
      "position" : 22,
      "pull_request_review_id" : 271818284,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-07T10:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311440627",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311490205"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311490205"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Actually I did check and ran the tests with my change and I understand the idea of testing the exception, which wouldn't make sense if it was an assertion.\r\n\r\n> Also this case really can and should be a compile error\r\n\r\nAgree.",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-07T10:53:36Z",
      "diff_hunk" : "@@ -260,8 +260,60 @@ class ArgsManagerHelper {\n         }\n         return InterpretBool(found_result.second); // is set, so evaluate\n     }\n+\n+    static inline void CheckFlags(const ArgsManager& am, const std::string& key, unsigned int require_any)\n+    {\n+        unsigned int flags = am.FlagsOfKnownArg(key);\n+        if (flags != ArgsManager::NONE && ((flags & require_any) == 0)) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311490205",
      "id" : 311490205,
      "in_reply_to_id" : 311316763,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ5MDIwNQ==",
      "original_commit_id" : "00973301f6a1efb6aa2232544a49b080ac0c6c50",
      "original_position" : 8,
      "path" : "src/util/system.cpp",
      "position" : 15,
      "pull_request_review_id" : 271880915,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-07T11:52:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311490205",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311490504"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311490504"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Maybe a brief example in the PR description then?",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-07T10:54:33Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r311490504",
      "id" : 311490504,
      "in_reply_to_id" : 311321892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTQ5MDUwNA==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 22,
      "path" : "src/util/system.h",
      "position" : 22,
      "pull_request_review_id" : 271881309,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-07T10:54:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311490504",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Side note, I find `FlagsOfKnownArg` confusing because it also returns for unknown arguments and it doesn't tell if it's known or not. I'd reword to `GetArgFlags`.",
      "created_at" : "2019-08-07T10:58:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-519048000",
      "id" : 519048000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTA0ODAwMA==",
      "updated_at" : "2019-08-07T10:58:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519048000",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r312037476"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312037476"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> Maybe a brief example in the PR description then?\r\n\r\nAnother really good idea! Will add this.",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-08T13:34:34Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r312037476",
      "id" : 312037476,
      "in_reply_to_id" : 311321892,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjAzNzQ3Ng==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 22,
      "path" : "src/util/system.h",
      "position" : 22,
      "pull_request_review_id" : 272573893,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-08T13:57:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312037476",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r312707098"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312707098"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> If an option is an integer, treating `-nonumber` exactly the same as `-number=0` provides a simple interface to users...\r\n\r\nSuch practice is a bad habit, IMO.\r\n\r\n> ... consistent with what we've always provided in the past. Treating these the same is also less error prone for developers than treating them differently.\r\n\r\nAgree. It is important.",
      "commit_id" : "01ca54a2411ff8f39fa10974327e882141140739",
      "created_at" : "2019-08-10T15:48:16Z",
      "diff_hunk" : "@@ -129,12 +129,23 @@ class ArgsManager\n {\n public:\n     enum Flags {\n-        NONE = 0x00,\n-        // Boolean options can accept negation syntax -noOPTION or -noOPTION=1\n-        ALLOW_BOOL = 0x01,\n-        ALLOW_INT = 0x02,\n-        ALLOW_STRING = 0x04,\n-        ALLOW_ANY = ALLOW_BOOL | ALLOW_INT | ALLOW_STRING,\n+        NONE = 0x0, //<! Indicates flag lookup failed.\n+\n+        /* Low level validation flags. In most cases these should be avoided,\n+         * and standard TYPE_* flag combinations below should be preferred. */\n+        ALLOW_ANY      = 0x01, //!< disable validation\n+        ALLOW_NEGATED  = 0x02, //!< allow -nofoo and -nofoo=1\n+        ALLOW_EMPTY    = 0x04, //!< allow -foo and -foo=\"\"\n+        ALLOW_NONEMPTY = 0x08, //!< allow -foo=bar\n+        ALLOW_INT      = 0x10, //!< allow -foo=123\n+        ALLOW_BOOL     = 0x20, //!< allow -foo=0 and -foo=1\n+\n+        /* Standard value types. */\n+        TYPE_STRING = ALLOW_NONEMPTY,\n+        TYPE_OPTIONAL_STRING = ALLOW_NONEMPTY | ALLOW_NEGATED | ALLOW_EMPTY,\n+        TYPE_INT = ALLOW_INT | ALLOW_NEGATED,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#discussion_r312707098",
      "id" : 312707098,
      "in_reply_to_id" : 310390769,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjcwNzA5OA==",
      "original_commit_id" : "1efb9ee41ab228a73d293603838951af6fb0f59c",
      "original_position" : 24,
      "path" : "src/util/system.h",
      "position" : 24,
      "pull_request_review_id" : 273430124,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16545",
      "updated_at" : "2019-08-10T15:48:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312707098",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK 01ca54a2411ff8f39fa10974327e882141140739\r\n\r\n@promag \r\n> Side note, I find `FlagsOfKnownArg` confusing because it also returns for unknown arguments and it doesn't tell if it's known or not. I'd reword to `GetArgFlags`.\r\n\r\nFor unknown arguments it returns `ArgsManager::NONE`.\r\n\r\n@ryanofsky \r\n> Both seem good to me, but get `GetArgFlags` does seem a little more standard, so I'll rename if @hebasto also says it's better or just as good.\r\n\r\nNaming is the hardest part of coding ;)\r\nAgree with @promag's suggestion about renaming.",
      "created_at" : "2019-08-10T16:09:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16545#issuecomment-520160573",
      "id" : 520160573,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16545",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyMDE2MDU3Mw==",
      "updated_at" : "2019-08-10T16:09:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/520160573",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
