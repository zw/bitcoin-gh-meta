[
   {
      "body" : "I think the scripts are broken, I tried to work by that document last week and it doesn't work (the doc has bugs for sure, the scripts may have some too and I think the current gitian has some bugs as well). \r\nI think you should try the manual procedure and then compare with the scripts. Or wait for someone to tell us what exact environment they use and when they tried (maybe it worked with some older version of gitian).\r\nIt's on my \"to do\" wishlist to contribute to the docs, but there were too many problems that I couldn't resolve so I haven't submitted documentation bugs/corrections yet.",
      "created_at" : "2016-11-11T21:19:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9134#issuecomment-260058022",
      "id" : 260058022,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9134",
      "updated_at" : "2016-11-11T21:24:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260058022",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13134193?v=3",
         "events_url" : "https://api.github.com/users/unsystemizer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/unsystemizer/followers",
         "following_url" : "https://api.github.com/users/unsystemizer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/unsystemizer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/unsystemizer",
         "id" : 13134193,
         "login" : "unsystemizer",
         "organizations_url" : "https://api.github.com/users/unsystemizer/orgs",
         "received_events_url" : "https://api.github.com/users/unsystemizer/received_events",
         "repos_url" : "https://api.github.com/users/unsystemizer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/unsystemizer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/unsystemizer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/unsystemizer"
      }
   },
   {
      "body" : "I tried to change the username on ubuntu\r\nDid not help",
      "created_at" : "2016-11-11T21:42:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9134#issuecomment-260062191",
      "id" : 260062191,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9134",
      "updated_at" : "2016-11-11T21:42:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260062191",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12015909?v=3",
         "events_url" : "https://api.github.com/users/twepl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/twepl/followers",
         "following_url" : "https://api.github.com/users/twepl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/twepl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/twepl",
         "id" : 12015909,
         "login" : "twepl",
         "organizations_url" : "https://api.github.com/users/twepl/orgs",
         "received_events_url" : "https://api.github.com/users/twepl/received_events",
         "repos_url" : "https://api.github.com/users/twepl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/twepl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/twepl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/twepl"
      }
   },
   {
      "body" : "If it were that simple... As I said I think it's likely multiple bugs in the docs and the code (either the script or gitian or most likely both).",
      "created_at" : "2016-11-11T21:57:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9134#issuecomment-260065025",
      "id" : 260065025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9134",
      "updated_at" : "2016-11-11T21:57:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260065025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13134193?v=3",
         "events_url" : "https://api.github.com/users/unsystemizer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/unsystemizer/followers",
         "following_url" : "https://api.github.com/users/unsystemizer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/unsystemizer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/unsystemizer",
         "id" : 13134193,
         "login" : "unsystemizer",
         "organizations_url" : "https://api.github.com/users/unsystemizer/orgs",
         "received_events_url" : "https://api.github.com/users/unsystemizer/received_events",
         "repos_url" : "https://api.github.com/users/unsystemizer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/unsystemizer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/unsystemizer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/unsystemizer"
      }
   },
   {
      "body" : "**This is the solution!**\r\nThe error occurs because of lack of memory",
      "created_at" : "2016-11-13T17:31:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9134#issuecomment-260199793",
      "id" : 260199793,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9134",
      "updated_at" : "2016-11-13T17:31:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260199793",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12015909?v=3",
         "events_url" : "https://api.github.com/users/twepl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/twepl/followers",
         "following_url" : "https://api.github.com/users/twepl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/twepl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/twepl",
         "id" : 12015909,
         "login" : "twepl",
         "organizations_url" : "https://api.github.com/users/twepl/orgs",
         "received_events_url" : "https://api.github.com/users/twepl/received_events",
         "repos_url" : "https://api.github.com/users/twepl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/twepl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/twepl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/twepl"
      }
   },
   {
      "body" : "Thanks for letting us know. I will close the issue now.",
      "created_at" : "2016-11-13T17:37:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9134#issuecomment-260200127",
      "id" : 260200127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9134",
      "updated_at" : "2016-11-13T17:37:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260200127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@twepl I don't think that is the solution. I am also facing the same issue. I have sufficient memory on my system. I am just trying to create windows binary file using gitian-build. Any help will be appreciated.",
      "created_at" : "2016-11-15T13:32:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9134#issuecomment-260641806",
      "id" : 260641806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9134",
      "updated_at" : "2016-11-15T13:33:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260641806",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19814736?v=3",
         "events_url" : "https://api.github.com/users/aniket-kumar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aniket-kumar/followers",
         "following_url" : "https://api.github.com/users/aniket-kumar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aniket-kumar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aniket-kumar",
         "id" : 19814736,
         "login" : "aniket-kumar",
         "organizations_url" : "https://api.github.com/users/aniket-kumar/orgs",
         "received_events_url" : "https://api.github.com/users/aniket-kumar/received_events",
         "repos_url" : "https://api.github.com/users/aniket-kumar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aniket-kumar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aniket-kumar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aniket-kumar"
      }
   },
   {
      "body" : "@aniket-kumar  I made a small guide for you\r\n\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/master/doc/gitian-building.md\r\n\r\nInstall VirtualBox VM and debian-8.5.0-amd64-netinst.iso\r\n\r\nWriting to the console\r\n\r\n```\r\nsed -i 's/^PermitRootLogin.*/PermitRootLogin yes/' /etc/ssh/sshd_config\r\n\r\n/etc/init.d/ssh restart\r\n\r\napt-get install git ruby sudo apt-cacher-ng qemu-utils debootstrap lxc python-cheetah parted kpartx bridge-utils make ubuntu-archive-keyring curl\r\n\r\nadduser debian sudo\r\n\r\n\r\necho \"%sudo ALL=NOPASSWD: /usr/bin/lxc-start\" > /etc/sudoers.d/gitian-lxc\r\necho \"%sudo ALL=NOPASSWD: /usr/bin/lxc-execute\" >> /etc/sudoers.d/gitian-lxc\r\necho '#!/bin/sh -e' > /etc/rc.local\r\necho 'brctl addbr br0' >> /etc/rc.local\r\necho 'ifconfig br0 10.0.3.2/24 up' >> /etc/rc.local\r\necho 'iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE' >> /etc/rc.local\r\necho 'echo 1 > /proc/sys/net/ipv4/ip_forward' >> /etc/rc.local\r\necho 'exit 0' >> /etc/rc.local\r\necho 'export USE_LXC=1' >> /home/debian/.profile\r\necho 'export GITIAN_HOST_IP=10.0.3.2' >> /home/debian/.profile\r\necho 'export LXC_GUEST_IP=10.0.3.5' >> /home/debian/.profile\r\nreboot\r\n```\r\n\r\n**SSH** localhost 22222\r\nuser debian\r\n\r\n```\r\nsudo apt-get update\r\n\r\nsudo apt-get install build-essential libtool autotools-dev automake pkg-config libssl-dev libevent-dev bsdmainutils\r\n\r\nsudo apt-get install libqt5gui5 libqt5core5a libqt5dbus5 qttools5-dev qttools5-dev-tools libprotobuf-dev protobuf-compiler\r\n\r\nwget http://archive.ubuntu.com/ubuntu/pool/universe/v/vm-builder/vm-builder_0.12.4+bzr494.orig.tar.gz\r\necho \"76cbf8c52c391160b2641e7120dbade5afded713afaa6032f733a261f13e6a8e  vm-builder_0.12.4+bzr494.orig.tar.gz\" | sha256sum -c\r\n# (verification -- must return OK)\r\ntar -zxvf vm-builder_0.12.4+bzr494.orig.tar.gz\r\ncd vm-builder-0.12.4+bzr494\r\nsudo python setup.py install\r\ncd ..\r\n\r\nreboot\r\n```\r\n\r\nCreate a clone VirtualBox VM debian 2\r\n\r\n**SSH** localhost 22222\r\nuser debian\r\n\r\nWriting to the console\r\n\r\n```\r\ngit clone https://github.com/devrandom/gitian-builder.git\r\ngit clone https://github.com/bitcoin/bitcoin\r\ngit clone https://github.com/bitcoin-core/gitian.sigs.git\r\n\r\ncd gitian-builder\r\nbin/make-base-vm --lxc --arch amd64 --suite trusty\r\n\r\npushd ./gitian-builder\r\nmkdir -p inputs\r\nwget -P inputs https://bitcoincore.org/cfields/osslsigncode-Backports-to-1.7.1.patch\r\nwget -P inputs http://downloads.sourceforge.net/project/osslsigncode/osslsigncode/osslsigncode-1.7.1.tar.gz\r\npopd\r\n\r\npushd ./gitian-builder\r\nmake -C ../bitcoin/depends download SOURCES_PATH=`pwd`/cache/common\r\npopd\r\n```\r\n\r\n**LINUX OS**\r\n```\r\npushd ./gitian-builder\r\n./bin/gbuild --memory 3000 --commit bitcoin=master ../bitcoin/contrib/gitian-descriptors/gitian-linux.yml\r\n./bin/gsign --signer $SIGNER --release ${VERSION}-linux --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-linux.yml\r\nmv build/out/bitcoin-*.tar.gz build/out/src/bitcoin-*.tar.gz ../\r\npopd\r\n```\r\n\r\n**Windows OS**\r\n```\r\npushd ./gitian-builder\r\n./bin/gbuild --memory 3000 --commit bitcoin=master  ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\r\n./bin/gsign --signer $SIGNER --release ${VERSION}-win-unsigned --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\r\nmv build/out/bitcoin-*-win-unsigned.tar.gz inputs/bitcoin-win-unsigned.tar.gz\r\nmv build/out/bitcoin-*.zip build/out/bitcoin-*.exe ../\r\npopd\r\n```\r\n\r\n**Mac OS X**\r\n\r\n```\r\npushd ./gitian-builder\r\n./bin/gbuild --memory 3000 --commit bitcoin=master  ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\r\n./bin/gsign --signer $SIGNER --release ${VERSION}-osx-unsigned --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\r\nmv build/out/bitcoin-*-osx-unsigned.tar.gz inputs/bitcoin-osx-unsigned.tar.gz\r\nmv build/out/bitcoin-*.tar.gz build/out/bitcoin-*.dmg ../\r\npopd\r\n```\r\n",
      "created_at" : "2016-11-15T14:23:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9134#issuecomment-260653869",
      "id" : 260653869,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9134",
      "updated_at" : "2016-11-15T14:28:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260653869",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12015909?v=3",
         "events_url" : "https://api.github.com/users/twepl/events{/privacy}",
         "followers_url" : "https://api.github.com/users/twepl/followers",
         "following_url" : "https://api.github.com/users/twepl/following{/other_user}",
         "gists_url" : "https://api.github.com/users/twepl/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/twepl",
         "id" : 12015909,
         "login" : "twepl",
         "organizations_url" : "https://api.github.com/users/twepl/orgs",
         "received_events_url" : "https://api.github.com/users/twepl/received_events",
         "repos_url" : "https://api.github.com/users/twepl/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/twepl/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/twepl/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/twepl"
      }
   },
   {
      "body" : "@twepl  I am not using any VM, doing this on my machine.I have executed all other commands , only the windows binary build command is throwing error. I applied the changes in my command according to your answer, still getting the same error : \r\n\r\nRunning build script (log in var/build.log)\r\n./bin/gbuild:21:in `system!': failed to run on-target setarch x86_64 bash -x < var/build-script > var/build.log 2>&1 (RuntimeError)\r\n\tfrom ./bin/gbuild:149:in `build_one_configuration'\r\n\tfrom ./bin/gbuild:285:in `block (2 levels) in <main>'\r\n\tfrom ./bin/gbuild:280:in `each'\r\n\tfrom ./bin/gbuild:280:in `block in <main>'\r\n\tfrom ./bin/gbuild:278:in `each'\r\n\tfrom ./bin/gbuild:278:in `<main>' ",
      "created_at" : "2016-11-15T14:41:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9134#issuecomment-260658659",
      "id" : 260658659,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9134",
      "updated_at" : "2016-11-15T14:45:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/260658659",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19814736?v=3",
         "events_url" : "https://api.github.com/users/aniket-kumar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aniket-kumar/followers",
         "following_url" : "https://api.github.com/users/aniket-kumar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aniket-kumar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aniket-kumar",
         "id" : 19814736,
         "login" : "aniket-kumar",
         "organizations_url" : "https://api.github.com/users/aniket-kumar/orgs",
         "received_events_url" : "https://api.github.com/users/aniket-kumar/received_events",
         "repos_url" : "https://api.github.com/users/aniket-kumar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aniket-kumar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aniket-kumar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aniket-kumar"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@aniket-kumar I tried for mac it flashes errors. do you have a procedure to build for mac.\r\nFor Linux and Win (32,64) i able to create binaries.\r\n",
      "created_at" : "2017-10-29T05:24:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/9134#issuecomment-340238701",
      "id" : 340238701,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/9134",
      "updated_at" : "2017-10-29T05:24:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/340238701",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7259753?v=4",
         "events_url" : "https://api.github.com/users/marvic41/events{/privacy}",
         "followers_url" : "https://api.github.com/users/marvic41/followers",
         "following_url" : "https://api.github.com/users/marvic41/following{/other_user}",
         "gists_url" : "https://api.github.com/users/marvic41/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/marvic41",
         "id" : 7259753,
         "login" : "marvic41",
         "organizations_url" : "https://api.github.com/users/marvic41/orgs",
         "received_events_url" : "https://api.github.com/users/marvic41/received_events",
         "repos_url" : "https://api.github.com/users/marvic41/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/marvic41/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/marvic41/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/marvic41"
      }
   }
]
