[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "cc @hebasto ",
      "created_at" : "2021-08-17T14:16:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-900338335",
      "id" : 900338335,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII5841qhKf",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-17T14:16:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/900338335",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "- The test changes seems sporadic (and often pass on master for me locally)\r\n- Would 15970699828fa404a0c7c17bda4640eb712872a7 disable our inbound onion detection? (`CNode::m_inbound_onion` in `net.h`)",
      "created_at" : "2021-08-17T17:06:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-900477859",
      "id" : 900477859,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII5841rDOj",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-17T17:06:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/900477859",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Would 1597069 disable our inbound onion detection? (`CNode::m_inbound_onion` in `net.h`)\r\n\r\n* If both `-bind=...` and `-bind=...=onion` are given -- no\r\n* If none of `-bind=...` or `-bind=...=onion` are given -- no\r\n* If only `-bind=...` is given, without `-bind=...=onion` -- yes\r\n* If only `-bind=...=onion` is given, without `-bind=...` -- no",
      "created_at" : "2021-08-17T17:47:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-900506737",
      "id" : 900506737,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII5841rKRx",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-17T17:47:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/900506737",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "CI failure https://cirrus-ci.com/task/5600680695037952:\r\n```bash\r\n89/217 - feature_bind_extra.py failed, Duration: 31 s\r\nstdout:\r\n2021-08-17T14:41:23.064000Z TestFramework (INFO): Initializing test directory /tmp/cirrus-ci-build/ci/scratch/test_runner/test_runner_â¿_ð_20210817_143957/feature_bind_extra_170\r\n2021-08-17T14:41:23.064000Z TestFramework (INFO): Checking for Linux\r\n2021-08-17T14:41:53.701000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 530, in start_nodes\r\n    node.wait_for_rpc_connection()\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 225, in wait_for_rpc_connection\r\n    'bitcoind exited with status {} during initialization'.format(self.process.returncode)))\r\ntest_framework.test_node.FailedToStartError: [node 0] bitcoind exited with status 1 during initialization\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 130, in main\r\n    self.setup()\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 285, in setup\r\n    self.setup_network()\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/feature_bind_extra.py\", line 95, in setup_network\r\n    self.setup_nodes()\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 404, in setup_nodes\r\n    self.start_nodes()\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 533, in start_nodes\r\n    self.stop_nodes()\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_framework.py\", line 548, in stop_nodes\r\n    node.stop_node(wait=wait, wait_until_stopped=False)\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 323, in stop_node\r\n    self.stop(wait=wait)\r\n  File \"/tmp/cirrus-ci-build/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/test/functional/test_framework/test_node.py\", line 183, in __getattr__\r\n    assert self.rpc_connected and self.rpc is not None, self._node_msg(\"Error: no RPC connection\")\r\nAssertionError: [node 0] Error: no RPC connection\r\n2021-08-17T14:41:53.753000Z TestFramework (INFO): Stopping nodes\r\n```",
      "created_at" : "2021-08-18T01:05:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-900735544",
      "id" : 900735544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII5841sCI4",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-18T01:05:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/900735544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "https://github.com/bitcoin/bitcoin/pull/20234 For reference for related changes.\r\n\r\nI might propose some Tor doc clarifications in a separate PR. There has been a lot of confusion around `onlynet`, and users thinking that that affects outgoing and incoming connections.",
      "created_at" : "2021-08-18T02:10:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-900757562",
      "id" : 900757562,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII5841sHg6",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-18T02:10:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/900757562",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/24482484?v=4",
         "events_url" : "https://api.github.com/users/Rspigler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Rspigler/followers",
         "following_url" : "https://api.github.com/users/Rspigler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Rspigler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Rspigler",
         "id" : 24482484,
         "login" : "Rspigler",
         "node_id" : "MDQ6VXNlcjI0NDgyNDg0",
         "organizations_url" : "https://api.github.com/users/Rspigler/orgs",
         "received_events_url" : "https://api.github.com/users/Rspigler/received_events",
         "repos_url" : "https://api.github.com/users/Rspigler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Rspigler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Rspigler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Rspigler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK (will review in more detail). It would be better if any error in binding configuration stopped the process, not just onion-related ones, as it can lead to surprising outcomes. But historically there were some issues with libevent in getting this right see #14968.",
      "created_at" : "2021-09-15T09:34:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-919859422",
      "id" : 919859422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII58420_De",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-15T09:37:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919859422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22729#discussion_r709019666"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22729"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709019666"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I dislike making this logic more and more complex, special-casing for onion binds. I'd prefer something more general instead that will solve this and surrounding issues.",
      "commit_id" : "f89f80ef2dcbbfc18d2729fe9e67d50637213bb8",
      "created_at" : "2021-09-15T09:40:35Z",
      "diff_hunk" : "@@ -2505,7 +2507,7 @@ bool CConnman::InitBinds(const Options& options)\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::None);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::None);\n     }\n-    return fBound;\n+    return fBound && (bound_onion || options.onion_binds.empty());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#discussion_r709019666",
      "id" : 709019666,
      "line" : 2510,
      "node_id" : "PRRC_kwDOABII584qQsgS",
      "original_commit_id" : "f89f80ef2dcbbfc18d2729fe9e67d50637213bb8",
      "original_line" : 2510,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 17,
      "pull_request_review_id" : 754896316,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22729",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-15T09:40:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709019666",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22729#discussion_r709020480"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22729"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709020480"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Please move the `fBound |= bound_onion;` out of the loop. No point in doing it every iteration, and it (imo) makes it sightly easier to reason about.",
      "commit_id" : "f89f80ef2dcbbfc18d2729fe9e67d50637213bb8",
      "created_at" : "2021-09-15T09:41:38Z",
      "diff_hunk" : "@@ -2495,8 +2495,10 @@ bool CConnman::InitBinds(const Options& options)\n     for (const auto& addrBind : options.vWhiteBinds) {\n         fBound |= Bind(addrBind.m_service, (BF_EXPLICIT | BF_REPORT_ERROR), addrBind.m_flags);\n     }\n+    bool bound_onion{false};\n     for (const auto& addr_bind : options.onion_binds) {\n-        fBound |= Bind(addr_bind, BF_EXPLICIT | BF_DONT_ADVERTISE, NetPermissionFlags::None);\n+        bound_onion |= Bind(addr_bind, BF_EXPLICIT | BF_REPORT_ERROR | BF_DONT_ADVERTISE, NetPermissionFlags::None);\n+        fBound |= bound_onion;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#discussion_r709020480",
      "id" : 709020480,
      "line" : 2501,
      "node_id" : "PRRC_kwDOABII584qQstA",
      "original_commit_id" : "f89f80ef2dcbbfc18d2729fe9e67d50637213bb8",
      "original_line" : 2501,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 8,
      "pull_request_review_id" : 754897352,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22729",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-15T09:41:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/709020480",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`f89f80ef2d...57e0c5d32e`: rebase and stop startup if any<sup>*</sup> of the P2P binds fail, instead of all.\r\n\r\n<sup>*</sup>except the bind on IPv6 any address `::` when the user did not explicitly ask for it because the machine may not have IPv6 support.\r\n\r\n> It would be better if any error in binding configuration stopped the process, not just onion-related ones, as it can lead to surprising outcomes.\r\n\r\nI agree. Changed. If we want to also do the same for <sup>*</sup> then we would have to check whether `socket(2)` failed due to `EAFNOSUPPORT` or `bind(2)` failed due to `EADDRNOTAVAIL`. I think that would be an overkill.",
      "created_at" : "2021-09-16T12:31:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-920859923",
      "id" : 920859923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII58424zUT",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-16T12:41:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920859923",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22729#discussion_r710072344"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22729"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/710072344"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Not relevant with the latest push.",
      "commit_id" : "57e0c5d32e7a1d86c9d8bccf088773b96029c338",
      "created_at" : "2021-09-16T12:32:50Z",
      "diff_hunk" : "@@ -2495,8 +2495,10 @@ bool CConnman::InitBinds(const Options& options)\n     for (const auto& addrBind : options.vWhiteBinds) {\n         fBound |= Bind(addrBind.m_service, (BF_EXPLICIT | BF_REPORT_ERROR), addrBind.m_flags);\n     }\n+    bool bound_onion{false};\n     for (const auto& addr_bind : options.onion_binds) {\n-        fBound |= Bind(addr_bind, BF_EXPLICIT | BF_DONT_ADVERTISE, NetPermissionFlags::None);\n+        bound_onion |= Bind(addr_bind, BF_EXPLICIT | BF_REPORT_ERROR | BF_DONT_ADVERTISE, NetPermissionFlags::None);\n+        fBound |= bound_onion;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#discussion_r710072344",
      "id" : 710072344,
      "in_reply_to_id" : 709020480,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584qUtgY",
      "original_commit_id" : "f89f80ef2dcbbfc18d2729fe9e67d50637213bb8",
      "original_line" : 2501,
      "original_position" : 8,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 756237716,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22729",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-16T12:32:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/710072344",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22729#discussion_r710072932"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22729"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/710072932"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Changed the code to consider bind failures fatal.",
      "commit_id" : "57e0c5d32e7a1d86c9d8bccf088773b96029c338",
      "created_at" : "2021-09-16T12:33:39Z",
      "diff_hunk" : "@@ -2505,7 +2507,7 @@ bool CConnman::InitBinds(const Options& options)\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::None);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::None);\n     }\n-    return fBound;\n+    return fBound && (bound_onion || options.onion_binds.empty());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#discussion_r710072932",
      "id" : 710072932,
      "in_reply_to_id" : 709019666,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584qUtpk",
      "original_commit_id" : "f89f80ef2dcbbfc18d2729fe9e67d50637213bb8",
      "original_line" : 2510,
      "original_position" : 17,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 756238552,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22729",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-16T12:33:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/710072932",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "The first commit ceeb317cde `net: don't extra bind for Tor if binds are restricted` was part of https://github.com/bitcoin/bitcoin/pull/20234 but was removed so that PR could proceed quickly (it was deemed controversial).\r\n\r\nAfter https://github.com/bitcoin/bitcoin/issues/22727#issuecomment-919401356 I am even more convinced that this is the right approach as it reduces user surprises (and those surprises can have highly undesirable outcomes). It must be possible to disable the binding on `127.0.0.1:8334` somehow. Otherwise, if we consider those binds fatal, two bitcoinds would collide on that port.\r\n\r\nFor example our functional testing framework starts >1 bitcoind and all of them collide on `127.0.0.1:8334` but the bind errors are ignored :eyes:. If we are to consider bind errors fatal (I think we should) and ceeb317cde `net: don't extra bind for Tor if binds are restricted` is not desirable, then the testing framework would need to be adjusted to avoid the collisions. I don't object this, but I am not going to implement it because I think the approach in this PR is a better one. I would review other approaches if somebody bothers to go in another direction.",
      "created_at" : "2021-09-16T13:06:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-920883602",
      "id" : 920883602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII584245GS",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-16T13:06:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920883602",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> For example our functional testing framework starts >1 bitcoind and all of them collide on 127.0.0.1:8334 but the bind errors are ignored eyes\r\n\r\nThere is no reason for the test framework to be creating Tor binds at all. It's kind of surprising to me that it does by default but I understand why.\r\n\r\nI think the long term solution would be to only create the Tor bind when either requested through a command line flag, or when it succesfully connects to Tor (e.g. in `torcontrol`). But this would require dynamically changing (at least adding) bindings so isn't very straightforward.",
      "created_at" : "2021-09-27T11:58:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-927802257",
      "id" : 927802257,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII5843TSOR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/927802257/reactions"
      },
      "updated_at" : "2021-09-27T11:59:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/927802257",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-06-10T17:16:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1152574682",
      "id" : 1152574682,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585EsuTa",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1152574682/reactions"
      },
      "updated_at" : "2022-06-10T17:16:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1152574682",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`57e0c5d32e...3d54f24f02`: rebase due to conflicts",
      "created_at" : "2022-06-13T13:20:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1153906477",
      "id" : 1153906477,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585Exzct",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1153906477/reactions"
      },
      "updated_at" : "2022-06-13T13:20:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1153906477",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/22729).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [laanwj](https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-919859422), [stratospher](https://github.com/bitcoin/bitcoin/pull/22729#pullrequestreview-1349376709), [jonatack](https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1513288273) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29034](https://github.com/bitcoin/bitcoin/pull/29034) (test: detect OS in functional tests consistently using `platform.system()` by theStack)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2022-07-30T07:56:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1200112195",
      "id" : 1200112195,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585HiEJD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200112195/reactions"
      },
      "updated_at" : "2024-01-18T11:53:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1200112195",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-10-03T19:05:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1265900722",
      "id" : 1265900722,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585LdByy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1265900722/reactions"
      },
      "updated_at" : "2022-10-03T19:05:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1265900722",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`3d54f24f02...7180859e7e`: rebase due to conflicts",
      "created_at" : "2022-10-25T09:58:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1290293852",
      "id" : 1290293852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585M6FJc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290293852/reactions"
      },
      "updated_at" : "2022-10-25T09:58:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290293852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think the long term solution would be to only create the Tor bind when either requested through a command line flag, or when it succesfully connects to Tor (e.g. in `torcontrol`)\r\n\r\nThis would also help binding on the proper address and announcing it to the tor daemon. If tor and bitcoind run on the same machine the default `127.0.0.1` works smoothly.\r\n\r\nBut it gets more involved in setups where tor is on another machine. Then the default `-bind=127.0.0.1:8334=onion` is not ok anymore and the operator has to use something like `-torcontrol=192.168.0.5:9051 -bind=192.168.0.6:8334=onion`. Looks easy enough, but is further complicated in environments where IP addresses are dynamically set up (DHCP, Docker) and the fact that we don't resolve the argument to `-bind=` so a hostname can't be used there.\r\n\r\nThere is also the special case `-bind=0.0.0.0:8334=onion` - then we would tell the tor daemon that the service is listening on `0.0.0.0:8334` and it will not be able to connect to it.\r\n\r\nIf we postpone the binding to after we have connected to tor control, then we can automatically figure out the best address to bind to and announce that (if one is not explicitly configured).\r\n\r\nhttps://github.com/bitcoin/bitcoin/issues/26484 is related, thanks @schildbach!",
      "created_at" : "2022-11-14T09:42:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1313383147",
      "id" : 1313383147,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585OSKLr",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1313383147/reactions"
      },
      "updated_at" : "2022-11-14T09:42:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1313383147",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2023-04-18T14:47:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1513288273",
      "id" : 1513288273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585aMvJR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1513288273/reactions"
      },
      "updated_at" : "2023-04-18T14:47:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1513288273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--8ac04cdde196e94527acabf64b896448-->\r\nThere hasn't been much activity lately. What is the status here?\r\n\r\n[Finding reviewers](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#finding-reviewers) may take time. However, if the patch is no longer relevant, please close this pull request. If the author lost interest or time to work on this, please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\r\n",
      "created_at" : "2023-08-08T09:14:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1669233189",
      "id" : 1669233189,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585jfnol",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1669233189/reactions"
      },
      "updated_at" : "2023-08-08T09:14:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1669233189",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`7180859e7e...6a51eaf4a9`: rebase, did not lose any relevance through time\r\n\r\nAn alternative to this is described in:\r\nhttps://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1313383147\r\nthat would be more complicated, but maybe it would be more appealing to reviewers?\r\n\r\n> only concern is if there's a way around https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-900506737 - the need for =onion to accept inbound connections wouldn't be intuitive to users and might break existing configs?\r\n\r\nMaybe refuse to start with an error if `-bind=` is used, `-bind=...=onion` is not and we will be accepting tor connections (e.g. `-listenonion=1`)?",
      "created_at" : "2023-08-16T13:42:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1680635537",
      "id" : 1680635537,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585kLHaR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1680635537/reactions"
      },
      "updated_at" : "2023-08-16T13:42:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1680635537",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2024-01-11T18:17:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1887712639",
      "id" : 1887712639,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585whDV_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1887712639/reactions"
      },
      "updated_at" : "2024-01-11T18:17:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1887712639",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`6a51eaf4a9...d0c8109dd0`: rebase due to conflicts",
      "created_at" : "2024-01-18T11:54:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22729#issuecomment-1898337593",
      "id" : 1898337593,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22729",
      "node_id" : "IC_kwDOABII585xJlU5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1898337593/reactions"
      },
      "updated_at" : "2024-01-18T11:54:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1898337593",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   }
]
