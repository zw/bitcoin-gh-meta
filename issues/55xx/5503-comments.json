[
   {
      "body" : "As `createrawtransactions` with potential unspent vins, this call does not lock the coins somehow.",
      "created_at" : "2014-12-17T21:26:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-67397249",
      "id" : 67397249,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2014-12-17T21:26:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67397249",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r22031843"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22031843"
         }
      },
      "body" : "s/exiting/existing",
      "commit_id" : "4842b17e7feb5d2c907641fd57588248f84d3319",
      "created_at" : "2014-12-18T09:53:39Z",
      "diff_hunk" : "@@ -756,3 +756,57 @@ Value sendrawtransaction(const Array& params, bool fHelp)\n \n     return hashTx.GetHex();\n }\n+\n+#ifdef ENABLE_WALLET\n+Value fundrawtransaction(const Array& params, bool fHelp)\n+{\n+    if (fHelp || params.size() != 1)\n+        throw runtime_error(\n+                            \"fundrawtransaction \\\"hexstring\\\"\\n\"\n+                            \"\\nAdd vIns to a raw transaction.\\n\"\n+                            \"\\nAlso see createrawtransaction and signrawtransaction calls.\\n\"\n+                            \"\\nArguments:\\n\"\n+                            \"1. \\\"hexstring\\\"    (string, required) The hex string of the raw transaction\\n\"\n+                            \"\\nResult:\\n\"\n+                            \"{\\n\"\n+                            \"  \\\"hex\\\": \\\"value\\\",   (string) The raw transaction with vIns (hex-encoded string)\\n\"\n+                            \"  \\\"fee\\\": n       calculated fee\\n\"\n+                            \"}\\n\"\n+                            \"\\\"hex\\\"             \\n\"\n+                            \"\\nExamples:\\n\"\n+                            \"\\nCreate a transaction with empty vIns\\n\"\n+                            + HelpExampleCli(\"createrawtransaction\", \"\\\"[]\\\" \\\"{\\\\\\\"myaddress\\\\\\\":0.01}\\\"\") +\n+                            \"\\nFund the transaction, and get back the hex\\n\"\n+                            + HelpExampleCli(\"fundrawtransaction\", \"\\\"myhex\\\"\") +\n+                            \"\\nSign the transaction, and get back the hex\\n\"\n+                            + HelpExampleCli(\"signrawtransaction\", \"\\\"myhex\\\"\") +\n+                            \"\\nSend the transaction (signed hex)\\n\"\n+                            + HelpExampleCli(\"sendrawtransaction\", \"\\\"signedhex\\\"\") +\n+                            \"\\nAs a json rpc call\\n\"\n+                            + HelpExampleRpc(\"sendrawtransaction\", \"\\\"signedhex\\\"\")\n+                            );\n+    \n+    RPCTypeCheck(params, list_of(str_type)(bool_type));\n+    \n+    // parse hex string from parameter\n+    CTransaction tx;\n+    if (!DecodeHexTx(tx, params[0].get_str()))\n+        throw JSONRPCError(RPC_DESERIALIZATION_ERROR, \"TX decode failed\");\n+    \n+    if (tx.vin.size() > 0)\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"fundrawtransaction only supports transactions with zero exiting vins\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r22031843",
      "id" : 22031843,
      "original_commit_id" : "88de6ee95569224b60d2d22b900a1bb1098d858a",
      "original_position" : 42,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503",
      "updated_at" : "2015-04-02T19:29:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22031843",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4391003?v=3",
         "events_url" : "https://api.github.com/users/aalness/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aalness/followers",
         "following_url" : "https://api.github.com/users/aalness/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aalness/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aalness",
         "id" : 4391003,
         "login" : "aalness",
         "organizations_url" : "https://api.github.com/users/aalness/orgs",
         "received_events_url" : "https://api.github.com/users/aalness/received_events",
         "repos_url" : "https://api.github.com/users/aalness/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aalness/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aalness/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aalness"
      }
   },
   {
      "body" : "ACK the idea. It seems useful.",
      "created_at" : "2014-12-18T18:31:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-67531896",
      "id" : 67531896,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2014-12-18T18:31:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67531896",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4391003?v=3",
         "events_url" : "https://api.github.com/users/aalness/events{/privacy}",
         "followers_url" : "https://api.github.com/users/aalness/followers",
         "following_url" : "https://api.github.com/users/aalness/following{/other_user}",
         "gists_url" : "https://api.github.com/users/aalness/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/aalness",
         "id" : 4391003,
         "login" : "aalness",
         "organizations_url" : "https://api.github.com/users/aalness/orgs",
         "received_events_url" : "https://api.github.com/users/aalness/received_events",
         "repos_url" : "https://api.github.com/users/aalness/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/aalness/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/aalness/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/aalness"
      }
   },
   {
      "body" : "Sweet. This should have a mechenism to also include watchonly coins.",
      "created_at" : "2014-12-18T19:25:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-67541653",
      "id" : 67541653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2014-12-18T19:25:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67541653",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "It should support existing VINs, which are useful if you want to specifically spend a particular coin, but need more inputs to complete the txn. One reason you may want to do this is to achieve mutual exclusion with a prior transaction.  If the existing vins are adequate it shouldn't add any more.",
      "created_at" : "2014-12-18T19:33:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-67542972",
      "id" : 67542972,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2014-12-18T19:33:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67542972",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Also, not to pile on too much, but a \"fundmany\" would be neat as well (in addition to watchonly support in fundrawtransaction). This would be useful for batch coin selection, offline signing, and coinjoin. Plus, fundmany is not a huge jump from sendmany.\r\n\r\nAlso, gmaxwell proposed on IRC a limit=N parameter on fundrawtransaction?",
      "created_at" : "2014-12-19T21:39:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-67701462",
      "id" : 67701462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2014-12-19T21:39:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67701462",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/101238?v=3",
         "events_url" : "https://api.github.com/users/kanzure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanzure/followers",
         "following_url" : "https://api.github.com/users/kanzure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanzure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanzure",
         "id" : 101238,
         "login" : "kanzure",
         "organizations_url" : "https://api.github.com/users/kanzure/orgs",
         "received_events_url" : "https://api.github.com/users/kanzure/received_events",
         "repos_url" : "https://api.github.com/users/kanzure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanzure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanzure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanzure"
      }
   },
   {
      "body" : "Nevermind about fundmany: http://bitcoinstats.com/irc/bitcoin-dev/logs/2014/12/19#l1419025192",
      "created_at" : "2014-12-20T20:35:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-67748700",
      "id" : 67748700,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2014-12-22T17:06:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67748700",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/101238?v=3",
         "events_url" : "https://api.github.com/users/kanzure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanzure/followers",
         "following_url" : "https://api.github.com/users/kanzure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanzure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanzure",
         "id" : 101238,
         "login" : "kanzure",
         "organizations_url" : "https://api.github.com/users/kanzure/orgs",
         "received_events_url" : "https://api.github.com/users/kanzure/received_events",
         "repos_url" : "https://api.github.com/users/kanzure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanzure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanzure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanzure"
      }
   },
   {
      "body" : "Added support for existing VINs.\r\nNow comes with an extensive test-script.\r\n\r\n@gmaxwell the proposed `limit` parameter needs probably some brainwork first. See (http://bitcoinstats.com/irc/bitcoin-dev/logs/2014/12/20#l1419085131). Maybe another pull.",
      "created_at" : "2014-12-20T21:07:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-67749782",
      "id" : 67749782,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2014-12-20T21:07:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67749782",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Just fixed an issue in `CreateTransaction` which produced endless recursive loops. Travis should now be happy.",
      "created_at" : "2014-12-22T08:25:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-67812662",
      "id" : 67812662,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2014-12-22T08:25:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67812662",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r22292476"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22292476"
         }
      },
      "body" : "s/temporary/temporarily",
      "commit_id" : "4842b17e7feb5d2c907641fd57588248f84d3319",
      "created_at" : "2014-12-27T13:10:34Z",
      "diff_hunk" : "@@ -1333,34 +1333,106 @@ bool CWallet::SelectCoinsMinConf(const CAmount& nTargetValue, int nConfMine, int\n     return true;\n }\n \n-bool CWallet::SelectCoins(const CAmount& nTargetValue, set<pair<const CWalletTx*,unsigned int> >& setCoinsRet, CAmount& nValueRet, const CCoinControl* coinControl) const\n+bool CWallet::SelectCoins(const CAmount& nTargetValue, set<pair<const CWalletTx*,unsigned int> >& setCoinsRet, CAmount& nValueRet, vector<CTxIn> vPresetVINs, const CCoinControl* coinControl) const\n {\n     vector<COutput> vCoins;\n     AvailableCoins(vCoins, true, coinControl);\n-\n+    \n+    // create a empty set to store possible VINS\n+    set<pair<const CWalletTx*,unsigned int> > setTempCoins;\n+    CAmount nValueTroughVINs = 0;\n+    \n     // coin control -> return all selected outputs (we want all selected to go into the transaction for sure)\n     if (coinControl && coinControl->HasSelected())\n     {\n         BOOST_FOREACH(const COutput& out, vCoins)\n         {\n-            if(!out.fSpendable)\n-                continue;\n+            if (!out.fSpendable)\n+                 continue;\n             nValueRet += out.tx->vout[out.i].nValue;\n             setCoinsRet.insert(make_pair(out.tx, out.i));\n         }\n         return (nValueRet >= nTargetValue);\n     }\n+    \n+    // fill up the tx with possible predefined VINs\n+    BOOST_FOREACH(const CTxIn& txin, vPresetVINs)\n+    {\n+        bool vinOk = false;\n+        // search for VIN in available coins\n+        for (vector<COutput>::iterator it = vCoins.begin() ; it != vCoins.end();)\n+        {\n+            const COutput& out = *it;\n+            if (out.tx->GetHash() == txin.prevout.hash && txin.prevout.n == (uint32_t)out.i)\n+            {\n+                if (!out.fSpendable)\n+                    continue;\n+                \n+                nValueTroughVINs    += out.tx->vout[out.i].nValue;\n+                \n+                // temporary keep the coin to add them later after SelectCoinsMinConf has added some",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r22292476",
      "id" : 22292476,
      "original_commit_id" : "20e1d72881ec229dcbc39fa763c6dd537bc54afc",
      "original_position" : 45,
      "path" : "src/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503",
      "updated_at" : "2015-04-02T19:29:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22292476",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r22294281"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22294281"
         }
      },
      "body" : "Thanks. Fixed.",
      "commit_id" : "4842b17e7feb5d2c907641fd57588248f84d3319",
      "created_at" : "2014-12-27T19:53:09Z",
      "diff_hunk" : "@@ -1333,34 +1333,106 @@ bool CWallet::SelectCoinsMinConf(const CAmount& nTargetValue, int nConfMine, int\n     return true;\n }\n \n-bool CWallet::SelectCoins(const CAmount& nTargetValue, set<pair<const CWalletTx*,unsigned int> >& setCoinsRet, CAmount& nValueRet, const CCoinControl* coinControl) const\n+bool CWallet::SelectCoins(const CAmount& nTargetValue, set<pair<const CWalletTx*,unsigned int> >& setCoinsRet, CAmount& nValueRet, vector<CTxIn> vPresetVINs, const CCoinControl* coinControl) const\n {\n     vector<COutput> vCoins;\n     AvailableCoins(vCoins, true, coinControl);\n-\n+    \n+    // create a empty set to store possible VINS\n+    set<pair<const CWalletTx*,unsigned int> > setTempCoins;\n+    CAmount nValueTroughVINs = 0;\n+    \n     // coin control -> return all selected outputs (we want all selected to go into the transaction for sure)\n     if (coinControl && coinControl->HasSelected())\n     {\n         BOOST_FOREACH(const COutput& out, vCoins)\n         {\n-            if(!out.fSpendable)\n-                continue;\n+            if (!out.fSpendable)\n+                 continue;\n             nValueRet += out.tx->vout[out.i].nValue;\n             setCoinsRet.insert(make_pair(out.tx, out.i));\n         }\n         return (nValueRet >= nTargetValue);\n     }\n+    \n+    // fill up the tx with possible predefined VINs\n+    BOOST_FOREACH(const CTxIn& txin, vPresetVINs)\n+    {\n+        bool vinOk = false;\n+        // search for VIN in available coins\n+        for (vector<COutput>::iterator it = vCoins.begin() ; it != vCoins.end();)\n+        {\n+            const COutput& out = *it;\n+            if (out.tx->GetHash() == txin.prevout.hash && txin.prevout.n == (uint32_t)out.i)\n+            {\n+                if (!out.fSpendable)\n+                    continue;\n+                \n+                nValueTroughVINs    += out.tx->vout[out.i].nValue;\n+                \n+                // temporary keep the coin to add them later after SelectCoinsMinConf has added some",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r22294281",
      "id" : 22294281,
      "original_commit_id" : "20e1d72881ec229dcbc39fa763c6dd537bc54afc",
      "original_position" : 45,
      "path" : "src/wallet.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503",
      "updated_at" : "2015-04-02T19:29:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22294281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "needs rebase (assigned 0.11 milestone, would be nice to have this)",
      "created_at" : "2015-02-27T13:37:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-76395197",
      "id" : 76395197,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-02-27T13:43:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/76395197",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "rebased.",
      "created_at" : "2015-03-05T08:04:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-77322180",
      "id" : 77322180,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-03-05T08:04:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/77322180",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "should solve #3794",
      "created_at" : "2015-03-14T08:02:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-80110212",
      "id" : 80110212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-03-14T08:02:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/80110212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "binaries to test: https://builds.jonasschnelli.ch/pulls/5503/",
      "created_at" : "2015-03-14T08:06:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-80115283",
      "id" : 80115283,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-03-14T08:06:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/80115283",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Rebased (hard rebase after \"Subtract fee from amount [#5831]\"), added some code comments.",
      "created_at" : "2015-03-21T20:28:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-84450060",
      "id" : 84450060,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-03-21T20:28:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/84450060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r26937231"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26937231"
         }
      },
      "body" : "Bug:  should be 'true' to indicate wallet requirement.  Otherwise, the 'pwalletMain' reference will oops when NULL (wallet support built, but disabled at runtime).\r\n",
      "commit_id" : "4842b17e7feb5d2c907641fd57588248f84d3319",
      "created_at" : "2015-03-23T13:51:07Z",
      "diff_hunk" : "@@ -321,7 +321,9 @@ static const CRPCCommand vRPCCommands[] =\n     { \"rawtransactions\",    \"getrawtransaction\",      &getrawtransaction,      true,      false },\n     { \"rawtransactions\",    \"sendrawtransaction\",     &sendrawtransaction,     false,     false },\n     { \"rawtransactions\",    \"signrawtransaction\",     &signrawtransaction,     false,     false }, /* uses wallet if enabled */\n-\n+#ifdef ENABLE_WALLET\n+    { \"rawtransactions\",    \"fundrawtransaction\",     &fundrawtransaction,     false,     false },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r26937231",
      "id" : 26937231,
      "original_commit_id" : "e5819b005c56088af7d57d75bd577319d8004c0f",
      "original_position" : 6,
      "path" : "src/rpcserver.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503",
      "updated_at" : "2015-04-02T19:29:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26937231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "ut ACK + plan to test this this week (modulo bug fix mentioned above of course)\r\n",
      "created_at" : "2015-03-23T14:08:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-85013718",
      "id" : 85013718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-03-23T14:09:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/85013718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r26969580"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26969580"
         }
      },
      "body" : "Thanks for catching this one! Fixed and pushed.",
      "commit_id" : "4842b17e7feb5d2c907641fd57588248f84d3319",
      "created_at" : "2015-03-23T19:18:40Z",
      "diff_hunk" : "@@ -321,7 +321,9 @@ static const CRPCCommand vRPCCommands[] =\n     { \"rawtransactions\",    \"getrawtransaction\",      &getrawtransaction,      true,      false },\n     { \"rawtransactions\",    \"sendrawtransaction\",     &sendrawtransaction,     false,     false },\n     { \"rawtransactions\",    \"signrawtransaction\",     &signrawtransaction,     false,     false }, /* uses wallet if enabled */\n-\n+#ifdef ENABLE_WALLET\n+    { \"rawtransactions\",    \"fundrawtransaction\",     &fundrawtransaction,     false,     false },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r26969580",
      "id" : 26969580,
      "original_commit_id" : "e5819b005c56088af7d57d75bd577319d8004c0f",
      "original_position" : 6,
      "path" : "src/rpcserver.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503",
      "updated_at" : "2015-04-02T19:29:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26969580",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r27280632"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/27280632"
         }
      },
      "body" : "Why sign at all if it's only for the fee calculation? I ask because we don't want to unnecessarily require the signing keys.\r\n",
      "commit_id" : "4842b17e7feb5d2c907641fd57588248f84d3319",
      "created_at" : "2015-03-27T08:18:07Z",
      "diff_hunk" : "@@ -1823,6 +1893,14 @@ bool CWallet::CreateTransaction(const vector<CRecipient>& vecSend,\n                     strFailReason = _(\"Transaction too large\");\n                     return false;\n                 }\n+                \n+                //remove signature if we used the signing only for the fee calculation",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r27280632",
      "id" : 27280632,
      "original_commit_id" : "0f1fe50bc9f2697f0d301cddd35bc85ae7b65b08",
      "original_position" : 134,
      "path" : "src/wallet/wallet.cpp",
      "position" : 143,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503",
      "updated_at" : "2015-04-02T19:29:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/27280632",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Currently i'm working on this to allow fundrawtransaction to calculate serialized transaction length for getting the right fee and priority without actually signing the tx. Tests won't make sense at the moment.",
      "created_at" : "2015-03-31T08:02:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-87988235",
      "id" : 87988235,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-03-31T08:02:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/87988235",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Updated!\r\n`fundrawtransaction` now works with locked wallets. Fee / priority calculation now goes over a new dummy-signing way in `sign.cpp`.\r\nRPC tests are now even more extensive and includes multisig test, locked wallet tests as well as comparison of calculated fee and correct fee tests.\r\n\r\nThe only question is, if it would be worth to add a\b optional `correctFee=1|0` argument for the `fundrawtransaction` rpc call. With settings this flag, users could enforce correct signing of the tx (would require unlocked wallet) which would end up in getting a more precise/correct fee.",
      "created_at" : "2015-04-02T19:41:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-89021090",
      "id" : 89021090,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-04-02T19:41:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/89021090",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r27690271"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/27690271"
         }
      },
      "body" : "We still need to remove the signature, but now, during fundrawtransaction, the signature is dummy/void.",
      "commit_id" : "4842b17e7feb5d2c907641fd57588248f84d3319",
      "created_at" : "2015-04-02T19:45:37Z",
      "diff_hunk" : "@@ -1823,6 +1893,14 @@ bool CWallet::CreateTransaction(const vector<CRecipient>& vecSend,\n                     strFailReason = _(\"Transaction too large\");\n                     return false;\n                 }\n+                \n+                //remove signature if we used the signing only for the fee calculation",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r27690271",
      "id" : 27690271,
      "original_commit_id" : "0f1fe50bc9f2697f0d301cddd35bc85ae7b65b08",
      "original_position" : 134,
      "path" : "src/wallet/wallet.cpp",
      "position" : 143,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503",
      "updated_at" : "2015-04-02T19:45:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/27690271",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r28132231"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28132231"
         }
      },
      "body" : "Yes, removing a dummy sigature is fine.\r\n",
      "commit_id" : "4842b17e7feb5d2c907641fd57588248f84d3319",
      "created_at" : "2015-04-10T09:32:23Z",
      "diff_hunk" : "@@ -1823,6 +1893,14 @@ bool CWallet::CreateTransaction(const vector<CRecipient>& vecSend,\n                     strFailReason = _(\"Transaction too large\");\n                     return false;\n                 }\n+                \n+                //remove signature if we used the signing only for the fee calculation",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#discussion_r28132231",
      "id" : 28132231,
      "original_commit_id" : "0f1fe50bc9f2697f0d301cddd35bc85ae7b65b08",
      "original_position" : 134,
      "path" : "src/wallet/wallet.cpp",
      "position" : 143,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5503",
      "updated_at" : "2015-04-10T09:32:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28132231",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "rebased.\r\n\r\nMoved RPC function \"fundrawtransaction()\" from `rpcrawtransaction.cpp` to `rpcwallet.cpp` (fundrawtransaction is a wallet function). Added wallet-is-presence check because we recently removed \"reqWallet\" check over the RPC dispatch table.",
      "created_at" : "2015-04-16T07:55:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-93670312",
      "id" : 93670312,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-04-16T07:55:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/93670312",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "rebased.",
      "created_at" : "2015-04-21T18:25:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-94895866",
      "id" : 94895866,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-04-21T18:25:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/94895866",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "I needed to use this for something and rewrote/tweaked a few chunks. See changes at https://github.com/TheBlueMatt/bitcoin/tree/frt",
      "created_at" : "2015-04-24T00:50:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-95764388",
      "id" : 95764388,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-04-24T00:50:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95764388",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Pulled in some commits from @TheBlueMatt. Only pulled in clear beneficial and easy reviewable commits. Other things (CCoinControl usage, watch-only support) may be better handled in a 2nd pull request to avoid large changeset.",
      "created_at" : "2015-04-24T09:12:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-95864892",
      "id" : 95864892,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-04-24T09:12:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95864892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli Actually, the changes I made were mostly to limit the size of *this* pull request. Some of them look like it would become a big pull request, but once squashed, the total size is actually smaller than the original :)",
      "created_at" : "2015-04-24T09:30:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-95869150",
      "id" : 95869150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-04-24T09:30:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95869150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Also, not sure when you pulled in, but I force pushe'd a few times, you may want to check that the ones you merged are the latest versions (I'm done now, I think). I also merged in a tweaked-up version of fundrawtransaction there.",
      "created_at" : "2015-04-24T09:31:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-95869779",
      "id" : 95869779,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-04-24T09:31:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95869779",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@TheBlueMatt Thank you for your tweaks! Will try to go through the optimizing commits but need a clear head for that. Will do it soon.",
      "created_at" : "2015-04-24T09:35:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-95871103",
      "id" : 95871103,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-04-24T09:35:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95871103",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "I added two more commits to that tree and made a nice rebased version at https://github.com/TheBlueMatt/bitcoin/commits/frt2",
      "created_at" : "2015-04-25T01:33:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5503#issuecomment-96118201",
      "id" : 96118201,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5503",
      "updated_at" : "2015-04-25T01:33:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96118201",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   }
]
