[
   {
      "body" : "That was quick.\r\nNice!\r\n\r\nMaybe it makes more sense to reopen this pull when #5503 is stable and got ACK and merged. I prefer to have a easy reviewable code-pice because reviewing and testing is the bottleneck.\r\nAlso it prevents you from rebasing all the time.",
      "created_at" : "2014-12-22T08:28:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5524#issuecomment-67812813",
      "id" : 67812813,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5524",
      "updated_at" : "2014-12-22T08:28:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67812813",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Breaks travis.\r\nMaybe you close and reopen this pull whenever #5503 makes it into master?",
      "created_at" : "2014-12-29T09:22:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5524#issuecomment-68242696",
      "id" : 68242696,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5524",
      "updated_at" : "2014-12-29T09:22:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68242696",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "> Breaks travis\r\n\r\nTests are passing now.",
      "created_at" : "2015-01-19T14:29:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5524#issuecomment-70500500",
      "id" : 70500500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5524",
      "updated_at" : "2015-01-19T14:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/70500500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/101238?v=3",
         "events_url" : "https://api.github.com/users/kanzure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanzure/followers",
         "following_url" : "https://api.github.com/users/kanzure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanzure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanzure",
         "id" : 101238,
         "login" : "kanzure",
         "organizations_url" : "https://api.github.com/users/kanzure/orgs",
         "received_events_url" : "https://api.github.com/users/kanzure/received_events",
         "repos_url" : "https://api.github.com/users/kanzure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanzure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanzure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanzure"
      }
   },
   {
      "body" : "@kanzure could you rebase on top of #5503?\r\n\r\nConceptual ACK.\r\nCould also go into 0.11 together with #5503 IMO.",
      "created_at" : "2015-03-11T12:37:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5524#issuecomment-78254777",
      "id" : 78254777,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5524",
      "updated_at" : "2015-03-11T12:37:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/78254777",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Rebased on to the fundrawtransaction branch. Travis is reporting an error:\r\n\r\n```\r\nTests successful\r\nRunning testscript rawtransactions.py...\r\nInitializing test directory /tmp/testZdbica\r\nJSONRPC error: Expected type int, got str\r\n  File \"/home/travis/build/bitcoin/bitcoin/bitcoin-x86_64-unknown-linux-gnu/qa/rpc-tests/test_framework.py\", line 117, in main\r\n    self.run_test()\r\n  File \"/home/travis/build/bitcoin/bitcoin/bitcoin-x86_64-unknown-linux-gnu/qa/rpc-tests/rawtransactions.py\", line 68, in run_test\r\n    rawtxfund = self.nodes[2].fundrawtransaction(rawtx)\r\n  File \"/home/travis/build/bitcoin/bitcoin/bitcoin-x86_64-unknown-linux-gnu/qa/rpc-tests/python-bitcoinrpc/bitcoinrpc/authproxy.py\", line 126, in __call__\r\n    raise JSONRPCException(response['error'])\r\nCleaning up\r\n```",
      "created_at" : "2015-03-15T17:54:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5524#issuecomment-81177461",
      "id" : 81177461,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5524",
      "updated_at" : "2015-03-15T17:54:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/81177461",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/101238?v=3",
         "events_url" : "https://api.github.com/users/kanzure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kanzure/followers",
         "following_url" : "https://api.github.com/users/kanzure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kanzure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kanzure",
         "id" : 101238,
         "login" : "kanzure",
         "organizations_url" : "https://api.github.com/users/kanzure/orgs",
         "received_events_url" : "https://api.github.com/users/kanzure/received_events",
         "repos_url" : "https://api.github.com/users/kanzure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kanzure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kanzure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kanzure"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5524#discussion_r26453716"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5524"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26453716"
         }
      },
      "body" : "Should probably be `RPCTypeCheck(params, boost::assign::list_of(str_type)(bool_type));`.",
      "commit_id" : "a3af4c1c116f09f64d3507c4143b9ec182ed10ee",
      "created_at" : "2015-03-15T23:12:40Z",
      "diff_hunk" : "@@ -766,3 +766,59 @@ Value sendrawtransaction(const Array& params, bool fHelp)\n \n     return hashTx.GetHex();\n }\n+\n+#ifdef ENABLE_WALLET\n+Value fundrawtransaction(const Array& params, bool fHelp)\n+{\n+    if (fHelp || params.size() < 1 || params.size() > 2)\n+        throw runtime_error(\n+                            \"fundrawtransaction \\\"hexstring\\\"\\n\"\n+                            \"\\nAdd vIns to a raw transaction.\\n\"\n+                            \"\\nAlso see createrawtransaction and signrawtransaction calls.\\n\"\n+                            \"\\nArguments:\\n\"\n+                            \"1. \\\"hexstring\\\"    (string, required) The hex string of the raw transaction\\n\"\n+                            \"2. includeWatching    (boolean, optional, default=false) Use watchonly outputs\\n\"\n+                            \"\\nResult:\\n\"\n+                            \"{\\n\"\n+                            \"  \\\"hex\\\": \\\"value\\\",   (string) The raw transaction with vIns (hex-encoded string)\\n\"\n+                            \"  \\\"fee\\\": n       calculated fee\\n\"\n+                            \"}\\n\"\n+                            \"\\\"hex\\\"             \\n\"\n+                            \"\\nExamples:\\n\"\n+                            \"\\nCreate a transaction with empty vIns\\n\"\n+                            + HelpExampleCli(\"createrawtransaction\", \"\\\"[]\\\" \\\"{\\\\\\\"myaddress\\\\\\\":0.01}\\\"\") +\n+                            \"\\nFund the transaction, and get back the hex\\n\"\n+                            + HelpExampleCli(\"fundrawtransaction\", \"\\\"myhex\\\"\") +\n+                            \"\\nSign the transaction, and get back the hex\\n\"\n+                            + HelpExampleCli(\"signrawtransaction\", \"\\\"myhex\\\"\") +\n+                            \"\\nSend the transaction (signed hex)\\n\"\n+                            + HelpExampleCli(\"sendrawtransaction\", \"\\\"signedhex\\\"\") +\n+                            \"\\nAs a json rpc call\\n\"\n+                            + HelpExampleRpc(\"sendrawtransaction\", \"\\\"signedhex\\\"\")\n+                            );\n+    \n+    RPCTypeCheck(params, boost::assign::list_of(int_type)(int_type)(array_type));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5524#discussion_r26453716",
      "id" : 26453716,
      "original_commit_id" : "a3af4c1c116f09f64d3507c4143b9ec182ed10ee",
      "original_position" : 35,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : 35,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5524",
      "updated_at" : "2015-03-15T23:12:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26453716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5836089?v=3",
         "events_url" : "https://api.github.com/users/dexX7/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dexX7/followers",
         "following_url" : "https://api.github.com/users/dexX7/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dexX7/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dexX7",
         "id" : 5836089,
         "login" : "dexX7",
         "organizations_url" : "https://api.github.com/users/dexX7/orgs",
         "received_events_url" : "https://api.github.com/users/dexX7/received_events",
         "repos_url" : "https://api.github.com/users/dexX7/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dexX7/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dexX7"
      }
   },
   {
      "body" : "Why try to fund without watchonly first? If I call the RPC and say I want to include watchonly, it means I want to include watchonly (and get the best fee from the inputs I opted to select).",
      "created_at" : "2015-04-20T21:10:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5524#issuecomment-94569070",
      "id" : 94569070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5524",
      "updated_at" : "2015-04-20T21:10:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/94569070",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I'd like to add this to #5503 but the nFeeRet=0 as well as the issue mentioned by @TheBlueMatt (calling `CreateTransaction()` two times) are unclear and needs fixing. RPC tests should also send a funded raw transaction and check the response to make sure it passes the mempool checks (i have a feeling that it won't because of the generated fee)",
      "created_at" : "2015-04-21T19:56:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5524#issuecomment-94919109",
      "id" : 94919109,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5524",
      "updated_at" : "2015-04-21T19:56:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/94919109",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   }
]
