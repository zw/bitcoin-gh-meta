[
   {
      "body" : "Weird.\r\nIs there anything in the tail of the debug.log about errors accepting a block?\r\nOr e.g. leveldb checksum errors?\r\nWas this during the initial sync, or a node that has been running for a long time? Was it upgraded from 0.9?\r\n\r\nI wonder if A) it ever received the correct block 336370 (hash 00000000000000000c3ac3a00701d773648fa304a324a7a11eb1e4cf71c8c972) and rejected it, or B) that it isn't requesting that for some reason, and therefore stuck on the wrong side. Or the node requested it but hasn't received it...\r\n\r\n",
      "created_at" : "2015-01-01T11:39:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68484883",
      "id" : 68484883,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-01T11:40:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68484883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Make sure you save the debug.log before restarting the node (as that may rotate it and lose information).\r\nFor troubleshooting it would help a lot if you mail it (gzipped/optionally pgp encrypted) to laanwj@gmail.com or upload it somewhere.\r\n",
      "created_at" : "2015-01-01T11:45:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68484962",
      "id" : 68484962,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-01T11:45:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68484962",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Also: can you post the output of the `getchaintips` RPC?\r\n",
      "created_at" : "2015-01-01T12:20:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68485519",
      "id" : 68485519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-01T12:20:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68485519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Can it be a problem with compatibility to the relay network client.  I noticed that 336372 came directly after 336371.  debug.log contains the lines\r\n\r\n```\r\n2014-12-28 21:03:08 ERROR: AcceptBlockHeader : prev block not found\r\n2014-12-28 21:03:08 ERROR: ProcessNewBlock : AcceptBlock FAILED\r\n2014-12-28 21:03:08 Misbehaving: 127.0.0.1:40312 (0 -> 10)\r\n```\r\n\r\nMaybe the blocks were relayed in the wrong order.\r\n\r\n*Update*: block 336372 was sent *before* 336371 (both came from the same miner). \r\n*Update 2*: I should check the facts more carefully.  336372 and 336373 came from the same miner with reversed time stamps.  336371 came from a different miner a minute earlier (according to time stamp).   Of course, the time stamps are not accurate enough to say anything about the order they were sent through the network.\r\n\r\nI restarted the server and it recovered from the problem.",
      "created_at" : "2015-01-01T12:31:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68485677",
      "id" : 68485677,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-01T12:56:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68485677",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/897826?v=3",
         "events_url" : "https://api.github.com/users/jhoenicke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jhoenicke/followers",
         "following_url" : "https://api.github.com/users/jhoenicke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jhoenicke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jhoenicke",
         "id" : 897826,
         "login" : "jhoenicke",
         "organizations_url" : "https://api.github.com/users/jhoenicke/orgs",
         "received_events_url" : "https://api.github.com/users/jhoenicke/received_events",
         "repos_url" : "https://api.github.com/users/jhoenicke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jhoenicke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jhoenicke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jhoenicke"
      }
   },
   {
      "body" : "That makes sense - it looks like a subtle bug, it rejected the header because it could not find the previous block, then just never requested it again. None of these messages mentions which block is concerned, but we could assume it is 336371.\r\n\r\nPossibly, interactions with @bluematt's relay client may break an assumption in the P2P code.\r\n",
      "created_at" : "2015-01-02T11:25:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68520670",
      "id" : 68520670,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-02T11:38:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68520670",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I've augmented your blk overview with the block numbers, and they tell a similar story\r\n```\r\n[main 336368] Block: 000000000000000007113bc080f3442d74d11e02ca156e39c92290a78d70403a parent: 000000000000000007edde8a1649ca5f967c95142920bb20408cfc1b9f1a2a66\r\n[main 336369] Block: 0000000000000000189923f03da1a3130919808dc354074267ead5988b87ad19 parent: 000000000000000007113bc080f3442d74d11e02ca156e39c92290a78d70403a\r\n[stale 336370] Block: 000000000000000000929bbefb29a690c8913b3c066946d998bfd7c5426fb5e7 parent: 0000000000000000189923f03da1a3130919808dc354074267ead5988b87ad19\r\n[main 336372] Block: 0000000000000000038c09063f665c6a3b906d0d6f0969572dc4a9d119f3b6ea parent: 00000000000000000b858f3f63fa38dd01051abaa5974aec68c3c2712602205d\r\n[main 336370] Block: 00000000000000000c3ac3a00701d773648fa304a324a7a11eb1e4cf71c8c972 parent: 0000000000000000189923f03da1a3130919808dc354074267ead5988b87ad19\r\n[main 336373] Block: 0000000000000000084413b21b030408acf50f2741ac623973ef8a9676e93b78 parent: 0000000000000000038c09063f665c6a3b906d0d6f0969572dc4a9d119f3b6ea\r\n[main 336374] Block: 00000000000000001124faaba22545ebea7ec0a5fc0218f972915698c417af9e parent: 0000000000000000084413b21b030408acf50f2741ac623973ef8a9676e93b78\r\n[main 336375] Block: 000000000000000015a4f30d82ee0b924836815f7afb5d420852eedda59f10c9 parent: 00000000000000001124faaba22545ebea7ec0a5fc0218f972915698c417af9e\r\n```\r\nThe main chain's block 336371 `00000000000000000b858f3f63fa38dd01051abaa5974aec68c3c2712602205d` was never received and stored, so likely never requested again.\r\n",
      "created_at" : "2015-01-02T11:38:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68521207",
      "id" : 68521207,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-02T11:38:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68521207",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Dumb question:  Was this node connected to any peers other than the relaynode peer?  ",
      "created_at" : "2015-01-02T21:45:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68565409",
      "id" : 68565409,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-02T21:45:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68565409",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "Yes, it was connected; it usually has a lot of incoming connections in addition to the usual eight outgoing connections.  \r\n\r\nIf I understand the problem correctly it didn't request block 336371 from the other peers ever again although it requested the parent block 336370 later.  Even a misbehaving peer should not be able to stop bitcoind from accepting a valid block.\r\n\r\nThe problem was solved by restarting.",
      "created_at" : "2015-01-03T09:59:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68589457",
      "id" : 68589457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-03T09:59:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68589457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/897826?v=3",
         "events_url" : "https://api.github.com/users/jhoenicke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jhoenicke/followers",
         "following_url" : "https://api.github.com/users/jhoenicke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jhoenicke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jhoenicke",
         "id" : 897826,
         "login" : "jhoenicke",
         "organizations_url" : "https://api.github.com/users/jhoenicke/orgs",
         "received_events_url" : "https://api.github.com/users/jhoenicke/received_events",
         "repos_url" : "https://api.github.com/users/jhoenicke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jhoenicke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jhoenicke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jhoenicke"
      }
   },
   {
      "body" : "I've been trying to track this down and I think I have a guess as to what could have occurred. \r\n\r\nWhich version of the relay client are you using?  Am I right in assuming you've whitelisted it?\r\n\r\nI believe at least the java and python versions of the relay client will send an inv for blocks they deliver followed by the block itself as part of their delivery, and because the relay client is probably whitelisted, that the relay node will be a preferred download peer and could be assigned a block to download.  If that were to happen, then the node would get stuck because the getdata would go unanswered, but because the block is \"in flight\" no other node would be asked to provide it.\r\n\r\nMore specifically, my guess is that the following likely occurred:\r\na) The network forks at block 370 (as shown above).\r\n\r\nb) Block 371 is inv'ed and delivered by the relay node.\r\nThis block would be discarded since its parent is unknown.  The getheaders message sent to the relay node is discarded by the relay code.\r\n\r\nc) Block 372 is inv'ed by one of the other peers.\r\nThe getheaders request sent in response was presumably answered and mapBlockIndex now contains the alternate block 370 along with blocks 371 and 372.\r\n\r\nSince you indicated most of your other peers are inbound connections, I think it's likely that the peer who inv'ed you 372 is not a preferred download peer (see main.cpp:295).  I believe that the inv handling code would request block 372 itself from the peer that inv'ed it, but to download block 371, my understanding is that the code defers assignment until later, in SendMessages.\r\n\r\nWhen SendMessages is called for each node, I believe the only preferred download peer that would have the block as available is the relay node peer.  The relay would be a preferred download peer if it's whitelisted (even though it's inbound), and in ProcessBlockAvailability (main.cpp:348) the hash for block 371, which was unknown when received, should then be able to be found in the block index and could be assigned.\r\n\r\nAssuming no other peers have inv'ed blocks 371 or 372 at the point , the node would have sent a getdata to the relay peer.  Unfortunately the relay peer ignores those messages, and I believe this would trigger a bug highlighted in #5463, namely that having a getdata ignored by a client causes the node to get stuck with the tip not advancing.  \r\n\r\nIf this analysis is right, it's not clear to me what the right solution to this is; presumably #5463 would solve this problem from lingering, but perhaps a solution that gets the tip moving more quickly again would be preferable, so that miners using the relay client don't find themselves mining on an old tip?\r\n",
      "created_at" : "2015-01-03T22:35:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68612346",
      "id" : 68612346,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-03T22:35:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68612346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "I had what might be a related issue. I noticed that my syncing (catching up, when starting up, running 0.10.0rc1) was stalled, and looking at the log showed that it had been stuck for over 2 hours, and that the next block was in flight from one peer. Also, the blocks ahead seemed to be getting loaded in, as it was switching block files. I used a program to forcibly close the socket, disconnecting the peer that was supposedly serving me that block, and 80 seconds later I was synced.\r\n\r\n[getchaintips](https://www.irccloud.com/pastebin/MjcFrbB7), [getpeerinfo](https://www.irccloud.com/pastebin/CzcL4eHu), [debug.log excerpt](http://pastebin.com/ZZUPCutt)\r\n\r\nYou can see it synced normally until block 337077 at 2015-01-03 19:38:06, at which point it stopped, but continued to fill in the blocks ahead of there. At 2015-01-03 21:42:17 I killed the connection to that peer, at which point syncing proceeded normally.",
      "created_at" : "2015-01-03T23:20:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68613629",
      "id" : 68613629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-03T23:20:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68613629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2559390?v=3",
         "events_url" : "https://api.github.com/users/Michagogo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Michagogo/followers",
         "following_url" : "https://api.github.com/users/Michagogo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Michagogo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Michagogo",
         "id" : 2559390,
         "login" : "Michagogo",
         "organizations_url" : "https://api.github.com/users/Michagogo/orgs",
         "received_events_url" : "https://api.github.com/users/Michagogo/received_events",
         "repos_url" : "https://api.github.com/users/Michagogo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Michagogo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Michagogo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Michagogo"
      }
   },
   {
      "body" : "I don't have the relay on the whitelist (I didn't bother to figure out how to do it yet). \r\nI use the Java version of RelayNode; the latest version pre-compiled in Matt's repository (from Sept).\r\nhttps://github.com/TheBlueMatt/RelayNode/blob/master/client/RelayNodeClient.jar\r\n\r\nI haven't asked for getpeerinfo, but I don't think the block was stalled by another peer.  At the time I restarted it was 3.5 days behind.",
      "created_at" : "2015-01-04T08:42:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68625556",
      "id" : 68625556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-04T08:42:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68625556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/897826?v=3",
         "events_url" : "https://api.github.com/users/jhoenicke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jhoenicke/followers",
         "following_url" : "https://api.github.com/users/jhoenicke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jhoenicke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jhoenicke",
         "id" : 897826,
         "login" : "jhoenicke",
         "organizations_url" : "https://api.github.com/users/jhoenicke/orgs",
         "received_events_url" : "https://api.github.com/users/jhoenicke/received_events",
         "repos_url" : "https://api.github.com/users/jhoenicke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jhoenicke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jhoenicke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jhoenicke"
      }
   },
   {
      "body" : "So it sounds like there are two independent problems:\r\n* Outside of IBD, stalling detection doesn't work, so we want a means to prevent unbounded waiting for a block that doesn't arrive (like #5463, see my comment there).\r\n* The relay client doesn't reply to `getheaders` - this is not a problem to bitcoin core itself, but it does make the relay client useless for transferring reorgs.",
      "created_at" : "2015-01-04T15:12:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68636043",
      "id" : 68636043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-04T15:12:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68636043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "IBD meaning initial node bootstrap specifically though, not catching up on\r\nstart.\r\n\r\nOn Sun, Jan 4, 2015 at 5:13 PM, Pieter Wuille <notifications@github.com>\r\nwrote:\r\n\r\n> So it sounds like there are two independent problems:\r\n>\r\n>    - Outside of IBD, stalling detection doesn't work, so we want a means\r\n>    to prevent unbounded waiting for a block that doesn't arrive (like\r\n>    #5463 <https://github.com/bitcoin/bitcoin/pull/5463>, see my comment\r\n>    there).\r\n>    - The relay client doesn't reply to getheaders - this is not a problem\r\n>    to bitcoin core itself, but it does make the relay client useless for\r\n>    transferring reorgs.\r\n>\r\n> Ã¢ÂÂ\r\n> Reply to this email directly or view it on GitHub\r\n> <https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68636043>.\r\n>",
      "created_at" : "2015-01-04T15:14:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68636118",
      "id" : 68636118,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-04T15:14:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68636118",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2559390?v=3",
         "events_url" : "https://api.github.com/users/Michagogo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Michagogo/followers",
         "following_url" : "https://api.github.com/users/Michagogo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Michagogo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Michagogo",
         "id" : 2559390,
         "login" : "Michagogo",
         "organizations_url" : "https://api.github.com/users/Michagogo/orgs",
         "received_events_url" : "https://api.github.com/users/Michagogo/received_events",
         "repos_url" : "https://api.github.com/users/Michagogo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Michagogo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Michagogo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Michagogo"
      }
   },
   {
      "body" : "@Michagogo Eh? I'm using IBD here to refer to whenever you're more than 1024 blocks behind.",
      "created_at" : "2015-01-04T15:27:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68636545",
      "id" : 68636545,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-04T15:27:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68636545",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Ah, okay.\r\n\r\nOn Sun, Jan 4, 2015 at 5:28 PM, Pieter Wuille <notifications@github.com>\r\nwrote:\r\n\r\n> @Michagogo <https://github.com/Michagogo> Eh? I'm using IBD here to refer\r\n> to whenever you're more than 1024 blocks behind.\r\n>\r\n> Ã¢ÂÂ\r\n> Reply to this email directly or view it on GitHub\r\n> <https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68636545>.\r\n>",
      "created_at" : "2015-01-04T15:29:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-68636616",
      "id" : 68636616,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-04T15:29:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/68636616",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2559390?v=3",
         "events_url" : "https://api.github.com/users/Michagogo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Michagogo/followers",
         "following_url" : "https://api.github.com/users/Michagogo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Michagogo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Michagogo",
         "id" : 2559390,
         "login" : "Michagogo",
         "organizations_url" : "https://api.github.com/users/Michagogo/orgs",
         "received_events_url" : "https://api.github.com/users/Michagogo/received_events",
         "repos_url" : "https://api.github.com/users/Michagogo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Michagogo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Michagogo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Michagogo"
      }
   },
   {
      "body" : "Workaround in #5608, so removing 0.10.0 milestone",
      "created_at" : "2015-01-12T10:33:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-69551917",
      "id" : 69551917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-12T10:33:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69551917",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I ran into this testing 0.10.0rc1 (on 32 bit ARM) while catching up ~2000 blocks \r\nCuriously it got stuck on height=338072 (stays as last connected best block) as well for some reason:\r\n\r\n[debug log excerpt](http://pastebin.com/CdKARQfb) \r\n[peerinfo (a couple of hours later but still stuck)](http://pastebin.com/fyArgNcY) \r\n[getchaintips](http://paste.debian.net/140347/)",
      "created_at" : "2015-01-12T18:31:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-69619458",
      "id" : 69619458,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-12T18:31:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69619458",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2886147?v=3",
         "events_url" : "https://api.github.com/users/EagleTM/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EagleTM/followers",
         "following_url" : "https://api.github.com/users/EagleTM/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EagleTM/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EagleTM",
         "id" : 2886147,
         "login" : "EagleTM",
         "organizations_url" : "https://api.github.com/users/EagleTM/orgs",
         "received_events_url" : "https://api.github.com/users/EagleTM/received_events",
         "repos_url" : "https://api.github.com/users/EagleTM/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EagleTM/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EagleTM/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EagleTM"
      }
   },
   {
      "body" : "Please test 0.10.0rc3 now, this should be fixed...",
      "created_at" : "2015-01-12T18:35:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/5588#issuecomment-69620200",
      "id" : 69620200,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5588",
      "updated_at" : "2015-01-12T18:35:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/69620200",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
