[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Allowing to call `importdescriptors` with the same descriptor but a different birthdate may also be a solution? Are users only interested in spendable outputs or may they also be interested in their transaction history in general?",
      "created_at" : "2023-11-23T17:37:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28898#issuecomment-1824766692",
      "id" : 1824766692,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28898",
      "node_id" : "IC_kwDOABII585sw7rk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1824766692/reactions"
      },
      "updated_at" : "2023-11-23T17:37:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1824766692",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "An alternative/parallel course of action could be making `rescanblockchain` much faster. Removing the need for additional RPC calls to identify any missing tx.\r\n<start_shill>\r\nThe user can build the block filter index in 5-10 minutes using #26966 (per Sjors's benchmark). And, with it, `rescanblockchain` performs at a completely different speed level.\r\n<end_shill>",
      "created_at" : "2023-11-23T21:17:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28898#issuecomment-1824916723",
      "id" : 1824916723,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28898",
      "node_id" : "IC_kwDOABII585sxgTz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1824916723/reactions"
      },
      "updated_at" : "2023-11-23T21:23:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1824916723",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> An alternative/parallel course of action could be making `rescanblockchain` much faster. Removing the need for additional RPC calls to identify any missing tx.\r\n\r\nI don't think this is an alternative, because the rescan won't find the txs if the birthdate is wrong, see also https://github.com/bitcoin/bitcoin/issues/28897? Moreover, on hardware without parallel cores, building the block filter index is not going to be sped up. Finally, on wallets with a sufficient number of keys, the blockfilter rescan may take longer than a \"traditional\" rescan, or at least time in the same magnitude.",
      "created_at" : "2023-11-24T08:56:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28898#issuecomment-1825338315",
      "id" : 1825338315,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28898",
      "node_id" : "IC_kwDOABII585szHPL",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825338315/reactions"
      },
      "updated_at" : "2023-11-24T08:56:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825338315",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> the rescan won't find the txs if the birthdate is wrong\r\n\r\nThe birth time check resides on the 'block connected' event handler. It does not affect the `rescanblockchain` functionality. Users can utilize it to identify missing transactions.\r\n\r\n> see also #28897\r\n\r\nFixed it few days ago, see #28920.\r\n\r\n> Moreover, on hardware without parallel cores, building the block filter index is not going to be sped up\r\n\r\nThat's true, but it's not a reason not to do it. The entire node is multi-threaded, and the user will need to call `rescanblockchain` sooner or later to obtain the latest wallet state (use missing tx outputs, see the final balance, etc.)\r\n\r\nI'm not going against your proposed changes (the  `getbalances scan_utxoset=true` sounds good for me). But, just as a clarification; the user will still need to call `rescanblockchain` **after** calling `getbalances` to detect the transaction(s) history and any other possible branches of it.\r\nFor instance, could be a case where the spendable utxo is part of a chain of transactions, so the wallet will need to scan the chain backwards. Which could also cause the wallet to surpass the look-ahead window (the 1k key pool), which could make the wallet identify other transactions along the way.",
      "created_at" : "2023-11-24T14:23:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28898#issuecomment-1825745912",
      "id" : 1825745912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28898",
      "node_id" : "IC_kwDOABII585s0qv4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825745912/reactions"
      },
      "updated_at" : "2023-11-24T15:58:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825745912",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Allowing to call `importdescriptors` with the same descriptor but a different birthdate may also be a solution? Are users only interested in spendable outputs or may they also be interested in their transaction history in general?\r\n\r\nThis is already possible btw.\r\n\r\nCan we always double-check balance after `importdescriptors`?  Why ask users to call a second RPC manually if we can do it automatically for them?",
      "created_at" : "2023-11-25T15:43:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28898#issuecomment-1826360612",
      "id" : 1826360612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28898",
      "node_id" : "IC_kwDOABII585s3A0k",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1826360612/reactions"
      },
      "updated_at" : "2023-11-25T15:43:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1826360612",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   }
]
