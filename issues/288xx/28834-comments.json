[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28834).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [naumenkogs](https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1916362642) |\n| Stale ACK | [mzumsande](https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1989019157), [vasild](https://github.com/bitcoin/bitcoin/pull/28834#pullrequestreview-1933533440) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#29415](https://github.com/bitcoin/bitcoin/pull/29415) (Broadcast own transactions only via short-lived Tor or I2P connections by vasild)\n* [#27375](https://github.com/bitcoin/bitcoin/pull/27375) (net: support unix domain sockets for -proxy and -onion by pinheadmz)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-11-09T17:31:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1804262444",
      "id" : 1804262444,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII585ritws",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1804262444/reactions"
      },
      "updated_at" : "2024-03-15T20:59:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1804262444",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "CI failed",
      "created_at" : "2023-11-13T13:25:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1808162078",
      "id" : 1808162078,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII585rxl0e",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1808162078/reactions"
      },
      "updated_at" : "2023-11-13T13:25:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1808162078",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There was an issue with the interaction of the change and using a proxy. It should be fixed now",
      "created_at" : "2023-11-15T17:29:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1812964820",
      "id" : 1812964820,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII585sD6XU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812964820/reactions"
      },
      "updated_at" : "2023-11-15T17:29:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1812964820",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1394550037"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394550037"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "CI linter needs appeasing here by removing extra spaces\r\n```suggestion\r\n```\r\n\r\n(you can check locally before pushing by running `./test/lint/lint-whitespace.py`)",
      "commit_id" : "8efc4c3ec87d1c572f1034b307a52a49692fc301",
      "created_at" : "2023-11-15T17:47:03Z",
      "diff_hunk" : "@@ -187,7 +188,10 @@ def node_test(self, node, *, proxies, auth, test_onion, test_cjdns):\n         addr = \"node.noumenon:8333\"\n         self.log.debug(f\"Test: outgoing DNS name connection through node for address {addr}\")\n         node.addnode(addr, \"onetry\")\n+        # FIXME: DEADLOCK IS HERE\n+        self.log.debug(f\"Test: DEADLOCK\")\n         cmd = proxies[3].queue.get()\n+        ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1394550037",
      "id" : 1394550037,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585THyUV",
      "original_commit_id" : "3bb2cd964059ca088ec2c63a5b64bf7f2f0441a2",
      "original_line" : 194,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/feature_proxy.py",
      "position" : null,
      "pull_request_review_id" : 1732608749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394550037/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-15T17:49:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394550037",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1394555196"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394555196"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I even left some debug comments there. My bad",
      "commit_id" : "8efc4c3ec87d1c572f1034b307a52a49692fc301",
      "created_at" : "2023-11-15T17:50:27Z",
      "diff_hunk" : "@@ -187,7 +188,10 @@ def node_test(self, node, *, proxies, auth, test_onion, test_cjdns):\n         addr = \"node.noumenon:8333\"\n         self.log.debug(f\"Test: outgoing DNS name connection through node for address {addr}\")\n         node.addnode(addr, \"onetry\")\n+        # FIXME: DEADLOCK IS HERE\n+        self.log.debug(f\"Test: DEADLOCK\")\n         cmd = proxies[3].queue.get()\n+        ",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1394555196",
      "id" : 1394555196,
      "in_reply_to_id" : 1394550037,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585THzk8",
      "original_commit_id" : "3bb2cd964059ca088ec2c63a5b64bf7f2f0441a2",
      "original_line" : 194,
      "original_position" : 15,
      "original_start_line" : null,
      "path" : "test/functional/feature_proxy.py",
      "position" : null,
      "pull_request_review_id" : 1732613958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394555196/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-11-15T17:50:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1394555196",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1431825997"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1431825997"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "There should be a different name than `addrConnect` (either here or above), shadowing should be avoided.",
      "commit_id" : "8efc4c3ec87d1c572f1034b307a52a49692fc301",
      "created_at" : "2023-12-19T19:00:21Z",
      "diff_hunk" : "@@ -448,102 +457,108 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     assert(!addr_bind.IsValid());\n     std::unique_ptr<i2p::sam::Session> i2p_transient_session;\n \n-    if (addrConnect.IsValid()) {\n-        const bool use_proxy{GetProxy(addrConnect.GetNetwork(), proxy)};\n-        bool proxyConnectionFailed = false;\n+    for (auto& addrConnect: resolvedAddresses) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1431825997",
      "id" : 1431825997,
      "line" : 460,
      "node_id" : "PRRC_kwDOABII585VV-5N",
      "original_commit_id" : "8efc4c3ec87d1c572f1034b307a52a49692fc301",
      "original_line" : 460,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 32,
      "pull_request_review_id" : 1789537291,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1431825997/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-19T20:03:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1431825997",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1432947431"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432947431"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Addressed in [9c1ab79](https://github.com/bitcoin/bitcoin/pull/28834/commits/9c1ab798b64d907e8aa96e0ed4d00469decab554)",
      "commit_id" : "9c1ab798b64d907e8aa96e0ed4d00469decab554",
      "created_at" : "2023-12-20T16:41:29Z",
      "diff_hunk" : "@@ -448,102 +457,108 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     assert(!addr_bind.IsValid());\n     std::unique_ptr<i2p::sam::Session> i2p_transient_session;\n \n-    if (addrConnect.IsValid()) {\n-        const bool use_proxy{GetProxy(addrConnect.GetNetwork(), proxy)};\n-        bool proxyConnectionFailed = false;\n+    for (auto& addrConnect: resolvedAddresses) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1432947431",
      "id" : 1432947431,
      "in_reply_to_id" : 1431825997,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585VaQrn",
      "original_commit_id" : "8efc4c3ec87d1c572f1034b307a52a49692fc301",
      "original_line" : 460,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1791289958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432947431/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-20T16:41:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1432947431",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Would be good to adjust the title / commit message to be more general: The solution doesn't specifically address `addnode` but changes `OpenNetworkConnection` / `ConnectNode` and therefore all callers that use it with `pszDest` set (`-connect`, `-seednode`, test-only `-addconnection`) are affected by the change.\r\n\r\nUpdated both commit message/title and PR title/desciption",
      "created_at" : "2023-12-20T20:56:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1865127780",
      "id" : 1865127780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII585vK5dk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1865127780/reactions"
      },
      "updated_at" : "2023-12-20T20:56:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1865127780",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased to fix CI",
      "created_at" : "2024-01-29T22:07:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1915659529",
      "id" : 1915659529,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII585yLqUJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1915659529/reactions"
      },
      "updated_at" : "2024-01-29T22:07:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1915659529",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2024-01-30T08:59:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1916362642",
      "id" : 1916362642,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII585yOV-S",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1916362642/reactions"
      },
      "updated_at" : "2024-01-30T08:59:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1916362642",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1487480449"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1487480449"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "naming: variable names should use snake_case according to `doc/developer-notes.md`.\r\n\r\nAlso, this contains the \"resolved\" addresses in the first branch, but in the other branches it has just a copy of `addrConnect`. In that case there is no \"resolving\" involved. Maybe a better name would be `connect_to`?",
      "commit_id" : "494c732fabf656764114bfbf824e5aa60c80e2cf",
      "created_at" : "2024-02-13T09:34:05Z",
      "diff_hunk" : "@@ -417,6 +417,7 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     // Resolve\n     const uint16_t default_port{pszDest != nullptr ? GetDefaultPort(pszDest) :\n                                                      m_params.GetDefaultPort()};\n+    std::vector<CAddress> resolvedAddresses{};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1487480449",
      "id" : 1487480449,
      "line" : 420,
      "node_id" : "PRRC_kwDOABII585YqSaB",
      "original_commit_id" : "494c732fabf656764114bfbf824e5aa60c80e2cf",
      "original_line" : 420,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 4,
      "pull_request_review_id" : 1877328078,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1487480449/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-13T09:41:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1487480449",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1487488123"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1487488123"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Here we iterate over all resolved addresses and I think this is the right thing to do as usually there are just a few, maybe IPv4 and IPv6 and some fallback addresses for redundancy.\r\n\r\nWhat is the worst thing that can happen? A broken/malicious hostname could resolve to 100s addresses all of which timeout slowly, causing some delay here. I think that is ok, given that `pzsDest` never comes unchecked from random/evil peers over the P2P network and is always provided manually by the operator of the node, right?",
      "commit_id" : "494c732fabf656764114bfbf824e5aa60c80e2cf",
      "created_at" : "2024-02-13T09:39:30Z",
      "diff_hunk" : "@@ -449,102 +458,108 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     assert(!addr_bind.IsValid());\n     std::unique_ptr<i2p::sam::Session> i2p_transient_session;\n \n-    if (addrConnect.IsValid()) {\n-        const bool use_proxy{GetProxy(addrConnect.GetNetwork(), proxy)};\n-        bool proxyConnectionFailed = false;\n+    for (auto& resolvedAddr: resolvedAddresses) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1487488123",
      "id" : 1487488123,
      "line" : 461,
      "node_id" : "PRRC_kwDOABII585YqUR7",
      "original_commit_id" : "494c732fabf656764114bfbf824e5aa60c80e2cf",
      "original_line" : 461,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 32,
      "pull_request_review_id" : 1877328078,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1487488123/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-13T09:41:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1487488123",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1489634608"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489634608"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I've changed `resolvedAddresses` -> `connect_to`, and `resolvedAddr` -> `target_addr` for consistency.\r\n\r\nAlso, I added a comment describing what `connect_to` is and how it gets populated ",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-14T15:08:08Z",
      "diff_hunk" : "@@ -417,6 +417,7 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     // Resolve\n     const uint16_t default_port{pszDest != nullptr ? GetDefaultPort(pszDest) :\n                                                      m_params.GetDefaultPort()};\n+    std::vector<CAddress> resolvedAddresses{};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1489634608",
      "id" : 1489634608,
      "in_reply_to_id" : 1487480449,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585YygUw",
      "original_commit_id" : "494c732fabf656764114bfbf824e5aa60c80e2cf",
      "original_line" : 420,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1880552660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489634608/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-14T15:09:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489634608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1489732482"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489732482"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> What is the worst thing that can happen? A broken/malicious hostname could resolve to 100s addresses all of which timeout slowly, causing some delay here.\r\n\r\nWe are limiting the number of resolutions to 256\r\n\r\n> I think that is ok, given that pzsDest never comes unchecked from random/evil peers over the P2P network and is always provided manually by the operator of the node, right?\r\n\r\nThat's my understanding too. This is the call tree for `ConnectNode`:\r\n\r\n```\r\nRPC::AddConnection -->      AddConnection               --|\r\nThreadOpenConnections -->   ProcessAddrFetch            --|  \r\nConnman::Start -->          ThreadOpenConnections (x2)  ------->  OpenNetworkConnection --> ConnectNode \r\nCConnman::Start -->         ThreadOpenAddedConnections  --|\r\n                            RPC::AddNode (\"onetry\")     __|\r\n```\r\n\r\nOut of all these, the only method that is not purely manual is `ThreadOpenConnections`, but that only calls `OpenNetworkConnection` with `pszDest` set if connect parameters have been passed to startup, which are also manual.",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-14T16:12:51Z",
      "diff_hunk" : "@@ -449,102 +458,108 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     assert(!addr_bind.IsValid());\n     std::unique_ptr<i2p::sam::Session> i2p_transient_session;\n \n-    if (addrConnect.IsValid()) {\n-        const bool use_proxy{GetProxy(addrConnect.GetNetwork(), proxy)};\n-        bool proxyConnectionFailed = false;\n+    for (auto& resolvedAddr: resolvedAddresses) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1489732482",
      "id" : 1489732482,
      "in_reply_to_id" : 1487488123,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Yy4OC",
      "original_commit_id" : "494c732fabf656764114bfbf824e5aa60c80e2cf",
      "original_line" : 461,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1880712309,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489732482/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-14T16:14:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1489732482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1491629378"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491629378"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think that is ok, given that pzsDest never comes unchecked from random/evil peers over the P2P network and is always provided manually by the operator of the node, right?\r\n\r\nWith the slight exception that DNS seeds can, in certain circumstances, be added as `AddAddrFetch` peers and then queried via `pszDest`. These are not provided by the operator manually but hardcoded.",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-15T20:29:31Z",
      "diff_hunk" : "@@ -449,102 +458,108 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     assert(!addr_bind.IsValid());\n     std::unique_ptr<i2p::sam::Session> i2p_transient_session;\n \n-    if (addrConnect.IsValid()) {\n-        const bool use_proxy{GetProxy(addrConnect.GetNetwork(), proxy)};\n-        bool proxyConnectionFailed = false;\n+    for (auto& resolvedAddr: resolvedAddresses) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1491629378",
      "id" : 1491629378,
      "in_reply_to_id" : 1487488123,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Y6HVC",
      "original_commit_id" : "494c732fabf656764114bfbf824e5aa60c80e2cf",
      "original_line" : 461,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1883815111,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491629378/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-15T20:29:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1491629378",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "ACK ba021087a2a8d1b5866460a386ea42e0b643c184\r\n\r\nI reviewed the code and tested this by manually connecting to a node that resolves to both an IPv4 and an IPv6 address (the latter of which I can't connect to in my network environmen)",
      "created_at" : "2024-02-15T20:31:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1947291868",
      "id" : 1947291868,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII5850EVDc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1947291868/reactions"
      },
      "updated_at" : "2024-02-15T20:31:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1947291868",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492192396"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492192396"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: do we still need `Shuffle(resolved.begin(), resolved.end(), FastRandomContext());`? It certainly doesn't achieve the same goal as before... I'd suggest either dropping it altogether, or document this new purpose (either inline or in the commit message).",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-16T09:31:14Z",
      "diff_hunk" : "@@ -417,6 +417,9 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     // Resolve\n     const uint16_t default_port{pszDest != nullptr ? GetDefaultPort(pszDest) :\n                                                      m_params.GetDefaultPort()};\n+\n+    // Collection of addresses to try to connect to: either all dns resolved addresses (if pszDest is provided) or addrConnect otherwise.\n+    std::vector<CAddress> connect_to{};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492192396",
      "id" : 1492192396,
      "line" : 422,
      "node_id" : "PRRC_kwDOABII585Y8QyM",
      "original_commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "original_line" : 422,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 1884670140,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492192396/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-16T09:49:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492192396",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492195357"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492195357"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: would be nice to say `XYZ (pszDest) is provided` instead of `pszDest is provided`",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-16T09:33:50Z",
      "diff_hunk" : "@@ -417,6 +417,9 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     // Resolve\n     const uint16_t default_port{pszDest != nullptr ? GetDefaultPort(pszDest) :\n                                                      m_params.GetDefaultPort()};\n+\n+    // Collection of addresses to try to connect to: either all dns resolved addresses (if pszDest is provided) or addrConnect otherwise.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492195357",
      "id" : 1492195357,
      "line" : 421,
      "node_id" : "PRRC_kwDOABII585Y8Rgd",
      "original_commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "original_line" : 421,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 5,
      "pull_request_review_id" : 1884670140,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492195357/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-16T09:49:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492195357",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492202202"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492202202"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit:\r\n\r\nI'd suggest to clarify the commit message saying that \"a valid one is found\" refers to what exactly (getting up to here and `connected = true`).",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-16T09:39:31Z",
      "diff_hunk" : "@@ -449,102 +460,108 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     assert(!addr_bind.IsValid());\n     std::unique_ptr<i2p::sam::Session> i2p_transient_session;\n \n-    if (addrConnect.IsValid()) {\n-        const bool use_proxy{GetProxy(addrConnect.GetNetwork(), proxy)};\n-        bool proxyConnectionFailed = false;\n+    for (auto& target_addr: connect_to) {\n+        if (target_addr.IsValid()) {\n+            const bool use_proxy{GetProxy(target_addr.GetNetwork(), proxy)};\n+            bool proxyConnectionFailed = false;\n \n-        if (addrConnect.IsI2P() && use_proxy) {\n-            i2p::Connection conn;\n+            if (target_addr.IsI2P() && use_proxy) {\n+                i2p::Connection conn;\n \n-            if (m_i2p_sam_session) {\n-                connected = m_i2p_sam_session->Connect(addrConnect, conn, proxyConnectionFailed);\n-            } else {\n-                {\n-                    LOCK(m_unused_i2p_sessions_mutex);\n-                    if (m_unused_i2p_sessions.empty()) {\n-                        i2p_transient_session =\n-                            std::make_unique<i2p::sam::Session>(proxy.proxy, &interruptNet);\n-                    } else {\n-                        i2p_transient_session.swap(m_unused_i2p_sessions.front());\n-                        m_unused_i2p_sessions.pop();\n+                if (m_i2p_sam_session) {\n+                    connected = m_i2p_sam_session->Connect(target_addr, conn, proxyConnectionFailed);\n+                } else {\n+                    {\n+                        LOCK(m_unused_i2p_sessions_mutex);\n+                        if (m_unused_i2p_sessions.empty()) {\n+                            i2p_transient_session =\n+                                std::make_unique<i2p::sam::Session>(proxy.proxy, &interruptNet);\n+                        } else {\n+                            i2p_transient_session.swap(m_unused_i2p_sessions.front());\n+                            m_unused_i2p_sessions.pop();\n+                        }\n                     }\n-                }\n-                connected = i2p_transient_session->Connect(addrConnect, conn, proxyConnectionFailed);\n-                if (!connected) {\n-                    LOCK(m_unused_i2p_sessions_mutex);\n-                    if (m_unused_i2p_sessions.size() < MAX_UNUSED_I2P_SESSIONS_SIZE) {\n-                        m_unused_i2p_sessions.emplace(i2p_transient_session.release());\n+                    connected = i2p_transient_session->Connect(target_addr, conn, proxyConnectionFailed);\n+                    if (!connected) {\n+                        LOCK(m_unused_i2p_sessions_mutex);\n+                        if (m_unused_i2p_sessions.size() < MAX_UNUSED_I2P_SESSIONS_SIZE) {\n+                            m_unused_i2p_sessions.emplace(i2p_transient_session.release());\n+                        }\n                     }\n                 }\n-            }\n \n-            if (connected) {\n-                sock = std::move(conn.sock);\n-                addr_bind = CAddress{conn.me, NODE_NONE};\n+                if (connected) {\n+                    sock = std::move(conn.sock);\n+                    addr_bind = CAddress{conn.me, NODE_NONE};\n+                }\n+            } else if (use_proxy) {\n+                sock = CreateSock(proxy.proxy);\n+                if (!sock) {\n+                    return nullptr;\n+                }\n+                connected = ConnectThroughProxy(proxy, target_addr.ToStringAddr(), target_addr.GetPort(),\n+                                                *sock, nConnectTimeout, proxyConnectionFailed);\n+            } else {\n+                // no proxy needed (none set for target network)\n+                sock = CreateSock(target_addr);\n+                if (!sock) {\n+                    continue;\n+                }\n+                connected = ConnectSocketDirectly(target_addr, *sock, nConnectTimeout,\n+                                                conn_type == ConnectionType::MANUAL);\n             }\n-        } else if (use_proxy) {\n-            sock = CreateSock(proxy.proxy);\n-            if (!sock) {\n-                return nullptr;\n+            if (!proxyConnectionFailed) {\n+                // If a connection to the node was attempted, and failure (if any) is not caused by a problem connecting to\n+                // the proxy, mark this as an attempt.\n+                addrman.Attempt(target_addr, fCountFailure);\n             }\n-            connected = ConnectThroughProxy(proxy, addrConnect.ToStringAddr(), addrConnect.GetPort(),\n-                                            *sock, nConnectTimeout, proxyConnectionFailed);\n-        } else {\n-            // no proxy needed (none set for target network)\n-            sock = CreateSock(addrConnect);\n+        } else if (pszDest && GetNameProxy(proxy)) {\n+            sock = CreateSock(proxy.proxy);\n             if (!sock) {\n                 return nullptr;\n             }\n-            connected = ConnectSocketDirectly(addrConnect, *sock, nConnectTimeout,\n-                                              conn_type == ConnectionType::MANUAL);\n+            std::string host;\n+            uint16_t port{default_port};\n+            SplitHostPort(std::string(pszDest), port, host);\n+            bool proxyConnectionFailed;\n+            connected = ConnectThroughProxy(proxy, host, port, *sock, nConnectTimeout,\n+                                            proxyConnectionFailed);\n         }\n-        if (!proxyConnectionFailed) {\n-            // If a connection to the node was attempted, and failure (if any) is not caused by a problem connecting to\n-            // the proxy, mark this as an attempt.\n-            addrman.Attempt(addrConnect, fCountFailure);\n+\n+        // Check any other resolved address (if any) if we fail to connect\n+        if (!connected) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492202202",
      "id" : 1492202202,
      "line" : 532,
      "node_id" : "PRRC_kwDOABII585Y8TLa",
      "original_commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "original_line" : 532,
      "original_position" : 141,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 141,
      "pull_request_review_id" : 1884670140,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492202202/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-16T09:49:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492202202",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492205690"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492205690"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: can you add a comment to justify early termination here (instead of trying going through other addrs)",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-16T09:42:30Z",
      "diff_hunk" : "@@ -449,102 +460,108 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     assert(!addr_bind.IsValid());\n     std::unique_ptr<i2p::sam::Session> i2p_transient_session;\n \n-    if (addrConnect.IsValid()) {\n-        const bool use_proxy{GetProxy(addrConnect.GetNetwork(), proxy)};\n-        bool proxyConnectionFailed = false;\n+    for (auto& target_addr: connect_to) {\n+        if (target_addr.IsValid()) {\n+            const bool use_proxy{GetProxy(target_addr.GetNetwork(), proxy)};\n+            bool proxyConnectionFailed = false;\n \n-        if (addrConnect.IsI2P() && use_proxy) {\n-            i2p::Connection conn;\n+            if (target_addr.IsI2P() && use_proxy) {\n+                i2p::Connection conn;\n \n-            if (m_i2p_sam_session) {\n-                connected = m_i2p_sam_session->Connect(addrConnect, conn, proxyConnectionFailed);\n-            } else {\n-                {\n-                    LOCK(m_unused_i2p_sessions_mutex);\n-                    if (m_unused_i2p_sessions.empty()) {\n-                        i2p_transient_session =\n-                            std::make_unique<i2p::sam::Session>(proxy.proxy, &interruptNet);\n-                    } else {\n-                        i2p_transient_session.swap(m_unused_i2p_sessions.front());\n-                        m_unused_i2p_sessions.pop();\n+                if (m_i2p_sam_session) {\n+                    connected = m_i2p_sam_session->Connect(target_addr, conn, proxyConnectionFailed);\n+                } else {\n+                    {\n+                        LOCK(m_unused_i2p_sessions_mutex);\n+                        if (m_unused_i2p_sessions.empty()) {\n+                            i2p_transient_session =\n+                                std::make_unique<i2p::sam::Session>(proxy.proxy, &interruptNet);\n+                        } else {\n+                            i2p_transient_session.swap(m_unused_i2p_sessions.front());\n+                            m_unused_i2p_sessions.pop();\n+                        }\n                     }\n-                }\n-                connected = i2p_transient_session->Connect(addrConnect, conn, proxyConnectionFailed);\n-                if (!connected) {\n-                    LOCK(m_unused_i2p_sessions_mutex);\n-                    if (m_unused_i2p_sessions.size() < MAX_UNUSED_I2P_SESSIONS_SIZE) {\n-                        m_unused_i2p_sessions.emplace(i2p_transient_session.release());\n+                    connected = i2p_transient_session->Connect(target_addr, conn, proxyConnectionFailed);\n+                    if (!connected) {\n+                        LOCK(m_unused_i2p_sessions_mutex);\n+                        if (m_unused_i2p_sessions.size() < MAX_UNUSED_I2P_SESSIONS_SIZE) {\n+                            m_unused_i2p_sessions.emplace(i2p_transient_session.release());\n+                        }\n                     }\n                 }\n-            }\n \n-            if (connected) {\n-                sock = std::move(conn.sock);\n-                addr_bind = CAddress{conn.me, NODE_NONE};\n+                if (connected) {\n+                    sock = std::move(conn.sock);\n+                    addr_bind = CAddress{conn.me, NODE_NONE};\n+                }\n+            } else if (use_proxy) {\n+                sock = CreateSock(proxy.proxy);\n+                if (!sock) {\n+                    return nullptr;\n+                }\n+                connected = ConnectThroughProxy(proxy, target_addr.ToStringAddr(), target_addr.GetPort(),\n+                                                *sock, nConnectTimeout, proxyConnectionFailed);\n+            } else {\n+                // no proxy needed (none set for target network)\n+                sock = CreateSock(target_addr);\n+                if (!sock) {\n+                    continue;\n+                }\n+                connected = ConnectSocketDirectly(target_addr, *sock, nConnectTimeout,\n+                                                conn_type == ConnectionType::MANUAL);\n             }\n-        } else if (use_proxy) {\n-            sock = CreateSock(proxy.proxy);\n-            if (!sock) {\n-                return nullptr;\n+            if (!proxyConnectionFailed) {\n+                // If a connection to the node was attempted, and failure (if any) is not caused by a problem connecting to\n+                // the proxy, mark this as an attempt.\n+                addrman.Attempt(target_addr, fCountFailure);\n             }\n-            connected = ConnectThroughProxy(proxy, addrConnect.ToStringAddr(), addrConnect.GetPort(),\n-                                            *sock, nConnectTimeout, proxyConnectionFailed);\n-        } else {\n-            // no proxy needed (none set for target network)\n-            sock = CreateSock(addrConnect);\n+        } else if (pszDest && GetNameProxy(proxy)) {\n+            sock = CreateSock(proxy.proxy);\n             if (!sock) {\n                 return nullptr;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492205690",
      "id" : 1492205690,
      "line" : 521,
      "node_id" : "PRRC_kwDOABII585Y8UB6",
      "original_commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "original_line" : 521,
      "original_position" : 124,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 124,
      "pull_request_review_id" : 1884670140,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492205690/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-16T09:49:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492205690",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492652437"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492652437"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What was the goal before? If it was for some load balancing, e.g. if it returns 3 addresses to which we can connect to not always connect to the first result? (or have two different nodes connect to the first result)\r\n\r\nIf \"yes\" then that still holds with this PR?",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-16T15:38:47Z",
      "diff_hunk" : "@@ -417,6 +417,9 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     // Resolve\n     const uint16_t default_port{pszDest != nullptr ? GetDefaultPort(pszDest) :\n                                                      m_params.GetDefaultPort()};\n+\n+    // Collection of addresses to try to connect to: either all dns resolved addresses (if pszDest is provided) or addrConnect otherwise.\n+    std::vector<CAddress> connect_to{};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492652437",
      "id" : 1492652437,
      "in_reply_to_id" : 1492192396,
      "line" : 422,
      "node_id" : "PRRC_kwDOABII585Y-BGV",
      "original_commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "original_line" : 422,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 1885440605,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492652437/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-16T15:38:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1492652437",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1493013878"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493013878"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I changed that bit of the commit message to:\r\n\r\n```\r\nThis patches the aforementioned behavior by going over all resolved IPs until we find one\r\nwe can connect to or until we exhaust them.\r\n```\r\n\r\nI think that should be clear enough given the variable name, but let me know otherwise",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-16T21:46:53Z",
      "diff_hunk" : "@@ -449,102 +460,108 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     assert(!addr_bind.IsValid());\n     std::unique_ptr<i2p::sam::Session> i2p_transient_session;\n \n-    if (addrConnect.IsValid()) {\n-        const bool use_proxy{GetProxy(addrConnect.GetNetwork(), proxy)};\n-        bool proxyConnectionFailed = false;\n+    for (auto& target_addr: connect_to) {\n+        if (target_addr.IsValid()) {\n+            const bool use_proxy{GetProxy(target_addr.GetNetwork(), proxy)};\n+            bool proxyConnectionFailed = false;\n \n-        if (addrConnect.IsI2P() && use_proxy) {\n-            i2p::Connection conn;\n+            if (target_addr.IsI2P() && use_proxy) {\n+                i2p::Connection conn;\n \n-            if (m_i2p_sam_session) {\n-                connected = m_i2p_sam_session->Connect(addrConnect, conn, proxyConnectionFailed);\n-            } else {\n-                {\n-                    LOCK(m_unused_i2p_sessions_mutex);\n-                    if (m_unused_i2p_sessions.empty()) {\n-                        i2p_transient_session =\n-                            std::make_unique<i2p::sam::Session>(proxy.proxy, &interruptNet);\n-                    } else {\n-                        i2p_transient_session.swap(m_unused_i2p_sessions.front());\n-                        m_unused_i2p_sessions.pop();\n+                if (m_i2p_sam_session) {\n+                    connected = m_i2p_sam_session->Connect(target_addr, conn, proxyConnectionFailed);\n+                } else {\n+                    {\n+                        LOCK(m_unused_i2p_sessions_mutex);\n+                        if (m_unused_i2p_sessions.empty()) {\n+                            i2p_transient_session =\n+                                std::make_unique<i2p::sam::Session>(proxy.proxy, &interruptNet);\n+                        } else {\n+                            i2p_transient_session.swap(m_unused_i2p_sessions.front());\n+                            m_unused_i2p_sessions.pop();\n+                        }\n                     }\n-                }\n-                connected = i2p_transient_session->Connect(addrConnect, conn, proxyConnectionFailed);\n-                if (!connected) {\n-                    LOCK(m_unused_i2p_sessions_mutex);\n-                    if (m_unused_i2p_sessions.size() < MAX_UNUSED_I2P_SESSIONS_SIZE) {\n-                        m_unused_i2p_sessions.emplace(i2p_transient_session.release());\n+                    connected = i2p_transient_session->Connect(target_addr, conn, proxyConnectionFailed);\n+                    if (!connected) {\n+                        LOCK(m_unused_i2p_sessions_mutex);\n+                        if (m_unused_i2p_sessions.size() < MAX_UNUSED_I2P_SESSIONS_SIZE) {\n+                            m_unused_i2p_sessions.emplace(i2p_transient_session.release());\n+                        }\n                     }\n                 }\n-            }\n \n-            if (connected) {\n-                sock = std::move(conn.sock);\n-                addr_bind = CAddress{conn.me, NODE_NONE};\n+                if (connected) {\n+                    sock = std::move(conn.sock);\n+                    addr_bind = CAddress{conn.me, NODE_NONE};\n+                }\n+            } else if (use_proxy) {\n+                sock = CreateSock(proxy.proxy);\n+                if (!sock) {\n+                    return nullptr;\n+                }\n+                connected = ConnectThroughProxy(proxy, target_addr.ToStringAddr(), target_addr.GetPort(),\n+                                                *sock, nConnectTimeout, proxyConnectionFailed);\n+            } else {\n+                // no proxy needed (none set for target network)\n+                sock = CreateSock(target_addr);\n+                if (!sock) {\n+                    continue;\n+                }\n+                connected = ConnectSocketDirectly(target_addr, *sock, nConnectTimeout,\n+                                                conn_type == ConnectionType::MANUAL);\n             }\n-        } else if (use_proxy) {\n-            sock = CreateSock(proxy.proxy);\n-            if (!sock) {\n-                return nullptr;\n+            if (!proxyConnectionFailed) {\n+                // If a connection to the node was attempted, and failure (if any) is not caused by a problem connecting to\n+                // the proxy, mark this as an attempt.\n+                addrman.Attempt(target_addr, fCountFailure);\n             }\n-            connected = ConnectThroughProxy(proxy, addrConnect.ToStringAddr(), addrConnect.GetPort(),\n-                                            *sock, nConnectTimeout, proxyConnectionFailed);\n-        } else {\n-            // no proxy needed (none set for target network)\n-            sock = CreateSock(addrConnect);\n+        } else if (pszDest && GetNameProxy(proxy)) {\n+            sock = CreateSock(proxy.proxy);\n             if (!sock) {\n                 return nullptr;\n             }\n-            connected = ConnectSocketDirectly(addrConnect, *sock, nConnectTimeout,\n-                                              conn_type == ConnectionType::MANUAL);\n+            std::string host;\n+            uint16_t port{default_port};\n+            SplitHostPort(std::string(pszDest), port, host);\n+            bool proxyConnectionFailed;\n+            connected = ConnectThroughProxy(proxy, host, port, *sock, nConnectTimeout,\n+                                            proxyConnectionFailed);\n         }\n-        if (!proxyConnectionFailed) {\n-            // If a connection to the node was attempted, and failure (if any) is not caused by a problem connecting to\n-            // the proxy, mark this as an attempt.\n-            addrman.Attempt(addrConnect, fCountFailure);\n+\n+        // Check any other resolved address (if any) if we fail to connect\n+        if (!connected) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1493013878",
      "id" : 1493013878,
      "in_reply_to_id" : 1492202202,
      "line" : 532,
      "node_id" : "PRRC_kwDOABII585Y_ZV2",
      "original_commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "original_line" : 532,
      "original_position" : 141,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 141,
      "pull_request_review_id" : 1886100395,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493013878/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-16T21:46:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493013878",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1493027486"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493027486"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This was added by me as a suggestion from @vasild in https://github.com/bitcoin/bitcoin/pull/28155#discussion_r1296832854 to maintain the older logic, but it comes all the way from https://github.com/bitcoin/bitcoin/commit/6387f397b323b0fb4ca303fe418550f5465147c6#diff-00021eed586a482abdb09d6cdada1d90115abe988a91421851960e26658bed02R430.\r\n\r\nThere is no comment nor commit message motivating it though.\r\n\r\nI personally think randomizing the order in which the resolved addresses are tried wouldn't hurt. But I'm open to drop it if you think it's better.",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-16T22:08:37Z",
      "diff_hunk" : "@@ -417,6 +417,9 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     // Resolve\n     const uint16_t default_port{pszDest != nullptr ? GetDefaultPort(pszDest) :\n                                                      m_params.GetDefaultPort()};\n+\n+    // Collection of addresses to try to connect to: either all dns resolved addresses (if pszDest is provided) or addrConnect otherwise.\n+    std::vector<CAddress> connect_to{};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1493027486",
      "id" : 1493027486,
      "in_reply_to_id" : 1492192396,
      "line" : 422,
      "node_id" : "PRRC_kwDOABII585Y_cqe",
      "original_commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "original_line" : 422,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 1886144628,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493027486/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-16T22:09:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493027486",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1493029119"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493029119"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm a bit curious about this. I think I'll try to dig into how bad could it be if a malicious DNS seed provides us with 256+ addresses that try to delay the TPC handshake as much as possible",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-16T22:11:16Z",
      "diff_hunk" : "@@ -449,102 +458,108 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     assert(!addr_bind.IsValid());\n     std::unique_ptr<i2p::sam::Session> i2p_transient_session;\n \n-    if (addrConnect.IsValid()) {\n-        const bool use_proxy{GetProxy(addrConnect.GetNetwork(), proxy)};\n-        bool proxyConnectionFailed = false;\n+    for (auto& resolvedAddr: resolvedAddresses) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1493029119",
      "id" : 1493029119,
      "in_reply_to_id" : 1487488123,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Y_dD_",
      "original_commit_id" : "494c732fabf656764114bfbf824e5aa60c80e2cf",
      "original_line" : 461,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1886149638,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493029119/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-16T22:11:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1493029119",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the reviews @mzumsande @vasild and @naumenkogs! \r\n\r\nI have some updates pending on the nits provided by @naumenkogs, but I'll wait until we resolve https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1492192396 to push them all. I'd also look into https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1491629378 out of curiosity",
      "created_at" : "2024-02-16T22:12:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1949408988",
      "id" : 1949408988,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII5850MZ7c",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1949408988/reactions"
      },
      "updated_at" : "2024-02-16T22:12:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1949408988",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1494207563"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494207563"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yeah, after looking more into the current PR, it achieves nearly the same goal...\r\nI'm fine with not doing anything here.\r\n\r\nBut it would be cool to understand better what it achieves :)\r\n\r\nHere's what i think is going on. A DNS implementation may (or may not) return results in the same order, and then all the nodes will end up making connections with the same result. Then it's useful for load balancing, and to avoid DNS influencing the connectivity in general.\r\nMight be worth adding a comment along these lines.",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-19T08:57:44Z",
      "diff_hunk" : "@@ -417,6 +417,9 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     // Resolve\n     const uint16_t default_port{pszDest != nullptr ? GetDefaultPort(pszDest) :\n                                                      m_params.GetDefaultPort()};\n+\n+    // Collection of addresses to try to connect to: either all dns resolved addresses (if pszDest is provided) or addrConnect otherwise.\n+    std::vector<CAddress> connect_to{};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1494207563",
      "id" : 1494207563,
      "in_reply_to_id" : 1492192396,
      "line" : 422,
      "node_id" : "PRRC_kwDOABII585ZD8xL",
      "original_commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "original_line" : 422,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 1887877268,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494207563/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-19T08:58:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1494207563",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1496142945"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1496142945"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I did a bit more digging and found the \\_actual\\_ origin of the DNS result randomization, a code refactor before the commit I posted earlier got me confused: https://github.com/bitcoin/bitcoin/commit/1a5a4e648873c4cd88b936648ebf2858393e5510\r\n\r\nThis was introduced in https://github.com/bitcoin/bitcoin/pull/8113 by @sipa, so he may know better",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-20T16:38:42Z",
      "diff_hunk" : "@@ -417,6 +417,9 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     // Resolve\n     const uint16_t default_port{pszDest != nullptr ? GetDefaultPort(pszDest) :\n                                                      m_params.GetDefaultPort()};\n+\n+    // Collection of addresses to try to connect to: either all dns resolved addresses (if pszDest is provided) or addrConnect otherwise.\n+    std::vector<CAddress> connect_to{};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1496142945",
      "id" : 1496142945,
      "in_reply_to_id" : 1492192396,
      "line" : 422,
      "node_id" : "PRRC_kwDOABII585ZLVRh",
      "original_commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "original_line" : 422,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 1890934234,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1496142945/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-20T16:39:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1496142945",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1496355683"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1496355683"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I did some digging on the topic. Looks like the way TCP handshake timeout works depends on the OS, but is managed by the application who's trying to create/accept the connection. In our case, this is governed by `nConnectTimeout`, which ranges from 0-5000ms (being the later the default: `DEFAULT_CONNECT_TIMEOUT`).\r\n\r\nSo, the longest this could take to resolve, assuming 256 addresses that all timeout, is around ~21 min (`5*256/60`). As mentioned before, this is done by the user under normal conditions, and the only case in were it is not (DNS Seed + AddAddrFetch), it would require one of the DNS Seeds to go rogue for this to trigger, which seems to be a bigger problem by itself",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-20T19:07:33Z",
      "diff_hunk" : "@@ -449,102 +458,108 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     assert(!addr_bind.IsValid());\n     std::unique_ptr<i2p::sam::Session> i2p_transient_session;\n \n-    if (addrConnect.IsValid()) {\n-        const bool use_proxy{GetProxy(addrConnect.GetNetwork(), proxy)};\n-        bool proxyConnectionFailed = false;\n+    for (auto& resolvedAddr: resolvedAddresses) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1496355683",
      "id" : 1496355683,
      "in_reply_to_id" : 1487488123,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585ZMJNj",
      "original_commit_id" : "494c732fabf656764114bfbf824e5aa60c80e2cf",
      "original_line" : 461,
      "original_position" : 32,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1891319040,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1496355683/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-20T19:07:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1496355683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1498775688"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1498775688"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think we can go ahead with this PR without waiting for clarification.",
      "commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "created_at" : "2024-02-22T07:30:47Z",
      "diff_hunk" : "@@ -417,6 +417,9 @@ CNode* CConnman::ConnectNode(CAddress addrConnect, const char *pszDest, bool fCo\n     // Resolve\n     const uint16_t default_port{pszDest != nullptr ? GetDefaultPort(pszDest) :\n                                                      m_params.GetDefaultPort()};\n+\n+    // Collection of addresses to try to connect to: either all dns resolved addresses (if pszDest is provided) or addrConnect otherwise.\n+    std::vector<CAddress> connect_to{};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#discussion_r1498775688",
      "id" : 1498775688,
      "in_reply_to_id" : 1492192396,
      "line" : 422,
      "node_id" : "PRRC_kwDOABII585ZVYCI",
      "original_commit_id" : "ba021087a2a8d1b5866460a386ea42e0b643c184",
      "original_line" : 422,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 6,
      "pull_request_review_id" : 1895106084,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28834",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1498775688/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2024-02-22T07:30:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1498775688",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Addressesed suggestions by @naumenkogs ",
      "created_at" : "2024-02-22T14:02:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1959512593",
      "id" : 1959512593,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII5850y8oR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1959512593/reactions"
      },
      "updated_at" : "2024-02-22T14:02:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1959512593",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "re-ACK 0494068c7e0f5fda90aac874b9b3b2623d855cba\r\nOnly doc changes since my previous ack.",
      "created_at" : "2024-03-11T17:24:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1989019157",
      "id" : 1989019157,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII5852jgYV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1989019157/reactions"
      },
      "updated_at" : "2024-03-11T17:24:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1989019157",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2024-03-12T18:09:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1992266043",
      "id" : 1992266043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII5852v5E7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992266043/reactions"
      },
      "updated_at" : "2024-03-12T18:09:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992266043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased to address merge conflicts",
      "created_at" : "2024-03-12T18:15:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1992276199",
      "id" : 1992276199,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII5852v7jn",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992276199/reactions"
      },
      "updated_at" : "2024-03-12T18:15:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1992276199",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2024-03-13T11:16:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-1994143436",
      "id" : 1994143436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII58523DbM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1994143436/reactions"
      },
      "updated_at" : "2024-03-13T11:16:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1994143436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--85328a0da195eb286784d51f73fa0af9-->\n\nð§ At least one of the CI tasks failed. Make sure to run all tests locally, according to the\ndocumentation.\n\nPossibly this is due to a silent merge conflict (the changes in this pull request being\nincompatible with the current code in the target branch). If so, make sure to rebase on the latest\ncommit of the target branch.\n\nLeave a comment here, if you need help tracking down a confusing failure.\n\n<sub>Debug: https://github.com/bitcoin/bitcoin/runs/22724110270</sub>",
      "created_at" : "2024-03-15T21:03:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-2000437061",
      "id" : 2000437061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII5853PD9F",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2000437061/reactions"
      },
      "updated_at" : "2024-03-15T21:03:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2000437061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased to address merge conflicts",
      "created_at" : "2024-03-15T21:11:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28834#issuecomment-2000444749",
      "id" : 2000444749,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28834",
      "node_id" : "IC_kwDOABII5853PF1N",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2000444749/reactions"
      },
      "updated_at" : "2024-03-15T21:11:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2000444749",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6665628?v=4",
         "events_url" : "https://api.github.com/users/sr-gi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sr-gi/followers",
         "following_url" : "https://api.github.com/users/sr-gi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sr-gi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sr-gi",
         "id" : 6665628,
         "login" : "sr-gi",
         "node_id" : "MDQ6VXNlcjY2NjU2Mjg=",
         "organizations_url" : "https://api.github.com/users/sr-gi/orgs",
         "received_events_url" : "https://api.github.com/users/sr-gi/received_events",
         "repos_url" : "https://api.github.com/users/sr-gi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sr-gi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sr-gi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sr-gi"
      }
   }
]
