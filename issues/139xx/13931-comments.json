[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #14180 (qa: Run all tests even if wallet is not compiled by MarcoFalke)\n* #13903 (Significantly reduce GetTransaction cs_main locking (TheBlueMatt) by MarcoFalke)\n* #13864 (validation: Document where we are intentionally ignoring bool return values from validation related functions by practicalswift)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-08-09T22:37:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-411920152",
      "id" : 411920152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMTkyMDE1Mg==",
      "updated_at" : "2018-09-09T21:16:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/411920152",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r209125928"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/209125928"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Accidental removal of this scope?",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-08-10T01:47:57Z",
      "diff_hunk" : "@@ -1019,24 +1017,6 @@ bool GetTransaction(const uint256& hash, CTransactionRef& txOut, const Consensus\n         if (g_txindex) {\n             return g_txindex->FindTx(hash, hashBlock, txOut);\n         }\n-\n-        if (fAllowSlow) { // use coin database to locate block that contains transaction, and scan it\n-            const Coin& coin = AccessByTxid(*pcoinsTip, hash);\n-            if (!coin.IsSpent()) pindexSlow = chainActive[coin.nHeight];\n-        }\n-    }\n-\n-    if (pindexSlow) {\n-        CBlock block;\n-        if (ReadBlockFromDisk(block, pindexSlow, consensusParams)) {\n-            for (const auto& tx : block.vtx) {\n-                if (tx->GetHash() == hash) {\n-                    txOut = tx;\n-                    hashBlock = pindexSlow->GetBlockHash();\n-                    return true;\n-                }\n-            }\n-        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r209125928",
      "id" : 209125928,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTEyNTkyOA==",
      "original_commit_id" : "41592d52592e03a69e8bd26e0af882274a8ad7f2",
      "original_position" : 33,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 145081868,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-08-12T18:52:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/209125928",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r209153924"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/209153924"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "After this removal, where do you still use `blockIndex`?  It seems to me that \"lookup by block index\" is now also removed.  Is that intentional?",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-08-10T06:16:11Z",
      "diff_hunk" : "@@ -1003,10 +1003,8 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n  * Return transaction in txOut, and if it was found inside a block, its hash is placed in hashBlock.\n  * If blockIndex is provided, the transaction is fetched from the corresponding block.\n  */\n-bool GetTransaction(const uint256& hash, CTransactionRef& txOut, const Consensus::Params& consensusParams, uint256& hashBlock, bool fAllowSlow, CBlockIndex* blockIndex)\n+bool GetTransaction(const uint256& hash, CTransactionRef& txOut, const Consensus::Params& consensusParams, uint256& hashBlock, CBlockIndex* blockIndex)\n {\n-    CBlockIndex* pindexSlow = blockIndex;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r209153924",
      "id" : 209153924,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTE1MzkyNA==",
      "original_commit_id" : "41592d52592e03a69e8bd26e0af882274a8ad7f2",
      "original_position" : 7,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 145114026,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-08-12T18:52:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/209153924",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4943644?v=4",
         "events_url" : "https://api.github.com/users/domob1812/events{/privacy}",
         "followers_url" : "https://api.github.com/users/domob1812/followers",
         "following_url" : "https://api.github.com/users/domob1812/following{/other_user}",
         "gists_url" : "https://api.github.com/users/domob1812/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/domob1812",
         "id" : 4943644,
         "login" : "domob1812",
         "node_id" : "MDQ6VXNlcjQ5NDM2NDQ=",
         "organizations_url" : "https://api.github.com/users/domob1812/orgs",
         "received_events_url" : "https://api.github.com/users/domob1812/received_events",
         "repos_url" : "https://api.github.com/users/domob1812/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/domob1812/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/domob1812/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/domob1812"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r209402250"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/209402250"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No, not accidental. Just wrong.",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-08-10T22:57:41Z",
      "diff_hunk" : "@@ -1019,24 +1017,6 @@ bool GetTransaction(const uint256& hash, CTransactionRef& txOut, const Consensus\n         if (g_txindex) {\n             return g_txindex->FindTx(hash, hashBlock, txOut);\n         }\n-\n-        if (fAllowSlow) { // use coin database to locate block that contains transaction, and scan it\n-            const Coin& coin = AccessByTxid(*pcoinsTip, hash);\n-            if (!coin.IsSpent()) pindexSlow = chainActive[coin.nHeight];\n-        }\n-    }\n-\n-    if (pindexSlow) {\n-        CBlock block;\n-        if (ReadBlockFromDisk(block, pindexSlow, consensusParams)) {\n-            for (const auto& tx : block.vtx) {\n-                if (tx->GetHash() == hash) {\n-                    txOut = tx;\n-                    hashBlock = pindexSlow->GetBlockHash();\n-                    return true;\n-                }\n-            }\n-        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r209402250",
      "id" : 209402250,
      "in_reply_to_id" : 209125928,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTQwMjI1MA==",
      "original_commit_id" : "41592d52592e03a69e8bd26e0af882274a8ad7f2",
      "original_position" : 33,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 145419702,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-08-12T18:52:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/209402250",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r209402262"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/209402262"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops, no, fixing.",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-08-10T22:57:51Z",
      "diff_hunk" : "@@ -1003,10 +1003,8 @@ bool AcceptToMemoryPool(CTxMemPool& pool, CValidationState &state, const CTransa\n  * Return transaction in txOut, and if it was found inside a block, its hash is placed in hashBlock.\n  * If blockIndex is provided, the transaction is fetched from the corresponding block.\n  */\n-bool GetTransaction(const uint256& hash, CTransactionRef& txOut, const Consensus::Params& consensusParams, uint256& hashBlock, bool fAllowSlow, CBlockIndex* blockIndex)\n+bool GetTransaction(const uint256& hash, CTransactionRef& txOut, const Consensus::Params& consensusParams, uint256& hashBlock, CBlockIndex* blockIndex)\n {\n-    CBlockIndex* pindexSlow = blockIndex;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r209402262",
      "id" : 209402262,
      "in_reply_to_id" : 209153924,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwOTQwMjI2Mg==",
      "original_commit_id" : "41592d52592e03a69e8bd26e0af882274a8ad7f2",
      "original_position" : 7,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 145419725,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-08-12T18:52:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/209402262",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Some tests appear to rely on getrawtransaction working for confirmed transactions that still have unspent outputs which is causing travis to fail.",
      "created_at" : "2018-08-11T01:06:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-412240172",
      "id" : 412240172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMjI0MDE3Mg==",
      "updated_at" : "2018-08-11T01:06:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/412240172",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would the removal need to go through an \"-deprecatedrpc\" cycle?\r\n\r\nOr: How do you know no one is using this?",
      "created_at" : "2018-08-12T15:46:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-412351571",
      "id" : 412351571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMjM1MTU3MQ==",
      "updated_at" : "2018-08-12T15:47:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/412351571",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "For `getrawtransaction`, I don't think so. It's already been marked deprecated, and I can't imagine anyone actually relying on it.\r\n\r\nBut perhaps for `gettxoutproof`/REST we should?",
      "created_at" : "2018-08-12T15:48:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-412351678",
      "id" : 412351678,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxMjM1MTY3OA==",
      "updated_at" : "2018-08-12T18:53:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/412351678",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The PR description/commit message seems misleading. The \"search by block hash\" option is still supported, as it should be.",
      "created_at" : "2018-09-05T22:47:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-418905965",
      "id" : 418905965,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxODkwNTk2NQ==",
      "updated_at" : "2018-09-05T22:48:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/418905965",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-06T06:51:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-418984717",
      "id" : 418984717,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxODk4NDcxNw==",
      "updated_at" : "2018-09-06T06:51:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/418984717",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/45598?v=4",
         "events_url" : "https://api.github.com/users/jb55/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jb55/followers",
         "following_url" : "https://api.github.com/users/jb55/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jb55/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jb55",
         "id" : 45598,
         "login" : "jb55",
         "node_id" : "MDQ6VXNlcjQ1NTk4",
         "organizations_url" : "https://api.github.com/users/jb55/orgs",
         "received_events_url" : "https://api.github.com/users/jb55/received_events",
         "repos_url" : "https://api.github.com/users/jb55/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jb55/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jb55/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jb55"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-06T13:25:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-419092157",
      "id" : 419092157,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxOTA5MjE1Nw==",
      "updated_at" : "2018-09-06T13:25:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419092157",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "aside from the misleading commit message, utACK https://github.com/bitcoin/bitcoin/pull/13931/commits/5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-06T13:31:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-419094050",
      "id" : 419094050,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxOTA5NDA1MA==",
      "updated_at" : "2018-09-06T13:31:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419094050",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK, I agree that the condition \"unspent output in the utxo for this transaction\" is too confusing to be worth maintaining.\r\n\r\nHopefully we can also get #13014 merged (pruned `-txindex` support), so there's really no reason not to have use `-txindex` if you need `getrawtransaction` for confirmed txs; if you have enough storage for an unpruned node, the index shouldn't be a problem, if you have pruned node then the index will be very small.\r\n\r\nMaybe add this line to the commit message: \"If the transaction index is not enabled using the -txindex command, a blockhash must be specified\"",
      "created_at" : "2018-09-07T19:23:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-419540616",
      "id" : 419540616,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxOTU0MDYxNg==",
      "updated_at" : "2018-09-07T19:23:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419540616",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "for future PR maybe: note in the help that `gettxout` can suffice for most needs as a replacement?",
      "created_at" : "2018-09-07T20:35:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-419558422",
      "id" : 419558422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQxOTU1ODQyMg==",
      "updated_at" : "2018-09-07T20:35:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419558422",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216084729"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216084729"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's a shame that this PR adds `-txindex` to a bunch of tests (since running with txindex is not the standard way to run bitcoind, so the tests are no longer testing the mainline case).\r\n\r\nI don't think it's a show-stopper, but it'd be preferable to update the tests to not have to use txindex, or perhaps add a TODO to remove txindex at some point in the future. We could also add a comment on why txindex is needed for these tests to pass.",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-07T20:55:08Z",
      "diff_hunk" : "@@ -42,9 +42,9 @@ def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n         # This test tests SegWit both pre and post-activation, so use the normal BIP9 activation.\n-        self.extra_args = [[\"-rpcserialversion=0\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\"],\n-                           [\"-blockversion=4\", \"-rpcserialversion=1\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\"],\n-                           [\"-blockversion=536870915\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\"]]\n+        self.extra_args = [[\"-rpcserialversion=0\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\", \"-txindex\"],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216084729",
      "id" : 216084729,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjA4NDcyOQ==",
      "original_commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "original_position" : 7,
      "path" : "test/functional/feature_segwit.py",
      "position" : 7,
      "pull_request_review_id" : 153499957,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-09-07T21:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216084729",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216085650"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216085650"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think this comment could be clearer now that the logic is more straigtforward. Something like:\r\n\r\n- When called with a blockhash argument, getrawtransaction will return the transaction if the specified block is available and the transaction is found in that block.\r\n- When called without a blockhash argument, getrawtransaction will return the transaction if it is in the mempool, or if -txindex is enabled and the transaction is in a block in the blockchain.",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-07T20:59:03Z",
      "diff_hunk" : "@@ -74,7 +74,6 @@ static UniValue getrawtransaction(const JSONRPCRequest& request)\n             \"is known, its hash can be provided even for nodes without -txindex. Note that if a blockhash is\\n\"\n             \"provided, only that block will be searched and if the transaction is in the mempool or other\\n\"\n             \"blocks, or if this node does not have the given block available, the transaction will not be found.\\n\"\n-            \"DEPRECATED: for now, it also works for transactions with unspent outputs.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216085650",
      "id" : 216085650,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjA4NTY1MA==",
      "original_commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "original_position" : 4,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 4,
      "pull_request_review_id" : 153499957,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-09-07T21:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216085650",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216085779"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216085779"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`-txindex` is a command line option, not a command :)",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-07T20:59:44Z",
      "diff_hunk" : "@@ -209,10 +208,8 @@ static UniValue gettxoutproof(const JSONRPCRequest& request)\n         throw std::runtime_error(\n             \"gettxoutproof [\\\"txid\\\",...] ( blockhash )\\n\"\n             \"\\nReturns a hex-encoded proof that \\\"txid\\\" was included in a block.\\n\"\n-            \"\\nNOTE: By default this function only works sometimes. This is when there is an\\n\"\n-            \"unspent output in the utxo for this transaction. To make it always work,\\n\"\n-            \"you need to maintain a transaction index, using the -txindex command line option or\\n\"\n-            \"specify the block in which the transaction is included manually (by blockhash).\\n\"\n+            \"\\nIf the transaction index is not enabled using the -txindex command, a blockhash\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216085779",
      "id" : 216085779,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjA4NTc3OQ==",
      "original_commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "original_position" : 25,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 25,
      "pull_request_review_id" : 153499957,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-09-07T21:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216085779",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216090167"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216090167"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This function can be much simplified now that we're not looking for unspent coins in the UTXO set:\r\n\r\n```\r\ndiff --git a/src/rpc/rawtransaction.cpp b/src/rpc/rawtransaction.cpp\r\nindex 591943594..2d246e016 100644\r\n--- a/src/rpc/rawtransaction.cpp\r\n+++ b/src/rpc/rawtransaction.cpp\r\n@@ -245,28 +245,17 @@ static UniValue gettxoutproof(const JSONRPCRequest& request)\r\n             throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\r\n         }\r\n     } else {\r\n-        LOCK(cs_main);\r\n-\r\n-        // Loop through txids and try to find which block they're in. Exit loop once a block is found.\r\n-        for (const auto& tx : setTxids) {\r\n-            const Coin& coin = AccessByTxid(*pcoinsTip, tx);\r\n-            if (!coin.IsSpent()) {\r\n-                pblockindex = chainActive[coin.nHeight];\r\n-                break;\r\n-            }\r\n+        if (!g_txindex) {\r\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, \"blockhash must be provided when txindex is disabled.\");\r\n         }\r\n-    }\r\n-\r\n \r\n-    // Allow txindex to catch up if we need to query it and before we acquire cs_main.\r\n-    if (g_txindex && !pblockindex) {\r\n-        g_txindex->BlockUntilSyncedToCurrentChain();\r\n-    }\r\n+        // Allow txindex to catch up if we need to query it and before we acquire cs_main.\r\n+        if (!pblockindex) {\r\n+            g_txindex->BlockUntilSyncedToCurrentChain();\r\n+        }\r\n \r\n-    LOCK(cs_main);\r\n+        LOCK(cs_main);\r\n \r\n-    if (pblockindex == nullptr)\r\n-    {\r\n         CTransactionRef tx;\r\n         if (!GetTransaction(oneTxid, tx, Params().GetConsensus(), hashBlock) || hashBlock.IsNull())\r\n             throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Transaction not yet in block\");\r\n```\r\n\r\n(also at https://github.com/jnewbery/bitcoin/tree/pr13931.1 / https://github.com/jnewbery/bitcoin/commit/eeef25bfb5470efddfb2bf3e998dfb124531e473)\r\n\r\nThis also improves error reporting if a blockhash is not provided and txindex is not enabled (\"blockhash must be provided when txindex is disabled.\" instead of \"Transaction not yet in block\")",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-07T21:20:47Z",
      "diff_hunk" : "@@ -209,10 +208,8 @@ static UniValue gettxoutproof(const JSONRPCRequest& request)\n         throw std::runtime_error(\n             \"gettxoutproof [\\\"txid\\\",...] ( blockhash )\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216090167",
      "id" : 216090167,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjA5MDE2Nw==",
      "original_commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "original_position" : 19,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 19,
      "pull_request_review_id" : 153499957,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-09-07T21:21:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216090167",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216099774"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216099774"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Tests also need to be updated with this change: https://github.com/jnewbery/bitcoin/commit/0ffbc2055908b2fa1797f92b4391c2bbbbec588a",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-07T22:13:40Z",
      "diff_hunk" : "@@ -209,10 +208,8 @@ static UniValue gettxoutproof(const JSONRPCRequest& request)\n         throw std::runtime_error(\n             \"gettxoutproof [\\\"txid\\\",...] ( blockhash )\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216099774",
      "id" : 216099774,
      "in_reply_to_id" : 216090167,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjA5OTc3NA==",
      "original_commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "original_position" : 19,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 19,
      "pull_request_review_id" : 153518660,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-09-07T22:13:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216099774",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216125958"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216125958"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd start without blockhash argument (mempool only), then blockhash, then say blockhash can be omitted if txindex.",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-08T09:23:48Z",
      "diff_hunk" : "@@ -74,7 +74,6 @@ static UniValue getrawtransaction(const JSONRPCRequest& request)\n             \"is known, its hash can be provided even for nodes without -txindex. Note that if a blockhash is\\n\"\n             \"provided, only that block will be searched and if the transaction is in the mempool or other\\n\"\n             \"blocks, or if this node does not have the given block available, the transaction will not be found.\\n\"\n-            \"DEPRECATED: for now, it also works for transactions with unspent outputs.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216125958",
      "id" : 216125958,
      "in_reply_to_id" : 216085650,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjEyNTk1OA==",
      "original_commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "original_position" : 4,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 4,
      "pull_request_review_id" : 153549133,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-09-08T09:23:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216125958",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216130187"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216130187"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That \"blockhash must be provided\" message is a very useful addition to `gettxoutproof` (I just got confused by it on another branch).  ",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-08T13:08:04Z",
      "diff_hunk" : "@@ -209,10 +208,8 @@ static UniValue gettxoutproof(const JSONRPCRequest& request)\n         throw std::runtime_error(\n             \"gettxoutproof [\\\"txid\\\",...] ( blockhash )\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216130187",
      "id" : 216130187,
      "in_reply_to_id" : 216090167,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjEzMDE4Nw==",
      "original_commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "original_position" : 19,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 19,
      "pull_request_review_id" : 153553616,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-09-08T13:08:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216130187",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216329307"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216329307"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> I'd start without blockhash argument (mempool only), then blockhash, then say blockhash can be omitted if txindex.\r\n\r\nI don't think this captures the logic. \"without blockhash argument (mempool only)\" is not correct, since we'll check the whole blockchain if txindex is enabled. This also doesn't communicate that if blockhash is provided, then txindex won't be used to check the entire blockchain.",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2018-09-10T13:52:24Z",
      "diff_hunk" : "@@ -74,7 +74,6 @@ static UniValue getrawtransaction(const JSONRPCRequest& request)\n             \"is known, its hash can be provided even for nodes without -txindex. Note that if a blockhash is\\n\"\n             \"provided, only that block will be searched and if the transaction is in the mempool or other\\n\"\n             \"blocks, or if this node does not have the given block available, the transaction will not be found.\\n\"\n-            \"DEPRECATED: for now, it also works for transactions with unspent outputs.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r216329307",
      "id" : 216329307,
      "in_reply_to_id" : 216085650,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjMyOTMwNw==",
      "original_commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "original_position" : 4,
      "path" : "src/rpc/rawtransaction.cpp",
      "position" : 4,
      "pull_request_review_id" : 153783596,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2018-09-10T13:52:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216329307",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
      "created_at" : "2018-09-13T11:33:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-420975525",
      "id" : 420975525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMDk3NTUyNQ==",
      "updated_at" : "2018-09-13T11:33:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/420975525",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--5fd3d806e98f4a0ca80977bb178665a0-->There hasn't been much activity lately and the patch still needs rebase, so I am closing this for now. Please let me know when you want to continue working on this, so the pull request can be re-opened.",
      "created_at" : "2018-12-12T19:23:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#issuecomment-446711629",
      "id" : 446711629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13931",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NjcxMTYyOQ==",
      "updated_at" : "2018-12-12T19:23:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/446711629",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r247335365"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/247335365"
         }
      },
      "author_association" : "NONE",
      "body" : "what is the standard way to run bitcoind? \r\nseems like there is some confusion in the original conversation too:  https://github.com/bitcoin/bitcoin/issues/3220#issuecomment-377458383\r\n\r\nmy understanding is three use cases for this method (still supported after this change): \r\n1. with blockhash -> search specific block for txn\r\n2. without blockhash, txindex not enabled -> check mempool \r\n3. without blockhash, txindex enabled -> check all the things \r\n\r\nthe use case removed by this PR is \r\n- without blockhash, txindex not enabled -> check unspent UTXOs \r\n\r\nI have to take a closer look at how the tests work, but is the predominant usage to pass in a blockhash, or to be searching the mempool? ",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2019-01-13T06:19:08Z",
      "diff_hunk" : "@@ -42,9 +42,9 @@ def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n         # This test tests SegWit both pre and post-activation, so use the normal BIP9 activation.\n-        self.extra_args = [[\"-rpcserialversion=0\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\"],\n-                           [\"-blockversion=4\", \"-rpcserialversion=1\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\"],\n-                           [\"-blockversion=536870915\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\"]]\n+        self.extra_args = [[\"-rpcserialversion=0\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\", \"-txindex\"],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r247335365",
      "id" : 247335365,
      "in_reply_to_id" : 216084729,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NzMzNTM2NQ==",
      "original_commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "original_position" : 7,
      "path" : "test/functional/feature_segwit.py",
      "position" : 7,
      "pull_request_review_id" : 191961782,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2019-01-13T06:19:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/247335365",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r247349769"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/247349769"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> my understanding is...\r\n\r\nyes, that's correct, although I'd be more specific in 3: ~check all the things~ -> check mempool and tx index.\r\n\r\n> is the predominant usage to pass in a blockhash\r\n\r\nIt depends on whether you're trying to find a confirmed or unconfirmed tx. I expect both usages are common.",
      "commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "created_at" : "2019-01-13T14:53:57Z",
      "diff_hunk" : "@@ -42,9 +42,9 @@ def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n         # This test tests SegWit both pre and post-activation, so use the normal BIP9 activation.\n-        self.extra_args = [[\"-rpcserialversion=0\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\"],\n-                           [\"-blockversion=4\", \"-rpcserialversion=1\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\"],\n-                           [\"-blockversion=536870915\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\"]]\n+        self.extra_args = [[\"-rpcserialversion=0\", \"-vbparams=segwit:0:999999999999\", \"-addresstype=legacy\", \"-deprecatedrpc=addwitnessaddress\", \"-txindex\"],",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13931#discussion_r247349769",
      "id" : 247349769,
      "in_reply_to_id" : 216084729,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NzM0OTc2OQ==",
      "original_commit_id" : "5e155e69e2fe4eae832874868e9e82577d07e495",
      "original_position" : 7,
      "path" : "test/functional/feature_segwit.py",
      "position" : 7,
      "pull_request_review_id" : 191977347,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13931",
      "updated_at" : "2019-01-13T14:53:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/247349769",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
