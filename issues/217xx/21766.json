{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "There are a few potential improvements mentioned by various reviewers of the chainman-deglobalizing work that are deserving of a tracking ticket, but are perhaps either not crucial to the main thrust of the work or the flaws already existed before the work. Let's discuss and collate them here so that we don't lose track of them!\r\n\r\n1. `m_chain` methods should perhaps require holding `cs_main`\r\n    - https://github.com/bitcoin/bitcoin/pull/21391#discussion_r613951719\r\n2. `Ensure*()` in src/rpc should be called at the top of functions to fail as early as possible\r\n    - https://github.com/bitcoin/bitcoin/pull/21391#discussion_r613992845\r\n    - https://github.com/bitcoin/bitcoin/pull/21391#discussion_r613942578\r\n    - https://github.com/bitcoin/bitcoin/pull/21391#discussion_r613944794\r\n3. IncrementExtraNonce does not need `cs_main`, and the locking scope can be limited\r\n    - https://github.com/bitcoin/bitcoin/pull/21391#discussion_r613967463\r\n4. `CoinsDB.Cursor()` passes ownership to caller and should return a `std::unique_ptr`\r\n    - https://github.com/bitcoin/bitcoin/pull/21391#discussion_r614696860\r\n5. Call to `GetNetworkHashPS` in `getnetworkhashps` contains many operators, which may increase risk of precedence bugs\r\n    - https://github.com/bitcoin/bitcoin/pull/21391#discussion_r613953875\r\n6. Avoid repeated calls to `ActiveChain()` where appropriate\r\n    - https://github.com/bitcoin/bitcoin/pull/21270#discussion_r592357247\r\n7. Review whether or not `m_blockman` member of `ChainstateManager` needs `cs_main` to be accessed\r\n    - Various\r\n8. Review whether or not to support running bitcoin without a chainman\r\n    - https://github.com/bitcoin/bitcoin/pull/21767#discussion_r628905295\r\n9. Investigate how indexing interacts with `CChainState`\r\n    - https://github.com/bitcoin/bitcoin/pull/21767#discussion_r641791366\r\n\r\nPlease feel free to comment here for extra ones I've missed!",
   "closed_at" : "2024-01-25T09:55:27Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/6606587?v=4",
      "events_url" : "https://api.github.com/users/willcl-ark/events{/privacy}",
      "followers_url" : "https://api.github.com/users/willcl-ark/followers",
      "following_url" : "https://api.github.com/users/willcl-ark/following{/other_user}",
      "gists_url" : "https://api.github.com/users/willcl-ark/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/willcl-ark",
      "id" : 6606587,
      "login" : "willcl-ark",
      "node_id" : "MDQ6VXNlcjY2MDY1ODc=",
      "organizations_url" : "https://api.github.com/users/willcl-ark/orgs",
      "received_events_url" : "https://api.github.com/users/willcl-ark/received_events",
      "repos_url" : "https://api.github.com/users/willcl-ark/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/willcl-ark/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/willcl-ark/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/willcl-ark"
   },
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21766/comments",
   "created_at" : "2021-04-23T20:06:20Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21766/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/21766",
   "id" : 866397362,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21766/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU4NjYzOTczNjI=",
   "number" : 21766,
   "performed_via_github_app" : null,
   "reactions" : {
      "+1" : 1,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 1,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21766/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "state_reason" : "completed",
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21766/timeline",
   "title" : "followups: Various potential improvements arising out of chainman-deglobalizing review",
   "updated_at" : "2024-01-25T09:55:28Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/21766",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/3445290?v=4",
      "events_url" : "https://api.github.com/users/dongcarl/events{/privacy}",
      "followers_url" : "https://api.github.com/users/dongcarl/followers",
      "following_url" : "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url" : "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/dongcarl",
      "id" : 3445290,
      "login" : "dongcarl",
      "node_id" : "MDQ6VXNlcjM0NDUyOTA=",
      "organizations_url" : "https://api.github.com/users/dongcarl/orgs",
      "received_events_url" : "https://api.github.com/users/dongcarl/received_events",
      "repos_url" : "https://api.github.com/users/dongcarl/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/dongcarl/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/dongcarl"
   }
}
