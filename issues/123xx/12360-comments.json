[
   {
      "author_association" : "MEMBER",
      "body" : "This will need rebase after https://github.com/bitcoin/bitcoin/pull/11739 , won't it?",
      "created_at" : "2018-02-05T17:33:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-363159119",
      "id" : 363159119,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-02-05T17:33:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363159119",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This will need rebase after #11739 , won't it?\r\n\r\nThere are no dependencies between the two, but you're correct that there are some minor conflicts in the implementations. I'm happy to rebase if 11739 is merged first.",
      "created_at" : "2018-02-05T18:08:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-363169671",
      "id" : 363169671,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-02-05T18:08:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363169671",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166125724"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166125724"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Duplicated line?",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-05T21:59:58Z",
      "diff_hunk" : "@@ -1074,54 +1074,47 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    rv.pushKV(\"type\", \"buried\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166125724",
      "id" : 166125724,
      "original_commit_id" : "fc50434d31446a634bc2212cec3a66816bd9c1ff",
      "original_position" : 37,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 94158290,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166125724",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166126145"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166126145"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes? :trollface: ",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-05T22:01:52Z",
      "diff_hunk" : "@@ -1074,54 +1074,47 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    rv.pushKV(\"type\", \"buried\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166126145",
      "id" : 166126145,
      "in_reply_to_id" : 166125724,
      "original_commit_id" : "fc50434d31446a634bc2212cec3a66816bd9c1ff",
      "original_position" : 37,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 94158790,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166126145",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166126752"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166126752"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Any good reason for reference?",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-05T22:04:23Z",
      "diff_hunk" : "@@ -59,6 +59,11 @@ void CChainParams::UpdateVersionBitsParameters(Consensus::DeploymentPos d, int64\n     consensus.vDeployments[d].nTimeout = nTimeout;\n }\n \n+void CChainParams::UpdateSegwitHeight(const int& height)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166126752",
      "id" : 166126752,
      "original_commit_id" : "b58d5603c07870398baa51403b372898e2d8f10b",
      "original_position" : 4,
      "path" : "src/chainparams.cpp",
      "position" : null,
      "pull_request_review_id" : 94159521,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166126752",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166130917"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166130917"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-05T22:21:27Z",
      "diff_hunk" : "@@ -1074,54 +1074,47 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    rv.pushKV(\"type\", \"buried\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166130917",
      "id" : 166130917,
      "in_reply_to_id" : 166125724,
      "original_commit_id" : "fc50434d31446a634bc2212cec3a66816bd9c1ff",
      "original_position" : 37,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 94164228,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166130917",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166130947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166130947"
         }
      },
      "author_association" : "MEMBER",
      "body" : "None. Removed.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-05T22:21:36Z",
      "diff_hunk" : "@@ -59,6 +59,11 @@ void CChainParams::UpdateVersionBitsParameters(Consensus::DeploymentPos d, int64\n     consensus.vDeployments[d].nTimeout = nTimeout;\n }\n \n+void CChainParams::UpdateSegwitHeight(const int& height)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r166130947",
      "id" : 166130947,
      "in_reply_to_id" : 166126752,
      "original_commit_id" : "b58d5603c07870398baa51403b372898e2d8f10b",
      "original_position" : 4,
      "path" : "src/chainparams.cpp",
      "position" : null,
      "pull_request_review_id" : 94164270,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/166130947",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167066834"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167066834"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Is it helpful to continue referencing the BIP numbers in these comments? I would guess so.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-08T21:04:39Z",
      "diff_hunk" : "@@ -58,6 +56,10 @@ struct Params {\n     int BIP65Height;\n     /** Block height at which BIP66 becomes active */\n     int BIP66Height;\n+    /** Block height at which CSV becomes active */\n+    int CSVHeight;\n+    /** Block height at which Segwit becomes active */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167066834",
      "id" : 167066834,
      "original_commit_id" : "caab009d91178ec8ee3a53d7a5f321e97b480b44",
      "original_position" : 15,
      "path" : "src/consensus/params.h",
      "position" : null,
      "pull_request_review_id" : 95232089,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167066834",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167072716"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167072716"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Sure. Comments added.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-08T21:27:26Z",
      "diff_hunk" : "@@ -58,6 +56,10 @@ struct Params {\n     int BIP65Height;\n     /** Block height at which BIP66 becomes active */\n     int BIP66Height;\n+    /** Block height at which CSV becomes active */\n+    int CSVHeight;\n+    /** Block height at which Segwit becomes active */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167072716",
      "id" : 167072716,
      "in_reply_to_id" : 167066834,
      "original_commit_id" : "caab009d91178ec8ee3a53d7a5f321e97b480b44",
      "original_position" : 15,
      "path" : "src/consensus/params.h",
      "position" : null,
      "pull_request_review_id" : 95238980,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167072716",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167545915"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167545915"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Why not refer to the BIP numbers solely instead of alternating?",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-12T12:54:25Z",
      "diff_hunk" : "@@ -58,6 +56,10 @@ struct Params {\n     int BIP65Height;\n     /** Block height at which BIP66 becomes active */\n     int BIP66Height;\n+    /** Block height at which CSV becomes active */\n+    int CSVHeight;\n+    /** Block height at which Segwit becomes active */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167545915",
      "id" : 167545915,
      "in_reply_to_id" : 167066834,
      "original_commit_id" : "caab009d91178ec8ee3a53d7a5f321e97b480b44",
      "original_position" : 15,
      "path" : "src/consensus/params.h",
      "position" : null,
      "pull_request_review_id" : 95779175,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167545915",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/413395?v=4",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167546381"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167546381"
         }
      },
      "author_association" : "MEMBER",
      "body" : "the segwit deployment covered more than one bip",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-12T12:56:24Z",
      "diff_hunk" : "@@ -58,6 +56,10 @@ struct Params {\n     int BIP65Height;\n     /** Block height at which BIP66 becomes active */\n     int BIP66Height;\n+    /** Block height at which CSV becomes active */\n+    int CSVHeight;\n+    /** Block height at which Segwit becomes active */",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167546381",
      "id" : 167546381,
      "in_reply_to_id" : 167066834,
      "original_commit_id" : "caab009d91178ec8ee3a53d7a5f321e97b480b44",
      "original_position" : 15,
      "path" : "src/consensus/params.h",
      "position" : null,
      "pull_request_review_id" : 95779694,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167546381",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167546507"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167546507"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Nit: any reason this isn't just `rv.pushKV(\"active\", ...);` for consistency?",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-12T12:57:00Z",
      "diff_hunk" : "@@ -1074,54 +1074,46 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    // getblockchaininfo reports the softfork as active from when the chain height is\n+    // one below the activation height\n+    rv.push_back(Pair(\"active\", chainActive.Tip()->nHeight + 1 >= height));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167546507",
      "id" : 167546507,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 39,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95779840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167546507",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167549111"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167549111"
         }
      },
      "author_association" : "MEMBER",
      "body" : "We don't seem to have any testing for the contents of this key - is this the case? Happy to either write some for this PR or file a follow-up.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-12T13:08:58Z",
      "diff_hunk" : "@@ -1160,36 +1155,28 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"difficulty\\\": xxxxxx,         (numeric) the current difficulty\\n\"\n             \"  \\\"mediantime\\\": xxxxxx,         (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n-            \"  \\\"initialblockdownload\\\": xxxx, (bool) (debug information) estimate of whether this node is in Initial Block Download mode.\\n\"\n-            \"  \\\"chainwork\\\": \\\"xxxx\\\"           (string) total amount of work in active chain, in hexadecimal\\n\"\n-            \"  \\\"size_on_disk\\\": xxxxxx,       (numeric) the estimated size of the block and undo files on disk\\n\"\n-            \"  \\\"pruned\\\": xx,                 (boolean) if the blocks are subject to pruning\\n\"\n-            \"  \\\"pruneheight\\\": xxxxxx,        (numeric) lowest-height complete block stored (only present if pruning is enabled)\\n\"\n-            \"  \\\"automatic_pruning\\\": xx,      (boolean) whether automatic pruning is enabled (only present if pruning is enabled)\\n\"\n-            \"  \\\"prune_target_size\\\": xxxxxx,  (numeric) the target size used by pruning (only present if automatic pruning is enabled)\\n\"\n-            \"  \\\"softforks\\\": [                (array) status of softforks in progress\\n\"\n-            \"     {\\n\"\n-            \"        \\\"id\\\": \\\"xxxx\\\",           (string) name of softfork\\n\"\n-            \"        \\\"version\\\": xx,          (numeric) block version\\n\"\n-            \"        \\\"reject\\\": {             (object) progress toward rejecting pre-softfork blocks\\n\"\n-            \"           \\\"status\\\": xx,        (boolean) true if threshold reached\\n\"\n+            \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n+            \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n+            \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n+            \"  \\\"softforks\\\": {               (object) status of softforks\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167549111",
      "id" : 167549111,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 135,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95779840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167549111",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167551652"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167551652"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Curious why removal of this key and others (e.g. `size_on_disk`) is bundled with this changeset. Seems like RPC interface changes should be handled separately.\r\n\r\nEdit: looks like these were just removed from the help message; still probably don't want to do that in this changeset, no?",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-12T13:15:44Z",
      "diff_hunk" : "@@ -1160,36 +1155,28 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"difficulty\\\": xxxxxx,         (numeric) the current difficulty\\n\"\n             \"  \\\"mediantime\\\": xxxxxx,         (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n-            \"  \\\"initialblockdownload\\\": xxxx, (bool) (debug information) estimate of whether this node is in Initial Block Download mode.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167551652",
      "id" : 167551652,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 119,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95779840,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167551652",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167560635"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167560635"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Requires #12193",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-12T13:52:39Z",
      "diff_hunk" : "@@ -1074,54 +1074,46 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    // getblockchaininfo reports the softfork as active from when the chain height is\n+    // one below the activation height\n+    rv.push_back(Pair(\"active\", chainActive.Tip()->nHeight + 1 >= height));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167560635",
      "id" : 167560635,
      "in_reply_to_id" : 167546507,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 39,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95795387,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167560635",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167561009"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167561009"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You're right. `rpc_blockchain.py` should be updated. If you're happy to contribute a commit to add tests, I can include it in this PR.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-12T13:54:10Z",
      "diff_hunk" : "@@ -1160,36 +1155,28 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"difficulty\\\": xxxxxx,         (numeric) the current difficulty\\n\"\n             \"  \\\"mediantime\\\": xxxxxx,         (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n-            \"  \\\"initialblockdownload\\\": xxxx, (bool) (debug information) estimate of whether this node is in Initial Block Download mode.\\n\"\n-            \"  \\\"chainwork\\\": \\\"xxxx\\\"           (string) total amount of work in active chain, in hexadecimal\\n\"\n-            \"  \\\"size_on_disk\\\": xxxxxx,       (numeric) the estimated size of the block and undo files on disk\\n\"\n-            \"  \\\"pruned\\\": xx,                 (boolean) if the blocks are subject to pruning\\n\"\n-            \"  \\\"pruneheight\\\": xxxxxx,        (numeric) lowest-height complete block stored (only present if pruning is enabled)\\n\"\n-            \"  \\\"automatic_pruning\\\": xx,      (boolean) whether automatic pruning is enabled (only present if pruning is enabled)\\n\"\n-            \"  \\\"prune_target_size\\\": xxxxxx,  (numeric) the target size used by pruning (only present if automatic pruning is enabled)\\n\"\n-            \"  \\\"softforks\\\": [                (array) status of softforks in progress\\n\"\n-            \"     {\\n\"\n-            \"        \\\"id\\\": \\\"xxxx\\\",           (string) name of softfork\\n\"\n-            \"        \\\"version\\\": xx,          (numeric) block version\\n\"\n-            \"        \\\"reject\\\": {             (object) progress toward rejecting pre-softfork blocks\\n\"\n-            \"           \\\"status\\\": xx,        (boolean) true if threshold reached\\n\"\n+            \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n+            \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n+            \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n+            \"  \\\"softforks\\\": {               (object) status of softforks\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167561009",
      "id" : 167561009,
      "in_reply_to_id" : 167549111,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 135,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95795826,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167561009",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167564397"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167564397"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops. Bad rebase. Should be fixed now.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-12T14:07:42Z",
      "diff_hunk" : "@@ -1160,36 +1155,28 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"difficulty\\\": xxxxxx,         (numeric) the current difficulty\\n\"\n             \"  \\\"mediantime\\\": xxxxxx,         (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n-            \"  \\\"initialblockdownload\\\": xxxx, (bool) (debug information) estimate of whether this node is in Initial Block Download mode.\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167564397",
      "id" : 167564397,
      "in_reply_to_id" : 167551652,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 119,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95799929,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167564397",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167604687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167604687"
         }
      },
      "author_association" : "MEMBER",
      "body" : "ah. It's just been merged. Will rebase.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-02-12T16:14:05Z",
      "diff_hunk" : "@@ -1074,54 +1074,46 @@ UniValue verifychain(const JSONRPCRequest& request)\n     return CVerifyDB().VerifyDB(Params(), pcoinsTip.get(), nCheckLevel, nCheckDepth);\n }\n \n-/** Implementation of IsSuperMajority with better feedback */\n-static UniValue SoftForkMajorityDesc(int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n+static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name, int height)\n {\n-    UniValue rv(UniValue::VOBJ);\n-    bool activated = false;\n-    switch(version)\n-    {\n-        case 2:\n-            activated = pindex->nHeight >= consensusParams.BIP34Height;\n-            break;\n-        case 3:\n-            activated = pindex->nHeight >= consensusParams.BIP66Height;\n-            break;\n-        case 4:\n-            activated = pindex->nHeight >= consensusParams.BIP65Height;\n-            break;\n-    }\n-    rv.push_back(Pair(\"status\", activated));\n-    return rv;\n-}\n+    // For buried deployments.\n+    // Buried deployments with activation height value of std::numeric_limits<int>::max() are hidden.\n+    if (height == std::numeric_limits<int>::max()) return;\n \n-static UniValue SoftForkDesc(const std::string &name, int version, CBlockIndex* pindex, const Consensus::Params& consensusParams)\n-{\n     UniValue rv(UniValue::VOBJ);\n-    rv.push_back(Pair(\"id\", name));\n-    rv.push_back(Pair(\"version\", version));\n-    rv.push_back(Pair(\"reject\", SoftForkMajorityDesc(version, pindex, consensusParams)));\n-    return rv;\n+    rv.pushKV(\"type\", \"buried\");\n+    // getblockchaininfo reports the softfork as active from when the chain height is\n+    // one below the activation height\n+    rv.push_back(Pair(\"active\", chainActive.Tip()->nHeight + 1 >= height));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r167604687",
      "id" : 167604687,
      "in_reply_to_id" : 167546507,
      "original_commit_id" : "32cbe4828d7d22f9c88ce9ea27c69cd16cc8ebbe",
      "original_position" : 39,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 95846757,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/167604687",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased now that #12193 has been merged.\r\n\r\nACK @jamesob's 0be1f9d8a6bb2b8c47d6816b46d6764aee3cc06e commit.",
      "created_at" : "2018-02-13T16:10:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-365315132",
      "id" : 365315132,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-02-13T16:10:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365315132",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Biased ACK https://github.com/bitcoin/bitcoin/pull/12360/commits/0be1f9d8a6bb2b8c47d6816b46d6764aee3cc06e",
      "created_at" : "2018-02-14T18:09:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-365694953",
      "id" : 365694953,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-02-14T18:09:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365694953",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK 0be1f9d8a6bb2b8c47d6816b46d6764aee3cc06e",
      "created_at" : "2018-02-14T20:08:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-365729478",
      "id" : 365729478,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-02-14T20:08:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/365729478",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2018-03-07T18:43:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-371240941",
      "id" : 371240941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-03-07T18:43:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/371240941",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase to fix travis (sorry)",
      "created_at" : "2018-03-08T15:22:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-371519341",
      "id" : 371519341,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-03-08T15:22:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/371519341",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Rebased.",
      "created_at" : "2018-03-08T15:36:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-371523942",
      "id" : 371523942,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-03-08T15:36:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/371523942",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/73197?v=4",
         "events_url" : "https://api.github.com/users/jamesob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jamesob/followers",
         "following_url" : "https://api.github.com/users/jamesob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jamesob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jamesob",
         "id" : 73197,
         "login" : "jamesob",
         "organizations_url" : "https://api.github.com/users/jamesob/orgs",
         "received_events_url" : "https://api.github.com/users/jamesob/received_events",
         "repos_url" : "https://api.github.com/users/jamesob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jamesob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jamesob"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2018-03-19T13:31:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-374212240",
      "id" : 374212240,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-03-19T13:31:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374212240",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r175533928"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175533928"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This can be done directly in CRegtestParams's constructor, that way, the function UpdateSegwitHeight would not be needed.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-03-19T18:08:48Z",
      "diff_hunk" : "@@ -1158,6 +1159,21 @@ bool AppInitParameterInteraction()\n             }\n         }\n     }\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r175533928",
      "id" : 175533928,
      "original_commit_id" : "fc32e68ad21342126737b9c79f012706d4928255",
      "original_position" : 12,
      "path" : "src/init.cpp",
      "position" : 12,
      "pull_request_review_id" : 105078745,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175533928",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r175543522"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175543522"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Seems like a good idea, but segwit height is also updated in one of the unit tests:\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/12360/files#diff-d5ba361c5f8be78eb4cc0c787c1fc78eR118\r\n\r\nI think we need the `UpdateSegwitHeight()` function call there.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-03-19T18:38:47Z",
      "diff_hunk" : "@@ -1158,6 +1159,21 @@ bool AppInitParameterInteraction()\n             }\n         }\n     }\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r175543522",
      "id" : 175543522,
      "in_reply_to_id" : 175533928,
      "original_commit_id" : "fc32e68ad21342126737b9c79f012706d4928255",
      "original_position" : 12,
      "path" : "src/init.cpp",
      "position" : 12,
      "pull_request_review_id" : 105089728,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175543522",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r175579091"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175579091"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I guess we still need UpdateSegwitHeight() then, or perhaps we can pass the other args (instead of g_args, or rather g_args plus \"-segwitheight=432\") to SelectParams in https://github.com/bitcoin/bitcoin/pull/12360/files#diff-d5ba361c5f8be78eb4cc0c787c1fc78eR54 ?\r\nI guess not all BasicTestingSetup want 432 there...\r\n",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-03-19T20:44:56Z",
      "diff_hunk" : "@@ -1158,6 +1159,21 @@ bool AppInitParameterInteraction()\n             }\n         }\n     }\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r175579091",
      "id" : 175579091,
      "in_reply_to_id" : 175533928,
      "original_commit_id" : "fc32e68ad21342126737b9c79f012706d4928255",
      "original_position" : 12,
      "path" : "src/init.cpp",
      "position" : 12,
      "pull_request_review_id" : 105132017,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175579091",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1008458?v=4",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r175580812"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175580812"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think I'll leave it as is for now. It may be possible to tidy this up in a future commit.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-03-19T20:50:19Z",
      "diff_hunk" : "@@ -1158,6 +1159,21 @@ bool AppInitParameterInteraction()\n             }\n         }\n     }\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r175580812",
      "id" : 175580812,
      "in_reply_to_id" : 175533928,
      "original_commit_id" : "fc32e68ad21342126737b9c79f012706d4928255",
      "original_position" : 12,
      "path" : "src/init.cpp",
      "position" : 12,
      "pull_request_review_id" : 105133902,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/175580812",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2018-03-27T13:35:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-376527057",
      "id" : 376527057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-03-27T13:35:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376527057",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2018-03-29T14:56:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-377262527",
      "id" : 377262527,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-03-29T14:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377262527",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "#11739 is merged. Rebased",
      "created_at" : "2018-04-19T21:05:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-382880442",
      "id" : 382880442,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-04-19T21:05:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382880442",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Tend to NACK. Just because buried deployments can be done safely doesn't mean they should be done for the sole purpose of code refactoring without substantial motivation, advantages or simplifications. Since this is refactoring consensus code and also changing the consensus rules, I think a writeup on the motivation and tradeoffs is required. Note that none of the statements of the motivation given in BIP90 are applicable here, so I doubt that the overall gain (if any) is worth the time spent on this (code/discussions/formal writeups/review/...). I'd rather keep the deployments as versionbits deployments and instead treat `IsWitnessEnabled` as `true` for modules that don't need to know when the witness commitment started to be a requirement for blocks containing witness transactions. I'd guess compact block relay qualifies for this, since it only relays recent blocks. Alternatively the \"mining\" code, which only makes sense to call on chains where `IsWitnessEnabled` is already `true`.",
      "created_at" : "2018-04-22T00:03:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-383342462",
      "id" : 383342462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-04-22T00:03:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383342462",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Potentially also the mempool, after which #12124 could be rebased and reopened.",
      "created_at" : "2018-04-22T14:12:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-383384463",
      "id" : 383384463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-04-22T14:12:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383384463",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@MarcoFalke - I disagree. Once a softfork is deployed and is sufficiently buried, the activation mechanism is purely academic. Removing complexity and improving the simplicity of the code is motivation enough.\r\n\r\n> I think a writeup on the motivation and tradeoffs is required\r\n\r\nYes - I intend to send a writeup to the mailing list if this PR is merged.\r\n\r\nAs a meta-point, although review and feedback is always welcome, concept NACKs are much more useful early after a PR has been opened. This PR is a rebase of #11398, which was opened 7 months ago and has now been rebased ~10 times (including once requested by [you](https://github.com/bitcoin/bitcoin/pull/11398#issuecomment-343550044)). This PR and its antecedent have already been ACKed or concept ACKed by 5 contributors. If your objection is time spent on discussion/review, then that ship has already sailed :)",
      "created_at" : "2018-04-22T22:48:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-383418502",
      "id" : 383418502,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-04-22T22:48:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383418502",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Removing complexity and improving the simplicity of the code is motivation enough.\r\n\r\nI am not aware of any plans to get rid of the concept of versionbits-deployments, so the \"simplifications and improvements\" of the code are limited to that module of the code and don't have beneficial side-effects or simplifications (such as BIP-90).\r\n\r\nI am not saying that the changes can not be made, but rather that there is no need to to them right now. It is good to keep this patch in mind and there is no harm in having it in a rebased form... My Concept NACK is more a -0.\r\n\r\nPlease add some minimal motivation to the opening comment, if you plan to keep on curating this pull. I'd assume for new developers those changes to the consensus code are hard to follow in the absence of any motivation and the presence of merely a blob of code. ",
      "created_at" : "2018-05-09T17:15:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-387810810",
      "id" : 387810810,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-05-09T17:15:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387810810",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2018-05-09T19:23:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-387847871",
      "id" : 387847871,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-05-09T19:23:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/387847871",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r187189477"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/187189477"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It seems odd to add code just for the tests, that has no application outside of regtest. I'd prefer if the code paths in the tests that test segwit can be disabled are just removed. Afterward this code block and all other dead code (`IsScriptWitnessEnabled`, ...) can be discarded.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-05-09T22:04:08Z",
      "diff_hunk" : "@@ -1149,6 +1150,21 @@ bool AppInitParameterInteraction()\n             }\n         }\n     }\n+\n+    if (gArgs.IsArgSet(\"-segwitheight\")) {\n+        if (!chainparams.MineBlocksOnDemand()) {\n+            return InitError(\"Segwit activation parameters may only be overridden on regtest.\");\n+        }\n+        int64_t height = gArgs.GetArg(\"-segwitheight\", chainparams.GetConsensus().SegwitHeight);\n+        if (height < -1 || height >= std::numeric_limits<int>::max()) {\n+            return InitError(strprintf(\"Activation height %ld for segwit is out of valid range. Use -1 to disable segwit.\", height));\n+        }\n+        else if (height == -1) {\n+            LogPrintf(\"Segwit disabled for testing\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r187189477",
      "id" : 187189477,
      "original_commit_id" : "ec50d2bc4130088372f65315f777737dc737fa55",
      "original_position" : 22,
      "path" : "src/init.cpp",
      "position" : 22,
      "pull_request_review_id" : 118920949,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/187189477",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "In my view, segwit activation at _some_ height is the consensus that the software assumes -- given that our own wallet now generates segwit transactions by default it would be internally inconsistent to tolerate being on a chain on which segwit might never be active.  Moreover, we're contemplating merging a change in #13120 that would change the mempool logic to always accept segwit transactions, even if we were on a chain on which segwit was not active.\r\n\r\nI do agree with @MarcoFalke's comment that this is not a necessary change; however I think it is still a desirable one -- a height check seems simpler than VersionBits-based logic, even if making that change touches a bunch of code.  For instance, future code readers interested in segwit logic should not have to wonder under what circumstances the VersionBits calls might not return `THRESHOLD_ACTIVE`.  Further, I think replacing the VB logic with a height check also more accurate captures the uncertainty around the activation, where it was unclear whether segwit activated according to the rules specified in BIP 141, BIP 91, or BIP 148 (or something else?).  Maintaining the software's BIP 141 activation logic is an unnecessary and somewhat arbitrary burden, even if so far it has been a light one.\r\n\r\n> I am not aware of any plans to get rid of the concept of versionbits-deployments, so the \"simplifications and improvements\" of the code are limited to that module of the code and don't have beneficial side-effects or simplifications (such as BIP-90).\r\n\r\nI disagree with the second half that sentence -- I think that the circumstances around whether segwit is or might be active do concern other parts of the code (such as the wallet, mempool, and mining, which must make choices around what transactions to generate, accept or select) and therefore it's easier to reason about the possibilities if we remove chain-specific calculations and replace them with the height checks proposed here.\r\n\r\nIn summary, I think replacing the activation logic with a height check makes the code more internally consistent and simpler to understand and reason about, so I think this is worth doing.  Concept ACK.",
      "created_at" : "2018-05-10T14:50:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-388077138",
      "id" : 388077138,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-05-10T14:50:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/388077138",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r187416352"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/187416352"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Comment needs update to remove \"BIP9\"?",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-05-10T18:24:36Z",
      "diff_hunk" : "@@ -42,9 +42,9 @@ def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n         # This test tests SegWit both pre and post-activation, so use the normal BIP9 activation.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r187416352",
      "id" : 187416352,
      "original_commit_id" : "ec50d2bc4130088372f65315f777737dc737fa55",
      "original_position" : 3,
      "path" : "test/functional/feature_segwit.py",
      "position" : null,
      "pull_request_review_id" : 119193749,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/187416352",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r189675177"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189675177"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I completely agree. The only reason the 'Segwit disabled' code here and elsewhere exists is for `p2p_segwit.py`, where it's used to test whether GBT doesn't return a default witness commitment if segwit is disabled. That's completely circular - we're adding behaviour into the product so we can test whether that behaviour exists.\r\n\r\nI'd like to completely overhaul p2p_segwit.py and remove this special casing, but in a future PR. This PR is simply maintaining the existing functionality of setting `-vbparams=segwit:0:0`.",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-05-21T18:31:59Z",
      "diff_hunk" : "@@ -1149,6 +1150,21 @@ bool AppInitParameterInteraction()\n             }\n         }\n     }\n+\n+    if (gArgs.IsArgSet(\"-segwitheight\")) {\n+        if (!chainparams.MineBlocksOnDemand()) {\n+            return InitError(\"Segwit activation parameters may only be overridden on regtest.\");\n+        }\n+        int64_t height = gArgs.GetArg(\"-segwitheight\", chainparams.GetConsensus().SegwitHeight);\n+        if (height < -1 || height >= std::numeric_limits<int>::max()) {\n+            return InitError(strprintf(\"Activation height %ld for segwit is out of valid range. Use -1 to disable segwit.\", height));\n+        }\n+        else if (height == -1) {\n+            LogPrintf(\"Segwit disabled for testing\\n\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r189675177",
      "id" : 189675177,
      "in_reply_to_id" : 187189477,
      "original_commit_id" : "ec50d2bc4130088372f65315f777737dc737fa55",
      "original_position" : 22,
      "path" : "src/init.cpp",
      "position" : 22,
      "pull_request_review_id" : 121900670,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189675177",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r189677042"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189677042"
         }
      },
      "author_association" : "MEMBER",
      "body" : "fixed (here and in `p2p_segwit.py`).",
      "commit_id" : "c08e628f0f34df0f8d51b84bc56fc16eb2288118",
      "created_at" : "2018-05-21T18:38:48Z",
      "diff_hunk" : "@@ -42,9 +42,9 @@ def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 3\n         # This test tests SegWit both pre and post-activation, so use the normal BIP9 activation.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#discussion_r189677042",
      "id" : 189677042,
      "in_reply_to_id" : 187416352,
      "original_commit_id" : "ec50d2bc4130088372f65315f777737dc737fa55",
      "original_position" : 3,
      "path" : "test/functional/feature_segwit.py",
      "position" : null,
      "pull_request_review_id" : 121902933,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12360",
      "updated_at" : "2018-05-21T18:38:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/189677042",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed @MarcoFalke's comment and tidied up p2p_segwit.py a little.",
      "created_at" : "2018-05-21T18:39:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12360#issuecomment-390744160",
      "id" : 390744160,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12360",
      "updated_at" : "2018-05-21T18:39:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/390744160",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
