[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29013).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Stale ACK | [martinus](https://github.com/bitcoin/bitcoin/pull/29013#issuecomment-1847059669) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28960](https://github.com/bitcoin/bitcoin/pull/28960) (kernel: Remove dependency on CScheduler by TheCharlatan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-12-06T15:28:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#issuecomment-1843114000",
      "id" : 1843114000,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29013",
      "node_id" : "IC_kwDOABII585t27AQ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1843114000/reactions"
      },
      "updated_at" : "2023-12-08T15:18:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1843114000",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1417521141"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417521141"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: use the format that clang-tidy understands and that is used elsewhere in the code?\r\n\r\n```suggestion\r\n                                                                                      /*m_mempool_limit_bypassed=*/ false,\r\n```",
      "commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "created_at" : "2023-12-06T15:33:51Z",
      "diff_hunk" : "@@ -70,7 +70,7 @@ BOOST_AUTO_TEST_CASE(BlockPolicyEstimates)\n                                                                                       feeV[j],\n                                                                                       virtual_size,\n                                                                                       entry.nHeight,\n-                                                                                      /* m_from_disconnected_block */ false,\n+                                                                                      /* m_mempool_limit_bypassed */ false,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1417521141",
      "id" : 1417521141,
      "line" : 73,
      "node_id" : "PRRC_kwDOABII585Ufaf1",
      "original_commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "original_line" : 73,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/policyestimator_tests.cpp",
      "position" : 5,
      "pull_request_review_id" : 1767892125,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013",
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417521141/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-06T15:33:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417521141",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1420236394"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420236394"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm not sure it is a good idea to have two calls to `fuzzed_data_provider` in the function call. The problem is that the order of evaluation of function arguments is unspecified: https://en.cppreference.com/w/cpp/language/eval_order\r\nSo evaluation order can change at any time when compiled. Then the same fuzzing input will produce different results.\r\nI'd move the calls in front of `NewMempoolTransactionInfo`",
      "commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "created_at" : "2023-12-08T10:21:54Z",
      "diff_hunk" : "@@ -48,7 +48,7 @@ FUZZ_TARGET(policy_estimator, .init = initialize_policy_estimator)\n                 const auto tx_info = NewMempoolTransactionInfo(entry.GetSharedTx(), entry.GetFee(),\n                                                                entry.GetTxSize(), entry.GetHeight(),\n                                                                /* m_mempool_limit_bypassed */ false,\n-                                                               /* m_submitted_in_package */ false,\n+                                                               /* m_submitted_in_package */ fuzzed_data_provider.ConsumeBool(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1420236394",
      "id" : 1420236394,
      "line" : 51,
      "node_id" : "PRRC_kwDOABII585UpxZq",
      "original_commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "original_line" : 51,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator.cpp",
      "position" : 5,
      "pull_request_review_id" : 1772062141,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420236394/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-08T10:23:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420236394",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I can confirm that #29000 is fixed for me in commit 76d0c07ee94b8720964d9d71d462550ecc8b5147.",
      "created_at" : "2023-12-08T10:22:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#issuecomment-1846919761",
      "id" : 1846919761,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29013",
      "node_id" : "IC_kwDOABII585uFcJR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1846919761/reactions"
      },
      "updated_at" : "2023-12-08T10:22:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1846919761",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1420254059"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420254059"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Is there an easy way to catch those somehow in CI?",
      "commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "created_at" : "2023-12-08T10:36:24Z",
      "diff_hunk" : "@@ -48,7 +48,7 @@ FUZZ_TARGET(policy_estimator, .init = initialize_policy_estimator)\n                 const auto tx_info = NewMempoolTransactionInfo(entry.GetSharedTx(), entry.GetFee(),\n                                                                entry.GetTxSize(), entry.GetHeight(),\n                                                                /* m_mempool_limit_bypassed */ false,\n-                                                               /* m_submitted_in_package */ false,\n+                                                               /* m_submitted_in_package */ fuzzed_data_provider.ConsumeBool(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1420254059",
      "id" : 1420254059,
      "in_reply_to_id" : 1420236394,
      "line" : 51,
      "node_id" : "PRRC_kwDOABII585Up1tr",
      "original_commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "original_line" : 51,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator.cpp",
      "position" : 5,
      "pull_request_review_id" : 1772084656,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420254059/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-08T10:36:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420254059",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1420319394"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420319394"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Hm, as far as I know there's no easy way... I once found a bug like that where a deterministic random generator was used, and the unit test was asserting the exact output of an algorithm given a fixed but random input. On Windows the result was different because there the compiler had chosen a different evaluation order.",
      "commit_id" : "f8ef5dbc8471b711d233e3bec64597498a641252",
      "created_at" : "2023-12-08T11:37:27Z",
      "diff_hunk" : "@@ -48,7 +48,7 @@ FUZZ_TARGET(policy_estimator, .init = initialize_policy_estimator)\n                 const auto tx_info = NewMempoolTransactionInfo(entry.GetSharedTx(), entry.GetFee(),\n                                                                entry.GetTxSize(), entry.GetHeight(),\n                                                                /* m_mempool_limit_bypassed */ false,\n-                                                               /* m_submitted_in_package */ false,\n+                                                               /* m_submitted_in_package */ fuzzed_data_provider.ConsumeBool(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1420319394",
      "id" : 1420319394,
      "in_reply_to_id" : 1420236394,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UqFqi",
      "original_commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "original_line" : 51,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator.cpp",
      "position" : null,
      "pull_request_review_id" : 1772170717,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420319394/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-08T11:37:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420319394",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1420321030"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420321030"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Updated, thanks",
      "commit_id" : "f8ef5dbc8471b711d233e3bec64597498a641252",
      "created_at" : "2023-12-08T11:39:06Z",
      "diff_hunk" : "@@ -70,7 +70,7 @@ BOOST_AUTO_TEST_CASE(BlockPolicyEstimates)\n                                                                                       feeV[j],\n                                                                                       virtual_size,\n                                                                                       entry.nHeight,\n-                                                                                      /* m_from_disconnected_block */ false,\n+                                                                                      /* m_mempool_limit_bypassed */ false,",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1420321030",
      "id" : 1420321030,
      "in_reply_to_id" : 1417521141,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UqGEG",
      "original_commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "original_line" : 73,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/policyestimator_tests.cpp",
      "position" : null,
      "pull_request_review_id" : 1772173433,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420321030/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-08T11:39:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420321030",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1420321687"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420321687"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed in https://github.com/bitcoin/bitcoin/commit/fab46cc454f94b33dda6bc68a7234b439310f358 thank you @martinus ",
      "commit_id" : "f8ef5dbc8471b711d233e3bec64597498a641252",
      "created_at" : "2023-12-08T11:39:50Z",
      "diff_hunk" : "@@ -48,7 +48,7 @@ FUZZ_TARGET(policy_estimator, .init = initialize_policy_estimator)\n                 const auto tx_info = NewMempoolTransactionInfo(entry.GetSharedTx(), entry.GetFee(),\n                                                                entry.GetTxSize(), entry.GetHeight(),\n                                                                /* m_mempool_limit_bypassed */ false,\n-                                                               /* m_submitted_in_package */ false,\n+                                                               /* m_submitted_in_package */ fuzzed_data_provider.ConsumeBool(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1420321687",
      "id" : 1420321687,
      "in_reply_to_id" : 1420236394,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UqGOX",
      "original_commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "original_line" : 51,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator.cpp",
      "position" : null,
      "pull_request_review_id" : 1772174394,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420321687/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-08T11:39:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1420321687",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "code review ACK fab46cc",
      "created_at" : "2023-12-08T12:03:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#issuecomment-1847059669",
      "id" : 1847059669,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29013",
      "node_id" : "IC_kwDOABII585uF-TV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1847059669/reactions"
      },
      "updated_at" : "2023-12-08T12:03:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1847059669",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "```\r\ne-argument-comment,-warnings-as-errors]\r\n   52 |                                                                /*m_mempool_limit_bypassed=*/false,\r\n      |                                                                ^\r\n./kernel/mempool_entry.h:256:51: note: 'from_disconnected_block' declared here\r\n  256 |                                        const bool from_disconnected_block, const bool submitted_in_package,\r\n      |                                                   ^\r\ntest/fuzz/policy_estimator.cpp:54:64: error: argument name 'm_chainstate_is_current' in comment does not match parameter name 'chainstate_is_current' [bugprone-argument-comment,-warnings-as-errors]\r\n   54 |                                                                /*m_chainstate_is_current=*/true,\r\n      |                                                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n      |                                                                /*chainstate_is_current=*/\r\n./kernel/mempool_entry.h:257:51: note: 'chainstate_is_current' declared here\r\n  257 |                                        const bool chainstate_is_current,\r\n--",
      "created_at" : "2023-12-08T12:21:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#issuecomment-1847079707",
      "id" : 1847079707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29013",
      "node_id" : "IC_kwDOABII585uGDMb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1847079707/reactions"
      },
      "updated_at" : "2023-12-08T12:21:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1847079707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1421360505"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1421360505"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@maflcko I just looked through the code a bit to find other usages of `fuzzed_data_provider` that depend on the evaluation order, and there are quite a few of them. E.g.\r\n\r\n* https://github.com/bitcoin/bitcoin/blob/master/src/test/fuzz/addrman.cpp#L272\r\n* https://github.com/bitcoin/bitcoin/blob/master/src/test/fuzz/addrman.cpp#L286-L290\r\n* https://github.com/bitcoin/bitcoin/blob/master/src/test/fuzz/banman.cpp#L79\r\n* https://github.com/bitcoin/bitcoin/blob/master/src/test/fuzz/bloom_filter.cpp#L22-L26\r\n* https://github.com/martinus/bitcoin/blob/master/src/test/fuzz/buffered_file.cpp#L28\r\n* ...\r\n\r\nIt would be great if it were possible to find these automatically, but as far as I know that doesn't exist anywhere. Maybe with a custom clang-tidy plugin for specific classes, (random generator and fuzzer)?",
      "commit_id" : "f8ef5dbc8471b711d233e3bec64597498a641252",
      "created_at" : "2023-12-09T08:40:17Z",
      "diff_hunk" : "@@ -48,7 +48,7 @@ FUZZ_TARGET(policy_estimator, .init = initialize_policy_estimator)\n                 const auto tx_info = NewMempoolTransactionInfo(entry.GetSharedTx(), entry.GetFee(),\n                                                                entry.GetTxSize(), entry.GetHeight(),\n                                                                /* m_mempool_limit_bypassed */ false,\n-                                                               /* m_submitted_in_package */ false,\n+                                                               /* m_submitted_in_package */ fuzzed_data_provider.ConsumeBool(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1421360505",
      "id" : 1421360505,
      "in_reply_to_id" : 1420236394,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UuD15",
      "original_commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "original_line" : 51,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator.cpp",
      "position" : null,
      "pull_request_review_id" : 1773622123,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1421360505/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-09T08:40:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1421360505",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1421427984"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1421427984"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I created #29043",
      "commit_id" : "f8ef5dbc8471b711d233e3bec64597498a641252",
      "created_at" : "2023-12-09T14:24:26Z",
      "diff_hunk" : "@@ -48,7 +48,7 @@ FUZZ_TARGET(policy_estimator, .init = initialize_policy_estimator)\n                 const auto tx_info = NewMempoolTransactionInfo(entry.GetSharedTx(), entry.GetFee(),\n                                                                entry.GetTxSize(), entry.GetHeight(),\n                                                                /* m_mempool_limit_bypassed */ false,\n-                                                               /* m_submitted_in_package */ false,\n+                                                               /* m_submitted_in_package */ fuzzed_data_provider.ConsumeBool(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1421427984",
      "id" : 1421427984,
      "in_reply_to_id" : 1420236394,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UuUUQ",
      "original_commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "original_line" : 51,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator.cpp",
      "position" : null,
      "pull_request_review_id" : 1773706105,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1421427984/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-09T14:24:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1421427984",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/14386?v=4",
         "events_url" : "https://api.github.com/users/martinus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martinus/followers",
         "following_url" : "https://api.github.com/users/martinus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martinus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martinus",
         "id" : 14386,
         "login" : "martinus",
         "node_id" : "MDQ6VXNlcjE0Mzg2",
         "organizations_url" : "https://api.github.com/users/martinus/orgs",
         "received_events_url" : "https://api.github.com/users/martinus/received_events",
         "repos_url" : "https://api.github.com/users/martinus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martinus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martinus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martinus"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for reviewing @martinus @maflcko \r\nForced pushed from https://github.com/bitcoin/bitcoin/commit/fab46cc454f94b33dda6bc68a7234b439310f358 to https://github.com/bitcoin/bitcoin/commit/f8ef5dbc8471b711d233e3bec64597498a641252\r\nto fix CI failure\r\n[compare_changes](https://github.com/bitcoin/bitcoin/compare/fab46cc454f94b33dda6bc68a7234b439310f358..f8ef5dbc8471b711d233e3bec64597498a641252)",
      "created_at" : "2023-12-09T16:20:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#issuecomment-1848453371",
      "id" : 1848453371,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29013",
      "node_id" : "IC_kwDOABII585uLSj7",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1848453371/reactions"
      },
      "updated_at" : "2023-12-09T16:20:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1848453371",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1421441743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1421441743"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks @martinus Will review ",
      "commit_id" : "f8ef5dbc8471b711d233e3bec64597498a641252",
      "created_at" : "2023-12-09T16:20:30Z",
      "diff_hunk" : "@@ -48,7 +48,7 @@ FUZZ_TARGET(policy_estimator, .init = initialize_policy_estimator)\n                 const auto tx_info = NewMempoolTransactionInfo(entry.GetSharedTx(), entry.GetFee(),\n                                                                entry.GetTxSize(), entry.GetHeight(),\n                                                                /* m_mempool_limit_bypassed */ false,\n-                                                               /* m_submitted_in_package */ false,\n+                                                               /* m_submitted_in_package */ fuzzed_data_provider.ConsumeBool(),",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29013#discussion_r1421441743",
      "id" : 1421441743,
      "in_reply_to_id" : 1420236394,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UuXrP",
      "original_commit_id" : "76d0c07ee94b8720964d9d71d462550ecc8b5147",
      "original_line" : 51,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/test/fuzz/policy_estimator.cpp",
      "position" : null,
      "pull_request_review_id" : 1773720599,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29013",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1421441743/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-09T16:20:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1421441743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48946461?v=4",
         "events_url" : "https://api.github.com/users/ismaelsadeeq/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ismaelsadeeq/followers",
         "following_url" : "https://api.github.com/users/ismaelsadeeq/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ismaelsadeeq/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ismaelsadeeq",
         "id" : 48946461,
         "login" : "ismaelsadeeq",
         "node_id" : "MDQ6VXNlcjQ4OTQ2NDYx",
         "organizations_url" : "https://api.github.com/users/ismaelsadeeq/orgs",
         "received_events_url" : "https://api.github.com/users/ismaelsadeeq/received_events",
         "repos_url" : "https://api.github.com/users/ismaelsadeeq/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ismaelsadeeq/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ismaelsadeeq/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ismaelsadeeq"
      }
   }
]
