[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/29007).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [mzumsande](https://github.com/bitcoin/bitcoin/pull/29007#pullrequestreview-1782655123), [amitiuttarwar](https://github.com/bitcoin/bitcoin/pull/29007#pullrequestreview-1787928129) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28998](https://github.com/bitcoin/bitcoin/pull/28998) (rpc: addpeeraddress tried return error on failure by 0xB10C)\n* [#28890](https://github.com/bitcoin/bitcoin/pull/28890) (rpc: Remove deprecated -rpcserialversion by maflcko)\n* [#28802](https://github.com/bitcoin/bitcoin/pull/28802) (ArgsManager: support subcommand-specific options by ajtowns)\n* [#28528](https://github.com/bitcoin/bitcoin/pull/28528) (test: Use test framework utils in functional tests by osagie98)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2023-12-06T02:55:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#issuecomment-1842003876",
      "id" : 1842003876,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29007",
      "node_id" : "IC_kwDOABII585tyr-k",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1842003876/reactions"
      },
      "updated_at" : "2023-12-21T08:43:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1842003876",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417082950"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417082950"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I wonder if this can be generalized to pass test-only options (along with a helper `HasTestOption`, similar to `IsDeprecatedRPCEnabled`?\r\n\r\nThe user-facing debug-help output of this seems the wrong place to document test-only options, and the source code seems sufficient to be self-documenting.\r\n\r\n```suggestion\r\n    argsman.AddArg(\"-test=<option>\", \"Pass a test-only option\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\r\n```",
      "commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "created_at" : "2023-12-06T10:41:11Z",
      "diff_hunk" : "@@ -579,7 +579,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantcount=<n>\", strprintf(\"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants (default: %u)\", DEFAULT_DESCENDANT_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantsize=<n>\", strprintf(\"Do not accept transactions if any ancestor would have more than <n> kilobytes of in-mempool descendants (default: %u).\", DEFAULT_DESCENDANT_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-addrmantest\", \"Allows to test address relay on localhost\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-addrtest=<option>\", strprintf(\"Test general address related functionalities. Only used in tests. When -addrtest=relay is specified, test address relay on localhost. When -addrtest=addrman is specified, use a deterministic addrman. (default: %s)\", \"relay\"), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417082950",
      "id" : 1417082950,
      "line" : 582,
      "node_id" : "PRRC_kwDOABII585UdvhG",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 582,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 1767236105,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417082950/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-06T10:41:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417082950",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417083583"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417083583"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In any case, `(default: %s)\", \"relay\"` is wrong, no?",
      "commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "created_at" : "2023-12-06T10:41:44Z",
      "diff_hunk" : "@@ -579,7 +579,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantcount=<n>\", strprintf(\"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants (default: %u)\", DEFAULT_DESCENDANT_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantsize=<n>\", strprintf(\"Do not accept transactions if any ancestor would have more than <n> kilobytes of in-mempool descendants (default: %u).\", DEFAULT_DESCENDANT_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-addrmantest\", \"Allows to test address relay on localhost\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-addrtest=<option>\", strprintf(\"Test general address related functionalities. Only used in tests. When -addrtest=relay is specified, test address relay on localhost. When -addrtest=addrman is specified, use a deterministic addrman. (default: %s)\", \"relay\"), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417083583",
      "id" : 1417083583,
      "in_reply_to_id" : 1417082950,
      "line" : 582,
      "node_id" : "PRRC_kwDOABII585Udvq_",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 582,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : 5,
      "pull_request_review_id" : 1767237111,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417083583/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-06T10:41:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417083583",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417084172"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417084172"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n    const auto options = args.GetArgs(\"-addrtest\");\r\n```",
      "commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "created_at" : "2023-12-06T10:42:14Z",
      "diff_hunk" : "@@ -185,7 +185,13 @@ void ReadFromStream(AddrMan& addr, DataStream& ssPeers)\n util::Result<std::unique_ptr<AddrMan>> LoadAddrman(const NetGroupManager& netgroupman, const ArgsManager& args)\n {\n     auto check_addrman = std::clamp<int32_t>(args.GetIntArg(\"-checkaddrman\", DEFAULT_ADDRMAN_CONSISTENCY_CHECKS), 0, 1000000);\n-    auto addrman{std::make_unique<AddrMan>(netgroupman, /*deterministic=*/false, /*consistency_check_ratio=*/check_addrman)};\n+\n+    const auto options = gArgs.GetArgs(\"-addrtest\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417084172",
      "id" : 1417084172,
      "line" : 189,
      "node_id" : "PRRC_kwDOABII585Udv0M",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 189,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : 6,
      "pull_request_review_id" : 1767238019,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417084172/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-06T10:42:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417084172",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417165681"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417165681"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You might also want to edit/update/remove(?) this comment. I think mentioning that we avoid collisions by adding known-working addresses to the deterministic addrman would be good. ",
      "commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "created_at" : "2023-12-06T11:54:28Z",
      "diff_hunk" : "@@ -305,7 +305,7 @@ def test_addpeeraddress(self):\n         by first testing adding a tried table entry before testing adding a new table one.\n         \"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417165681",
      "id" : 1417165681,
      "line" : 306,
      "node_id" : "PRRC_kwDOABII585UeDtx",
      "original_commit_id" : "2474dd1cb00241286d131348525bf782a19a7f8c",
      "original_line" : 306,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : 2,
      "pull_request_review_id" : 1767364837,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417165681/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-06T11:54:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417165681",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417402704"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417402704"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In 964e1a8faec984df2799171bc2a9268a3765fbca:  Any specific reason to increase the number of added addresses here? ",
      "commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "created_at" : "2023-12-06T14:20:18Z",
      "diff_hunk" : "@@ -42,8 +42,8 @@ def set_test_params(self):\n         self.extra_args = [[\"-checkaddrman=1\"]]  # Do addrman checks on all operations.\n \n     def fill_addrman(self, node_id):\n-        \"\"\"Add 1 tried address to the addrman, followed by 1 new address.\"\"\"\n-        for addr, tried in [[0, True], [1, False]]:\n+        \"\"\"Add 2 tried address to the addrman, followed by 2 new address.\"\"\"\n+        for addr, tried in [[0, True], [1, True], [2, False], [3, False]]:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417402704",
      "id" : 1417402704,
      "line" : 46,
      "node_id" : "PRRC_kwDOABII585Ue9lQ",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 46,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/feature_asmap.py",
      "position" : 7,
      "pull_request_review_id" : 1767699026,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417402704/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-06T14:20:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417402704",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417424421"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417424421"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "This was lowered to 1 tried and 1 new in https://github.com/bitcoin/bitcoin/pull/23084 as more than one address meant the test could sporadically fail if there's a collision.\r\n\r\n@stratospher, I think, if you want to make this clearer, you could have this commit be a revert of https://github.com/bitcoin/bitcoin/commit/5825b34783545f9470d5ab94b87c918980715675 or note it in the commit message.",
      "commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "created_at" : "2023-12-06T14:34:24Z",
      "diff_hunk" : "@@ -42,8 +42,8 @@ def set_test_params(self):\n         self.extra_args = [[\"-checkaddrman=1\"]]  # Do addrman checks on all operations.\n \n     def fill_addrman(self, node_id):\n-        \"\"\"Add 1 tried address to the addrman, followed by 1 new address.\"\"\"\n-        for addr, tried in [[0, True], [1, False]]:\n+        \"\"\"Add 2 tried address to the addrman, followed by 2 new address.\"\"\"\n+        for addr, tried in [[0, True], [1, True], [2, False], [3, False]]:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417424421",
      "id" : 1417424421,
      "in_reply_to_id" : 1417402704,
      "line" : 46,
      "node_id" : "PRRC_kwDOABII585UfC4l",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 46,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/feature_asmap.py",
      "position" : 7,
      "pull_request_review_id" : 1767733967,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417424421/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-06T14:34:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417424421",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417428585"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417428585"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks, @0xB10C. An explanation in the commit message would be valuable.",
      "commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "created_at" : "2023-12-06T14:37:20Z",
      "diff_hunk" : "@@ -42,8 +42,8 @@ def set_test_params(self):\n         self.extra_args = [[\"-checkaddrman=1\"]]  # Do addrman checks on all operations.\n \n     def fill_addrman(self, node_id):\n-        \"\"\"Add 1 tried address to the addrman, followed by 1 new address.\"\"\"\n-        for addr, tried in [[0, True], [1, False]]:\n+        \"\"\"Add 2 tried address to the addrman, followed by 2 new address.\"\"\"\n+        for addr, tried in [[0, True], [1, True], [2, False], [3, False]]:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417428585",
      "id" : 1417428585,
      "in_reply_to_id" : 1417402704,
      "line" : 46,
      "node_id" : "PRRC_kwDOABII585UfD5p",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 46,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/feature_asmap.py",
      "position" : 7,
      "pull_request_review_id" : 1767741246,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417428585/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-06T14:37:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1417428585",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418333521"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333521"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I wonder if this can be generalized to pass test-only options (along with a helper HasTestOption, similar to IsDeprecatedRPCEnabled?\r\n\r\nwhat would a function like `HasTestOption` do though? we could introduce it here to check if we're using a known test option(\"relay\", \"addrman\"). even if we use unknown test options, we don't need to throw an error right.\r\n\r\n> In any case, (default: %s)\", \"relay\" is wrong, no?\r\n\r\ndone.",
      "commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "created_at" : "2023-12-07T04:39:05Z",
      "diff_hunk" : "@@ -579,7 +579,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantcount=<n>\", strprintf(\"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants (default: %u)\", DEFAULT_DESCENDANT_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantsize=<n>\", strprintf(\"Do not accept transactions if any ancestor would have more than <n> kilobytes of in-mempool descendants (default: %u).\", DEFAULT_DESCENDANT_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-addrmantest\", \"Allows to test address relay on localhost\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-addrtest=<option>\", strprintf(\"Test general address related functionalities. Only used in tests. When -addrtest=relay is specified, test address relay on localhost. When -addrtest=addrman is specified, use a deterministic addrman. (default: %s)\", \"relay\"), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418333521",
      "id" : 1418333521,
      "in_reply_to_id" : 1417082950,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Uig1R",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 582,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1769145527,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333521/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-07T04:39:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333521",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418333665"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333665"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done.",
      "commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "created_at" : "2023-12-07T04:39:14Z",
      "diff_hunk" : "@@ -185,7 +185,13 @@ void ReadFromStream(AddrMan& addr, DataStream& ssPeers)\n util::Result<std::unique_ptr<AddrMan>> LoadAddrman(const NetGroupManager& netgroupman, const ArgsManager& args)\n {\n     auto check_addrman = std::clamp<int32_t>(args.GetIntArg(\"-checkaddrman\", DEFAULT_ADDRMAN_CONSISTENCY_CHECKS), 0, 1000000);\n-    auto addrman{std::make_unique<AddrMan>(netgroupman, /*deterministic=*/false, /*consistency_check_ratio=*/check_addrman)};\n+\n+    const auto options = gArgs.GetArgs(\"-addrtest\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418333665",
      "id" : 1418333665,
      "in_reply_to_id" : 1417084172,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Uig3h",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 189,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/addrdb.cpp",
      "position" : null,
      "pull_request_review_id" : 1769145725,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333665/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-07T04:39:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333665",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418333746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333746"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done.",
      "commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "created_at" : "2023-12-07T04:39:22Z",
      "diff_hunk" : "@@ -305,7 +305,7 @@ def test_addpeeraddress(self):\n         by first testing adding a tried table entry before testing adding a new table one.\n         \"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418333746",
      "id" : 1418333746,
      "in_reply_to_id" : 1417165681,
      "line" : 304,
      "node_id" : "PRRC_kwDOABII585Uig4y",
      "original_commit_id" : "2474dd1cb00241286d131348525bf782a19a7f8c",
      "original_line" : 304,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : 10,
      "pull_request_review_id" : 1769145844,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333746/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-07T04:39:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418333843"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333843"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done.",
      "commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "created_at" : "2023-12-07T04:39:33Z",
      "diff_hunk" : "@@ -42,8 +42,8 @@ def set_test_params(self):\n         self.extra_args = [[\"-checkaddrman=1\"]]  # Do addrman checks on all operations.\n \n     def fill_addrman(self, node_id):\n-        \"\"\"Add 1 tried address to the addrman, followed by 1 new address.\"\"\"\n-        for addr, tried in [[0, True], [1, False]]:\n+        \"\"\"Add 2 tried address to the addrman, followed by 2 new address.\"\"\"\n+        for addr, tried in [[0, True], [1, True], [2, False], [3, False]]:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418333843",
      "id" : 1418333843,
      "in_reply_to_id" : 1417402704,
      "line" : 46,
      "node_id" : "PRRC_kwDOABII585Uig6T",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 46,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/feature_asmap.py",
      "position" : 7,
      "pull_request_review_id" : 1769145973,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333843/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-07T04:39:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418333843",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks @maflcko, @0xb10c, @brunoerg. I've updated the PR to address your comments. Open to more thoughts/suggestions in https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1417082950.",
      "created_at" : "2023-12-07T04:43:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#issuecomment-1844372874",
      "id" : 1844372874,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29007",
      "node_id" : "IC_kwDOABII585t7uWK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1844372874/reactions"
      },
      "updated_at" : "2023-12-07T04:43:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1844372874",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418515159"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418515159"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> what would a function like `HasTestOption` do though? we could introduce it here to check if we're using a known test option(\"relay\", \"addrman\"). even if we use unknown test options, we don't need to throw an error right.\r\n\r\nIt would just be a one-line function to hold the code you already wrote in two places:\r\n\r\n```cpp\r\nreturn any_of(args.GetArgs(\"test\"), test_option);",
      "commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "created_at" : "2023-12-07T07:49:57Z",
      "diff_hunk" : "@@ -579,7 +579,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantcount=<n>\", strprintf(\"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants (default: %u)\", DEFAULT_DESCENDANT_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantsize=<n>\", strprintf(\"Do not accept transactions if any ancestor would have more than <n> kilobytes of in-mempool descendants (default: %u).\", DEFAULT_DESCENDANT_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-addrmantest\", \"Allows to test address relay on localhost\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-addrtest=<option>\", strprintf(\"Test general address related functionalities. Only used in tests. When -addrtest=relay is specified, test address relay on localhost. When -addrtest=addrman is specified, use a deterministic addrman. (default: %s)\", \"relay\"), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418515159",
      "id" : 1418515159,
      "in_reply_to_id" : 1417082950,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585UjNLX",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 582,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1769410542,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418515159/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-07T07:49:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418515159",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418564026"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418564026"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I've been thinking about how to clear the addrman tables in a functional test. I think it would be ideal if we could avoid the `addpeeraddress` test _leaking_ into `getaddrmaninfo` and `getrawaddrman` tests. \r\n\r\nThis also becomes relevant in the context of #28998 where we might want to produce a tried table collision on purpose to have coverage of the `addpeeraddress` RPC failure path. The easiest way of producing a collision is by adding more and more addresses to the tried table (as we do in the [unit test](https://github.com/bitcoin/bitcoin/blob/2e8ec6b338a825a7155fff1be83993e3834ab655/src/test/addrman_tests.cpp#L352C4-L364)). This would leave us with quite a few additional addresses already in the tried table.\r\n\r\nI currently see two possibilities for clearing the addrman tables between tests:\r\n1. shutdown the node, delete `peers.dat`, and restart\r\n2. have a third node for this test that's only used for `getrawaddrman`.\r\n",
      "commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "created_at" : "2023-12-07T08:29:11Z",
      "diff_hunk" : "@@ -449,6 +454,22 @@ def check_getrawaddrman_entries(expected):\n                         \"network\": \"ipv4\",\n                         \"source\": \"2.0.0.0\",\n                         \"source_network\": \"ipv4\",\n+                    },\n+                    {\n+                        \"address\": \"fc00:1:2:3:4:5:6:7\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"cjdns\",\n+                        \"source\": \"fc00:1:2:3:4:5:6:7\",\n+                        \"source_network\": \"cjdns\",\n+                    },\n+                    {\n+                        \"address\": \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"i2p\",\n+                        \"source\": \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+                        \"source_network\": \"i2p\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418564026",
      "id" : 1418564026,
      "line" : 472,
      "node_id" : "PRRC_kwDOABII585UjZG6",
      "original_commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "original_line" : 472,
      "original_position" : 82,
      "original_start_line" : 457,
      "path" : "test/functional/rpc_net.py",
      "position" : 82,
      "pull_request_review_id" : 1769487745,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418564026/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 457,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-12-07T08:29:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418564026",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418567733"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418567733"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "We're doing option 1. in the [feature_addrman.py](https://github.com/bitcoin/bitcoin/blob/2e8ec6b338a825a7155fff1be83993e3834ab655/test/functional/feature_addrman.py#L160-L161) functional test.",
      "commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "created_at" : "2023-12-07T08:30:52Z",
      "diff_hunk" : "@@ -449,6 +454,22 @@ def check_getrawaddrman_entries(expected):\n                         \"network\": \"ipv4\",\n                         \"source\": \"2.0.0.0\",\n                         \"source_network\": \"ipv4\",\n+                    },\n+                    {\n+                        \"address\": \"fc00:1:2:3:4:5:6:7\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"cjdns\",\n+                        \"source\": \"fc00:1:2:3:4:5:6:7\",\n+                        \"source_network\": \"cjdns\",\n+                    },\n+                    {\n+                        \"address\": \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"i2p\",\n+                        \"source\": \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+                        \"source_network\": \"i2p\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418567733",
      "id" : 1418567733,
      "in_reply_to_id" : 1418564026,
      "line" : 472,
      "node_id" : "PRRC_kwDOABII585UjaA1",
      "original_commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "original_line" : 472,
      "original_position" : 82,
      "original_start_line" : 457,
      "path" : "test/functional/rpc_net.py",
      "position" : 82,
      "pull_request_review_id" : 1769492296,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418567733/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 457,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-12-07T08:35:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1418567733",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1427230831"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427230831"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: code style, `relay_for_tests`",
      "commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "created_at" : "2023-12-14T20:20:18Z",
      "diff_hunk" : "@@ -237,7 +237,13 @@ static int GetnScore(const CService& addr)\n std::optional<CService> GetLocalAddrForPeer(CNode& node)\n {\n     CService addrLocal{GetLocalAddress(node)};\n-    if (gArgs.GetBoolArg(\"-addrmantest\", false)) {\n+\n+    const auto options = gArgs.GetArgs(\"-addrtest\");\n+    bool relayForTests = std::any_of(options.begin(), options.end(), [](const auto& option) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1427230831",
      "id" : 1427230831,
      "line" : 242,
      "node_id" : "PRRC_kwDOABII585VEdBv",
      "original_commit_id" : "b607c39e21057c3507b1faecce5b35a5ecad10aa",
      "original_line" : 242,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 7,
      "pull_request_review_id" : 1782655123,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427230831/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-14T21:31:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427230831",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1427322222"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427322222"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Are you suggesting to move other existing test-only options (`-acceptstalefeeestimates` or `-fastprune` come to mind) under this command?",
      "commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "created_at" : "2023-12-14T21:37:54Z",
      "diff_hunk" : "@@ -579,7 +579,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantcount=<n>\", strprintf(\"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants (default: %u)\", DEFAULT_DESCENDANT_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantsize=<n>\", strprintf(\"Do not accept transactions if any ancestor would have more than <n> kilobytes of in-mempool descendants (default: %u).\", DEFAULT_DESCENDANT_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-addrmantest\", \"Allows to test address relay on localhost\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-addrtest=<option>\", strprintf(\"Test general address related functionalities. Only used in tests. When -addrtest=relay is specified, test address relay on localhost. When -addrtest=addrman is specified, use a deterministic addrman. (default: %s)\", \"relay\"), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1427322222",
      "id" : 1427322222,
      "in_reply_to_id" : 1417082950,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585VEzVu",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 582,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1782805982,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427322222/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-14T21:38:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427322222",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1427346763"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427346763"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes. (Not here, obviously, but in a follow-up possibly)",
      "commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "created_at" : "2023-12-14T22:00:10Z",
      "diff_hunk" : "@@ -579,7 +579,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantcount=<n>\", strprintf(\"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants (default: %u)\", DEFAULT_DESCENDANT_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantsize=<n>\", strprintf(\"Do not accept transactions if any ancestor would have more than <n> kilobytes of in-mempool descendants (default: %u).\", DEFAULT_DESCENDANT_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-addrmantest\", \"Allows to test address relay on localhost\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-addrtest=<option>\", strprintf(\"Test general address related functionalities. Only used in tests. When -addrtest=relay is specified, test address relay on localhost. When -addrtest=addrman is specified, use a deterministic addrman. (default: %s)\", \"relay\"), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1427346763",
      "id" : 1427346763,
      "in_reply_to_id" : 1417082950,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585VE5VL",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 582,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1782832588,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427346763/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-14T22:00:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1427346763",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1428713566"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428713566"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> It would just be a one-line function to hold the code you already wrote in two places:\r\n\r\noh got it now.\r\n\r\n> I wonder if this can be generalized to pass test-only options (along with a helper HasTestOption, similar to IsDeprecatedRPCEnabled?\r\n\r\ngood idea - liked how we can make sure users don't accidentally use these test-only options in their config file.\r\ndone.\r\n ",
      "commit_id" : "548120832da0ac3fc7e8ce0238697cdac66201e2",
      "created_at" : "2023-12-16T06:34:31Z",
      "diff_hunk" : "@@ -579,7 +579,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-limitancestorsize=<n>\", strprintf(\"Do not accept transactions whose size with all in-mempool ancestors exceeds <n> kilobytes (default: %u)\", DEFAULT_ANCESTOR_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantcount=<n>\", strprintf(\"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants (default: %u)\", DEFAULT_DESCENDANT_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantsize=<n>\", strprintf(\"Do not accept transactions if any ancestor would have more than <n> kilobytes of in-mempool descendants (default: %u).\", DEFAULT_DESCENDANT_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n-    argsman.AddArg(\"-addrmantest\", \"Allows to test address relay on localhost\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-addrtest=<option>\", strprintf(\"Test general address related functionalities. Only used in tests. When -addrtest=relay is specified, test address relay on localhost. When -addrtest=addrman is specified, use a deterministic addrman. (default: %s)\", \"relay\"), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1428713566",
      "id" : 1428713566,
      "in_reply_to_id" : 1417082950,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585VKHBe",
      "original_commit_id" : "964e1a8faec984df2799171bc2a9268a3765fbca",
      "original_line" : 582,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1785138435,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428713566/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-16T06:34:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428713566",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1428713673"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428713673"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> I think it would be ideal if we could avoid the addpeeraddress test leaking into getaddrmaninfo and getrawaddrman tests.\r\n\r\nit would be cleaner to not need to know the existing context of addrman when dealing with getaddrmaninfo/getrawaddrman tests. both the options sound good to me!\r\n\r\n> The easiest way of producing a collision is by adding more and more addresses to the tried table (as we do in the unit test). This would leave us with quite a few additional addresses already in the tried table.\r\n\r\nthese collisions would only affect future tests added after getaddrmaninfo/getrawaddrman tests though.",
      "commit_id" : "548120832da0ac3fc7e8ce0238697cdac66201e2",
      "created_at" : "2023-12-16T06:35:00Z",
      "diff_hunk" : "@@ -449,6 +454,22 @@ def check_getrawaddrman_entries(expected):\n                         \"network\": \"ipv4\",\n                         \"source\": \"2.0.0.0\",\n                         \"source_network\": \"ipv4\",\n+                    },\n+                    {\n+                        \"address\": \"fc00:1:2:3:4:5:6:7\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"cjdns\",\n+                        \"source\": \"fc00:1:2:3:4:5:6:7\",\n+                        \"source_network\": \"cjdns\",\n+                    },\n+                    {\n+                        \"address\": \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"i2p\",\n+                        \"source\": \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+                        \"source_network\": \"i2p\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1428713673",
      "id" : 1428713673,
      "in_reply_to_id" : 1418564026,
      "line" : 475,
      "node_id" : "PRRC_kwDOABII585VKHDJ",
      "original_commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "original_line" : 475,
      "original_position" : 82,
      "original_start_line" : 457,
      "path" : "test/functional/rpc_net.py",
      "position" : 82,
      "pull_request_review_id" : 1785138484,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428713673/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 460,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-12-16T06:35:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428713673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1428713695"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428713695"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done.",
      "commit_id" : "548120832da0ac3fc7e8ce0238697cdac66201e2",
      "created_at" : "2023-12-16T06:35:03Z",
      "diff_hunk" : "@@ -237,7 +237,13 @@ static int GetnScore(const CService& addr)\n std::optional<CService> GetLocalAddrForPeer(CNode& node)\n {\n     CService addrLocal{GetLocalAddress(node)};\n-    if (gArgs.GetBoolArg(\"-addrmantest\", false)) {\n+\n+    const auto options = gArgs.GetArgs(\"-addrtest\");\n+    bool relayForTests = std::any_of(options.begin(), options.end(), [](const auto& option) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1428713695",
      "id" : 1428713695,
      "in_reply_to_id" : 1427230831,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585VKHDf",
      "original_commit_id" : "b607c39e21057c3507b1faecce5b35a5ecad10aa",
      "original_line" : 242,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 1785138493,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428713695/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-16T06:35:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428713695",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1428780378"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428780378"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> > The easiest way of producing a collision is by adding more and more addresses to the tried table (as we do in the unit test). This would leave us with quite a few additional addresses already in the tried table.\r\n> \r\n> these collisions would only affect future tests added after getaddrmaninfo/getrawaddrman tests though.\r\n\r\nWe'd need to clean up after we found a collision.",
      "commit_id" : "d3c24183483e43dd38209dbaf3c4ac725e13d4a3",
      "created_at" : "2023-12-16T11:23:21Z",
      "diff_hunk" : "@@ -449,6 +454,22 @@ def check_getrawaddrman_entries(expected):\n                         \"network\": \"ipv4\",\n                         \"source\": \"2.0.0.0\",\n                         \"source_network\": \"ipv4\",\n+                    },\n+                    {\n+                        \"address\": \"fc00:1:2:3:4:5:6:7\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"cjdns\",\n+                        \"source\": \"fc00:1:2:3:4:5:6:7\",\n+                        \"source_network\": \"cjdns\",\n+                    },\n+                    {\n+                        \"address\": \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+                        \"port\": 8333,\n+                        \"services\": 9,\n+                        \"network\": \"i2p\",\n+                        \"source\": \"c4gfnttsuwqomiygupdqqqyy5y5emnk5c73hrfvatri67prd7vyq.b32.i2p\",\n+                        \"source_network\": \"i2p\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1428780378",
      "id" : 1428780378,
      "in_reply_to_id" : 1418564026,
      "line" : 475,
      "node_id" : "PRRC_kwDOABII585VKXVa",
      "original_commit_id" : "054598132b2d86ddbc96ca9ffcced44aee562077",
      "original_line" : 475,
      "original_position" : 82,
      "original_start_line" : 457,
      "path" : "test/functional/rpc_net.py",
      "position" : 82,
      "pull_request_review_id" : 1785166014,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428780378/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 460,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-12-16T11:23:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1428780378",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19157360?v=4",
         "events_url" : "https://api.github.com/users/0xB10C/events{/privacy}",
         "followers_url" : "https://api.github.com/users/0xB10C/followers",
         "following_url" : "https://api.github.com/users/0xB10C/following{/other_user}",
         "gists_url" : "https://api.github.com/users/0xB10C/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/0xB10C",
         "id" : 19157360,
         "login" : "0xB10C",
         "node_id" : "MDQ6VXNlcjE5MTU3MzYw",
         "organizations_url" : "https://api.github.com/users/0xB10C/orgs",
         "received_events_url" : "https://api.github.com/users/0xB10C/received_events",
         "repos_url" : "https://api.github.com/users/0xB10C/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/0xB10C/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/0xB10C/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/0xB10C"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1430791494"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1430791494"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "these init params are added here, but are only relevant until a couple subtests later in `test_getaddrmaninfo`. having unrelated init params can lead to unexpected behaviors, like in this recent [example](https://github.com/bitcoin/bitcoin/pull/28538#discussion_r1423241016). implicit dependencies between subtests can also make future development confusing, such as updating setup in an earlier test unexpectedly causing failures in seemingly unrelated tests. \r\n\r\nleaving suggestions for improving the structure between subtests in the overall review comment",
      "commit_id" : "1b49149b3ed7366141f0090692256e82032cb9af",
      "created_at" : "2023-12-19T00:54:44Z",
      "diff_hunk" : "@@ -302,13 +302,11 @@ def test_addpeeraddress(self):\n         \"\"\"RPC addpeeraddress sets the source address equal to the destination address.\n         If an address with the same /16 as an existing new entry is passed, it will be\n         placed in the same new bucket and have a 1/64 chance of the bucket positions\n-        colliding (depending on the value of nKey in the addrman), in which case the\n-        new address won't be added.  The probability of collision can be reduced to\n-        1/2^16 = 1/65536 by using an address from a different /16.  We avoid this here\n-        by first testing adding a tried table entry before testing adding a new table one.\n+        colliding (depending on the value of nKey in the addrman). We avoid these collisions\n+        by using known-working addresses in a deterministic addrman with a fixed nKey value.\n         \"\"\"\n         self.log.info(\"Test addpeeraddress\")\n-        self.restart_node(1, [\"-checkaddrman=1\"])\n+        self.restart_node(1, [\"-checkaddrman=1\", \"-cjdnsreachable\", \"-test=addrman\"])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1430791494",
      "id" : 1430791494,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585VSCVG",
      "original_commit_id" : "ae05dd35d57a354f96179cb7579084b915b9dcc1",
      "original_line" : 309,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1787928129,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1430791494/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-19T02:08:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1430791494",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1430801807"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1430801807"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think it makes sense to update the comment further. here's why-\r\n\r\non current master, this test sets up addrman by putting 1 addr into tried, followed by 1 addr into new. the comment explains to future devs why this setup must be maintained. \r\n\r\nthis patch doesn't update the setup in the `addpeeraddress` test. the comment on master is outdated because we no longer need to preserve the careful ordering, but I find the currently proposed comment misleading since the deterministic addrman isn't yet used for collision prevention in this subtest at all\r\n\r\nI think it makes sense to just delete this comment. I'm leaving suggestions for improving the structure between subtests in the overall review comment",
      "commit_id" : "1b49149b3ed7366141f0090692256e82032cb9af",
      "created_at" : "2023-12-19T01:17:05Z",
      "diff_hunk" : "@@ -305,7 +305,7 @@ def test_addpeeraddress(self):\n         by first testing adding a tried table entry before testing adding a new table one.\n         \"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1430801807",
      "id" : 1430801807,
      "in_reply_to_id" : 1417165681,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585VSE2P",
      "original_commit_id" : "2474dd1cb00241286d131348525bf782a19a7f8c",
      "original_line" : 307,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1787928129,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1430801807/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-19T02:08:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1430801807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1430822958"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1430822958"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I like the approach of using `-test` to group test-only options\r\n\r\ntwo suggestions for improvement: \r\n* include the options in the help text (eg. how `-onlynet` or `-debug` handles) \r\n* throw some sort of error (or at least warning?) if an invalid option is passed through ",
      "commit_id" : "1b49149b3ed7366141f0090692256e82032cb9af",
      "created_at" : "2023-12-19T02:02:04Z",
      "diff_hunk" : "@@ -611,6 +611,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-limitdescendantcount=<n>\", strprintf(\"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants (default: %u)\", DEFAULT_DESCENDANT_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantsize=<n>\", strprintf(\"Do not accept transactions if any ancestor would have more than <n> kilobytes of in-mempool descendants (default: %u).\", DEFAULT_DESCENDANT_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-addrmantest\", \"Allows to test address relay on localhost\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-test=<option>\", \"Pass a test-only option\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1430822958",
      "id" : 1430822958,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585VSKAu",
      "original_commit_id" : "4629b7c85d15d0d057abaf1458659e22677d7d0b",
      "original_line" : 614,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1787928129,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1430822958/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-19T02:08:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1430822958",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1433633597"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1433633597"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "makes sense! added an option in `restart_node()` to restart the node with an empty addrman which could potentially be useful in other tests. addresses added in addpeeraddress test don't leak into addrman tests now. ",
      "commit_id" : "1b49149b3ed7366141f0090692256e82032cb9af",
      "created_at" : "2023-12-21T07:08:52Z",
      "diff_hunk" : "@@ -302,13 +302,11 @@ def test_addpeeraddress(self):\n         \"\"\"RPC addpeeraddress sets the source address equal to the destination address.\n         If an address with the same /16 as an existing new entry is passed, it will be\n         placed in the same new bucket and have a 1/64 chance of the bucket positions\n-        colliding (depending on the value of nKey in the addrman), in which case the\n-        new address won't be added.  The probability of collision can be reduced to\n-        1/2^16 = 1/65536 by using an address from a different /16.  We avoid this here\n-        by first testing adding a tried table entry before testing adding a new table one.\n+        colliding (depending on the value of nKey in the addrman). We avoid these collisions\n+        by using known-working addresses in a deterministic addrman with a fixed nKey value.\n         \"\"\"\n         self.log.info(\"Test addpeeraddress\")\n-        self.restart_node(1, [\"-checkaddrman=1\"])\n+        self.restart_node(1, [\"-checkaddrman=1\", \"-cjdnsreachable\", \"-test=addrman\"])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1433633597",
      "id" : 1433633597,
      "in_reply_to_id" : 1430791494,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Vc4M9",
      "original_commit_id" : "ae05dd35d57a354f96179cb7579084b915b9dcc1",
      "original_line" : 309,
      "original_position" : 13,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1792338738,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1433633597/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-21T07:08:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1433633597",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1433633671"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1433633671"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "true, i've removed the comment in [this commit](https://github.com/bitcoin/bitcoin/pull/29007/commits/e77f47b4358bc7f6836f7590880248a5a47fb48a).",
      "commit_id" : "1b49149b3ed7366141f0090692256e82032cb9af",
      "created_at" : "2023-12-21T07:08:57Z",
      "diff_hunk" : "@@ -305,7 +305,7 @@ def test_addpeeraddress(self):\n         by first testing adding a tried table entry before testing adding a new table one.\n         \"\"\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1433633671",
      "id" : 1433633671,
      "in_reply_to_id" : 1417165681,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Vc4OH",
      "original_commit_id" : "2474dd1cb00241286d131348525bf782a19a7f8c",
      "original_line" : 307,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/rpc_net.py",
      "position" : null,
      "pull_request_review_id" : 1792338931,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1433633671/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-21T07:09:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1433633671",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1433634609"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1433634609"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "right, i've included both improvements!",
      "commit_id" : "1b49149b3ed7366141f0090692256e82032cb9af",
      "created_at" : "2023-12-21T07:09:47Z",
      "diff_hunk" : "@@ -611,6 +611,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-limitdescendantcount=<n>\", strprintf(\"Do not accept transactions if any ancestor would have <n> or more in-mempool descendants (default: %u)\", DEFAULT_DESCENDANT_LIMIT), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-limitdescendantsize=<n>\", strprintf(\"Do not accept transactions if any ancestor would have more than <n> kilobytes of in-mempool descendants (default: %u).\", DEFAULT_DESCENDANT_SIZE_LIMIT_KVB), ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n     argsman.AddArg(\"-addrmantest\", \"Allows to test address relay on localhost\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);\n+    argsman.AddArg(\"-test=<option>\", \"Pass a test-only option\", ArgsManager::ALLOW_ANY | ArgsManager::DEBUG_ONLY, OptionsCategory::DEBUG_TEST);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1433634609",
      "id" : 1433634609,
      "in_reply_to_id" : 1430822958,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585Vc4cx",
      "original_commit_id" : "4629b7c85d15d0d057abaf1458659e22677d7d0b",
      "original_line" : 614,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 1792340819,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/29007",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1433634609/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "subject_type" : "line",
      "updated_at" : "2023-12-21T07:09:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1433634609",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "thanks for the thoughtful feedback @amitiuttarwar, @0xB10C!  I've updated the PR to address your comments.\r\n\r\nMain changes were: ([git diff](https://github.com/bitcoin/bitcoin/compare/d3c24183483e43dd38209dbaf3c4ac725e13d4a3..1b49149b3ed7366141f0090692256e82032cb9af))\r\n1. adding an option to restart the node with an empty addrman (method 1 suggested here https://github.com/bitcoin/bitcoin/pull/29007#discussion_r1418564026) to prevent addpeeraddress test leaking into getaddrmaninfo and getrawaddrman tests.\r\n2. listing options in -help-debug for `-test=<option>`\r\n\r\n> I am not convinced that this test-only behavior is worth maintaining. the only thing that p2p_node_network_limited.py is testing is that 1. an addr message is received & 2. the expected services are advertised. # 1 is forced to true via the test-only codepath in GetLocalAddrForPeer, and the value of # 2 is nominal due to how easily the test-only code could diverge from the mainnet logic.\r\n\r\n> My vote is to remove this functionality & related code. Curious to hear what you think @stratospher, as well as the opinions of other reviewers.\r\n\r\nyes, i agree. don't think it's useful to have a command line arg which is used in only 1 line in 1 test. we would want to know if the expected services are really advertised in real world logic and not in hard coded test path logic. looks like the option was introduced in [this commit](https://github.com/stratospher/bitcoin/commit/fa999affad115c09743f8b1f5812326c19753ba9).",
      "created_at" : "2023-12-21T07:10:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/29007#issuecomment-1865704915",
      "id" : 1865704915,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29007",
      "node_id" : "IC_kwDOABII585vNGXT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1865704915/reactions"
      },
      "updated_at" : "2023-12-21T07:10:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1865704915",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   }
]
