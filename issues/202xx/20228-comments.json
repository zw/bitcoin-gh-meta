[
   {
      "author_association" : "MEMBER",
      "body" : "does it conceptually make sense to have an addrman without connman or connman without addrman? I'd say no.\r\n\r\n> This allows us to eliminate some functions in connman that are simply forwarding\r\n\r\nAn alternative to achieve that would be to let PeerMan steal a reference to addrman from connman (and assign it to m_addrman)",
      "created_at" : "2020-10-23T10:38:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715260032",
      "id" : 715260032,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTI2MDAzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-23T10:38:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715260032",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> This allows us to eliminate some functions in connman that are simply forwarding\r\n\r\nIn general to have things double or more if ( ,,,)  or detrimental decision processes in the same code is a good design in industry where u can kill ppl easy, if there is no double check and just one bit ( that could be just by chance or external forces have flipped ) decides over mayhem.\r\n\r\nIn financials we used to do that the same and wrote \"bad ugly code\". bcs u get no bonus at the years end, if the code \"looks\" good but your customers got screwed. Unless that was ur biz.",
      "created_at" : "2020-10-23T10:57:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715269145",
      "id" : 715269145,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTI2OTE0NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-23T10:57:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715269145",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/34917548?v=4",
         "events_url" : "https://api.github.com/users/Saibato/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Saibato/followers",
         "following_url" : "https://api.github.com/users/Saibato/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Saibato/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Saibato",
         "id" : 34917548,
         "login" : "Saibato",
         "node_id" : "MDQ6VXNlcjM0OTE3NTQ4",
         "organizations_url" : "https://api.github.com/users/Saibato/orgs",
         "received_events_url" : "https://api.github.com/users/Saibato/received_events",
         "repos_url" : "https://api.github.com/users/Saibato/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Saibato/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Saibato"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> does it conceptually make sense to have an addrman without connman or connman without addrman? I'd say no.\r\n\r\nWhy not? If `-connect` is set, then we don't use addrman for choosing outbound connections (see `m_use_addrman_outgoing` inside connman). In general, I think being able to run with different components disabled enforces strict separation between components and means there can't be unintentional coupling between them.",
      "created_at" : "2020-10-23T11:47:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715292877",
      "id" : 715292877,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTI5Mjg3Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-23T11:47:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715292877",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Fixed whitespace linter issue",
      "created_at" : "2020-10-23T17:52:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715488401",
      "id" : 715488401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTQ4ODQwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-23T17:52:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715488401",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20904 (net: (de)serialize CSubNet in addrv2 format by vasild)\n* #20828 (fuzz: Introduce CallOneOf helper to replace switch-case by MarcoFalke)\n* #20811 (refactor: move net_processing implementation details out of header by ajtowns)\n* #20729 (p2p: standardize on outbound-{full, block}-relay connection type naming by jonatack)\n* #19160 (multiprocess: Add basic spawn and IPC support by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-10-23T21:25:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715597188",
      "id" : 715597188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTU5NzE4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-11T20:08:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715597188",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This doesn't compile on gcc4.8, but we'll drop support for that soon anyway, so the failure can be ignored/rebased out when 22.0 is branched off.",
      "created_at" : "2020-10-24T06:58:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715821653",
      "id" : 715821653,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTgyMTY1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-24T06:58:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715821653",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> This doesn't compile on gcc4.8\r\n\r\nHopefully fixed",
      "created_at" : "2020-10-24T08:26:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-715880510",
      "id" : 715880510,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNTg4MDUxMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-24T08:26:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/715880510",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-11-03T03:13:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-720881073",
      "id" : 720881073,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyMDg4MTA3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-03T03:13:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/720881073",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-11-03T09:02:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-720989229",
      "id" : 720989229,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyMDk4OTIyOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-03T09:02:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/720989229",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "concept ACK",
      "created_at" : "2020-11-12T18:31:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-726259278",
      "id" : 726259278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcyNjI1OTI3OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-12T18:31:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/726259278",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-11-19T11:28:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-730311462",
      "id" : 730311462,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDMxMTQ2Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-19T11:28:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730311462",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-11-19T16:36:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-730493338",
      "id" : 730493338,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDQ5MzMzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-19T16:36:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730493338",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2020-11-19T17:51:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-730537448",
      "id" : 730537448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczMDUzNzQ0OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-11-19T17:51:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/730537448",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r533754270"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533754270"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Look like the fuzzer is complaining about this and needs to be updated to take this additional arg type:\r\n\r\n```\r\ntest/fuzz/connman.cpp:26:14: error: no matching constructor for initialization of 'CConnman'\r\n    CConnman connman{fuzzed_data_provider.ConsumeIntegral<uint64_t>(), fuzzed_data_provider.ConsumeIntegral<uint64_t>(), fuzzed_data_provider.ConsumeBool()};\r\n             ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n./net.h:255:5: note: candidate constructor not viable: no known conversion from 'bool' to 'CAddrMan &' for 3rd argument\r\n    CConnman(uint64_t seed0, uint64_t seed1, CAddrMan& addrman, bool network_active = true);\r\n    ^\r\n./net.h:187:7: note: candidate constructor (the implicit copy constructor) not viable: requires 1 argument, but 3 were provided\r\nclass CConnman\r\n      ^\r\n1 error generated.\r\n```",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2020-12-01T22:09:31Z",
      "diff_hunk" : "@@ -252,7 +252,7 @@ class CConnman\n         m_onion_binds = connOptions.onion_binds;\n     }\n \n-    CConnman(uint64_t seed0, uint64_t seed1, bool network_active = true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r533754270",
      "id" : 533754270,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc1NDI3MA==",
      "original_commit_id" : "c98ddf89f776389bae8813f0749566bc3c8b8dab",
      "original_line" : 248,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 542337975,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533754270",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/755825?v=4",
         "events_url" : "https://api.github.com/users/adamjonas/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adamjonas/followers",
         "following_url" : "https://api.github.com/users/adamjonas/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adamjonas/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adamjonas",
         "id" : 755825,
         "login" : "adamjonas",
         "node_id" : "MDQ6VXNlcjc1NTgyNQ==",
         "organizations_url" : "https://api.github.com/users/adamjonas/orgs",
         "received_events_url" : "https://api.github.com/users/adamjonas/received_events",
         "repos_url" : "https://api.github.com/users/adamjonas/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adamjonas/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adamjonas"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r536081937"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/536081937"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Thanks! Should be fixed now.",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2020-12-04T12:59:07Z",
      "diff_hunk" : "@@ -252,7 +252,7 @@ class CConnman\n         m_onion_binds = connOptions.onion_binds;\n     }\n \n-    CConnman(uint64_t seed0, uint64_t seed1, bool network_active = true);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r536081937",
      "id" : 536081937,
      "in_reply_to_id" : 533754270,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA4MTkzNw==",
      "original_commit_id" : "c98ddf89f776389bae8813f0749566bc3c8b8dab",
      "original_line" : 248,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 544936461,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "LEFT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/536081937",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased and fixed fuzz build errors.",
      "created_at" : "2020-12-04T12:59:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-738770960",
      "id" : 738770960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczODc3MDk2MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-04T12:59:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738770960",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-12-07T12:15:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-739881825",
      "id" : 739881825,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDczOTg4MTgyNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-07T12:15:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/739881825",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-12-09T11:12:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-741704350",
      "id" : 741704350,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MTcwNDM1MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-09T11:12:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/741704350",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-12-09T11:51:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-741722688",
      "id" : 741722688,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MTcyMjY4OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-09T11:51:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/741722688",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-12-10T08:19:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-742361508",
      "id" : 742361508,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MjM2MTUwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-10T08:19:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/742361508",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-12-10T10:11:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-742422041",
      "id" : 742422041,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0MjQyMjA0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-10T10:11:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/742422041",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2020-12-15T14:25:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-745320530",
      "id" : 745320530,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NTMyMDUzMA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-15T14:25:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/745320530",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-12-15T14:43:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-745338349",
      "id" : 745338349,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0NTMzODM0OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-15T14:43:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/745338349",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2020-12-18T19:25:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-748277708",
      "id" : 748277708,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc0ODI3NzcwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-18T19:25:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/748277708",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-01-02T13:33:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-753474340",
      "id" : 753474340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MzQ3NDM0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-02T13:33:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753474340",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2021-01-02T14:19:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-753479041",
      "id" : 753479041,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MzQ3OTA0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-02T14:19:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753479041",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think having addrman referenced from both peerman and connman makes much sense -- peerman already has a reference to connman, so avoiding the layering can be done just by letting peerman access connman's addrman directly  -- `m_connman.AddrMan().do_something()`, and that also avoids the potential for peerman and connman somehow getting their addrmans out of sync.\r\n\r\nAs far as better testing of addrman goes, I think that's easy to do without this PR or the above alternative, see https://github.com/bitcoin/bitcoin/pull/20233#issuecomment-755044221\r\n\r\nAs far as disabling addrman goes, I'm not convinced that's a meaningful benefit (most people are going to use it enabled, and I think the memory saving if done at runtime rather than compiletime would be insignificant), and if it was, it can also be done via connman rather than doing it in init/node and then passing that on to both connman and peerman.",
      "created_at" : "2021-01-06T03:08:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-755047268",
      "id" : 755047268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTA0NzI2OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T03:08:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755047268",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I've left a comment on the linked PR here: https://github.com/bitcoin/bitcoin/pull/20233#issuecomment-755188580. I'll copy the parts that are relevant here:\r\n\r\n> > I don't think there's any need for this to be based on #20228 -- passing a \"check_addrman\" from init to CConnman seems to work fine, see ajtowns/bitcoin@202101-addrman-check (commits) eg.\r\n\r\n> Sure, we could continue to pass function calls and (now) ctor parameters through CConnman, but I don't see why that is desirable. Connman _uses_ addrman, but there's no reason for it to _have_ an addrman. Addrman is also used by peerman and the RPCs. Connman's resposibility is to open and maintain connections. Storing and maintaining our map of accessible nodes on the network is a separate  responsibility.\r\n> \r\n> There was also some discussion here: http://www.erisian.com.au/bitcoin-core-dev/log-2020-12-16.html#l-585 about being able to manage addrman more directly. Again, in that case it'd be easier if RPC directly held a handle to the addrman instead of passing messages through connman.\r\n\r\nFor your specific objections here:\r\n\r\n> avoids the potential for peerman and connman somehow getting their addrmans out of sync.\r\n\r\nI don't see how that could happen. addrman gets constructed and passed to the connman and peerman ctors to be saved as a reference a few lines later. How could those possible get out of sync?\r\n\r\n> As far as disabling addrman goes, I'm not convinced that's a meaningful benefit (most people are going to use it enabled, and I think the memory saving if done at runtime rather than compiletime would be insignificant), and if it was, it can also be done via connman rather than doing it in init/node and then passing that on to both connman and peerman.\r\n\r\nI agree that most people aren't going run without addrman, or that the memory savings are meaningful. However, I think having it as an option is beneficial from an architectural standpoint -- being able to run with different components disabled enforces strict separation between components and means there can't be unintentional coupling between them.",
      "created_at" : "2021-01-06T09:40:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-755193873",
      "id" : 755193873,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NTE5Mzg3Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-06T09:40:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/755193873",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-01-07T15:06:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-756172326",
      "id" : 756172326,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NjE3MjMyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-07T15:06:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/756172326",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "rebased",
      "created_at" : "2021-01-07T17:36:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-756266181",
      "id" : 756266181,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1NjI2NjE4MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-07T17:36:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/756266181",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555697136"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555697136"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: to follow the alphabetical order:\r\n```suggestion\r\nclass CAddrMan;\r\nclass CBlockPolicyEstimator;\r\n```",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-12T11:18:59Z",
      "diff_hunk" : "@@ -13,6 +13,7 @@\n class ArgsManager;\n class BanMan;\n class CBlockPolicyEstimator;\n+class CAddrMan;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555697136",
      "id" : 555697136,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTY5NzEzNg==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 15,
      "original_position" : 4,
      "original_start_line" : 15,
      "path" : "src/node/context.h",
      "position" : null,
      "pull_request_review_id" : 566171577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555697136",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555705214"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555705214"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "A member variable of type reference is actually a bare pointer. By assigning it to an object that lives outside of the class we loose the benefits of smart pointers and have to manage lifetime ourselves.\r\n\r\nWhat about defining `addrman` as `std::shared_ptr` in `NodeContext`, `CConnman` and `PeerManager`?",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-12T11:34:28Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555705214",
      "id" : 555705214,
      "line" : 1111,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTcwNTIxNA==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1111,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 566171577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1114,
      "start_side" : "LEFT",
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555705214",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555707059"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555707059"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: `m_addrman`?",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-12T11:37:47Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555707059",
      "id" : 555707059,
      "line" : 1111,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTcwNzA1OQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1111,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 566171577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1114,
      "start_side" : "LEFT",
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555707059",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555712422"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555712422"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Here we pass 5 members of `node`:\r\n\r\n```cpp\r\n*node.connman, *node.addrman, node.banman.get(), *node.scheduler, *node.mempool\r\n```\r\n\r\nWhat about just passing a pointer to `node` itself, i.e. store a pointer to the \"parent\" node class in `PeerManager`? And have `node->ConnMan()`, `node->AddrMan()`, etc getters.",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-12T11:47:56Z",
      "diff_hunk" : "@@ -1398,7 +1401,7 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     ChainstateManager& chainman = *Assert(node.chainman);\n \n     assert(!node.peerman);\n-    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, node.banman.get(),\n+    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, *node.addrman, node.banman.get(),\n                                                  *node.scheduler, chainman, *node.mempool, ignores_incoming_txs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555712422",
      "id" : 555712422,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTcxMjQyMg==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1405,
      "original_position" : 28,
      "original_start_line" : 1404,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 566171577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555712422",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555796596"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555796596"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Just an observation: before this patch `AddrMan::Connected()` would not have been called here and it will be called after this patch. Also `PeerManager::FinalizeNode()` would try to dereference `PeerManager::m_addrman`. It is fine, as far as I can see.",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-12T14:11:07Z",
      "diff_hunk" : "@@ -129,8 +130,7 @@ BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n     BOOST_CHECK(dummyNode1.fDisconnect == true);\n     SetMockTime(0);\n \n-    bool dummy;\n-    peerLogic->FinalizeNode(dummyNode1, dummy);\n+    peerLogic->FinalizeNode(dummyNode1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r555796596",
      "id" : 555796596,
      "line" : 132,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTc5NjU5Ng==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 132,
      "original_position" : 20,
      "original_start_line" : 133,
      "path" : "src/test/denialofservice_tests.cpp",
      "position" : 19,
      "pull_request_review_id" : 566171577,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 133,
      "start_side" : "LEFT",
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/555796596",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-01-13T09:12:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-759313380",
      "id" : 759313380,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1OTMxMzM4MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-13T09:12:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/759313380",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased now that the fuzz conflicts should no longer be a problem (#20828)",
      "created_at" : "2021-01-14T12:45:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-760173601",
      "id" : 760173601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MDE3MzYwMQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-14T12:45:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/760173601",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557369469"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557369469"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Oops. Fixed.",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-14T12:46:41Z",
      "diff_hunk" : "@@ -13,6 +13,7 @@\n class ArgsManager;\n class BanMan;\n class CBlockPolicyEstimator;\n+class CAddrMan;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557369469",
      "id" : 557369469,
      "in_reply_to_id" : 555697136,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM2OTQ2OQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 15,
      "original_position" : 4,
      "original_start_line" : 15,
      "path" : "src/node/context.h",
      "position" : null,
      "pull_request_review_id" : 568199177,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557369469",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557370743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557370743"
         }
      },
      "author_association" : "MEMBER",
      "body" : "shared_ptr implies shared ownership of a resource. In this case, CConnman and PeerManager don't own the addrman, they just hold a reference to it.\r\n\r\nWe already use this same model for holding references to mempool, chainman, conman, etc, where the resource is owned by NodeContext.",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-14T12:48:48Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557370743",
      "id" : 557370743,
      "in_reply_to_id" : 555705214,
      "line" : 1111,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM3MDc0Mw==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1111,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 568200691,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1114,
      "start_side" : "LEFT",
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557370743",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557371855"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557371855"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd prefer not to rename this. `addrman` is used in >50 places in net.cpp/net.h, so updating the name would add a lot of noise to the diff for this PR.",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-14T12:50:43Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557371855",
      "id" : 557371855,
      "in_reply_to_id" : 555707059,
      "line" : 1111,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM3MTg1NQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1111,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 568202108,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1114,
      "start_side" : "LEFT",
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557371855",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557372902"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557372902"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Because net_processing doesn't depend on node/context (and adding that would be a circular dependency between net_processing and node/context). In fact, a NodeContext object isn't even needed to construct a PeerManager object - see denialofservice_tests.cpp.",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-14T12:52:35Z",
      "diff_hunk" : "@@ -1398,7 +1401,7 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     ChainstateManager& chainman = *Assert(node.chainman);\n \n     assert(!node.peerman);\n-    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, node.banman.get(),\n+    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, *node.addrman, node.banman.get(),\n                                                  *node.scheduler, chainman, *node.mempool, ignores_incoming_txs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557372902",
      "id" : 557372902,
      "in_reply_to_id" : 555712422,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM3MjkwMg==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1405,
      "original_position" : 28,
      "original_start_line" : 1404,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 568203419,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557372902",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557373966"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557373966"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, this is a slightly different ordering, but I agree that it's fine. Everything between here and the end of Finalize is just internal net_processing book-keeping.",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-14T12:54:30Z",
      "diff_hunk" : "@@ -129,8 +130,7 @@ BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n     BOOST_CHECK(dummyNode1.fDisconnect == true);\n     SetMockTime(0);\n \n-    bool dummy;\n-    peerLogic->FinalizeNode(dummyNode1, dummy);\n+    peerLogic->FinalizeNode(dummyNode1);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557373966",
      "id" : 557373966,
      "in_reply_to_id" : 555796596,
      "line" : 132,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM3Mzk2Ng==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 132,
      "original_position" : 20,
      "original_start_line" : 133,
      "path" : "src/test/denialofservice_tests.cpp",
      "position" : 19,
      "pull_request_review_id" : 568204789,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 133,
      "start_side" : "LEFT",
      "updated_at" : "2021-01-14T12:55:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557373966",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for the review @vasild - I've addressed all your comments.",
      "created_at" : "2021-01-14T12:55:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#issuecomment-760179139",
      "id" : 760179139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20228",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc2MDE3OTEzOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-01-14T12:55:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/760179139",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557388770"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557388770"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ok",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-14T13:20:13Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557388770",
      "id" : 557388770,
      "in_reply_to_id" : 555707059,
      "line" : 1111,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM4ODc3MA==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1111,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 568224288,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1114,
      "start_side" : "LEFT",
      "updated_at" : "2021-01-14T13:20:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557388770",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557393701"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557393701"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "ok",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-14T13:28:09Z",
      "diff_hunk" : "@@ -1398,7 +1401,7 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     ChainstateManager& chainman = *Assert(node.chainman);\n \n     assert(!node.peerman);\n-    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, node.banman.get(),\n+    node.peerman = std::make_unique<PeerManager>(chainparams, *node.connman, *node.addrman, node.banman.get(),\n                                                  *node.scheduler, chainman, *node.mempool, ignores_incoming_txs);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557393701",
      "id" : 557393701,
      "in_reply_to_id" : 555712422,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzM5MzcwMQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1405,
      "original_position" : 28,
      "original_start_line" : 1404,
      "path" : "src/init.cpp",
      "position" : null,
      "pull_request_review_id" : 568230621,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2021-01-14T13:28:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557393701",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557401515"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557401515"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "> shared_ptr implies shared ownership of a resource. In this case, CConnman and PeerManager don't own the addrman, they just hold a reference to it.\r\n\r\n`shared_ptr` would just destroy the object when its last instance is destroyed. The fact that we know that this is going to be the instance in `NodeContext` does not make it less useful.\r\n\r\nThe problem with the bare pointer (or bare reference) is that it can become dangling. `shared_ptr` aims to fix exactly that problem.\r\n\r\n> We already use this same model for holding references to mempool, chainman, conman, etc, where the resource is owned by NodeContext.\r\n\r\nRight, that can be improved with `shared_ptr` too.",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-14T13:40:22Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557401515",
      "id" : 557401515,
      "in_reply_to_id" : 555705214,
      "line" : 1111,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzQwMTUxNQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1111,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 568240458,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1114,
      "start_side" : "LEFT",
      "updated_at" : "2021-01-14T13:40:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557401515",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557451429"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557451429"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Another good reason to leave this as a reference is that it explicitly communicates that there *must* be a reference to an addrman, and that we can 'dereference' addrman throughout peerman without checking for nullness first.\r\n\r\nIn any case, I agree that this discussion can be deferred to another issue/PR.",
      "commit_id" : "a4a0bdab0bf4b47ccb049982197cbea59fad1e61",
      "created_at" : "2021-01-14T14:51:40Z",
      "diff_hunk" : "@@ -1096,7 +1093,7 @@ class CConnman\n     std::vector<ListenSocket> vhListenSocket;\n     std::atomic<bool> fNetworkActive{true};\n     bool fAddressesInitialized{false};\n-    CAddrMan addrman;\n+    CAddrMan& addrman;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20228#discussion_r557451429",
      "id" : 557451429,
      "in_reply_to_id" : 555705214,
      "line" : 1111,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzQ1MTQyOQ==",
      "original_commit_id" : "f36480df7785fb9bb81027b5d59218689a11f0c8",
      "original_line" : 1111,
      "original_position" : 33,
      "original_start_line" : 1099,
      "path" : "src/net.h",
      "position" : 33,
      "pull_request_review_id" : 568307425,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20228",
      "side" : "RIGHT",
      "start_line" : 1114,
      "start_side" : "LEFT",
      "updated_at" : "2021-01-14T14:51:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/557451429",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
