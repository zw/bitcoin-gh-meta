[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This is a followup to #19991, cc @hebasto ",
      "created_at" : "2020-10-24T19:26:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-716043291",
      "id" : 716043291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20234",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNjA0MzI5MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-24T19:26:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/716043291",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "How does Tor continue to function after this?",
      "created_at" : "2020-10-24T19:47:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-716045914",
      "id" : 716045914,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20234",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNjA0NTkxNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-24T19:47:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/716045914",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20196 (net: fix GetListenPort() to derive the proper port by vasild)\n* #18972 (net: Add blockfilters white{bind,list} permission flag by luke-jr)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-10-25T05:25:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-716096785",
      "id" : 716096785,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20234",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNjA5Njc4NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-30T01:41:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/716096785",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK",
      "created_at" : "2020-10-28T17:42:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-718099515",
      "id" : 718099515,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20234",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODA5OTUxNQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-28T17:42:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718099515",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513669709"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513669709"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The report error flag was previously absent for the onion binds, while present for the others. This was added in bb145c9050203, @hebasto WDYT, just an oversight?",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-28T18:25:21Z",
      "diff_hunk" : "@@ -2391,30 +2391,25 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n     return true;\n }\n \n-bool CConnman::InitBinds(\n-    const std::vector<CService>& binds,\n-    const std::vector<NetWhitebindPermissions>& whiteBinds,\n-    const std::vector<CService>& onion_binds)\n+bool CConnman::InitBinds(const Options& options)\n {\n     bool fBound = false;\n-    for (const auto& addrBind : binds) {\n+    for (const auto& addrBind : options.vBinds) {\n         fBound |= Bind(addrBind, (BF_EXPLICIT | BF_REPORT_ERROR), NetPermissionFlags::PF_NONE);\n     }\n-    for (const auto& addrBind : whiteBinds) {\n+    for (const auto& addrBind : options.vWhiteBinds) {\n         fBound |= Bind(addrBind.m_service, (BF_EXPLICIT | BF_REPORT_ERROR), addrBind.m_flags);\n     }\n-    if (binds.empty() && whiteBinds.empty()) {\n+    for (const auto& addr_bind : options.onion_binds) {\n+        fBound |= Bind(addr_bind, BF_EXPLICIT | BF_REPORT_ERROR | BF_DONT_ADVERTISE, NetPermissionFlags::PF_NONE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513669709",
      "id" : 513669709,
      "line" : 2404,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY2OTcwOQ==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2404,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 21,
      "pull_request_review_id" : 518965400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513669709",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513695973"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513695973"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This assertion fails for me with errors like\r\n```\r\nAssertionError: not(\r\n{('00000000', 11340), ('7f000001', 16340), ('00000000000000000000000000000000', 11340), ('7f000001', 18445)} ==\r\n{('00000000', 11340), ('7f000001', 16340), ('7f000001', 18445)})\r\n```\r\nThis fixes it, but it's not pretty and might be treating the symptoms more than the problem:\r\n```diff\r\n--- a/test/functional/test_framework/netutil.py\r\n+++ b/test/functional/test_framework/netutil.py\r\n@@ -81,7 +81,10 @@ def get_bind_addrs(pid):\r\n     bind_addrs = []\r\n     for conn in netstat('tcp') + netstat('tcp6'):\r\n         if conn[3] == STATE_LISTEN and conn[4] in inodes:\r\n-            bind_addrs.append(conn[1])\r\n+            if conn[1][0] == '00000000000000000000000000000000':\r\n+                bind_addrs.append(('00000000', conn[1][1]))\r\n+            else:\r\n+                bind_addrs.append(conn[1])\r\n     return bind_addrs\r\n```",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-28T19:09:46Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test starting bitcoind with -bind and/or -bind=...=onion and confirm\n+that bind happens on the expected ports.\n+\"\"\"\n+\n+import sys\n+\n+from test_framework.netutil import (\n+    addr_to_hex,\n+    get_bind_addrs,\n+    test_ipv6_local,\n+)\n+from test_framework.test_framework import (\n+    BitcoinTestFramework,\n+    SkipTest,\n+)\n+from test_framework.util import (\n+    PORT_MIN,\n+    PORT_RANGE,\n+    assert_equal,\n+    p2p_port,\n+    rpc_port,\n+)\n+\n+# From chainparamsbase.cpp:CreateBaseChainParams().\n+REGTEST_TOR_TARGET_PORT = 18445\n+\n+class BindExtraTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        # Avoid any -bind= on the command line. Force the framework to avoid\n+        # adding -bind=127.0.0.1.\n+        self.setup_clean_chain = True\n+        self.bind_to_localhost_only = False\n+        self.num_nodes = 4\n+\n+    def setup_network(self):\n+        # Override setup_network() because we want to put the result of\n+        # p2p_port() in self.extra_args[], before the nodes are started.\n+        # p2p_port() is not usable in set_test_params() because PortSeed.n is\n+        # not set at that time.\n+\n+        # Due to OS-specific network stats queries, we only run on Linux.\n+        self.log.info(\"Checking for Linux\")\n+        if not sys.platform.startswith('linux'):\n+            raise SkipTest(\"This test can only be run on Linux.\")\n+\n+        self.have_ipv6 = test_ipv6_local()\n+\n+        any_ipv4 = addr_to_hex('0.0.0.0')\n+        any_ipv6 = addr_to_hex('::')\n+        loopback_ipv4 = addr_to_hex('127.0.0.1')\n+        loopback_ipv6 = addr_to_hex('::1')\n+\n+        # Start custom ports after p2p and rpc ports.\n+        port = PORT_MIN + 2 * PORT_RANGE\n+\n+        # Array of tuples [command line arguments, expected bind addresses].\n+        self.expected = []\n+\n+        # Node0, no -bind, expected to bind on any + tor target.\n+        self.expected.append(\n+            [\n+                [],\n+                [(any_ipv4, p2p_port(0)), (loopback_ipv4, REGTEST_TOR_TARGET_PORT)]\n+            ]\n+        )\n+        if self.have_ipv6:\n+            self.expected[0][1].append((any_ipv6, p2p_port(0)))\n+\n+        # Node1, no -bind=...=onion, thus no extra port for Tor target.\n+        self.expected.append(\n+            [\n+                ['-bind=127.0.0.1:{}'.format(port)],\n+                [(loopback_ipv4, port)]\n+            ],\n+        )\n+        port += 1\n+\n+        # Node2, no normal -bind, thus only the Tor target.\n+        self.expected.append(\n+            [\n+                ['-bind=127.0.0.1:{}=onion'.format(port)],\n+                [(loopback_ipv4, port)]\n+            ],\n+        )\n+        port += 1\n+\n+        # Node3, both -bind and -bind=...=onion.\n+        self.expected.append(\n+            [\n+                ['-bind=127.0.0.1:{}'.format(port), '-bind=127.0.0.1:{}=onion'.format(port + 1)],\n+                [(loopback_ipv4, port), (loopback_ipv4, port + 1)]\n+            ],\n+        )\n+        port += 2\n+\n+        # Add RPC ports to the list of expected ports to bind to for all nodes.\n+        # They are not relevant for this test.\n+        for i in range(len(self.expected)):\n+            self.expected[i][1].append((loopback_ipv4, rpc_port(i)))\n+            if self.have_ipv6:\n+                self.expected[i][1].append((loopback_ipv6, rpc_port(i)))\n+\n+        self.extra_args = list(map(lambda e: e[0], self.expected))\n+        self.setup_nodes()\n+\n+    def run_test(self):\n+        for i in range(len(self.expected)):\n+            pid = self.nodes[i].process.pid\n+            assert_equal(set(get_bind_addrs(pid)), set(self.expected[i][1]))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513695973",
      "id" : 513695973,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY5NTk3Mw==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 114,
      "original_position" : 114,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 518965400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513695973",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513696496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513696496"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```suggestion\r\n# Copyright (c) 2020 The Bitcoin Core developers\r\n```",
      "commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "created_at" : "2020-10-28T19:10:44Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513696496",
      "id" : 513696496,
      "line" : 2,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY5NjQ5Ng==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : 2,
      "pull_request_review_id" : 518965400,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-28T19:11:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513696496",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513760171"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513760171"
         }
      },
      "author_association" : "NONE",
      "body" : "@jonasnick actually @vasild has all the copyright to this file so it should be: \r\n\r\n`Copyright (c) 2020 Vasil Dimov`\r\n\r\nJust as Satoshi Nakamoto has all copyright in this software from 2008-2010! \r\nYour recommendations on the pull request doesn't make the file the property of \"The Bitcoin Core developers\". \r\nYou need to change significant part of the present file to claim that the \"Bitcoin Core developers\" own the copyright, until then Vasil Dimov has all copyright.",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-28T21:06:04Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513760171",
      "id" : 513760171,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc2MDE3MQ==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 519083562,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513760171",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/71508279?v=4",
         "events_url" : "https://api.github.com/users/JabbaDesilijicTiure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JabbaDesilijicTiure/followers",
         "following_url" : "https://api.github.com/users/JabbaDesilijicTiure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JabbaDesilijicTiure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JabbaDesilijicTiure",
         "id" : 71508279,
         "login" : "JabbaDesilijicTiure",
         "node_id" : "MDQ6VXNlcjcxNTA4Mjc5",
         "organizations_url" : "https://api.github.com/users/JabbaDesilijicTiure/orgs",
         "received_events_url" : "https://api.github.com/users/JabbaDesilijicTiure/received_events",
         "repos_url" : "https://api.github.com/users/JabbaDesilijicTiure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JabbaDesilijicTiure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JabbaDesilijicTiure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JabbaDesilijicTiure"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513761642"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513761642"
         }
      },
      "author_association" : "NONE",
      "body" : "```suggestion\r\n# Copyright (c) 2020 Vasil Dimov\r\n```",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-28T21:08:38Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513761642",
      "id" : 513761642,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc2MTY0Mg==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 519085374,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513761642",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/71508279?v=4",
         "events_url" : "https://api.github.com/users/JabbaDesilijicTiure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JabbaDesilijicTiure/followers",
         "following_url" : "https://api.github.com/users/JabbaDesilijicTiure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JabbaDesilijicTiure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JabbaDesilijicTiure",
         "id" : 71508279,
         "login" : "JabbaDesilijicTiure",
         "node_id" : "MDQ6VXNlcjcxNTA4Mjc5",
         "organizations_url" : "https://api.github.com/users/JabbaDesilijicTiure/orgs",
         "received_events_url" : "https://api.github.com/users/JabbaDesilijicTiure/received_events",
         "repos_url" : "https://api.github.com/users/JabbaDesilijicTiure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JabbaDesilijicTiure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JabbaDesilijicTiure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JabbaDesilijicTiure"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513766463"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513766463"
         }
      },
      "author_association" : "NONE",
      "body" : "Example: \r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/db2d6f323836f286f37d4e826c6edcfce6cde29b/src/secp256k1/src/ecdsa.h#L1-L5\r\n\r\nAbove you can see that @sipa also retained all his copyright and his pull request and merge doesn't automatically made his work the property of the \"Bitcoin Core developers\". ",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-28T21:17:20Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513766463",
      "id" : 513766463,
      "in_reply_to_id" : 513760171,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc2NjQ2Mw==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 519091282,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513766463",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/71508279?v=4",
         "events_url" : "https://api.github.com/users/JabbaDesilijicTiure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JabbaDesilijicTiure/followers",
         "following_url" : "https://api.github.com/users/JabbaDesilijicTiure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JabbaDesilijicTiure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JabbaDesilijicTiure",
         "id" : 71508279,
         "login" : "JabbaDesilijicTiure",
         "node_id" : "MDQ6VXNlcjcxNTA4Mjc5",
         "organizations_url" : "https://api.github.com/users/JabbaDesilijicTiure/orgs",
         "received_events_url" : "https://api.github.com/users/JabbaDesilijicTiure/received_events",
         "repos_url" : "https://api.github.com/users/JabbaDesilijicTiure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JabbaDesilijicTiure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JabbaDesilijicTiure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JabbaDesilijicTiure"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513775322"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513775322"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I am not a lawyer, but my understanding is that:\r\n* The copyright notice here has no legal meaning, and copyright is retained by whoever authored it regardless of what is stated in the file's header.\r\n* \"Bitcoin Core developers\" is no legal entity, and can't own any copyright. It's just there to indicate \"various contributors over time\" without the need for being specific.\r\n\r\nSo there is no problem with using either your own name, or using the collective term - except the latter avoids the need for keeping it up to date as more contributors work on it. Most code I've written for Bitcoin Core is in files with \"Bitcoin Core developers\" notices, FWIW.",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-28T21:34:45Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513775322",
      "id" : 513775322,
      "in_reply_to_id" : 513760171,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc3NTMyMg==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 519102207,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513775322",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513814239"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513814239"
         }
      },
      "author_association" : "NONE",
      "body" : "> The copyright notice here has no legal meaning, and copyright is retained by whoever authored it regardless of what is stated in the file's header. - @sipa \r\n\r\n**The copyright notice is required**! That way we all know that this portion of the Bitcoin software is comes from you and not from Satoshi Nakamoto. Satoshi Nakamoto stated that his code is released under MIT which requires you to keep his name and his original copyright notice in place, so when you make changes in the same files created by Satoshi Nakamoto you are required to add your name like this: \r\n\r\n```\r\nCopyright (c) 2008-2010 Satoshi Nakamoto\r\nCopyright (c) 2011-2013 Pieter Wuille\r\nand here comes the MIT statement \r\n```\r\n\r\nThe copyright years can't overlap, like you can't say ~~Copyright (c) 2008-2013 Pieter Wuille~~ when you in reality did not worked with him, and there is the clear indication of the years 2008-2010 beside the name of Satoshi Nakamoto, if you do otherwise, that would be a serious legal problem for you. If you don't respect other peoples copyright nobody will respect yours. Why would they?\r\n\r\nSaying, that copyright notice has no legal meaning, is absurd, and under some circumstances if your words turn into actions even considered as criminal under international law.\r\n\r\n@vasild has all rights to include the `Copyright (c) 2020 Vasil Dimov` copyright statement in this file and actually if you did not contributed to this file than, it is required. The file can't bear the \"Bitcoin Core developers\" ownership if there was one author. ",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-28T23:08:03Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513814239",
      "id" : 513814239,
      "in_reply_to_id" : 513760171,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzgxNDIzOQ==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 519149127,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513814239",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/71508279?v=4",
         "events_url" : "https://api.github.com/users/JabbaDesilijicTiure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JabbaDesilijicTiure/followers",
         "following_url" : "https://api.github.com/users/JabbaDesilijicTiure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JabbaDesilijicTiure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JabbaDesilijicTiure",
         "id" : 71508279,
         "login" : "JabbaDesilijicTiure",
         "node_id" : "MDQ6VXNlcjcxNTA4Mjc5",
         "organizations_url" : "https://api.github.com/users/JabbaDesilijicTiure/orgs",
         "received_events_url" : "https://api.github.com/users/JabbaDesilijicTiure/received_events",
         "repos_url" : "https://api.github.com/users/JabbaDesilijicTiure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JabbaDesilijicTiure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JabbaDesilijicTiure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JabbaDesilijicTiure"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513842057"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513842057"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This PR is by @vasild. He can legally put any copyright line he wants on code he wrote (IANAL).\r\n\r\nAnd again, there is no \"Bitcoin Core developers\" entity. It simply means each author retains his own copyright.",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-29T00:37:19Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513842057",
      "id" : 513842057,
      "in_reply_to_id" : 513760171,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzg0MjA1Nw==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 519222895,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513842057",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513873943"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513873943"
         }
      },
      "author_association" : "NONE",
      "body" : "@luke-jr if there is no such entity as \"Bitcoin Core developers\", than this software has very serious copyright issues and each and all contributor by name must be listed in all copyright notices. If there is no _such entity as \"Bitcoin Core developers\"_ and as @sipa said _copyright notice here has no legal meaning_ than the entire Bitcoin core software is under the **public domain**. \r\n\r\nThe MIT license by Satoshi Nakamoto doesn't matter at all because it has \"no legal meaning\". \r\n\r\nOn this end I would strongly suggest to simply just remove all meaningless copyright notices which assigned to an non-existent entity and persons. ",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-29T01:58:06Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513873943",
      "id" : 513873943,
      "in_reply_to_id" : 513760171,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzg3Mzk0Mw==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 519277536,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513873943",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/71508279?v=4",
         "events_url" : "https://api.github.com/users/JabbaDesilijicTiure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JabbaDesilijicTiure/followers",
         "following_url" : "https://api.github.com/users/JabbaDesilijicTiure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JabbaDesilijicTiure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JabbaDesilijicTiure",
         "id" : 71508279,
         "login" : "JabbaDesilijicTiure",
         "node_id" : "MDQ6VXNlcjcxNTA4Mjc5",
         "organizations_url" : "https://api.github.com/users/JabbaDesilijicTiure/orgs",
         "received_events_url" : "https://api.github.com/users/JabbaDesilijicTiure/received_events",
         "repos_url" : "https://api.github.com/users/JabbaDesilijicTiure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JabbaDesilijicTiure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JabbaDesilijicTiure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JabbaDesilijicTiure"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513875883"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513875883"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@JabbaDesilijicTiure My comment was purely about the individual files' copyright notices. The project falls under the MIT license as specified in the COPYING file at the root of the repository.",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-29T02:02:53Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513875883",
      "id" : 513875883,
      "in_reply_to_id" : 513760171,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzg3NTg4Mw==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 519278947,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513875883",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513958005"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513958005"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@JabbaDesilijicTiure You don't know what you're talking about. Copyright does not depend on any notice at all. There are plenty of places you can learn more - this isn't the place for it.",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-29T04:30:22Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r513958005",
      "id" : 513958005,
      "in_reply_to_id" : 513760171,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzk1ODAwNQ==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 519325406,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/513958005",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r514172232"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514172232"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@JabbaDesilijicTiure I've removed your comment. This repository is obviously not the place for that.",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-29T10:59:57Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r514172232",
      "id" : 514172232,
      "in_reply_to_id" : 513760171,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE3MjIzMg==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2,
      "original_position" : 2,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 519549596,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514172232",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@vasild, like any contributor, is **part of** \"The Bitcoin Core developers\"\r\nThis is not the place for copyright discussion in any case. Please keep the discussion focused on the code change done here.",
      "created_at" : "2020-10-29T11:14:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-718676432",
      "id" : 718676432,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20234",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODY3NjQzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T11:14:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718676432",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Unless I am misunderstanding this PR, this will break tor configuration for any user with an explicit bind configuration.  Not binding to localhost is extremely weird, I can't think of any other program I've encountered doing that.\r\n\r\nIs there an actual usecase for not binding localhost?\r\n\r\nMight it be better to just document that localhost binds are implicit and then, if there is a need for not binding to localhost, have an argument to specifically disable that?\r\n\r\nIn other words, I think what you're actually pointing to is just a doc bug where the documentation isn't pedantically correct, but where the behaviour is what 99.999% of users would prefer. If so-- change the doc.",
      "created_at" : "2020-10-29T11:28:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-718691565",
      "id" : 718691565,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20234",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODY5MTU2NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T11:28:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718691565",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@gmaxwell \r\n\r\n> this will break tor configuration for any user with an explicit bind configuration. Not binding to localhost is extremely weird\r\n\r\nYou found a bug! Not in this PR, but in 0.20.1:\r\n\r\n```\r\n$ bitcoind --version\r\nBitcoin Core version v0.20.1.0-36355f128f8b\r\n\r\n$ bitcoind -bind=1.1.1.1:8333 -listenonion=1\r\n...\r\n2020-10-29T11:51:58Z tor: Got service ID 7hgc4pgtuexasesn, advertising service 7hgc4pgtuexasesn.onion:8333\r\n...\r\n```\r\n\r\n`bitcoind` tells the Tor daemon to redirect incoming connections to `127.0.0.1:8333`:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/v0.20.1/src/torcontrol.cpp#L539\r\n\r\nbut then it does not listen on `127.0.0.1:8333`:\r\n\r\n```\r\n$ sockstat -l |grep bitcoin\r\nvd       bitcoind   95898 6  tcp4   127.0.0.1:8332        *:*\r\nvd       bitcoind   95898 21 tcp4   1.1.1.1:8333          *:*\r\n$ telnet 127.0.0.1 8333\r\nTrying 127.0.0.1...\r\ntelnet: connect to address 127.0.0.1: Connection refused\r\n```\r\n\r\nThat bug was fixed by #19991 by removing the hardcoded `127.0.0.1`.\r\n\r\nWhen only `-bind=` is provided (without `-bind=...=onion`), this PR would keep the same behavior as 0.20.1 as above - it would bind only on `1.1.1.1:8333` as requested. However it would tell the Tor daemon to redirect connections to `1.1.1.1:8333` instead of the bogus `127.0.0.1:8333` - as a side effect of the change from #19991 now we use the proper address instead of hardcoding `127.0.0.1`.",
      "created_at" : "2020-10-29T12:09:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-718711498",
      "id" : 718711498,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20234",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODcxMTQ5OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T12:09:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718711498",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "rpc bind is a separate configuration from 'bind', as is whitebind, perhaps the onion should be its own bind statement (that users normally never touch)",
      "created_at" : "2020-10-29T12:32:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-718722537",
      "id" : 718722537,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20234",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODcyMjUzNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T12:32:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718722537",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@vasild **1.1.1.1:8333 should be not used to bind bitcoind!** 1.1.1.1 is an IP address of CloudFlare's DNS resolver! Use instead **127.0.0.2**:8333\r\n\r\n@gmaxwell as you [see](https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-718711498) @vasild binding bitcoind to CloudFlare DNS resolver instead to 127.0.0.x. **I would recommend not to merge this pull request.** \r\n\r\n@laanwj @gmaxwell I think need to revert the https://github.com/bitcoin/bitcoin/pull/19991 from @hebasto and close this pr from @vasild. \r\n\r\nAnother issue with 0.0.0.0 is that is binding to all IP even to 10.0.0.1. \r\n\r\nBinding to **127.0.0.2** is more than enough. ",
      "created_at" : "2020-10-29T12:40:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-718726156",
      "id" : 718726156,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20234",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODcyNjE1Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T13:03:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718726156",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/71508279?v=4",
         "events_url" : "https://api.github.com/users/JabbaDesilijicTiure/events{/privacy}",
         "followers_url" : "https://api.github.com/users/JabbaDesilijicTiure/followers",
         "following_url" : "https://api.github.com/users/JabbaDesilijicTiure/following{/other_user}",
         "gists_url" : "https://api.github.com/users/JabbaDesilijicTiure/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/JabbaDesilijicTiure",
         "id" : 71508279,
         "login" : "JabbaDesilijicTiure",
         "node_id" : "MDQ6VXNlcjcxNTA4Mjc5",
         "organizations_url" : "https://api.github.com/users/JabbaDesilijicTiure/orgs",
         "received_events_url" : "https://api.github.com/users/JabbaDesilijicTiure/received_events",
         "repos_url" : "https://api.github.com/users/JabbaDesilijicTiure/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/JabbaDesilijicTiure/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/JabbaDesilijicTiure/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/JabbaDesilijicTiure"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r514932334"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514932334"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Finally I figured out what is going on!\r\n\r\n`test_ipv6_local()` tries to connect to `::1` in order to check if the system has IPv6 support.\r\n\r\nSome (all?) Travis machines do support IPv6, but `::1` is not configured on the loopback interface (!?). On those machines connecting to `::1` fails with `[Errno 99] Cannot assign requested address`. However it is possible to successfully bind on `::`.\r\n\r\n`bitcoind` tries to bind on `::` and `::1` and the above makes it difficult for the test to set reasonable expectations.\r\n\r\nResolved by ignoring all IPv6 addresses.",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-30T08:16:40Z",
      "diff_hunk" : "@@ -0,0 +1,117 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test starting bitcoind with -bind and/or -bind=...=onion and confirm\n+that bind happens on the expected ports.\n+\"\"\"\n+\n+import sys\n+\n+from test_framework.netutil import (\n+    addr_to_hex,\n+    get_bind_addrs,\n+    test_ipv6_local,\n+)\n+from test_framework.test_framework import (\n+    BitcoinTestFramework,\n+    SkipTest,\n+)\n+from test_framework.util import (\n+    PORT_MIN,\n+    PORT_RANGE,\n+    assert_equal,\n+    p2p_port,\n+    rpc_port,\n+)\n+\n+# From chainparamsbase.cpp:CreateBaseChainParams().\n+REGTEST_TOR_TARGET_PORT = 18445\n+\n+class BindExtraTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        # Avoid any -bind= on the command line. Force the framework to avoid\n+        # adding -bind=127.0.0.1.\n+        self.setup_clean_chain = True\n+        self.bind_to_localhost_only = False\n+        self.num_nodes = 4\n+\n+    def setup_network(self):\n+        # Override setup_network() because we want to put the result of\n+        # p2p_port() in self.extra_args[], before the nodes are started.\n+        # p2p_port() is not usable in set_test_params() because PortSeed.n is\n+        # not set at that time.\n+\n+        # Due to OS-specific network stats queries, we only run on Linux.\n+        self.log.info(\"Checking for Linux\")\n+        if not sys.platform.startswith('linux'):\n+            raise SkipTest(\"This test can only be run on Linux.\")\n+\n+        self.have_ipv6 = test_ipv6_local()\n+\n+        any_ipv4 = addr_to_hex('0.0.0.0')\n+        any_ipv6 = addr_to_hex('::')\n+        loopback_ipv4 = addr_to_hex('127.0.0.1')\n+        loopback_ipv6 = addr_to_hex('::1')\n+\n+        # Start custom ports after p2p and rpc ports.\n+        port = PORT_MIN + 2 * PORT_RANGE\n+\n+        # Array of tuples [command line arguments, expected bind addresses].\n+        self.expected = []\n+\n+        # Node0, no -bind, expected to bind on any + tor target.\n+        self.expected.append(\n+            [\n+                [],\n+                [(any_ipv4, p2p_port(0)), (loopback_ipv4, REGTEST_TOR_TARGET_PORT)]\n+            ]\n+        )\n+        if self.have_ipv6:\n+            self.expected[0][1].append((any_ipv6, p2p_port(0)))\n+\n+        # Node1, no -bind=...=onion, thus no extra port for Tor target.\n+        self.expected.append(\n+            [\n+                ['-bind=127.0.0.1:{}'.format(port)],\n+                [(loopback_ipv4, port)]\n+            ],\n+        )\n+        port += 1\n+\n+        # Node2, no normal -bind, thus only the Tor target.\n+        self.expected.append(\n+            [\n+                ['-bind=127.0.0.1:{}=onion'.format(port)],\n+                [(loopback_ipv4, port)]\n+            ],\n+        )\n+        port += 1\n+\n+        # Node3, both -bind and -bind=...=onion.\n+        self.expected.append(\n+            [\n+                ['-bind=127.0.0.1:{}'.format(port), '-bind=127.0.0.1:{}=onion'.format(port + 1)],\n+                [(loopback_ipv4, port), (loopback_ipv4, port + 1)]\n+            ],\n+        )\n+        port += 2\n+\n+        # Add RPC ports to the list of expected ports to bind to for all nodes.\n+        # They are not relevant for this test.\n+        for i in range(len(self.expected)):\n+            self.expected[i][1].append((loopback_ipv4, rpc_port(i)))\n+            if self.have_ipv6:\n+                self.expected[i][1].append((loopback_ipv6, rpc_port(i)))\n+\n+        self.extra_args = list(map(lambda e: e[0], self.expected))\n+        self.setup_nodes()\n+\n+    def run_test(self):\n+        for i in range(len(self.expected)):\n+            pid = self.nodes[i].process.pid\n+            assert_equal(set(get_bind_addrs(pid)), set(self.expected[i][1]))",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r514932334",
      "id" : 514932334,
      "in_reply_to_id" : 513695973,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkzMjMzNA==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 114,
      "original_position" : 114,
      "original_start_line" : null,
      "path" : "test/functional/feature_bind_extra.py",
      "position" : null,
      "pull_request_review_id" : 520450732,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:16:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514932334",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r514934105"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514934105"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah. https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498721063\r\n\r\nI think it is reasonable to inform the user that his request couldn't be fulfilled. E.g. if he specifies `-bind=1.2.3.4:8334=onion` and we can't bind on that address and port.",
      "commit_id" : "c055a5003bd27a861602f12fdaffed314df9bb97",
      "created_at" : "2020-10-30T08:20:36Z",
      "diff_hunk" : "@@ -2391,30 +2391,25 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n     return true;\n }\n \n-bool CConnman::InitBinds(\n-    const std::vector<CService>& binds,\n-    const std::vector<NetWhitebindPermissions>& whiteBinds,\n-    const std::vector<CService>& onion_binds)\n+bool CConnman::InitBinds(const Options& options)\n {\n     bool fBound = false;\n-    for (const auto& addrBind : binds) {\n+    for (const auto& addrBind : options.vBinds) {\n         fBound |= Bind(addrBind, (BF_EXPLICIT | BF_REPORT_ERROR), NetPermissionFlags::PF_NONE);\n     }\n-    for (const auto& addrBind : whiteBinds) {\n+    for (const auto& addrBind : options.vWhiteBinds) {\n         fBound |= Bind(addrBind.m_service, (BF_EXPLICIT | BF_REPORT_ERROR), addrBind.m_flags);\n     }\n-    if (binds.empty() && whiteBinds.empty()) {\n+    for (const auto& addr_bind : options.onion_binds) {\n+        fBound |= Bind(addr_bind, BF_EXPLICIT | BF_REPORT_ERROR | BF_DONT_ADVERTISE, NetPermissionFlags::PF_NONE);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#discussion_r514934105",
      "id" : 514934105,
      "in_reply_to_id" : 513669709,
      "line" : 2404,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkzNDEwNQ==",
      "original_commit_id" : "db2d6f323836f286f37d4e826c6edcfce6cde29b",
      "original_line" : 2404,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : 21,
      "pull_request_review_id" : 520452970,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/20234",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-10-30T08:20:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514934105",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed the test failure on Travis (confirmed on my local fork).",
      "created_at" : "2020-10-30T08:23:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/20234#issuecomment-719404559",
      "id" : 719404559,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/20234",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxOTQwNDU1OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-30T08:23:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/719404559",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   }
]
