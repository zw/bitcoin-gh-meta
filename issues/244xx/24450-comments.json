[
   {
      "author_association" : "MEMBER",
      "body" : "I think this is at least partially expected behavior. The thing is, if you're proxying IPv6 over Tor, CJDNS will not work. `-proxy` is the catch-all (which is by far the safest behavior for what people *generally* want with Tor).\r\n\r\nGenerally if you want to run a multi-network node, set a proxy per network, e.g. `-onion=<ip:port>`. This will cause non-CJDNS IPv4 and IPv6 to go over clearnet, though, so might not be the configuration you want.\r\n",
      "created_at" : "2022-02-28T13:09:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24450#issuecomment-1054240232",
      "id" : 1054240232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24450",
      "node_id" : "IC_kwDOABII584-1m3o",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1054240232/reactions"
      },
      "updated_at" : "2022-02-28T13:09:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1054240232",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Apparently CJDNS network does not work with Tor on mainnet.\r\n> \r\n> this does not show any CJDNS peers if Tor is enabled\r\n\r\nA few ways one can run CJDNS (and I2P and IPv4/6) with Tor (provided they do what a user wants):\r\n\r\n- with a proxy per network as suggested by @laanwj\r\n- with `-onion=127.0.0.1:9050 -externalip=<your onion address> -discover -listen`\r\n- without setting a proxy\r\n- with `-proxy` and `-discover` (and optionally `-listen`), not sure this is a useful config though\r\n",
      "created_at" : "2022-03-22T11:36:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24450#issuecomment-1075069019",
      "id" : 1075069019,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24450",
      "node_id" : "IC_kwDOABII585AFEBb",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1075069019/reactions"
      },
      "updated_at" : "2022-03-22T11:52:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1075069019",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Yeah, I would say the above is misconfiguration which can be fixed by replacing `-proxy=` with `-onion=`. Some thoughts:\r\n\r\n`-proxy=` is catch-all setting. There may be a proxy running on one's router that also handles CJDNS. So, it would be undesirable to change the behavior to ignore `-proxy=` within Bitcoin Core when connecting to CJDNS addresses.\r\n\r\n`-proxy=` is ignored for I2P addresses, so it is catch-all _except_ I2P.\r\n\r\nLooks like we don't support right now a setup where IPv4 and IPv6 are routed via Tor and CJDNS connections are made without a proxy.\r\n\r\nMaybe we should consider something like `-proxy=1.2.3.4:5678=ipv4` for a more fine-grained control?",
      "created_at" : "2022-03-22T12:39:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24450#issuecomment-1075125736",
      "id" : 1075125736,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24450",
      "node_id" : "IC_kwDOABII585AFR3o",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1075125736/reactions"
      },
      "updated_at" : "2022-03-22T12:39:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1075125736",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I think this should be better documented in https://github.com/bitcoin/bitcoin/blob/master/doc/cjdns.md .",
      "created_at" : "2022-06-30T01:45:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24450#issuecomment-1170660192",
      "id" : 1170660192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24450",
      "node_id" : "IC_kwDOABII585Fxttg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1170660192/reactions"
      },
      "updated_at" : "2022-06-30T01:45:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1170660192",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/207639?v=4",
         "events_url" : "https://api.github.com/users/felipelalli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/felipelalli/followers",
         "following_url" : "https://api.github.com/users/felipelalli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/felipelalli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/felipelalli",
         "id" : 207639,
         "login" : "felipelalli",
         "node_id" : "MDQ6VXNlcjIwNzYzOQ==",
         "organizations_url" : "https://api.github.com/users/felipelalli/orgs",
         "received_events_url" : "https://api.github.com/users/felipelalli/received_events",
         "repos_url" : "https://api.github.com/users/felipelalli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/felipelalli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/felipelalli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/felipelalli"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "\r\n\r\nI could work on this. I think it would be cool to support all networks with full privacy (meaning ipv4 and ipv6 routed over Tor). Onion goes over the SOCKS5 and I2P has its own proxy server (SAM), CJDNS is just a little trickier.\r\n\r\n> Maybe we should consider something like `-proxy=1.2.3.4:5678=ipv4` for a more fine-grained control?\r\n\r\nI think it's either something like this, or another option like `-cjdnsproxy` (default true if `-proxy` is set)",
      "created_at" : "2023-11-08T21:19:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/24450#issuecomment-1802697256",
      "id" : 1802697256,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/24450",
      "node_id" : "IC_kwDOABII585rcvoo",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1802697256/reactions"
      },
      "updated_at" : "2023-11-08T21:19:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1802697256",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2084648?v=4",
         "events_url" : "https://api.github.com/users/pinheadmz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pinheadmz/followers",
         "following_url" : "https://api.github.com/users/pinheadmz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pinheadmz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pinheadmz",
         "id" : 2084648,
         "login" : "pinheadmz",
         "node_id" : "MDQ6VXNlcjIwODQ2NDg=",
         "organizations_url" : "https://api.github.com/users/pinheadmz/orgs",
         "received_events_url" : "https://api.github.com/users/pinheadmz/received_events",
         "repos_url" : "https://api.github.com/users/pinheadmz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pinheadmz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pinheadmz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pinheadmz"
      }
   }
]
