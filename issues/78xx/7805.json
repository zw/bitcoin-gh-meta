{
   "assignee" : null,
   "body" : "Previously Bitcoin would send 1/4 of transactions out to all peers\r\n instantly.  This causes high overhead because it makes >80% of\r\n INVs size 1.  Doing so harms privacy, because it limits the\r\n amount of source obscurity a transaction can receive.\r\n\r\nThese randomized broadcasts also disobeyed transaction dependencies\r\n and required use of the orphan pool.  Because the orphan pool is\r\n so small this leads to poor propagation for dependent transactions.\r\n\r\nWhen the bypass wasn't in effect, transactions were sent in the\r\n order they were received.  This avoided creating orphans but\r\n undermines privacy fairly significantly.\r\n\r\nThis commit:\r\n Eliminates the bypass. The bypass is replaced by halving the\r\n  average delay for outbound peers.\r\n\r\n Sorts candidate transactions for INV by their topological\r\n  depth then by their feerate (then hash); removing the\r\n  information leakage and providing priority service to\r\n  higher fee transactions.\r\n\r\n Limits the amount of transactions sent in a single INV to\r\n  7tx/sec (and twice that for outbound); this limits the\r\n  harm of low fee transaction floods, gives faster relay\r\n  service to higher fee transactions. The 7 sounds lower\r\n  than it really is because received advertisements need\r\n  not be sent, and because the aggregate rate is multipled\r\n  by the number of peers.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7805/comments",
   "created_at" : "2016-04-04T10:01:10Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7805/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/7805",
   "id" : 145638047,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7805/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 7805,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/7805.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7805",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/7805.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7805"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Eliminate TX trickle bypass, sort TX invs for privacy and priority.",
   "updated_at" : "2016-04-04T13:05:13Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7805",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
      "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
      "followers_url" : "https://api.github.com/users/gmaxwell/followers",
      "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/gmaxwell",
      "id" : 858454,
      "login" : "gmaxwell",
      "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
      "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
      "repos_url" : "https://api.github.com/users/gmaxwell/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/gmaxwell"
   }
}
