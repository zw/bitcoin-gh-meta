{
   "assignee" : null,
   "body" : "tl;dr: This solves boost visibility problems for default/release build configs\r\non non-Linux platforms.\r\n\r\nWhen Bitcoin builds against boost's header-only classes, it ends up with\r\nobjects containing symbols that the upstream boost libs also have. Since\r\nBitcoin builds by default with hidden symbol visibility, it can end up trying\r\nto link against a copy of the same symbols with default visibility.\r\nThis is not a problem on Linux because 3rd party static libs are un-exported\r\nby default (--exclude-libs,ALL), but that is not available for MinGW and OSX.\r\n\r\nThose platforms (and maybe others?) end up confused about which version to use.\r\n\r\nThe OSX linker spews hundreds of: \"ld: warning: direct access in <foo> to\r\nglobal weak symbol guard variable for <bar> means the weak symbol cannot be\r\noverridden at runtime. This was likely caused by different translation units\r\nbeing compiled with different visibility settings.\"\r\n\r\nMinGW's linker complains similarly.\r\n\r\nSince the default symbol visibility for Bitcoin is hidden and releases are\r\nbuilt that way as well, build Boost with hidden visibility. Linux builds Boost\r\nthis way also, but only for the sake of continuity.\r\n\r\nThis means that the linker confusion logic is reversed, so the problem will\r\nwill now be encountered if Bitcoin is built with --disable-reduce-exports, but\r\nthat's better than the current situation.",
   "closed_at" : "2014-11-06T09:20:51Z",
   "closed_by" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
      "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
      "followers_url" : "https://api.github.com/users/laanwj/followers",
      "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/laanwj",
      "id" : 126646,
      "login" : "laanwj",
      "organizations_url" : "https://api.github.com/users/laanwj/orgs",
      "received_events_url" : "https://api.github.com/users/laanwj/received_events",
      "repos_url" : "https://api.github.com/users/laanwj/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/laanwj"
   },
   "comments" : 2,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5213/comments",
   "created_at" : "2014-11-05T07:16:33Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5213/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/5213",
   "id" : 47806781,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5213/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 5213,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/5213.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5213",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/5213.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5213"
   },
   "state" : "closed",
   "title" : "depends: boost: hard-code hidden symbol visibility",
   "updated_at" : "2014-11-06T09:20:51Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5213",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
      "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
      "followers_url" : "https://api.github.com/users/theuni/followers",
      "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/theuni",
      "id" : 417043,
      "login" : "theuni",
      "organizations_url" : "https://api.github.com/users/theuni/orgs",
      "received_events_url" : "https://api.github.com/users/theuni/received_events",
      "repos_url" : "https://api.github.com/users/theuni/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/theuni"
   }
}
