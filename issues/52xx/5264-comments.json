[
   {
      "body" : "NACK\r\n\r\nThis will definitely break things, and I don't see a need given how easy the SIGHASH flags are to remember. All the standard ones can be interpreted by thinking in terms of upper and lower nibbles:\r\n\r\nUpper nibble == 0:\r\n\r\n    01 - ALL\r\n    02 - NONE\r\n    03 - SINGLE\r\n\r\nUpper nibble == 8:\r\n\r\n    81 - ANYONECANPAY | ALL\r\n    82 - ANYONECANPAY | NONE\r\n    83 - ANYONECANPAY | SINGLE\r\n\r\nThat's it.",
      "created_at" : "2014-11-12T14:53:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62729694",
      "id" : 62729694,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-12T14:53:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62729694",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd That's not really fair. Why was this an open issue, if this is not desirable?\r\n\r\nWhere is the risk of breakage? It doesn't affect consensus code. Do people rely on the exact format of the dumped script format?",
      "created_at" : "2014-11-12T15:36:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62737045",
      "id" : 62737045,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-12T15:36:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62737045",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj They sure do! Granted, maybe we don't want that, in which case we should delibrately break it. (make a note in the release notes please)\r\n\r\n> Why was this an open issue, if this is not desirable?\r\n\r\nWell, I'm telling people why I think it's not desirable. If I'm outnumbered on this, then I'll at least ask if we could drop the 'SIGHASH_' prefix on this; having the full string is kinda long if it's not meant to be parsed by anyone other than humans.",
      "created_at" : "2014-11-12T15:45:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62738788",
      "id" : 62738788,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-12T15:45:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62738788",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r20229478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20229478"
         }
      },
      "body" : "Any special reason to use SCRIPT_VERIFY_STRICTENC instead of SCRIPT_VERIFY_DERSIG here?\r\n",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2014-11-12T16:18:01Z",
      "diff_hunk" : "@@ -4,17 +4,29 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include \"script.h\"\n-\n+#include \"script/interpreter.h\"\n #include \"tinyformat.h\"\n #include \"utilstrencodings.h\"\n \n+#include <boost/assign/list_of.hpp>\n+#include <map>\n+\n namespace {\n inline std::string ValueString(const std::vector<unsigned char>& vch)\n {\n+    static std::map<int, std::string> mapSigHashTypes =\n+        boost::assign::map_list_of\n+        (int(SIGHASH_ALL), std::string(\"SIGHASH_ALL\"))\n+        (int(SIGHASH_ALL|SIGHASH_ANYONECANPAY), std::string(\"SIGHASH_ALL|SIGHASH_ANYONECANPAY\"))\n+        (int(SIGHASH_NONE), std::string(\"SIGHASH_NONE\"))\n+        (int(SIGHASH_NONE|SIGHASH_ANYONECANPAY), std::string(\"SIGHASH_NONE|SIGHASH_ANYONECANPAY\"))\n+        (int(SIGHASH_SINGLE), std::string(\"SIGHASH_SINGLE\"))\n+        (int(SIGHASH_SINGLE|SIGHASH_ANYONECANPAY), std::string(\"SIGHASH_SINGLE|SIGHASH_ANYONECANPAY\"))\n+        ;\n     if (vch.size() <= 4)\n         return strprintf(\"%d\", CScriptNum(vch, false).getint());\n     else\n-        return HexStr(vch);\n+        return HexStr(vch) + (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC) ? (\"(\" + mapSigHashTypes[vch.back()] + \")\") : \"\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r20229478",
      "id" : 20229478,
      "original_commit_id" : "1f028d64b0dc677cd0a18d8fbb216460959dbe88",
      "original_position" : 28,
      "path" : "src/script/script.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20229478",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@petertodd Yes, let's see what the others think here. I generally like it when people solve an actual open issue :)\r\n\r\nAgree on dropping the `SIGHASH_` prefix and adding mention to `doc/release-notes.md`.\r\n",
      "created_at" : "2014-11-12T16:19:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62745039",
      "id" : 62745039,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-12T16:19:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62745039",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r20232467"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20232467"
         }
      },
      "body" : "the reason why i went with SCRIPT_VERIFY_STRICTENC was because in CheckSignatureEncoding, SCRIPT_VERIFY_STRICTENC will get us some checking through IsDefinedHashtypeSignature as well in order to make sure that the hash type is one of the defined types. if it's not a defined hash type, then no decode gets appended to the hex encoding of the signature.",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2014-11-12T16:58:33Z",
      "diff_hunk" : "@@ -4,17 +4,29 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include \"script.h\"\n-\n+#include \"script/interpreter.h\"\n #include \"tinyformat.h\"\n #include \"utilstrencodings.h\"\n \n+#include <boost/assign/list_of.hpp>\n+#include <map>\n+\n namespace {\n inline std::string ValueString(const std::vector<unsigned char>& vch)\n {\n+    static std::map<int, std::string> mapSigHashTypes =\n+        boost::assign::map_list_of\n+        (int(SIGHASH_ALL), std::string(\"SIGHASH_ALL\"))\n+        (int(SIGHASH_ALL|SIGHASH_ANYONECANPAY), std::string(\"SIGHASH_ALL|SIGHASH_ANYONECANPAY\"))\n+        (int(SIGHASH_NONE), std::string(\"SIGHASH_NONE\"))\n+        (int(SIGHASH_NONE|SIGHASH_ANYONECANPAY), std::string(\"SIGHASH_NONE|SIGHASH_ANYONECANPAY\"))\n+        (int(SIGHASH_SINGLE), std::string(\"SIGHASH_SINGLE\"))\n+        (int(SIGHASH_SINGLE|SIGHASH_ANYONECANPAY), std::string(\"SIGHASH_SINGLE|SIGHASH_ANYONECANPAY\"))\n+        ;\n     if (vch.size() <= 4)\n         return strprintf(\"%d\", CScriptNum(vch, false).getint());\n     else\n-        return HexStr(vch);\n+        return HexStr(vch) + (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC) ? (\"(\" + mapSigHashTypes[vch.back()] + \")\") : \"\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r20232467",
      "id" : 20232467,
      "original_commit_id" : "1f028d64b0dc677cd0a18d8fbb216460959dbe88",
      "original_position" : 28,
      "path" : "src/script/script.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/20232467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "@petertodd @laanwj thanks for the feedback.\r\n\r\nI have removed the \"SIGHASH_\" from the text due to your feedback that it was too verbose. I was back and forth on that before I pushed it up, so I'm happy for your opinions.\r\n\r\nI can see @petertodd's concern about this being a breaking change for people scripted against it. It's something to weigh. I don't know that adding more flags is the answer. From working on another pull request, my understanding is that the JSON is equivalent to \"verbose\".\r\n\r\nFWIW, I kind of like the extra decoding output myself because it's one less thing I have to think about. It's a simple decode like @petertodd said, but having it just there in plain sight means I don't have to remember, or go look it up.\r\n\r\nI will add some release notes comments in doc/release-notes.md in a little bit after waiting to hear what other feedback is.",
      "created_at" : "2014-11-12T17:06:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62753538",
      "id" : 62753538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-12T17:06:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62753538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "Added some release notes.",
      "created_at" : "2014-11-12T18:02:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62762686",
      "id" : 62762686,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-12T18:02:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62762686",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "@mruddy Mind squashing those commits?",
      "created_at" : "2014-11-12T18:06:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62763203",
      "id" : 62763203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-12T18:06:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62763203",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "sure thing, done",
      "created_at" : "2014-11-12T18:23:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62765917",
      "id" : 62765917,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-12T18:23:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62765917",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "I don't think we should be adding this to the existing 'asm' output, but perhaps an alternate decoding that goes into lower level detail.",
      "created_at" : "2014-11-12T19:16:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62775953",
      "id" : 62775953,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-12T19:16:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62775953",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "ok, thanks. if nobody pops up and says that they want this within a day or so, i'll go ahead and close this. it probably fits better somewhere else.",
      "created_at" : "2014-11-12T22:09:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62804217",
      "id" : 62804217,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-12T22:09:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62804217",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "@sipa What if the 'asm' format grew a way to specify comments?\r\n",
      "created_at" : "2014-11-13T08:15:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62855535",
      "id" : 62855535,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-13T08:15:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62855535",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@gmaxwell can you comment here? You created #3166, so maybe you can illuminate how it should work",
      "created_at" : "2014-11-13T08:50:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62859542",
      "id" : 62859542,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-13T08:50:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62859542",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Hm. I don't have a strong opinion about how it would work.  I would have normally assumed some annotation on the asm output, or an additional lower level asm view.\r\n\r\nMy goal was mostly that it would be clearly indicated in some manner stronger than squnting at bytes. In particular, squinting fails when you only barely know there is something you need to squint at. An expliact flag list would be much more obvious and discoverable.\r\n\r\nWRT compatiblity of the ASM output, we've certantly never promised to hold that encoding constant... it's fine if things are reading it, but they'll need to be revised if it changes.",
      "created_at" : "2014-11-13T21:24:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-62968669",
      "id" : 62968669,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-13T21:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/62968669",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Closing because there doesn't seem to be much demand for this fix with the possibility that it breaks things scripted against the \"asm\" output value.",
      "created_at" : "2014-11-18T13:12:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-63468597",
      "id" : 63468597,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-18T13:12:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63468597",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "@mruddy Actually, I was just asking around, and it looks like people are getting the message and not depending on the asm output format as much as before. As an example Counterparty switched to using python-bitcoinlib for that on my advice.\r\n\r\nMaybe we should reopen this for v0.11 and simultaneously drop the 'OP_' prefix from the opcode names in the asm output? That'd likely break the remaining stuff pretty thoroughly in a clear way.",
      "created_at" : "2014-11-18T18:27:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-63519743",
      "id" : 63519743,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-18T18:27:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63519743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd sure, re-opened. I have not gone through and made the \"OP_\" prefix changes yet. I figure that I'll have to do a bunch of reference checking to see what all I'm impacting, and then update or make some unit tests when I do that. So, more changes to come for that.",
      "created_at" : "2014-11-19T16:01:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-63662911",
      "id" : 63662911,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-19T16:01:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63662911",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "@mruddy Great, thanks!\r\n\r\nFWIW a \"OP_\" prefix dropping change should definitely be in a separate commit so it can be debated separately. Also, if changing stuff like that *doesn't* break any tests, keep in mind it's a sign that maybe depending on the exact format of the asm output is a bad idea. :)\r\n\r\n(yeah, the more I think about this, the more I think my original objection was wrong...)",
      "created_at" : "2014-11-20T19:38:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-63866111",
      "id" : 63866111,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-20T19:38:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63866111",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd sorry for my delayed response... i just made #5392 for the \"OP_\" prefix changes. also, i rebased this request's commit so that it'll merge into the upstream once again.",
      "created_at" : "2014-11-28T22:36:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-64932517",
      "id" : 64932517,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-11-28T22:36:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/64932517",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "Eh, not important enough to keep open and keep re-basing the commit.",
      "created_at" : "2014-12-11T11:39:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-66607385",
      "id" : 66607385,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-12-11T11:39:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66607385",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "I still think this makes sense, but after 0.10 obviously.\r\nIf this is closed unfixed with \"don't bother\" then so should #3166.\r\n",
      "created_at" : "2014-12-11T11:52:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-66608745",
      "id" : 66608745,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-12-11T11:52:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66608745",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r21692475"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/21692475"
         }
      },
      "body" : "Indexing a std::map with [x] adds an entry with the default value for the type (in this case, an empty string), if the key doesn't exist in the map. This is not thread-safe, and makes it possible to consume some memory by providing unknown `sigHashTypes`.\r\n\r\n- please make `mapSigHashTypes` const\r\n- use `.find(x)` instead of `[x]` to find the value\r\n",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2014-12-11T17:27:55Z",
      "diff_hunk" : "@@ -4,17 +4,29 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include \"script.h\"\n-\n+#include \"script/interpreter.h\"\n #include \"tinyformat.h\"\n #include \"utilstrencodings.h\"\n \n+#include <boost/assign/list_of.hpp>\n+#include <map>\n+\n namespace {\n inline std::string ValueString(const std::vector<unsigned char>& vch)\n {\n+    static std::map<int, std::string> mapSigHashTypes =\n+        boost::assign::map_list_of\n+        (int(SIGHASH_ALL), std::string(\"ALL\"))\n+        (int(SIGHASH_ALL|SIGHASH_ANYONECANPAY), std::string(\"ALL|ANYONECANPAY\"))\n+        (int(SIGHASH_NONE), std::string(\"NONE\"))\n+        (int(SIGHASH_NONE|SIGHASH_ANYONECANPAY), std::string(\"NONE|ANYONECANPAY\"))\n+        (int(SIGHASH_SINGLE), std::string(\"SINGLE\"))\n+        (int(SIGHASH_SINGLE|SIGHASH_ANYONECANPAY), std::string(\"SINGLE|ANYONECANPAY\"))\n+        ;\n     if (vch.size() <= 4)\n         return strprintf(\"%d\", CScriptNum(vch, false).getint());\n     else\n-        return HexStr(vch);\n+        return HexStr(vch) + (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, NULL) ? (\"(\" + mapSigHashTypes[vch.back()] + \")\") : \"\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r21692475",
      "id" : 21692475,
      "original_commit_id" : "628bbfcd94ac4729ba71c12625d98369ca730381",
      "original_position" : 28,
      "path" : "src/script/script.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/21692475",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r21743852"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/21743852"
         }
      },
      "body" : "Thanks for the code review. Guarding that lookup with CheckSignatureEncoding I believe prevents that case, but you're right, I did not realize or intend for the [] operator to act that way. So, it'll be safer to make the change that you propose in-case someone changes CheckSignatureEncoding to act differently in the future. I'll get that done today and re-squash the commit.",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2014-12-12T13:31:21Z",
      "diff_hunk" : "@@ -4,17 +4,29 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include \"script.h\"\n-\n+#include \"script/interpreter.h\"\n #include \"tinyformat.h\"\n #include \"utilstrencodings.h\"\n \n+#include <boost/assign/list_of.hpp>\n+#include <map>\n+\n namespace {\n inline std::string ValueString(const std::vector<unsigned char>& vch)\n {\n+    static std::map<int, std::string> mapSigHashTypes =\n+        boost::assign::map_list_of\n+        (int(SIGHASH_ALL), std::string(\"ALL\"))\n+        (int(SIGHASH_ALL|SIGHASH_ANYONECANPAY), std::string(\"ALL|ANYONECANPAY\"))\n+        (int(SIGHASH_NONE), std::string(\"NONE\"))\n+        (int(SIGHASH_NONE|SIGHASH_ANYONECANPAY), std::string(\"NONE|ANYONECANPAY\"))\n+        (int(SIGHASH_SINGLE), std::string(\"SINGLE\"))\n+        (int(SIGHASH_SINGLE|SIGHASH_ANYONECANPAY), std::string(\"SINGLE|ANYONECANPAY\"))\n+        ;\n     if (vch.size() <= 4)\n         return strprintf(\"%d\", CScriptNum(vch, false).getint());\n     else\n-        return HexStr(vch);\n+        return HexStr(vch) + (CheckSignatureEncoding(vch, SCRIPT_VERIFY_STRICTENC, NULL) ? (\"(\" + mapSigHashTypes[vch.back()] + \")\") : \"\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r21743852",
      "id" : 21743852,
      "original_commit_id" : "628bbfcd94ac4729ba71c12625d98369ca730381",
      "original_position" : 28,
      "path" : "src/script/script.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/21743852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "I really don't like a script show function to make assumptions about the data inside it. It feels like a layer violation.",
      "created_at" : "2014-12-12T14:03:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-66775798",
      "id" : 66775798,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-12-12T14:03:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66775798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa you could argue that, but in practice that's what disassemblers do, given incomplete semantic information they have to make guesses. As long as the information is only shown in what is an informative comment for the user, I don't think it hurts.",
      "created_at" : "2014-12-12T14:16:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-66777370",
      "id" : 66777370,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-12-12T14:17:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66777370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj ready for review. i added a couple more test cases, and re-squashed the commit after re-basing to the latest upstream.",
      "created_at" : "2014-12-12T16:20:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-66794900",
      "id" : 66794900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-12-12T16:20:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66794900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "While doing more testing, I found that I was able to make some OP_RETURN data look like a signature and cause an erroneous decode.\r\nI added some handling for that and did a little re-factoring at the same time.\r\nI also changed the parentheses to square brackets for consistency with an existing error case that would output square brackets.",
      "created_at" : "2014-12-13T13:12:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-66875909",
      "id" : 66875909,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-12-13T13:12:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66875909",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "Tightened up a couple more cases and added unit tests.",
      "created_at" : "2014-12-21T00:22:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-67755293",
      "id" : 67755293,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-12-21T00:22:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67755293",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r22145143"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22145143"
         }
      },
      "body" : "Pleaso don't remove that line, it is here to separate the own header (script.h) from other core headers.",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2014-12-21T01:26:21Z",
      "diff_hunk" : "@@ -4,20 +4,9 @@\n // file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n #include \"script.h\"\n-",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r22145143",
      "id" : 22145143,
      "original_commit_id" : "8ec43dce4e55b2ddf2a7e0f2e2b3f5837dea9046",
      "original_position" : 4,
      "path" : "src/script/script.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22145143",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r22145152"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22145152"
         }
      },
      "body" : "Just asking, but isn't this strictly a signed/unsigned comparison as .size() returns a size_t?",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2014-12-21T01:27:45Z",
      "diff_hunk" : "@@ -260,3 +260,33 @@ std::string CScript::ToString() const\n     }\n     return str;\n }\n+\n+const std::map<int, std::string> CScript::mapSigHashTypes =\n+    boost::assign::map_list_of\n+    (int(SIGHASH_ALL), std::string(\"ALL\"))\n+    (int(SIGHASH_ALL|SIGHASH_ANYONECANPAY), std::string(\"ALL|ANYONECANPAY\"))\n+    (int(SIGHASH_NONE), std::string(\"NONE\"))\n+    (int(SIGHASH_NONE|SIGHASH_ANYONECANPAY), std::string(\"NONE|ANYONECANPAY\"))\n+    (int(SIGHASH_SINGLE), std::string(\"SINGLE\"))\n+    (int(SIGHASH_SINGLE|SIGHASH_ANYONECANPAY), std::string(\"SINGLE|ANYONECANPAY\"))\n+    ;\n+\n+std::string CScript::ValueString(const std::vector<unsigned char>& vch) const\n+{\n+    if (vch.size() <= 4)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r22145152",
      "id" : 22145152,
      "original_commit_id" : "8ec43dce4e55b2ddf2a7e0f2e2b3f5837dea9046",
      "original_position" : 56,
      "path" : "src/script/script.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22145152",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r22145161"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22145161"
         }
      },
      "body" : "Nit: Can you place this after a newline below the standard C/C++ headers?",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2014-12-21T01:28:49Z",
      "diff_hunk" : "@@ -6,9 +6,13 @@\n #ifndef BITCOIN_SCRIPT_SCRIPT_H\n #define BITCOIN_SCRIPT_SCRIPT_H\n \n+#include \"script/interpreter.h\"\n+\n #include <assert.h>\n+#include <boost/assign/list_of.hpp>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r22145161",
      "id" : 22145161,
      "original_commit_id" : "8ec43dce4e55b2ddf2a7e0f2e2b3f5837dea9046",
      "original_position" : 7,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/22145161",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo thanks for the review. I've addressed your three comments in the latest updated commit.",
      "created_at" : "2014-12-21T11:40:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-67767756",
      "id" : 67767756,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2014-12-21T11:40:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67767756",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "Needs rebase.",
      "created_at" : "2015-03-26T12:33:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-86490525",
      "id" : 86490525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2015-03-26T12:33:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86490525",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r27208491"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/27208491"
         }
      },
      "body" : "I don't like exposing `valtype` externally, the type name is too general.  Would prefer to change the function signature to just\r\n```c++\r\nbool CheckSignatureEncoding(const vector<unsigned char> &vchSig, unsigned int flags, ScriptError* serror) {\r\n```",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2015-03-26T12:37:04Z",
      "diff_hunk" : "@@ -16,8 +16,6 @@\n \n using namespace std;\n \n-typedef vector<unsigned char> valtype;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r27208491",
      "id" : 27208491,
      "original_commit_id" : "afd920e8be151573aa3dbcaad801344f78a98dc3",
      "original_position" : 4,
      "path" : "src/script/interpreter.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/27208491",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Rebased, incorporated latest feedback about the function signature, and decided to actually replace the sighash byte on signatures when the decode occurs instead of just appending the decode after the sighash byte.",
      "created_at" : "2015-07-02T14:17:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-118047801",
      "id" : 118047801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2015-07-02T14:17:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/118047801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33887454"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33887454"
         }
      },
      "body" : "why remove std:: ?",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2015-07-04T13:22:17Z",
      "diff_hunk" : "@@ -238,11 +240,11 @@ bool CScript::IsPushOnly() const\n     return true;\n }\n \n-std::string CScript::ToString() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33887454",
      "id" : 33887454,
      "original_commit_id" : "4a67b1fcd033a4efb5bde77abe9e4c58bdf09bd2",
      "original_position" : 43,
      "path" : "src/script/script.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33887454",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33887472"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33887472"
         }
      },
      "body" : "Is this actually used in the .h ? If not, why not move it to the cpp or wherever it is used?",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2015-07-04T13:25:44Z",
      "diff_hunk" : "@@ -11,12 +11,15 @@\n #include <assert.h>\n #include <climits>\n #include <limits>\n+#include <map>\n #include <stdexcept>\n #include <stdint.h>\n #include <string.h>\n #include <string>\n #include <vector>\n \n+#include <boost/assign/list_of.hpp>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33887472",
      "id" : 33887472,
      "original_commit_id" : "4a67b1fcd033a4efb5bde77abe9e4c58bdf09bd2",
      "original_position" : 11,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33887472",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33888698"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33888698"
         }
      },
      "body" : "Just for consistency within the file. That method was the only one using the prefix in that file because of the \"using namespace std\" up on line 12. That's all I was thinking when I did that.",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2015-07-04T17:02:40Z",
      "diff_hunk" : "@@ -238,11 +240,11 @@ bool CScript::IsPushOnly() const\n     return true;\n }\n \n-std::string CScript::ToString() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33888698",
      "id" : 33888698,
      "original_commit_id" : "4a67b1fcd033a4efb5bde77abe9e4c58bdf09bd2",
      "original_position" : 43,
      "path" : "src/script/script.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33888698",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33888774"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33888774"
         }
      },
      "body" : "You might be right. I'll double check. I might have needed it at one point and then moved things around. If it's only needed in the cpp, I'll move it.",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2015-07-04T17:12:26Z",
      "diff_hunk" : "@@ -11,12 +11,15 @@\n #include <assert.h>\n #include <climits>\n #include <limits>\n+#include <map>\n #include <stdexcept>\n #include <stdint.h>\n #include <string.h>\n #include <string>\n #include <vector>\n \n+#include <boost/assign/list_of.hpp>",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33888774",
      "id" : 33888774,
      "original_commit_id" : "4a67b1fcd033a4efb5bde77abe9e4c58bdf09bd2",
      "original_position" : 11,
      "path" : "src/script/script.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33888774",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33888850"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33888850"
         }
      },
      "body" : "We're doing the opposite in other places. That doesn't mean we should do it here. If you were touching the lines anyway I wouldn't have said anything, but increasing the diff only for consistency doesn't seem very interesting in my opinion. Anyway, feel free to ignore, just a small nit.",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2015-07-04T17:23:51Z",
      "diff_hunk" : "@@ -238,11 +240,11 @@ bool CScript::IsPushOnly() const\n     return true;\n }\n \n-std::string CScript::ToString() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33888850",
      "id" : 33888850,
      "original_commit_id" : "4a67b1fcd033a4efb5bde77abe9e4c58bdf09bd2",
      "original_position" : 43,
      "path" : "src/script/script.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33888850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33888910"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33888910"
         }
      },
      "body" : "I agree with you, I'm going to put the prefixes back to reduce the diff in the next commit. Thanks for the info and for reviewing these changes.",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2015-07-04T17:31:29Z",
      "diff_hunk" : "@@ -238,11 +240,11 @@ bool CScript::IsPushOnly() const\n     return true;\n }\n \n-std::string CScript::ToString() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33888910",
      "id" : 33888910,
      "original_commit_id" : "4a67b1fcd033a4efb5bde77abe9e4c58bdf09bd2",
      "original_position" : 43,
      "path" : "src/script/script.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T18:02:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33888910",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "@jtimon your two feedback items are incorporated into this latest commit, thanks!",
      "created_at" : "2015-07-04T18:04:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-118538766",
      "id" : 118538766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2015-07-04T18:04:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/118538766",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33890683"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33890683"
         }
      },
      "body" : "Oh, I hadn't noticed the circular dependence...maybe an additional moveonly commit would solve that?\r\nmhmm, moving CheckSignatureEncoding and the flags from interpreter to script would be an option. Maybe move the flags to consensus/consensus instead?\r\nAnother option is not having anything depending on the flags in script/script: CScript methods can be turned into functions taking a CScript as parameter.\r\nOr maybe we can just let the circular dependency be for now.\r\nMhmm, I would like to know what other people think about this...I still don't even know what option I like more. \r\n",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2015-07-04T23:39:35Z",
      "diff_hunk" : "@@ -5,18 +5,11 @@\n \n #include \"script.h\"\n \n+#include \"script/interpreter.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r33890683",
      "id" : 33890683,
      "original_commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "original_position" : 4,
      "path" : "src/script/script.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-04T23:39:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/33890683",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r35017741"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35017741"
         }
      },
      "body" : "Yes, script should probably not depend on the interpreter.\r\nI think we should move the disassembly logic out of the core/consensus data structure to separate utility functions.\r\nE.g. also IsPayToPublicKeyHash() doesn't belong in CScript itself, it belongs at a higher level.",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2015-07-20T17:03:43Z",
      "diff_hunk" : "@@ -5,18 +5,11 @@\n \n #include \"script.h\"\n \n+#include \"script/interpreter.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r35017741",
      "id" : 35017741,
      "original_commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "original_position" : 4,
      "path" : "src/script/script.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-20T17:05:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35017741",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r35132318"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35132318"
         }
      },
      "body" : "Would it be enough to move the opcode constants from script/interpreter to script/script in this PR to avoid this new include?\r\nI haven't tried to compile that but I think that should be enough.\r\n\r\nAbout IsPayToPublicKeyHash, do you mean ValueString shouldn't be a method of CScript ?\r\nOtherwise, since CScript::ValueString uses IsPayToPublicKeyHash, it has to be in the same level or below, but not above.\r\nIf I have to suggest another place, I think I would go with script/standard, where other \"static analysis\" things are.\r\n",
      "commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "created_at" : "2015-07-21T17:51:52Z",
      "diff_hunk" : "@@ -5,18 +5,11 @@\n \n #include \"script.h\"\n \n+#include \"script/interpreter.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#discussion_r35132318",
      "id" : 35132318,
      "original_commit_id" : "b6c63510695da291b4e4837a9efc9e5b288c328b",
      "original_position" : 4,
      "path" : "src/script/script.cpp",
      "position" : 4,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5264",
      "updated_at" : "2015-07-21T17:51:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/35132318",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Leaning towards closing (with the associated comment/act on the related issue).  Generally agree w/ the comment that this seems like a layering violation.\r\n\r\nThe intent is understandable, but it seems like the script show function is not the right place.\r\n",
      "created_at" : "2015-07-23T18:29:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-124199761",
      "id" : 124199761,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2015-07-23T18:29:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124199761",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Yes, it should probably be closed. The more I worked on these changes, the less I liked them. I suppose I'll wait a day and close it unless someone objects.",
      "created_at" : "2015-07-23T18:49:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-124208990",
      "id" : 124208990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2015-07-23T18:49:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124208990",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "I agree the intent is good, and it can be done, just in script/standard rather than script/script.\r\nIf closing this PR and reopening another one that does the same in another file is clearer, let's do that.",
      "created_at" : "2015-07-24T02:03:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-124291380",
      "id" : 124291380,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2015-07-24T02:05:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124291380",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "TxToUniv() dumps both script hex and script asm.\r\n\r\nI wonder if an optional argument to script.ToString() would suffice?\r\n\r\nPrinting out the flags somewhere is certainly useful.  bitcoin-tx utility and RPC both call TxToUnix() when dumping the script verbosely.\r\n",
      "created_at" : "2015-07-24T05:51:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-124337349",
      "id" : 124337349,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2015-07-24T05:51:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124337349",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "I don't see how an optional argument to CScript::ToString would solve the layering concern.\r\n\r\nThat is caused by the script object needing to know if a piece of itself is a signature with a valid hash type. Right now, that logic is in the interpreter.\r\n\r\nI spent some time looking at the layering.\r\n\r\nI think IsValidSignatureEncoding could be moved over to script/bitcoinconsensus.cpp since it is entirely consensus-critical since BIP66.\r\n\r\nSince the sig hash type is not part of consensus, only part of determining if a sig is standard, I think move IsDefinedHashtypeSignature and the sig hash types over to script/standard.cpp and .h respectively.\r\n\r\nIsLowDERSignature is effectively dead code.\r\n\r\nThen, CheckSignatureEncoding could also go to script/standard.cpp since it's not consensus and does not seem like it could only ever be used by the interpreter.\r\n\r\nI think at that point the layering concern is covered.\r\n\r\nNext, what lead to the klutziness in my code, that I wound up not really liking, was the need to answer the question of if the current script was a scriptSig. A lot of what I did to ValueString was to avoid mis-interpreting non-scriptSig data as a signature.\r\n\r\nIt seems like a flag could be set on the script object, or more object oriented, just use a SignatureScript type object when these objects are created (and PubKeyScript objects in other cases). Then this decode ticket would be an override to SignatureScript::ToString.\r\n\r\nBut, refactoring all that would obscure this change and is a lot of work for this seemingly low-value sighash decode. It'd turn into a train of refactoring tickets followed by the last ticket to actually do the simple decode. There's also probably a reason why all that refactoring would be misguided or error-prone that I don't foresee yet.\r\n\r\nAll my hacking to avoid refactoring is what makes me think this should just be closed.\r\n\r\nAlso, TxToUniv is only used by bitcoin-tx, CScript::ToString is the common dependency of RPC and bitcoin-tx.\r\nThe RPC dependencies go through, TxToJSON (decoderawtransaction and getrawtransaction) and ScriptPubKeyToJSON (decodescript).\r\nThat reason, and thinking that a script should know how to show/display/decode itself, is why I targeted CScript::ToString as the place to make these changes.",
      "created_at" : "2015-07-24T19:10:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-124644540",
      "id" : 124644540,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2015-07-24T19:10:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124644540",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6440430?v=3",
         "events_url" : "https://api.github.com/users/mruddy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mruddy/followers",
         "following_url" : "https://api.github.com/users/mruddy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mruddy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mruddy",
         "id" : 6440430,
         "login" : "mruddy",
         "organizations_url" : "https://api.github.com/users/mruddy/orgs",
         "received_events_url" : "https://api.github.com/users/mruddy/received_events",
         "repos_url" : "https://api.github.com/users/mruddy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mruddy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mruddy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mruddy"
      }
   },
   {
      "body" : "> I think IsValidSignatureEncoding could be moved over to script/bitcoinconsensus.cpp since it is entirely consensus-critical since BIP66.\r\n\r\nIt is in script/interpreter, so it's already part of libconsensus, see: https://github.com/bitcoin/bitcoin/blob/master/src/Makefile.am#L365\r\n\r\n> Since the sig hash type is not part of consensus...\r\n> Then, CheckSignatureEncoding could also go to script/standard.cpp since it's not consensus and does not seem like it could only ever be used by the interpreter.\r\n\r\nThe sighash types and CheckSignatureEncoding are definitely part of consensus (and are used by the interpreter), please, just leave them there.\r\nThe only thing you need to move is the new code for converting to string to script/standard and I think all layering concerns are gone.",
      "created_at" : "2015-07-24T20:44:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5264#issuecomment-124716805",
      "id" : 124716805,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5264",
      "updated_at" : "2015-07-24T20:44:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/124716805",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   }
]
