[
   {
      "body" : "Accepting non-standard transactions has already been NAK'd.  Putting this into a new pull req doesn't change that.",
      "created_at" : "2012-08-02T21:37:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7468988",
      "id" : 7468988,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-02T21:37:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7468988",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "This has not already been NAK'd. Please reopen so I don't need to keep resubmitting, and consider reading the change to review (this doesn't accept any old non-standard transactions, only ones you make yourself).",
      "created_at" : "2012-08-03T00:55:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7472787",
      "id" : 7472787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-03T00:55:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7472787",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "The following is an automatic comment from the Bitcoin Pull Tester.\nIf you believe it is in error, please contact jenkins@bluematt.me\n\nThis pull passed automatic sanity-tests!\nThis means it merges cleanly onto current master, builds and unit-tests pass\nYou can find the test log and build output at http://jenkins.bluematt.me/pull-tester/ed6b70809b01da9bd01e9c4f81d1b9df8ac74662",
      "created_at" : "2012-08-08T13:52:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7584062",
      "id" : 7584062,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-08T13:52:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7584062",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "This change is partially, if not totally, flawed. \nThis change gives a tool for an attacker to increase considerably the attack surface!\n\nAny user can send a peer a transaction that returns IsMine() == true or IsFromMe() == true if he knows who the peer is (the peer's public key).\n\nCreating transactions that return IsFromMe()=true the attacker can bypass penny flooding prevention and IsStandard() and go directly to the CPU-expensive ConnectInputs() code.  This creates a perfect DoS attack. He can also skip IsStandard() and put non-standard txs into mapOrphanTransactions. Afterwards he can send a single tx that triggers the verification of thousands non-standard transactions at once, and I'm almost sure this can be used to mount a DoS.\n\nCreating transactions with IsMine() = true is also dangerous. The attacker can create a non-standard tx and send 0.0000001 to the victim's address and bypass penny flooding prevention and isStandard(). The peer would blindly relay that transactions to remaining peers. This could be used (although I didn't explore how to do it) to force the remaining nodes to block the victim's node. \n\nI find this change very disturbing, from the security point of view.\n\n\n\n\n\n",
      "created_at" : "2012-08-13T16:50:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7697975",
      "id" : 7697975,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T16:50:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7697975",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "An attacker can't create transactions that return IsFromMe()==true unless they have already compromised your wallet.\n\nNo anti-DoS rule should ever be made based on relaying valid transactions, though perhaps concern should be given to potentially filling the victim's memory/wallet with spam.",
      "created_at" : "2012-08-13T17:04:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7698436",
      "id" : 7698436,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T17:04:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7698436",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Why the attacker can't create transactions that return IsFromMe()==true ?\n\nThe code IsFromMe(Tx) calls (GetDebit(tx) > 0) that calls GetDebit() from each txin, that finds the previous transaction and calls IsMine(prevout) which only checks that the recipient address is a specific key (only works for standard transaction templates). It does NOT check the signatures, just the template.",
      "created_at" : "2012-08-13T17:57:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7700479",
      "id" : 7700479,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T17:58:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7700479",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "Some time ago there was a discussion on https://bitcointalk.org/index.php?topic=91915.0 about the purpose of IsStandard() check and its benefits\n",
      "created_at" : "2012-08-13T18:02:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7700723",
      "id" : 7700723,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T18:02:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7700723",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "If the signatures don't match, the transaction is invalid and won't even get this far.",
      "created_at" : "2012-08-13T18:06:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7700979",
      "id" : 7700979,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T18:06:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7700979",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "TRUE but you can create a VALID tx that sends 0 BTC to the victim and use the REMAINING previns/txouts to do nasty things.\nI can't find any way to attack now, but I don't like the idea of allowing the attacker to skip a check only by adding a few bytes to the transaction that sends 0 BTC to an specific address.\n\n",
      "created_at" : "2012-08-13T18:40:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7702822",
      "id" : 7702822,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T18:40:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7702822",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "I think @luke-jr is right here, though I haven't looked closely enough to be sure, so thanks for raising the point.\n\nAnyway, this does raise another point: maybe IsFromMe() transactions should not be retransmitted unless they are really created by this instance (and not received from the network).",
      "created_at" : "2012-08-13T18:42:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7702928",
      "id" : 7702928,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T18:42:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7702928",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "If that really works, it's a bug (in the existing code).",
      "created_at" : "2012-08-13T18:42:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7702939",
      "id" : 7702939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T18:42:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7702939",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Nevertheless IsFromMe()=true is just enough of a problem.\n",
      "created_at" : "2012-08-13T18:43:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7702959",
      "id" : 7702959,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T18:43:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7702959",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "If you want your client to allow a \"fast track\" for your transactions, then you can add some hidden message to the script of the transaction. The hidden message must be a MAC (Message Authentication Code) of your transaction using a secret key. Then you can check very fast that you're the sender of a transaction\n\n",
      "created_at" : "2012-08-13T18:44:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7703030",
      "id" : 7703030,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T18:45:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7703030",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "No need for something that complex. Wallet transactions already have a fFromMe field which can easily be used to track whether it is not only \"from me\", but also \"created by this instance\".",
      "created_at" : "2012-08-13T18:54:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7703497",
      "id" : 7703497,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T18:54:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7703497",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa That sounds like a good idea. How does it work with raw transactions (which are likely the common use case for this)?",
      "created_at" : "2012-08-13T18:57:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7703714",
      "id" : 7703714,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T18:57:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7703714",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Great!\n\n(but maybe the luke-jr runs multiple instances in different computers, so fFromMe is not available)",
      "created_at" : "2012-08-13T18:59:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7703811",
      "id" : 7703811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T18:59:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7703811",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "If sendrawtransaction can be made to cause fFromMe to be set then it even covers the multiple instance case, so long as you do the work to trigger it from each instance. (Arguably better than the wallet duplication required to make input sniffing work)",
      "created_at" : "2012-08-13T19:42:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7705570",
      "id" : 7705570,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-13T19:42:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7705570",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I found two new attacks that breaks pseudonimity and allows a node to discover the peer's public address. With this information in hand (IP and Bitcoin pub address), a hacker may get the real identity and track the users payments.\n\na) Wait to see if the peer relays a non-standard transaction, it it does, then the public key must be the one of the txins or txouts.\n\nb) \n1) Send money to 60 different txouts (all owned by you, each one containing 0.000001 BTC)  my( i )\n2) List the 600K current Bitcoin addresses in use. \n3) Separate the addresses in 60 groups. For each group, create a non-standard tx with 1 input an 10000 outputs. Each tx input is one of your txouts [  my(i) ]\n4) One at the time, send the 60 transactions to the peer. \n5) Only the one with the victim's public address in it will be relayed. (you can check that using the command \"mempool\"). This is because the victim's node won't check the tx.GetMinFee(1000, true, GMF_RELAY) protection for that tx since IsMine() =true.\n6) Then proceed recursively (binary search)  to discover which of the 10K address is the victim's pubkey.\n\nThis is a classical side-channel attack.\n\nMy opinion: Never branch the code checking IsFromMe() / IsMine() in CTxMemPool::accept()\n\nNote that the use of fFromMe does not posses any risks .",
      "created_at" : "2012-08-14T13:42:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7725993",
      "id" : 7725993,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-14T16:06:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7725993",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "@SergioDemianLerner \"A\" is not a real risk, since relaying the non-standard transaction is the only way to actually use it (so the only way to avoid this risk is to not use non-standard transactions at all). \"B\" seems like it could have some serious privacy implications, though - do you think it would work better if the client secretly held onto the transaction and only relayed it again later?",
      "created_at" : "2012-08-14T16:58:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7732345",
      "id" : 7732345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-14T16:58:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7732345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "\"A\" could be achieved by sending the transaction directly to the miners (I don't know how to achieve that) . Then only the miners will know who send it.\n\nYour idea to hide the transaction is interesting...The node should act exactly as if the transaction had been rejected. Also there should be no timing differences between rejecting and hiding. \n\nThe only problem I see is that if the attacker has two connections to the victim, then he can monitor if the transaction goes out from the other end, so the attack it still possible...\n\nAnyway, why do you want to force to relay transactions that go to you? \n\nYour decision to relay/not-relay as a single node in the network has very little probability to influence the fact that the transaction will or won't be included in a block by a miner. It is only relevant if you own a high percentage of the nodes of the network, so you can chain transmissions until a miners node.\n\nMaybe what you want is to put the transaction into a special pool to monitor for 0-confirmations, but not for re-transmit.\nCould you explain what is the real benefit for you of this change? What's the use case?",
      "created_at" : "2012-08-14T17:34:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7733493",
      "id" : 7733493,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-14T17:51:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7733493",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "After thinking about it more, this gains from this seem not worth the risks at this time.",
      "created_at" : "2012-08-24T02:35:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/1648#issuecomment-7990631",
      "id" : 7990631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/1648",
      "updated_at" : "2012-08-24T02:35:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/7990631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   }
]
