[
   {
      "body" : "I think in addition to this we really ought to have an absolute maximum fee setting exposed to users... but thats going beyond the narrow bugfixy nature of this change so I didn't do it here.\r\n\r\nThe reason I think that is because it's my expirence that people basically spaz out and assume \"all their coins\" when they don't know in advance of what the fee could be, even when they're engineers or business people who ought to be handling it in a more structured way. ... and this is doubly bad when, in theory, the fee could-- at least in theory-- actually be rather high as is the case with the estimation code.",
      "created_at" : "2014-12-16T02:59:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5481#issuecomment-67105586",
      "id" : 67105586,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5481",
      "updated_at" : "2014-12-16T02:59:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67105586",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "utACK\r\n\r\nRe: maximum fees, a hard maximum would be a good precaution but it doesn't solve the uneasiness of 'send the transaction without knowing the fees'.\r\nE.g. the GUI handles that by showing the computed fee and having the user confirm the transaction.\r\nRPC could grow a similar functionality. For example by returning the raw transaction in a JSON structure w/ some statistics like the fee from `send*`, then having the client submit it (or even sign+submit) when it agrees. But ofc that's not a quick-fix kind of thing that we can add to 0.10.\r\n\r\n",
      "created_at" : "2014-12-16T06:15:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5481#issuecomment-67117184",
      "id" : 67117184,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5481",
      "updated_at" : "2014-12-16T06:15:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67117184",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Makes for a kuldgy interface in the RPC, however.   An alternative would be the RPC letting you specify the maximums (ugh, you may have absolute and per kb opinions) and then having the rpc just fail if it can't meet your demands.\r\n\r\nThis avoids having to have a callback, or a rawtransaction involving two phase protocol. ",
      "created_at" : "2014-12-16T07:53:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5481#issuecomment-67123975",
      "id" : 67123975,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5481",
      "updated_at" : "2014-12-16T07:53:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67123975",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "I don't think it's necessarily kludgy. The two-phase protocol is useful for other things, too. E.g. as we discussed before, to create a transaction and lock the inputs but don't submit the transaction yourself, or submit it later (you'd also need a cancel RPC that unlocks the inputs).\r\n\r\nAlso the fee may not be the only criterion to decide not to submit a transaction after all. As you say, even the 'fee' constraint may be interpreted in different ways. In my philosophy of doing as little as possible in bitcoind it makes sense to make the user evaluate this instead of build an array of possible checks into the server.\r\n",
      "created_at" : "2014-12-16T08:03:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5481#issuecomment-67124747",
      "id" : 67124747,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5481",
      "updated_at" : "2014-12-16T08:03:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67124747",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Yea, I agree. I'm sold.  And we did, indeed, like the {createautoraw ; sign ; send}-ish workflows for other reasons.",
      "created_at" : "2014-12-16T08:04:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5481#issuecomment-67124825",
      "id" : 67124825,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5481",
      "updated_at" : "2014-12-16T08:04:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67124825",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "In case you misunderstood, I'm not against *also* having a hard maximum fee check as a global option, that'd be a small change that still'd be possible to still integrate for 0.10.",
      "created_at" : "2014-12-16T08:09:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5481#issuecomment-67125226",
      "id" : 67125226,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5481",
      "updated_at" : "2014-12-16T08:09:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67125226",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I like this.  I reviewed the code.  If we end up going with #5159 (?) then AreSane was removed anyway as individual transactions can't overly affect the estimate, but I could add it back as a precaution.",
      "created_at" : "2014-12-16T16:48:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5481#issuecomment-67190705",
      "id" : 67190705,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5481",
      "updated_at" : "2014-12-16T16:48:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67190705",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "@morcos Most likely we'll switch to the new fee estimation for 0.11. This is meant as a last-minute fix to make 0.10 code sane.",
      "created_at" : "2014-12-17T16:14:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5481#issuecomment-67346272",
      "id" : 67346272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5481",
      "updated_at" : "2014-12-17T16:14:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/67346272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
