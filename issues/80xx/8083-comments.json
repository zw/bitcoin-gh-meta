[
   {
      "body" : "Concept ACK, but I think it'd be simpler to have this be based on a bitmask rather than service-specific letters.",
      "created_at" : "2016-05-23T20:30:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221086911",
      "id" : 221086911,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8083",
      "updated_at" : "2016-05-23T20:30:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221086911",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Yes. Agreed. Will change it to a bitmask. Maybe a hex representation of the uint64_t as subdomain.",
      "created_at" : "2016-05-23T20:36:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221088422",
      "id" : 221088422,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8083",
      "updated_at" : "2016-05-23T20:36:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221088422",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Do we actually connect to DNS Seeds, or is it only for Tor where we connect to them, get a list of addresses, and then immediately disonnect?",
      "created_at" : "2016-05-23T23:54:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221129612",
      "id" : 221129612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8083",
      "updated_at" : "2016-05-23T23:54:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221129612",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "When on Tor, we connect to one of the seed's results directly, and ask it\nfor getaddr. This does not need filtering.\n\nWhen not on Tor, we read in the list of IPs returned by the seed, and add\nit to addrman, without any TCP involved.\n",
      "created_at" : "2016-05-23T23:56:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221129920",
      "id" : 221129920,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8083",
      "updated_at" : "2016-05-23T23:56:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221129920",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Updated this PR and sipa/bitcoin-seeder#36 to support non-bitflags-to-string mapping.\r\nNow, node-filtering via dnsseed is possible with a bitmap-filter-hex-string as subdomain.\r\n\r\nExample:\r\n`dig A 5.testnet-seed.bitcoin.jonasschnelli.ch` (filter = **5** == 0101) will return only nodes with NODE_NETWORK and NODE_BLOOM service flags set.\r\n`dig A d.testnet-seed.bitcoin.jonasschnelli.ch` (filter = **d** == 1101) will return only nodes with NODE_NETWORK, NODE_BLOOM and NODE_WITNESS service flags set.\r\n\r\nA bar main domain query will still result with the default NODE_NETWORK filter:\r\n`dig A testnet-seed.bitcoin.jonasschnelli.ch`",
      "created_at" : "2016-05-24T19:50:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221382300",
      "id" : 221382300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8083",
      "updated_at" : "2016-05-24T19:50:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221382300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "RFC 952 did not permit hostnames to begin with a number. This has since been relaxed but many implementations still manage to screw this up (treating the names that begin with numbers as IP addresses), it might be better to begin the mask with a x, and also require it to be zero extended so that caching isn't degraded by clients using x00000005 vs x5. ",
      "created_at" : "2016-05-24T22:11:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221417410",
      "id" : 221417410,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8083",
      "updated_at" : "2016-05-24T22:11:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221417410",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Can one of the admins verify this patch?",
      "created_at" : "2016-05-25T08:43:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221510329",
      "id" : 221510329,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8083",
      "updated_at" : "2016-05-25T08:43:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221510329",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/541066?v=3",
         "events_url" : "https://api.github.com/users/arowser/events{/privacy}",
         "followers_url" : "https://api.github.com/users/arowser/followers",
         "following_url" : "https://api.github.com/users/arowser/following{/other_user}",
         "gists_url" : "https://api.github.com/users/arowser/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/arowser",
         "id" : 541066,
         "login" : "arowser",
         "organizations_url" : "https://api.github.com/users/arowser/orgs",
         "received_events_url" : "https://api.github.com/users/arowser/received_events",
         "repos_url" : "https://api.github.com/users/arowser/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/arowser/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/arowser/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/arowser"
      }
   },
   {
      "body" : "@gmaxwell: Good point.\r\nI just force pushed a change that will require a leading `x` for the query subdomain.\r\n`dig A x5.testnet-seed.bitcoin.jonasschnelli.ch` for NODE_BLOOM, etc.\r\n\r\nleading zeros will be ignored: `dig A x0005.testnet-seed.bitcoin.jonasschnelli.ch` also results in a NODE_BLOOM filter.",
      "created_at" : "2016-05-25T12:03:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221552835",
      "id" : 221552835,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8083",
      "updated_at" : "2016-05-25T12:03:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221552835",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli Better to not allow multiple encodings for the same request,\nas that may interfere with caching (see @gmaxwell's comment).\n",
      "created_at" : "2016-05-25T12:08:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221554082",
      "id" : 221554082,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8083",
      "updated_at" : "2016-05-25T12:08:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221554082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa: Good point.\r\nUpdate the seeder PR to ignore/reject leading zeros.\r\nRejecting = reply with standard NODE_NETWORK filter (same behavior as before this PR).\r\nhttps://github.com/sipa/bitcoin-seeder/pull/36/files#diff-118fcbaaba162ba17933c7893247df3aR263",
      "created_at" : "2016-05-25T12:22:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8083#issuecomment-221557745",
      "id" : 221557745,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8083",
      "updated_at" : "2016-05-25T12:22:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/221557745",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   }
]
