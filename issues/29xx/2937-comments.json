[
   {
      "body" : "We've been having a fine discussion here: https://bitcointalk.org/index.php?topic=279652.0\r\n",
      "created_at" : "2013-08-25T01:39:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23220118",
      "id" : 23220118,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-25T01:39:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23220118",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "Seems like an awful lot of code for one simple feature...  no technical objection but... meh.   I would rather a simple hook system (boost signals?) that delivers a pong response, to anyone who pre-registers a pong handler for nonce X.  That would keep most of the code more in the RPC side of things.\r\n",
      "created_at" : "2013-08-25T02:28:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23220591",
      "id" : 23220591,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-25T02:28:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23220591",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Thanks for the feedback.  It did end up being more code than I thought it would.  Reason is, there's 3 different protocol variations to contend with (no nonce, zero nonce, matching nonce).  Also, there was no pong receiver at all, so had to add that as well.\r\n\r\nI added a good amount of debug text in \"if (fDebug) ...\" blocks, which is rather verbose.  I'm surprised there's no dprintf() or similar macro, perhaps there's something I missed.  Every debug line adds another possible code path, because of that if statement.  Probably the lowest-hanging fruit is to jettison those.\r\n\r\nI wonder how a hook system would work?  Registering a handler would seem to complicate things even more.  The ping and pong messages have to be sent/received anyway, that would just add another layer of indirection to shift the processing elsewhere, unless there's something I'm missing here.\r\n",
      "created_at" : "2013-08-25T09:40:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23224822",
      "id" : 23224822,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-25T09:40:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23224822",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2937#discussion_r5968428"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2937"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/5968428"
         }
      },
      "body" : "I think this should only be accepted if the negotiated protocol version (pnode->nVersion, AFAIK) is below BIP0031_VERSION (60000).\r\n\r\nEDIT: Wait, pong itself was only added in BIP0031.Which clients do reply with a 0 nonce? That sounds buggy...",
      "commit_id" : "971bb3e901aad5d4f04a651e3e2a75161d3a4e2a",
      "created_at" : "2013-08-25T14:08:11Z",
      "diff_hunk" : "@@ -3845,10 +3845,61 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n             // seconds to respond to each, the 5th ping the remote sends would appear to\n             // return very quickly.\n             pfrom->PushMessage(\"pong\", nonce);\n+            if (fDebug) {\n+                printf(\"ping %s: Recv %\"PRI64x\", echoing\\n\", pfrom->addrName.c_str(), nonce);\n+            }\n+        } else {\n+            if (fDebug) {\n+                printf(\"ping %s: Recv untimed from old peer\\n\", pfrom->addrName.c_str());\n+            }\n         }\n     }\n \n \n+    else if (strCommand == \"pong\")\n+    {\n+        int64 pingUsecEnd = GetTimeMicros();\n+        uint64 nonce = 0;\n+        vRecv >> nonce;\n+        \n+        if (0 != pfrom->nPingNonceSent) {\n+            bool bAcceptable = false;\n+            if (nonce == pfrom->nPingNonceSent) {\n+                bAcceptable = true;\n+                if (fDebug) {\n+                    printf(\"pong %s: Recv %\"PRI64x\", complete\\n\", pfrom->addrName.c_str(), nonce);\n+                }\n+            }\n+            else if (0 == nonce) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#discussion_r5968428",
      "id" : 5968428,
      "original_commit_id" : "dcb99a747d294786eda8bfe19a1e140ddc913f59",
      "original_position" : 29,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2937",
      "updated_at" : "2013-10-04T08:30:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/5968428",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2937#discussion_r5968477"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2937"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/5968477"
         }
      },
      "body" : "Indentation.",
      "commit_id" : "971bb3e901aad5d4f04a651e3e2a75161d3a4e2a",
      "created_at" : "2013-08-25T14:35:33Z",
      "diff_hunk" : "@@ -268,6 +277,12 @@ class CNode\n         fRelayTxes = false;\n         setInventoryKnown.max_size(SendBufferSize() / 1000);\n         pfilter = new CBloomFilter();\n+        nPingNonceQueued = 0;\n+\tnPingNonceSent = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#discussion_r5968477",
      "id" : 5968477,
      "original_commit_id" : "dcb99a747d294786eda8bfe19a1e140ddc913f59",
      "original_position" : 28,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2937",
      "updated_at" : "2013-10-04T08:30:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/5968477",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "ACK. \r\n\r\nIt's perhaps slightly over-complicated (rate-limiting user-requested pings?), but it's otherwise pretty much how I'd have suggested implementing it.\r\n\r\nOne nit: the ping RPC command could be a separate commit from the rest of the logic, but I don't feel strongly about this.",
      "created_at" : "2013-08-25T14:40:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23228769",
      "id" : 23228769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-25T14:40:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23228769",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@jgarzik Agree that a hook-mechanism for dealing with incoming commands is probably the future, but we don't do that right now for other messages, and it's unreasonable to demand that in a pullreq like this.",
      "created_at" : "2013-08-25T14:41:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23228789",
      "id" : 23228789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-25T14:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23228789",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Thanks for the feedback.\r\n\r\nI will remove the ratelimit for user-requested outbound pings, since you're right, that does seem rather overcomplicated.\r\n\r\nAlso, good catch on indentation, I didn't see that.  Darn editor :)\r\n\r\nIt is strange to see a ping with a valid nonce be replied to with a pong with a nonce of 0.  However, this is very common on the wire, I have noticed.  I looked through the history but could not find it.  I'm guessing it's another implementation that has this bug?\r\n\r\nI like the idea of only accepting these weird pong replies (nonce of zero) if that implementation can be detected.  What distinguishes it?  Unfortunately, I don't think its protocol version gives it away.\r\n",
      "created_at" : "2013-08-26T00:51:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23239127",
      "id" : 23239127,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-26T00:51:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23239127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "I updated the commit.\r\n\r\nGot rid of the idea of rate-limiting user-requested RPC pings, that simplifies a chunk of code.\r\n\r\nCleaned up indentation.\r\n\r\nThe \"pingtime\" field shows only completed pings.  I took the liberty of adding a second field, \"pingwait\", that will only appear during the time a ping is in flight.  It will show you how long we have been waiting for that ping to complete.  This gives a window of visibility into noticing a sudden increase in lag (perhaps a newly solved block just arrived), or a peer that is so burdened that it is having trouble responding to pings.\r\n\r\nI could put this patch on a diet by jettisoning the debugging/error messages for various things that can happen.  Good or bad idea?  The messages were useful during testing but it's pretty much solid now.\r\n",
      "created_at" : "2013-08-26T06:31:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23245689",
      "id" : 23245689,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-26T06:31:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23245689",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "Why reinvent '/sbin/ping' ?  Why not just a little shell script that calls getpeerinfo, then uses the system ping to determine ping times?\r\n\r\nI'm a less-code-is-better kinda guy.\r\n",
      "created_at" : "2013-08-26T07:13:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23246945",
      "id" : 23246945,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-26T07:13:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23246945",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen There are many factors that affect Bitcoin P2P latency which you wouldn't notice through network-level ping (application throttling, peer having an overloaded receive queue, peer being DoS'ed, implementation problems...), and it will not work for every type of connection (incoming peers that are firewalled, or onion peers for example).\r\n\r\nAdditionally, having ping statistics inside the program can be useful for future heuristics when picking peers to sync/download from.",
      "created_at" : "2013-08-26T07:23:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23247313",
      "id" : 23247313,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-26T07:54:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23247313",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Thanks sipa, very well said.  That's the key reasons to have a ping at the Bitcoin layer, not just at the OS networking layer.\r\n",
      "created_at" : "2013-08-26T07:44:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23248106",
      "id" : 23248106,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-26T07:45:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23248106",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "I have put the ping/pong handlers in main.cpp on a diet.  Removed the printf statements, they have proved their usefulness during testing, but don't need to be in there permanently.\r\n",
      "created_at" : "2013-08-28T07:44:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23396736",
      "id" : 23396736,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-28T07:44:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23396736",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : ">future heuristics when picking peers to sync/download from.\r\n\r\nAlso for picking peers to keep/discard when our connection slots are full: Low latency is something that a sibyl attacker can't just fakeÃ¢ÂÂ he actually has to get close to youÃ¢ÂÂ, so it makes sense to full to reserve some slots for the lowest latency, apparently healthy peers.\r\n",
      "created_at" : "2013-08-28T08:03:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23397555",
      "id" : 23397555,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-28T08:03:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23397555",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Thanks.  As talked about on IRC the other night, I restored some code that was in the before, to drop pong messages if they are received with a nonce of zero.  I am unsure what clients are sending these.  Their version string comes across as \"0.8.99\" but I haven't found any version history that would ever send a pong (not a ping!) with a nonce of zero.\r\n\r\nWhile running it overnight, I noticed yet another bad client pong behavior.  The peer is sending me pong messages with no payload at all (zero bytes).  This causes an exception during unserialize, which is caught so nothing harmful happens, but it's unclean.\r\n",
      "created_at" : "2013-08-28T23:51:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23457819",
      "id" : 23457819,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-28T23:51:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23457819",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "What are the subVers of the bad clients?",
      "created_at" : "2013-08-30T16:57:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23575074",
      "id" : 23575074,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-30T16:57:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23575074",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Investigating that now.  Frustratingly, it isn't happening anymore with my current set of peers that I'm connected to.\r\n",
      "created_at" : "2013-08-31T06:20:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23601453",
      "id" : 23601453,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-08-31T06:20:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23601453",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "Made some changes.\r\n\r\n1) Added more instrumentation to catch all of the anomalies that we've seen so far, in the pong handler.  Instead of previous bloat, they are all now unified into a single printf statement.\r\n\r\n2) Incoming pong message size is now checked.  Unfortunately, I did not find any more peers who were giving me those empty-payload pong messages, but if they show up again, they will be cleanly logged this time, instead of throwing the exception.  I noticed in_avail() in serialize.h returns an int.  Shouldn't it be a size_t?  There are no other users of it in bitcoind, I have noticed.\r\n\r\n3) I just now call RAND_bytes() for each peer, instead of trying to save random entropy by only calling it once per overall ping request and then just incrementing it for each peer.  Should now never be guessable, but at the cost of burning the entropy pool.  Perhaps use RAND_pseudo_bytes() instead?\r\n\r\nAlso, this pull request is getting somewhat long in the tooth.  I ran it against the latest top of tree, and it still applies cleanly and works just fine.  Should I close this pull request and make a new pull request from a branch closer to the very latest, or keep this pull request open?\r\n",
      "created_at" : "2013-09-01T19:12:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23631057",
      "id" : 23631057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-09-01T19:12:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23631057",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "Tested against latest top of tree and patch still applies cleanly.\r\n",
      "created_at" : "2013-09-04T08:53:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-23774758",
      "id" : 23774758,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-09-04T08:53:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/23774758",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "Rebased the branch to catch up to latest master.\r\n",
      "created_at" : "2013-09-07T22:02:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-24010723",
      "id" : 24010723,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-09-07T22:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/24010723",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "ACK",
      "created_at" : "2013-09-23T23:19:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-24963496",
      "id" : 24963496,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-09-23T23:19:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/24963496",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/2937#discussion_r6647269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2937"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6647269"
         }
      },
      "body" : "This will have to become a LogPrint(\"net\", ...) I guess.",
      "commit_id" : "971bb3e901aad5d4f04a651e3e2a75161d3a4e2a",
      "created_at" : "2013-09-29T14:08:32Z",
      "diff_hunk" : "@@ -3850,6 +3850,63 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     }\n \n \n+    else if (strCommand == \"pong\")\n+    {\n+        int64 pingUsecEnd = GetTimeMicros();\n+        uint64 nonce = 0;\n+        size_t nAvail = vRecv.in_avail();\n+        bool bPingFinished = false;\n+        std::string sProblem;\n+        \n+        if (nAvail >= sizeof(nonce)) {\n+            vRecv >> nonce;\n+        \n+            // Only process pong message if there is an outstanding ping (old ping without nonce should never pong)\n+            if (pfrom->nPingNonceSent != 0) {\n+                if (nonce == pfrom->nPingNonceSent) {\n+                    // Matching pong received, this ping is no longer outstanding\n+                    bPingFinished = true;\n+                    int64 pingUsecTime = pingUsecEnd - pfrom->nPingUsecStart;\n+                    if (pingUsecTime > 0) {\n+                        // Successful ping time measurement, replace previous\n+                        pfrom->nPingUsecTime = pingUsecTime;\n+                    } else {\n+                        // This should never happen\n+                        sProblem = \"Timing mishap\";\n+                    }\n+                } else {\n+                    // Nonce mismatches are normal when pings are overlapping\n+                    sProblem = \"Nonce mismatch\";\n+                    if (nonce == 0) {\n+                        // This is most likely a bug in another implementation somewhere, cancel this ping\n+                        bPingFinished = true;\n+                        sProblem = \"Nonce zero\";\n+                    }\n+                }\n+            } else {\n+                sProblem = \"Unsolicited pong without ping\";\n+            }\n+        } else {\n+            // This is most likely a bug in another implementation somewhere, cancel this ping\n+            bPingFinished = true;\n+            sProblem = \"Short payload\";\n+        }\n+        \n+        if (!(sProblem.empty())) {\n+            printf(\"pong %s %s: %s, %\"PRI64x\" expected, %\"PRI64x\" received, %zu bytes\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#discussion_r6647269",
      "id" : 6647269,
      "original_commit_id" : "c746c3041b4cf743a74546327386aaff08d419ca",
      "original_position" : 47,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/2937",
      "updated_at" : "2013-10-04T08:30:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/6647269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@jgarzik @gavinandresen @gmaxwell Any further comments? I'd like this merged, to be able to add some automatic latency measurement on top.",
      "created_at" : "2013-09-29T14:11:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-25320951",
      "id" : 25320951,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-09-29T14:11:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25320951",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "s/printf(/LogPrint(\"net\"/ and I'm OK with merging.",
      "created_at" : "2013-09-30T22:16:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-25411179",
      "id" : 25411179,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-09-30T22:16:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25411179",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Great idea to use LogPrint instead.  Made that one-line change.  Also rebased it against the latest master.\r\n",
      "created_at" : "2013-10-01T00:37:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-25418235",
      "id" : 25418235,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-10-01T00:37:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25418235",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "Fixed the merge.  The \"ping\" command doesn't require access to the wallet, of course, so the new column is false for it.\r\n",
      "created_at" : "2013-10-04T08:24:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-25683054",
      "id" : 25683054,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-10-04T08:32:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25683054",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4563817?v=3",
         "events_url" : "https://api.github.com/users/Krellan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Krellan/followers",
         "following_url" : "https://api.github.com/users/Krellan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Krellan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Krellan",
         "id" : 4563817,
         "login" : "Krellan",
         "organizations_url" : "https://api.github.com/users/Krellan/orgs",
         "received_events_url" : "https://api.github.com/users/Krellan/received_events",
         "repos_url" : "https://api.github.com/users/Krellan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Krellan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Krellan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Krellan"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/971bb3e901aad5d4f04a651e3e2a75161d3a4e2a for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2013-10-04T10:25:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/2937#issuecomment-25689615",
      "id" : 25689615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2937",
      "updated_at" : "2013-10-04T10:25:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/25689615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   }
]
