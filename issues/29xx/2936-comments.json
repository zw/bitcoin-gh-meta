[
   {
      "body" : "Receiving an unsigned payment request with a1, b1, and c1 amounts for three addresses and modifying them to a2, b2 and c2 would result in sending a1+b1+c1+b2+c2 (a2 is not sent) while the confirmation box before sending the payment shows a2+b2+c2 (as would be expected to be sent).\r\n\r\nI believe unsigned payment requests should not be enabled until this is fixed since there's too much risk of sending more bitcoins than expected.",
      "created_at" : "2013-10-15T14:00:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2936#issuecomment-26336291",
      "id" : 26336291,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2936",
      "updated_at" : "2013-10-15T14:00:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26336291",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5691713?v=3",
         "events_url" : "https://api.github.com/users/jherrerob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jherrerob/followers",
         "following_url" : "https://api.github.com/users/jherrerob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jherrerob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jherrerob",
         "id" : 5691713,
         "login" : "jherrerob",
         "organizations_url" : "https://api.github.com/users/jherrerob/orgs",
         "received_events_url" : "https://api.github.com/users/jherrerob/received_events",
         "repos_url" : "https://api.github.com/users/jherrerob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jherrerob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jherrerob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jherrerob"
      }
   },
   {
      "body" : "@jherrerob Is that behaviour with current master? I introduced some small changes and fixes in that area over the past days and more pull-requests are open that are related to payment-requests in general.",
      "created_at" : "2013-10-15T16:36:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2936#issuecomment-26350766",
      "id" : 26350766,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2936",
      "updated_at" : "2013-10-15T16:36:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26350766",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "The version I'm using I would say it's less than 2 weeks old.\r\n\r\nBitcoin-QT shows this version: v0.8.2-469-gacb3ebc-beta\r\n\r\nAnd git log -1 returns this:\r\n\r\ncommit acb3ebc45506701fdb7e060d8b941a5ba6a1b5ac\r\nMerge: d922c85 bf3a20a\r\nAuthor: Gavin Andresen <gavinandresen@gmail.com>\r\nDate:   Thu Oct 3 22:52:38 2013 -0700\r\n\r\n    Merge pull request #2947 from gmaxwell/theyre_maturing_faster_these_days\r\n\r\n    [wallet] Consider generated coins mature at COINBASE_MATURITY+1\r\n\r\n\r\nI can update and retest if you you believe it's already fixed.\r\n\r\n",
      "created_at" : "2013-10-15T16:46:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2936#issuecomment-26351571",
      "id" : 26351571,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2936",
      "updated_at" : "2013-10-15T16:46:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26351571",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5691713?v=3",
         "events_url" : "https://api.github.com/users/jherrerob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jherrerob/followers",
         "following_url" : "https://api.github.com/users/jherrerob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jherrerob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jherrerob",
         "id" : 5691713,
         "login" : "jherrerob",
         "organizations_url" : "https://api.github.com/users/jherrerob/orgs",
         "received_events_url" : "https://api.github.com/users/jherrerob/received_events",
         "repos_url" : "https://api.github.com/users/jherrerob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jherrerob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jherrerob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jherrerob"
      }
   },
   {
      "body" : "I'm not sure it's fixed, just wanted to be sure...",
      "created_at" : "2013-10-15T16:50:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2936#issuecomment-26351827",
      "id" : 26351827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2936",
      "updated_at" : "2013-10-15T16:50:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26351827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@gavinandresen I need your help to investigate the reported problems.\r\n\r\nConsider an insecure payment-request, this is a request, which doesn't contain an auth-merchant, right? It is otherwiese a normal payment-request, which can contain multiple send-to-addresses, right?\r\n\r\nCurrently GUI code differentiates between secure and insecure payment-requests, the insecure ones generate one sendcoinsentry for each send-to-address (displayed in the GUI), while secure ones don't do this (one entry and no addresses displayed in the sendcoins dialog).\r\n\r\nNow consider an insecure payment-request with 3 send-to-addresses (A, B and C). Current code attaches the payment-request to the first displayed entry (only showing address A), while still adding 2 entries for the other addresses (B and C).\r\n\r\nWhat does this result in? Payments to address A, B and C via the payment-request embedded in GUI entry 1 and payments to B and C via the separate GUI entries!\r\n\r\nSeems like a heavy bug IMHO?",
      "created_at" : "2013-10-15T17:20:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2936#issuecomment-26354216",
      "id" : 26354216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2936",
      "updated_at" : "2013-10-15T17:20:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26354216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@Diapolo:\r\n\r\nAs I said, I think payment requests need a GUI redesign-- I don't think wedging them into the \"one sendcoinsentry per destination address\" works.\r\n\r\nThe design should drive the coding, not the other way around. \"We\" need to figure out the correct user experience; perhaps payment requests shouldn't even appear in the Send tab, but should be their own dialog boxes. As I said, I'm a terrible UI designer, so I hope @laanwj or somebody else will chime in with an opinion.\r\n",
      "created_at" : "2013-10-15T23:57:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2936#issuecomment-26382900",
      "id" : 26382900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2936",
      "updated_at" : "2013-10-15T23:57:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26382900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "To be honest I think it was an excellent idea to make payment requests appear on the send tab. This keeps sending in one place, which is safe and recognizable.\r\n\r\nBut IMO it should always be one sendcoins entry per payment request, even for non-signed/secure one, so that they can be removed in one go. That entry should show the total amount sent so that there is no confusion in how much is sent. The background color could be used to distinguish signed and non-signed ones. It should not be editable in either case.\r\n\r\nIt usually doesn't really matter for the user to which address(es) which amount is sent, although it'd be useful to be able to expand it and/or show details for those curious.",
      "created_at" : "2013-10-16T06:18:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2936#issuecomment-26395214",
      "id" : 26395214,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2936",
      "updated_at" : "2013-10-16T06:25:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26395214",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj What you propose shouldn't be that hard (except some detailed display), I can take a look in the next days, as I'm quite im that part of the code now. But if you are already working on that area too, I'm waiting for your input. Can you take a look at the other related pulls and merge the small ones, so I have an up-to-date branch I can start working with :)?",
      "created_at" : "2013-10-16T06:26:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2936#issuecomment-26395455",
      "id" : 26395455,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2936",
      "updated_at" : "2013-10-16T06:26:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26395455",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "@diapolo, yes I'll take another look\r\n\r\nAs for the interaction with the address book, I agree there should be as little as possible. And we should really get rid of the address book as it is and change it to \"historical addresses\". But that's a different topic (#2429).\r\n\r\nAlso we need to introduce per-transaction messages somehow (I think this is already supported in the core?). This would allow showing what the payment request was about in the \"Transactions\" tab instead of abusing the label for that.\r\n",
      "created_at" : "2013-10-16T06:30:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2936#issuecomment-26395567",
      "id" : 26395567,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2936",
      "updated_at" : "2013-10-16T06:30:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26395567",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I'm working on a fix currently, which fixes wrong amounts for insecure payment requests and also allows insecure requests to be able to expire and much more...",
      "created_at" : "2013-10-20T02:05:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/2936#issuecomment-26663165",
      "id" : 26663165,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/2936",
      "updated_at" : "2013-10-20T02:05:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/26663165",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   }
]
