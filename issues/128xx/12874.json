{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "OWNER",
   "body" : "Currently our wallet code will treat bare multisig outputs (meaning scriptPubKeys with multiple public keys + `OP_CHECKMULTISIG` operator in it) as ours without the user asking for it, as long as all public keys in it are ours.\r\n\r\nThese are:\r\n* hard to test (as there is no explicit address format for them)\r\n* expensive to spend (need multiple signatures)\r\n* wasteful (require more space in the UTXO set than P2PKH/P2SH/P2WPK/P2WSH)\r\n* generally pointless (you won't use multisig just for public keys that are all in the same wallet)\r\n\r\nFurthermore, they are problematic in that means that producing a list of all `scriptPubKeys` we accept is not tractable (it involves all combinations of all public keys that are ours). In further wallet changes I'd like to move to a model where all scriptPubKeys that are treated as ours are explicit, rather than defined by whatever keys we have. The current behavior of the wallet is very hard to model in such a design, so I'd like to get rid of it.\r\n\r\nI think there are two options:\r\n* Remove it entirely (do not ever accept bare multisig outputs as ours)\r\n* Only accept bare multisig outputs in situations where the P2SH version of that output would also be acceptable\r\n\r\nThis PR implements the second, though I'm open to discussing the first option.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 3,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12874/comments",
   "created_at" : "2018-04-03T22:40:44Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12874/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/12874",
   "id" : 311023221,
   "labels" : [
      {
         "color" : "08a781",
         "default" : false,
         "id" : 149424,
         "name" : "Wallet",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Wallet"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12874/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 12874,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/12874.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/12874",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/12874.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/12874"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Only accept bare multisig outputs after addmultisigaddress",
   "updated_at" : "2018-04-08T14:09:45Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/12874",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
      "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
      "followers_url" : "https://api.github.com/users/sipa/followers",
      "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/sipa",
      "id" : 548488,
      "login" : "sipa",
      "organizations_url" : "https://api.github.com/users/sipa/orgs",
      "received_events_url" : "https://api.github.com/users/sipa/received_events",
      "repos_url" : "https://api.github.com/users/sipa/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/sipa"
   }
}
