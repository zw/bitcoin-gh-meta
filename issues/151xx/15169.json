{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "(Marking WIP, as this builds on #15141, which needs to be reviewed first).\r\n\r\nThis PR takes advantage of our script check threads (used for block validation) in order to speed up validation of transactions that have a large number of non-segwit inputs.\r\n\r\nThe motivation is to minimize the amount of time we might spend validating a single transaction.  I think there are several approaches we could take to mitigate this concern, but this approach seemed straightforward to implement, and would be easy to revert if we later opted for a different solution (such as parallelizing our message handler or dropping transactions into some sort of queue for background processing).\r\n\r\nThis PR does introduce some behavior changes:\r\n- we would no longer ban peers for transactions with invalid scripts (however, the status quo behavior is spotty and inconsistent in how it bans anyway, since the mandatory consensus flags set is years old and we stop at the first script execution error)\r\n- we could relay transactions from a whitelisted peer that would cause us to be banned by an older peer\r\n\r\nI'll update this PR with some benchmarks.  In particular, I have only done a small amount of work thus far to justify the choice of 15 inputs as the threshold at which to switch to parallel validation.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 6,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15169/comments",
   "created_at" : "2019-01-15T03:01:34Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15169/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/15169",
   "id" : 399168431,
   "labels" : [
      {
         "color" : "6060aa",
         "default" : false,
         "id" : 118379652,
         "name" : "Validation",
         "node_id" : "MDU6TGFiZWwxMTgzNzk2NTI=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Validation"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15169/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDExOlB1bGxSZXF1ZXN0MjQ0NjYwMjcw",
   "number" : 15169,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/15169.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/15169",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/15169.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/15169"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "WIP: Parallelize CheckInputs() in AcceptToMemoryPool()",
   "updated_at" : "2019-01-16T01:38:59Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/15169",
   "user" : {
      "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
      "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
      "followers_url" : "https://api.github.com/users/sdaftuar/followers",
      "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/sdaftuar",
      "id" : 7463573,
      "login" : "sdaftuar",
      "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
      "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
      "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
      "repos_url" : "https://api.github.com/users/sdaftuar/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/sdaftuar"
   }
}
