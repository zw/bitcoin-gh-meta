[
   {
      "body" : "as per @laanwj comment https://github.com/bitcoin/bitcoin/pull/6162#issuecomment-149182235",
      "created_at" : "2015-10-19T12:27:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149199969",
      "id" : 149199969,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6853",
      "updated_at" : "2015-10-19T12:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149199969",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2015-10-19T13:23:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149211948",
      "id" : 149211948,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6853",
      "updated_at" : "2015-10-19T13:23:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149211948",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "utACK",
      "created_at" : "2015-10-19T13:49:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149218522",
      "id" : 149218522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6853",
      "updated_at" : "2015-10-19T13:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149218522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "I personally think this is a bad idea as it is a slippery slope.  One of the main purposes of regtest is to test that the consensus code works as expected.  As mentioned in #6162, there is currently no test coverage which exercises the retarget code and is why commit df9eb5e, which introduced the retargetting bug, ended up making it to master.  In my opinion, providing a flag to work around a bug that was introduced instead of fixing the bug is a mistake.\r\n\r\nWhat is the point of having a regression test network if you aren't really testing the behavior of the code executed on mainnet due to adding special case branches?  With this commit, it will be possible to introduce a subtle consensus breaking change to mainnet for retargets that the tests will not be able to detect.",
      "created_at" : "2015-10-19T13:51:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149219109",
      "id" : 149219109,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6853",
      "updated_at" : "2015-10-19T14:07:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149219109",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2115102?v=3",
         "events_url" : "https://api.github.com/users/davecgh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davecgh/followers",
         "following_url" : "https://api.github.com/users/davecgh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davecgh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davecgh",
         "id" : 2115102,
         "login" : "davecgh",
         "organizations_url" : "https://api.github.com/users/davecgh/orgs",
         "received_events_url" : "https://api.github.com/users/davecgh/received_events",
         "repos_url" : "https://api.github.com/users/davecgh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davecgh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davecgh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davecgh"
      }
   },
   {
      "body" : "I agree we need tests for retargeting - but there are a bunch of regtest use cases that test critical things entirely orthogonal to retargeting that cannot really be tested without disabling it (i.e. #6816). I would suggest adding an option to turn this on or off...or to have another regtest chain that does not disable it.",
      "created_at" : "2015-10-19T13:57:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149220396",
      "id" : 149220396,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6853",
      "updated_at" : "2015-10-19T13:57:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149220396",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/894059?v=3",
         "events_url" : "https://api.github.com/users/CodeShark/events{/privacy}",
         "followers_url" : "https://api.github.com/users/CodeShark/followers",
         "following_url" : "https://api.github.com/users/CodeShark/following{/other_user}",
         "gists_url" : "https://api.github.com/users/CodeShark/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/CodeShark",
         "id" : 894059,
         "login" : "CodeShark",
         "organizations_url" : "https://api.github.com/users/CodeShark/orgs",
         "received_events_url" : "https://api.github.com/users/CodeShark/received_events",
         "repos_url" : "https://api.github.com/users/CodeShark/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/CodeShark/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/CodeShark"
      }
   },
   {
      "body" : "@davecgh I fully agree that it's suboptimal that regtest would end up not testing mainnet's retargetting code. But regtest is not the only means through which the consensus rules are tested or exercised, and it's certainly easier to use it to test many other things this way. The alternative you suggest is changing the code that the network is already running on just to be able to test it, which IMHO unnecessarily throws away the trust in that code",
      "created_at" : "2015-10-19T14:06:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149222936",
      "id" : 149222936,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6853",
      "updated_at" : "2015-10-19T14:07:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149222936",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "For me, and quite a few other users that are using regtest, the idea that regtest has retargeting at all was completely unexpected. In my mind, and how it has been always advertised, `regtest = easy block generation`. And I closed #6162 because I don't find it acceptable to change consensus code just to accommodate regtest.\r\n\r\nBut absolutely - the retargeting code needs to be tested, but there are other ways.\r\n",
      "created_at" : "2015-10-19T14:13:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149225066",
      "id" : 149225066,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6853",
      "updated_at" : "2015-10-19T14:13:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149225066",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Concept ACK from me-- in my experience writing regression tests, the\ndefault should be no retargeting; unless you are specifically testing\nretargeting, it just gets in the way and you're forced to use hack-y\nworkarounds like calling setmocktime/generateblock to create a chain with\ntimestamps that don't retarget.\n",
      "created_at" : "2015-10-19T14:15:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149225574",
      "id" : 149225574,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6853",
      "updated_at" : "2015-10-19T14:15:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149225574",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "For what it's worth, I'm not only advocating for fixing the bug simply so the regression tests can exercise it although obviously testing the retarget code is certainly an extremely important factor and one it seems everybody agrees should be done, albeit perhaps through a different means.\r\n\r\nWe have an application (outside of tests) that uses the retarget capabilities of regtest in order to test it works properly across retarget boundaries (not of Bitcoin Core, the application itself).  This is what drove the original issue to begin with since Bitcoin Core simply no longer handles retargets properly on regtest.  We currently use simnet in btcd for this since it works properly across retargets, however we also wanted to be be able to test it against Bitcoin Core.\r\n\r\nSo, as you can see, this creates a situation where 3rd-party software can't properly be tested across retarget intervals on the regression test network with Bitcoin Core.  Also, with this PR, this would now be a regtest option that when set to default disables all retargeting so it doesn't match mainnet, and when enabled causes a broken retarget because the overflow is still not fixed.\r\n",
      "created_at" : "2015-10-19T14:55:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149239239",
      "id" : 149239239,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6853",
      "updated_at" : "2015-10-19T14:57:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149239239",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2115102?v=3",
         "events_url" : "https://api.github.com/users/davecgh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davecgh/followers",
         "following_url" : "https://api.github.com/users/davecgh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davecgh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davecgh",
         "id" : 2115102,
         "login" : "davecgh",
         "organizations_url" : "https://api.github.com/users/davecgh/orgs",
         "received_events_url" : "https://api.github.com/users/davecgh/received_events",
         "repos_url" : "https://api.github.com/users/davecgh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davecgh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davecgh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davecgh"
      }
   },
   {
      "body" : "utACK ",
      "created_at" : "2015-10-19T14:59:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6853#issuecomment-149240300",
      "id" : 149240300,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6853",
      "updated_at" : "2015-10-19T14:59:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149240300",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   }
]
