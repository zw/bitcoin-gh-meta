[
   {
      "body" : "Yes, I agree on the versioning. It would be good to mark the old API as deprecated and we can eventually remove it several releases later.",
      "created_at" : "2015-10-19T16:50:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6855#issuecomment-149278146",
      "id" : 149278146,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6855",
      "updated_at" : "2015-10-19T16:50:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149278146",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2015-10-20T07:34:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6855#issuecomment-149463204",
      "id" : 149463204,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6855",
      "updated_at" : "2015-10-20T07:34:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149463204",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "utACK/Concept ACK [if the REST interface is to continue being part of core]\r\nIt seems more and more out of scope though.",
      "created_at" : "2015-10-20T09:08:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6855#issuecomment-149486440",
      "id" : 149486440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6855",
      "updated_at" : "2015-10-20T09:08:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149486440",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "Concept ACK.\r\n\r\n> utACK/Concept ACK [if the REST interface is to continue being part of core]\r\nIt seems more and more out of scope though.\r\n\r\nYes, I definitely think REST should move out of core, and be a wrapper that accesses core through RPC. This is increasingly out of scope.\r\n",
      "created_at" : "2015-10-20T10:13:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6855#issuecomment-149510599",
      "id" : 149510599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6855",
      "updated_at" : "2015-10-20T10:13:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149510599",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "The discussion regarding REST being in core or not was already back then in the initial PR: https://github.com/bitcoin/bitcoin/pull/2844\r\n\r\nQuoting @jgarzik (https://github.com/bitcoin/bitcoin/pull/2844#issuecomment-22459961):\r\n> * Dramatically easier interface for developers and general queries\r\n* Out of the box SSL support, already built into bitcoind\r\n* This pull adds functionality not available via RPC (there is no getrawblock) -- thus the btchttp.py example does not provide what this pull request provides.\r\n* Wider selection of command line tools work out of the box with HTTP REST, versus JSON-RPC\r\n* Nobody will write their own proxy to accomplish this\r\n* A contributed proxy, shipped with bitcoind, might be used -- but it is obviously a fragile, two-process unsupported solution\r\n\r\nI don't think anything changed regarding this.\r\n\r\nBut anyway, if this is what people want there should be a separate Github issue to discuss. (EDIT: or this one https://github.com/bitcoin/bitcoin/issues/3440)\r\n\r\nI think the versioning is needed, independent of REST being part of Core or not. And it's probably less controversial.",
      "created_at" : "2015-10-20T11:20:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6855#issuecomment-149531407",
      "id" : 149531407,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6855",
      "updated_at" : "2015-10-20T11:26:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149531407",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1846033?v=3",
         "events_url" : "https://api.github.com/users/lclc/events{/privacy}",
         "followers_url" : "https://api.github.com/users/lclc/followers",
         "following_url" : "https://api.github.com/users/lclc/following{/other_user}",
         "gists_url" : "https://api.github.com/users/lclc/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/lclc",
         "id" : 1846033,
         "login" : "lclc",
         "organizations_url" : "https://api.github.com/users/lclc/orgs",
         "received_events_url" : "https://api.github.com/users/lclc/received_events",
         "repos_url" : "https://api.github.com/users/lclc/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/lclc/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/lclc/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/lclc"
      }
   },
   {
      "body" : "> [...] I definitely think REST should move out of core [...]\r\n\r\nAgree with @laanwj.\r\n\r\n> [...] and be a wrapper that accesses core through RPC. This is increasingly out of scope.\r\n\r\nDisagree to use RPC. Current RPC implementation is inefficiency. If we tend going towards the \"wrapper-approach\" and supporting one core interface, we should use something more efficient like ZMQ/TCP (with package transmission guarantee). We currently follow the JSON RPC 2.0 standard which is inefficient for some bitcoin datastructures (blocks, large transactions).\r\n\r\nSupporting a core access (bidirectional) over ZMQ would also allow to split off the RPC server (which \r\nwould also be a nice step regarding process separation).",
      "created_at" : "2015-10-20T11:37:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6855#issuecomment-149534519",
      "id" : 149534519,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6855",
      "updated_at" : "2015-10-20T11:37:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149534519",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli I think the end result is that there should only be 1 communication channel (other than the network protocol itself) to communicate with bitcoind.\r\nA REST interface would at least have clear semantics and easy plug and play, but its existence along with the RPC server *as well* is IMHO out of scope.\r\n\r\n",
      "created_at" : "2015-10-20T11:39:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6855#issuecomment-149535160",
      "id" : 149535160,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6855",
      "updated_at" : "2015-10-20T11:41:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149535160",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : "@dcousens Agree. Currently we support three protocol: ZMQ, JSON RPC, REST. I personally tend to support the most core-ish one, which would be ZMQ. But I think the JSON RPC server is fundamental for the current bitcoin-core user-base. Splitting off the server would therefore be relatively hard to achieve.",
      "created_at" : "2015-10-20T11:45:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6855#issuecomment-149536306",
      "id" : 149536306,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6855",
      "updated_at" : "2015-10-20T11:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149536306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "IMHO,  REST > RPC > ZMQ.  Simply because the amount of dependencies (and therefore, underlying code) required grows with each interface:\r\n* REST - HTTP\r\n* RPC - HTTP, RPC protocol\r\n* ZMQ - native ZMQ bindings\r\n\r\nAs mentioned, the RPC interface is also inefficient due to its reliance on using JSON solely,  whereas a REST interface could support whatever is needed.\r\nIMHO it should be binary only (discourages public usage).",
      "created_at" : "2015-10-20T11:56:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6855#issuecomment-149539857",
      "id" : 149539857,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6855",
      "updated_at" : "2015-10-20T11:56:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149539857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "body" : ">   Disagree to use RPC. Current RPC implementation is inefficiency. If we tend going towards the \"wrapper-approach\" and supporting one core interface, we should use something more efficient like ZMQ/TCP (with package transmission guarantee). \r\n\r\nThis discussion is tangential, but you're confounding a few things:\r\n- IP network protocol (TCP, UDP)\r\n- Transport protocol (HTTP, ZMQ)\r\n- Request protocol (JSON)\r\n\r\nIMO, JSON over HTTP would be what to use here, it's entrenched and works pretty well. I don't like using ZMQ for anything but notifications. \r\n\r\nCurrent RPC overhead is virtually all caused by application-level issues (such as all-encompassing locking), not the protocol. Switching to a different protocol (at any level) would not change that. Performance also *should* have improved now that we no longer use boost::spirit_json. libevent http server should be very fast too.\r\n\r\nFor blocks, because of the amount of data, I agree that the JSON encoding overhead matters. We could think about some alternative path for requesting those from core (e.g. keeping a REST-like stub). Apart from that there is, AFAIK, nothing that returns a lot of data.\r\n\r\n",
      "created_at" : "2015-10-20T12:00:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/6855#issuecomment-149541752",
      "id" : 149541752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/6855",
      "updated_at" : "2015-10-20T12:00:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/149541752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
