[
   {
      "author_association" : "MEMBER",
      "body" : "Large wallets (those with many transactions or addresses) can take a long time to load. If your wallet is large, it may simply be that the wallet is taking a long time to load rather than there being a failure.\r\n\r\nIf you simply let it go on, does it ever complete, and if so, about how long did that take?",
      "created_at" : "2024-03-01T18:05:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29525#issuecomment-1973656487",
      "id" : 1973656487,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29525",
      "node_id" : "IC_kwDOABII5851o5un",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1973656487/reactions"
      },
      "updated_at" : "2024-03-01T18:05:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1973656487",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Large wallets (those with many transactions or addresses) can take a long time to load. If your wallet is large, it may simply be that the wallet is taking a long time to load rather than there being a failure.\r\n> \r\n> If you simply let it go on, does it ever complete, and if so, about how long did that take?\r\n\r\nHere is an updated after leaving it running, it took nearly 3 hours to get this error message:\r\n![Screenshot 2024-03-01 at 19 26 50](https://github.com/bitcoin/bitcoin/assets/19202935/e3d8903c-7511-4721-9319-426025ffe3fd)\r\n\r\nI know for a fact that I only have a handful of transactions on this wallet so I suspect that would be the reason.",
      "created_at" : "2024-03-01T19:29:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29525#issuecomment-1973792007",
      "id" : 1973792007,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29525",
      "node_id" : "IC_kwDOABII5851pa0H",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1973792007/reactions"
      },
      "updated_at" : "2024-03-01T19:31:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1973792007",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19202935?v=4",
         "events_url" : "https://api.github.com/users/EazyServer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EazyServer/followers",
         "following_url" : "https://api.github.com/users/EazyServer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EazyServer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EazyServer",
         "id" : 19202935,
         "login" : "EazyServer",
         "node_id" : "MDQ6VXNlcjE5MjAyOTM1",
         "organizations_url" : "https://api.github.com/users/EazyServer/orgs",
         "received_events_url" : "https://api.github.com/users/EazyServer/received_events",
         "repos_url" : "https://api.github.com/users/EazyServer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EazyServer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EazyServer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EazyServer"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ah, so the long loading time would be because it is rescanning, although the failed rescan is a bit odd. Can you post the contents of your debug.log file? There should be log lines about laoding and rescanning the wallet, including some mention of why it failed.",
      "created_at" : "2024-03-01T20:14:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29525#issuecomment-1973847171",
      "id" : 1973847171,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29525",
      "node_id" : "IC_kwDOABII5851poSD",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1973847171/reactions"
      },
      "updated_at" : "2024-03-01T20:14:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1973847171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "After the fail loadwallet yesterday I shutdown the machine, I turned it on today and that wallet loaded in about 40 secs.\r\nI have another wallet \"exploere2\" and that took another 3 hours to load same as yesterday. and it also take about 30 - 40 secs to load! \r\nwhy is it still taking a long time (30 sec) to load after the rescan? it used to be instant 8 months ago!\r\n\r\nhere is a screen grab of the log, which doesn't match the error on the console!\r\n\r\n![Screenshot 2024-03-02 at 14 01 09](https://github.com/bitcoin/bitcoin/assets/19202935/3676590e-b5dc-4dcd-a729-976aeb74ec35)\r\n",
      "created_at" : "2024-03-02T22:17:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29525#issuecomment-1974923505",
      "id" : 1974923505,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29525",
      "node_id" : "IC_kwDOABII5851tvDx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1974923505/reactions"
      },
      "updated_at" : "2024-03-02T22:17:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1974923505",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19202935?v=4",
         "events_url" : "https://api.github.com/users/EazyServer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EazyServer/followers",
         "following_url" : "https://api.github.com/users/EazyServer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EazyServer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EazyServer",
         "id" : 19202935,
         "login" : "EazyServer",
         "node_id" : "MDQ6VXNlcjE5MjAyOTM1",
         "organizations_url" : "https://api.github.com/users/EazyServer/orgs",
         "received_events_url" : "https://api.github.com/users/EazyServer/received_events",
         "repos_url" : "https://api.github.com/users/EazyServer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EazyServer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EazyServer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EazyServer"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What I can infer from the few logging lines you shared is that your wallet scanned 1637 blocks in a minute. Which means that the process should have started 283.201 blocks behind the tip. Can you please provide the entire rescan logs to confirm this information? (search for where it says \"Rescan started from block xxx\").\r\nAlso, can you share your hardware information please.\r\n\r\n> why is it still taking a long time (30 sec) to load after the rescan? it used to be instant 8 months ago!\r\n\r\nThe wallet stores the last scanned block. The loading procedure triggers a chain scan when it detects that it is behind the chain tip. The reason it takes 30 seconds after the initial loading is because your wallet is up-to-date with the tip now.",
      "created_at" : "2024-03-02T22:44:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29525#issuecomment-1974930034",
      "id" : 1974930034,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29525",
      "node_id" : "IC_kwDOABII5851twpy",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1974930034/reactions"
      },
      "updated_at" : "2024-03-02T22:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1974930034",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Another question, were you actively using any RPC command when this happened?. Something that could explain the delay is a heavy usage of RPC commands that locks the node's main mutex.",
      "created_at" : "2024-03-02T22:53:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29525#issuecomment-1974931679",
      "id" : 1974931679,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29525",
      "node_id" : "IC_kwDOABII5851txDf",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1974931679/reactions"
      },
      "updated_at" : "2024-03-02T22:53:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1974931679",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "That's the start of the log and there are about 500 lines of logs related to this wallet, mixed with other log entries..\r\n\r\n![Screenshot 2024-03-03 at 14 11 06](https://github.com/bitcoin/bitcoin/assets/19202935/09573917-485a-4d42-a563-8e8bf92cbe98)\r\n\r\nHere is somewhere while still scanning:\r\n![Screenshot 2024-03-03 at 14 13 54](https://github.com/bitcoin/bitcoin/assets/19202935/7876d446-2262-4954-a8ef-4c296c31256d)\r\nAnd I already shared the end of the log for this wallet.\r\n\r\nMy node is not RPC heavy at all (a standard bitcoin node)\r\n\r\nLooking at the logs and your guys comments I now I understand the reason why it took ages, but it would be great to show some of these logs in the console or at least use a `--verbose` flag.\r\nIf I see this in the console `Rescanning last 542872 blocks (from block 289831)` I would understand that there is a scanning in progress and it may take a while to load. I didn't know that wallets need scanning before this ð\r\n\r\nAlso, it just caught my eye the rescanning starting from block 289831! I know for a fact that I was at least at block 700000, 8 months ago! what's the reason staring further beyond block 700000?\r\n\r\nHW info from Proxmos:\r\n![Screenshot 2024-03-03 at 14 28 19](https://github.com/bitcoin/bitcoin/assets/19202935/24f7b64c-ef21-44b8-8b6d-67239b871585)\r\n\r\n\r\n",
      "created_at" : "2024-03-03T14:42:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29525#issuecomment-1975185115",
      "id" : 1975185115,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29525",
      "node_id" : "IC_kwDOABII5851uu7b",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1975185115/reactions"
      },
      "updated_at" : "2024-03-03T14:44:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1975185115",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19202935?v=4",
         "events_url" : "https://api.github.com/users/EazyServer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EazyServer/followers",
         "following_url" : "https://api.github.com/users/EazyServer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EazyServer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EazyServer",
         "id" : 19202935,
         "login" : "EazyServer",
         "node_id" : "MDQ6VXNlcjE5MjAyOTM1",
         "organizations_url" : "https://api.github.com/users/EazyServer/orgs",
         "received_events_url" : "https://api.github.com/users/EazyServer/received_events",
         "repos_url" : "https://api.github.com/users/EazyServer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EazyServer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EazyServer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EazyServer"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> it would be great to show some of these logs in the console or at least use a --verbose flag.\r\n\r\n`--verbose` is for the RPC command output information. Are you asking for partial updates while the RPC command is being executed?. Because that would break the http server specs; one request must receive a single response. Also, any console output would appear at the server console and not at the client one.\r\n\r\nSomething we could theoretically do is return early, with more info, by making the `loadwallet` inner rescan procedure async but this has the drawback of a possible \"silent\" wallet unload when the initial rescan fail.",
      "created_at" : "2024-03-04T03:29:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29525#issuecomment-1975629518",
      "id" : 1975629518,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29525",
      "node_id" : "IC_kwDOABII5851wbbO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1975629518/reactions"
      },
      "updated_at" : "2024-03-04T03:29:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1975629518",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Yes it would be great to get partial updates while doing `loadwallet` as this potentially time consuming process.\r\nEven if it says `Executing... Rescanning last X blocks (from block Y)` instead of a not very informative `Executing...` prompt.\r\n\r\nThanks for all the help anyways ð\r\n",
      "created_at" : "2024-03-05T12:39:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/29525#issuecomment-1978686065",
      "id" : 1978686065,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/29525",
      "node_id" : "IC_kwDOABII58518Fpx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978686065/reactions"
      },
      "updated_at" : "2024-03-05T12:39:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1978686065",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19202935?v=4",
         "events_url" : "https://api.github.com/users/EazyServer/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EazyServer/followers",
         "following_url" : "https://api.github.com/users/EazyServer/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EazyServer/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EazyServer",
         "id" : 19202935,
         "login" : "EazyServer",
         "node_id" : "MDQ6VXNlcjE5MjAyOTM1",
         "organizations_url" : "https://api.github.com/users/EazyServer/orgs",
         "received_events_url" : "https://api.github.com/users/EazyServer/received_events",
         "repos_url" : "https://api.github.com/users/EazyServer/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EazyServer/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EazyServer/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EazyServer"
      }
   }
]
