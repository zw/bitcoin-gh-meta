[
   {
      "body" : "I don't see a limitation here. Are you asking for the 4 commands (create, fund, sign, send) to be done in one command? (to save, say bandwidth space?)\r\n\r\nI also don't understand what sendmany has to do with the raw transaction? I think sendmany and sendrawtransation both request the same input which is [ {\"address\":amount}, ... ] ",
      "created_at" : "2017-06-16T04:58:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10332#issuecomment-308933363",
      "id" : 308933363,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10332",
      "updated_at" : "2017-06-16T04:58:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308933363",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7291705?v=3",
         "events_url" : "https://api.github.com/users/blkmaarx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/blkmaarx/followers",
         "following_url" : "https://api.github.com/users/blkmaarx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/blkmaarx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/blkmaarx",
         "id" : 7291705,
         "login" : "blkmaarx",
         "organizations_url" : "https://api.github.com/users/blkmaarx/orgs",
         "received_events_url" : "https://api.github.com/users/blkmaarx/received_events",
         "repos_url" : "https://api.github.com/users/blkmaarx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/blkmaarx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/blkmaarx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/blkmaarx"
      }
   },
   {
      "body" : "> I don't see a limitation here. Are you asking for the 4 commands (create, fund, sign, send) to be done in one command? (to save, say bandwidth space?)\r\n\r\nNo, it's not about using fewer rpc calls, but about creating it's about a better and more general purpose sending API. The current one has significant enough limitations for advanced use cases that I've actually found it easier as a client to use a bitcoin library to create the transaction and then pass it to bitcoin core to sign. \r\n\r\nA simple example is that when you're batching sends, you might not want to send to the same address multiple times. Or maybe you want to use a particular input  (e.g. when issuing someone a refund/withdrawal, you want to make sure if their initial payment failed to confirm their refund would also do so)\r\n",
      "created_at" : "2017-06-16T05:15:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10332#issuecomment-308935167",
      "id" : 308935167,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10332",
      "updated_at" : "2017-06-16T05:16:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308935167",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "body" : "But wouldn't you check for address duplicates (in your batch payment) before you send it to the bitcoin client? It seems perhaps not the purpose of the bitcoin software to deal with that?\r\n\r\nAnd if you want to use a particular input, would this one not do the trick:\r\ncreaterawtransaction [{ \"txid\":\"input_txhash\",\"vout\":input_n }] {\"refund_address\": refund_amount}\r\n\r\n(e.g. you can keep fundrawtransaction out of the equation completely for that?)",
      "created_at" : "2017-06-16T05:22:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10332#issuecomment-308935876",
      "id" : 308935876,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10332",
      "updated_at" : "2017-06-16T05:22:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308935876",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/7291705?v=3",
         "events_url" : "https://api.github.com/users/blkmaarx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/blkmaarx/followers",
         "following_url" : "https://api.github.com/users/blkmaarx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/blkmaarx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/blkmaarx",
         "id" : 7291705,
         "login" : "blkmaarx",
         "organizations_url" : "https://api.github.com/users/blkmaarx/orgs",
         "received_events_url" : "https://api.github.com/users/blkmaarx/received_events",
         "repos_url" : "https://api.github.com/users/blkmaarx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/blkmaarx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/blkmaarx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/blkmaarx"
      }
   },
   {
      "body" : "> It seems perhaps not the purpose of the bitcoin software to deal with that?\r\n\r\nI think this is getting a bit off-topic, but there's no particular reason that the RPC API should restrict you from sending funds to the same address multiple times. There's a few legitimate use cases for it, and it can also drastically simplify the clients logic (i.e. can assume a unique txid:vout for each queued send).\r\n\r\n> And if you want to use a particular input, would this one not do the trick:\r\n> createrawtransaction [{ \"txid\":\"input_txhash\",\"vout\":input_n }] {\"refund_address\": refund_amount}\r\n\r\nNot really, that has a few problems. For one, all those inputs would have a sequence of 0, which would make your transactions more recognizable. Then you still need to deal with cases like adding change address and sourcing additional inputs if needed (i.e. all the stuff fundrawtransaction does). And then you need to figure out how much fees to apply (which changes based on the size of the transaction.\r\n\r\nAnd then by the time you've solved all those problems, you'd probably just wish there was a generalized api call for it... ;D\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
      "created_at" : "2017-06-16T05:44:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10332#issuecomment-308938596",
      "id" : 308938596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10332",
      "updated_at" : "2017-06-16T05:44:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/308938596",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/9326759?v=3",
         "events_url" : "https://api.github.com/users/RHavar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/RHavar/followers",
         "following_url" : "https://api.github.com/users/RHavar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/RHavar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/RHavar",
         "id" : 9326759,
         "login" : "RHavar",
         "organizations_url" : "https://api.github.com/users/RHavar/orgs",
         "received_events_url" : "https://api.github.com/users/RHavar/received_events",
         "repos_url" : "https://api.github.com/users/RHavar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/RHavar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/RHavar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/RHavar"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Pull request welcome, but I don't think it makes sense to keep the feature request open.\r\n\r\nAlso note it is possible to specify sequence numbers: #7957",
      "created_at" : "2018-03-23T21:32:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10332#issuecomment-375804166",
      "id" : 375804166,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10332",
      "updated_at" : "2018-03-23T21:32:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375804166",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   }
]
