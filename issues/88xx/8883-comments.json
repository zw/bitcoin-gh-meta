[
   {
      "body" : "Windows builds are failing:\r\n```\r\nmake[2]: Entering directory `/home/travis/build/bitcoin/bitcoin/build/src'\r\n  CXX      bitcoin_tx-bitcoin-tx.o\r\n../../src/bitcoin-tx.cpp: In function Ã¢ÂÂvoid MutateTxAddOutMultiSig(CMutableTransaction&, const string&)Ã¢ÂÂ:\r\n../../src/bitcoin-tx.cpp:309:5: error: Ã¢ÂÂuintÃ¢ÂÂ was not declared in this scope\r\n     uint required = std::stoul(vStrInputParts[1]);\r\n     ^\r\n../../src/bitcoin-tx.cpp:309:10: error: expected Ã¢ÂÂ;Ã¢ÂÂ before Ã¢ÂÂrequiredÃ¢ÂÂ\r\n     uint required = std::stoul(vStrInputParts[1]);\r\n          ^\r\n../../src/bitcoin-tx.cpp:312:10: error: expected Ã¢ÂÂ;Ã¢ÂÂ before Ã¢ÂÂnumkeysÃ¢ÂÂ\r\n     uint numkeys = std::stoul(vStrInputParts[2]);\r\n          ^\r\n../../src/bitcoin-tx.cpp:315:33: error: Ã¢ÂÂnumkeysÃ¢ÂÂ was not declared in this scope\r\n     if (vStrInputParts.size() < numkeys + 3)\r\n                                 ^\r\n../../src/bitcoin-tx.cpp:318:9: error: Ã¢ÂÂrequiredÃ¢ÂÂ was not declared in this scope\r\n     if (required < 1 || required > 20 || numkeys < 1 || numkeys > 20 || numkeys < required)\r\n         ^\r\n../../src/bitcoin-tx.cpp:318:42: error: Ã¢ÂÂnumkeysÃ¢ÂÂ was not declared in this scope\r\n     if (required < 1 || required > 20 || numkeys < 1 || numkeys > 20 || numkeys < required)\r\n                                          ^\r\n../../src/bitcoin-tx.cpp:324:14: error: expected Ã¢ÂÂ;Ã¢ÂÂ before Ã¢ÂÂposÃ¢ÂÂ\r\n     for(uint pos = 1; pos <= numkeys; pos++) {\r\n              ^\r\n../../src/bitcoin-tx.cpp:324:23: error: Ã¢ÂÂposÃ¢ÂÂ was not declared in this scope\r\n     for(uint pos = 1; pos <= numkeys; pos++) {\r\n                       ^\r\n../../src/bitcoin-tx.cpp:324:30: error: Ã¢ÂÂnumkeysÃ¢ÂÂ was not declared in this scope\r\n     for(uint pos = 1; pos <= numkeys; pos++) {\r\n                              ^\r\n../../src/bitcoin-tx.cpp:334:34: error: Ã¢ÂÂnumkeysÃ¢ÂÂ was not declared in this scope\r\n     if (vStrInputParts.size() == numkeys + 4) {\r\n                                  ^\r\n../../src/bitcoin-tx.cpp:344:49: error: Ã¢ÂÂrequiredÃ¢ÂÂ was not declared in this scope\r\n     CScript scriptPubKey = GetScriptForMultisig(required, pubkeys);\r\n                                                 ^\r\nmake[2]: *** [bitcoin_tx-bitcoin-tx.o] Error 1\r\nmake[2]: Leaving directory `/home/travis/build/bitcoin/bitcoin/build/src'\r\nmake[1]: *** [check-recursive] Error 1\r\nmake[1]: Leaving directory `/home/travis/build/bitcoin/bitcoin/build/src'\r\nmake: *** [check-recursive] Error 1\r\n```",
      "created_at" : "2016-10-05T07:10:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-251599172",
      "id" : 251599172,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8883",
      "updated_at" : "2016-10-05T07:10:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251599172",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "Concept ACK\r\n\r\nNew warning:\r\n```\r\nbitcoin-tx.cpp:283:25: warning: declaration shadows a local variable [-Wshadow]\r\n        CBitcoinAddress addr(scriptPubKey);\r\n                        ^\r\nbitcoin-tx.cpp:265:21: note: previous declaration is here\r\n    CBitcoinAddress addr(scriptPubKey);\r\n                    ^\r\n1 warning generated.\r\n```",
      "created_at" : "2016-10-05T18:18:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-251755715",
      "id" : 251755715,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8883",
      "updated_at" : "2016-10-05T18:18:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251755715",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "body" : "Thanks @paveljanik . Fixed in squashed commit.",
      "created_at" : "2016-10-05T19:04:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-251768273",
      "id" : 251768273,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8883",
      "updated_at" : "2016-10-05T19:04:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251768273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "`-Wshadow` clean now, thanks!\r\n\r\nI'll read the changes later tonight.",
      "created_at" : "2016-10-05T19:18:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#issuecomment-251771826",
      "id" : 251771826,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8883",
      "updated_at" : "2016-10-05T19:18:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/251771826",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82060995"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82060995"
         }
      },
      "body" : "Why do you sometimes translate dot at the end of sentence and sometimes not?",
      "commit_id" : "79cd9275db714603f4a3c55360b3d52a945d95da",
      "created_at" : "2016-10-05T20:19:14Z",
      "diff_hunk" : "@@ -75,8 +75,16 @@ static bool AppInitRawTx(int argc, char* argv[])\n         strUsage += HelpMessageOpt(\"locktime=N\", _(\"Set TX lock time to N\"));\n         strUsage += HelpMessageOpt(\"nversion=N\", _(\"Set TX version to N\"));\n         strUsage += HelpMessageOpt(\"outaddr=VALUE:ADDRESS\", _(\"Add address-based output to TX\"));\n+        strUsage += HelpMessageOpt(\"outpubkey=VALUE:PUBKEY[:FLAGS]\", _(\"Add pay-to-pubkey output to TX\") + \". \" +\n+            _(\"Optionally add the \\\"W\\\" flag to produce a pay-to-witness-pubkey-hash output\") + \". \" +\n+            _(\"Optionally add the \\\"S\\\" flag to wrap the output in a pay-to-script-hash.\"));\n         strUsage += HelpMessageOpt(\"outdata=[VALUE:]DATA\", _(\"Add data-based output to TX\"));\n-        strUsage += HelpMessageOpt(\"outscript=VALUE:SCRIPT\", _(\"Add raw script output to TX\"));\n+        strUsage += HelpMessageOpt(\"outscript=VALUE:SCRIPT[:FLAGS]\", _(\"Add raw script output to TX\") + \". \" +\n+            _(\"Optionally add the \\\"W\\\" flag to produce a pay-to-witness-script-hash output\") + \". \" +\n+            _(\"Optionally add the \\\"S\\\" flag to wrap the output in a pay-to-script-hash.\"));\n+        strUsage += HelpMessageOpt(\"outmultisig=VALUE:REQUIRED:PUBKEYS:PUBKEY1:PUBKEY2:....[:FLAGS]\", _(\"Add Pay To n-of-m Multi-sig output to TX. n = REQUIRED, m = PUBKEYS\") + \". \" +\n+            _(\"Optionally add the \\\"W\\\" flag to produce a pay-to-witness-script-hash output\") + \". \" +",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82060995",
      "id" : 82060995,
      "original_commit_id" : "f6bbe646075164edf44c810e33526a18ddc90b7c",
      "original_position" : 13,
      "path" : "src/bitcoin-tx.cpp",
      "position" : 13,
      "pull_request_review_id" : 2994925,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883",
      "updated_at" : "2016-10-05T21:46:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82060995",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82061170"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82061170"
         }
      },
      "body" : "Separate (e -> a)?",
      "commit_id" : "79cd9275db714603f4a3c55360b3d52a945d95da",
      "created_at" : "2016-10-05T20:20:04Z",
      "diff_hunk" : "@@ -215,33 +223,142 @@ static void MutateTxAddInput(CMutableTransaction& tx, const string& strInput)\n \n static void MutateTxAddOutAddr(CMutableTransaction& tx, const string& strInput)\n {\n-    // separate VALUE:ADDRESS in string\n-    size_t pos = strInput.find(':');\n-    if ((pos == string::npos) ||\n-        (pos == 0) ||\n-        (pos == (strInput.size() - 1)))\n-        throw runtime_error(\"TX output missing separator\");\n+    // Seperate into VALUE:ADDRESS",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82061170",
      "id" : 82061170,
      "original_commit_id" : "f6bbe646075164edf44c810e33526a18ddc90b7c",
      "original_position" : 28,
      "path" : "src/bitcoin-tx.cpp",
      "position" : null,
      "pull_request_review_id" : 2995081,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883",
      "updated_at" : "2016-10-05T21:46:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82061170",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82061577"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82061577"
         }
      },
      "body" : "This adds another dependency on boost. But as we already use it in this file, it is OK. And definitely looks better ;-)",
      "commit_id" : "79cd9275db714603f4a3c55360b3d52a945d95da",
      "created_at" : "2016-10-05T20:21:57Z",
      "diff_hunk" : "@@ -215,33 +223,142 @@ static void MutateTxAddInput(CMutableTransaction& tx, const string& strInput)\n \n static void MutateTxAddOutAddr(CMutableTransaction& tx, const string& strInput)\n {\n-    // separate VALUE:ADDRESS in string\n-    size_t pos = strInput.find(':');\n-    if ((pos == string::npos) ||\n-        (pos == 0) ||\n-        (pos == (strInput.size() - 1)))\n-        throw runtime_error(\"TX output missing separator\");\n+    // Seperate into VALUE:ADDRESS\n+    vector<string> vStrInputParts;\n+    boost::split(vStrInputParts, strInput, boost::is_any_of(\":\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82061577",
      "id" : 82061577,
      "original_commit_id" : "f6bbe646075164edf44c810e33526a18ddc90b7c",
      "original_position" : 30,
      "path" : "src/bitcoin-tx.cpp",
      "position" : null,
      "pull_request_review_id" : 2995455,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883",
      "updated_at" : "2016-10-05T21:46:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82061577",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82062437"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82062437"
         }
      },
      "body" : "```\r\n$ grep \"Extract and validate VALUE\" bitcoin-tx.cpp \r\n    // Extract and validate VALUE\r\n    // Extract and validate VALUE\r\n    // Extract and validate VALUE\r\n$ \r\n```\r\n\r\nWhat about adding some function for this and share the code in all instances?\r\n",
      "commit_id" : "79cd9275db714603f4a3c55360b3d52a945d95da",
      "created_at" : "2016-10-05T20:25:56Z",
      "diff_hunk" : "@@ -215,33 +223,142 @@ static void MutateTxAddInput(CMutableTransaction& tx, const string& strInput)\n \n static void MutateTxAddOutAddr(CMutableTransaction& tx, const string& strInput)\n {\n-    // separate VALUE:ADDRESS in string\n-    size_t pos = strInput.find(':');\n-    if ((pos == string::npos) ||\n-        (pos == 0) ||\n-        (pos == (strInput.size() - 1)))\n-        throw runtime_error(\"TX output missing separator\");\n+    // Seperate into VALUE:ADDRESS\n+    vector<string> vStrInputParts;\n+    boost::split(vStrInputParts, strInput, boost::is_any_of(\":\"));\n \n-    // extract and validate VALUE\n-    string strValue = strInput.substr(0, pos);\n+    // Extract and validate VALUE\n+    string strValue = vStrInputParts[0];\n     CAmount value;\n     if (!ParseMoney(strValue, value))\n         throw runtime_error(\"invalid TX output value\");\n \n     // extract and validate ADDRESS\n-    string strAddr = strInput.substr(pos + 1, string::npos);\n+    string strAddr = vStrInputParts[1];\n     CBitcoinAddress addr(strAddr);\n     if (!addr.IsValid())\n         throw runtime_error(\"invalid TX output address\");\n-\n-    // build standard output script via GetScriptForDestination()\n     CScript scriptPubKey = GetScriptForDestination(addr.Get());\n \n     // construct TxOut, append to transaction output list\n     CTxOut txout(value, scriptPubKey);\n     tx.vout.push_back(txout);\n }\n \n+static void MutateTxAddOutPubKey(CMutableTransaction& tx, const string& strInput)\n+{\n+    // Seperate into VALUE:PUBKEY[:FLAGS]\n+    vector<string> vStrInputParts;\n+    boost::split(vStrInputParts, strInput, boost::is_any_of(\":\"));\n+\n+    // Extract and validate VALUE",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82062437",
      "id" : 82062437,
      "original_commit_id" : "f6bbe646075164edf44c810e33526a18ddc90b7c",
      "original_position" : 61,
      "path" : "src/bitcoin-tx.cpp",
      "position" : null,
      "pull_request_review_id" : 2996262,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883",
      "updated_at" : "2016-10-05T21:46:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82062437",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6848764?v=3",
         "events_url" : "https://api.github.com/users/paveljanik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/paveljanik/followers",
         "following_url" : "https://api.github.com/users/paveljanik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/paveljanik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/paveljanik",
         "id" : 6848764,
         "login" : "paveljanik",
         "organizations_url" : "https://api.github.com/users/paveljanik/orgs",
         "received_events_url" : "https://api.github.com/users/paveljanik/received_events",
         "repos_url" : "https://api.github.com/users/paveljanik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/paveljanik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/paveljanik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82072403"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82072403"
         }
      },
      "body" : "fixed",
      "commit_id" : "79cd9275db714603f4a3c55360b3d52a945d95da",
      "created_at" : "2016-10-05T21:15:33Z",
      "diff_hunk" : "@@ -215,33 +223,142 @@ static void MutateTxAddInput(CMutableTransaction& tx, const string& strInput)\n \n static void MutateTxAddOutAddr(CMutableTransaction& tx, const string& strInput)\n {\n-    // separate VALUE:ADDRESS in string\n-    size_t pos = strInput.find(':');\n-    if ((pos == string::npos) ||\n-        (pos == 0) ||\n-        (pos == (strInput.size() - 1)))\n-        throw runtime_error(\"TX output missing separator\");\n+    // Seperate into VALUE:ADDRESS",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82072403",
      "id" : 82072403,
      "original_commit_id" : "f6bbe646075164edf44c810e33526a18ddc90b7c",
      "original_position" : 28,
      "path" : "src/bitcoin-tx.cpp",
      "position" : null,
      "pull_request_review_id" : 3005599,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883",
      "updated_at" : "2016-10-05T21:46:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82072403",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/855082?v=3",
         "events_url" : "https://api.github.com/users/czzarr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/czzarr/followers",
         "following_url" : "https://api.github.com/users/czzarr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/czzarr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/czzarr",
         "id" : 855082,
         "login" : "czzarr",
         "organizations_url" : "https://api.github.com/users/czzarr/orgs",
         "received_events_url" : "https://api.github.com/users/czzarr/received_events",
         "repos_url" : "https://api.github.com/users/czzarr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/czzarr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/czzarr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/czzarr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82076193"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82076193"
         }
      },
      "body" : "for some reason I get a compile error when I put the dot in the sentence:\r\n```\r\nbitcoin-tx.cpp:79:13: error: expected ')'\r\n            _(\"Optionally add the \\\"W\\\" flag to produce a pay-to-witness-pubkey-hash output\") + \". \" +\r\n            ^\r\nbitcoin-tx.cpp:78:35: note: to match this '('\r\n        strUsage += HelpMessageOpt(\"outpubkey=VALUE:PUBKEY[:FLAGS]\", _(\"Add pay-to-pubkey output to TX. \")\r\n                                  ^\r\n1 error generated.\r\n```",
      "commit_id" : "79cd9275db714603f4a3c55360b3d52a945d95da",
      "created_at" : "2016-10-05T21:35:32Z",
      "diff_hunk" : "@@ -75,8 +75,16 @@ static bool AppInitRawTx(int argc, char* argv[])\n         strUsage += HelpMessageOpt(\"locktime=N\", _(\"Set TX lock time to N\"));\n         strUsage += HelpMessageOpt(\"nversion=N\", _(\"Set TX version to N\"));\n         strUsage += HelpMessageOpt(\"outaddr=VALUE:ADDRESS\", _(\"Add address-based output to TX\"));\n+        strUsage += HelpMessageOpt(\"outpubkey=VALUE:PUBKEY[:FLAGS]\", _(\"Add pay-to-pubkey output to TX\") + \". \" +\n+            _(\"Optionally add the \\\"W\\\" flag to produce a pay-to-witness-pubkey-hash output\") + \". \" +\n+            _(\"Optionally add the \\\"S\\\" flag to wrap the output in a pay-to-script-hash.\"));\n         strUsage += HelpMessageOpt(\"outdata=[VALUE:]DATA\", _(\"Add data-based output to TX\"));\n-        strUsage += HelpMessageOpt(\"outscript=VALUE:SCRIPT\", _(\"Add raw script output to TX\"));\n+        strUsage += HelpMessageOpt(\"outscript=VALUE:SCRIPT[:FLAGS]\", _(\"Add raw script output to TX\") + \". \" +\n+            _(\"Optionally add the \\\"W\\\" flag to produce a pay-to-witness-script-hash output\") + \". \" +\n+            _(\"Optionally add the \\\"S\\\" flag to wrap the output in a pay-to-script-hash.\"));\n+        strUsage += HelpMessageOpt(\"outmultisig=VALUE:REQUIRED:PUBKEYS:PUBKEY1:PUBKEY2:....[:FLAGS]\", _(\"Add Pay To n-of-m Multi-sig output to TX. n = REQUIRED, m = PUBKEYS\") + \". \" +\n+            _(\"Optionally add the \\\"W\\\" flag to produce a pay-to-witness-script-hash output\") + \". \" +",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82076193",
      "id" : 82076193,
      "original_commit_id" : "f6bbe646075164edf44c810e33526a18ddc90b7c",
      "original_position" : 13,
      "path" : "src/bitcoin-tx.cpp",
      "position" : 13,
      "pull_request_review_id" : 3009018,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883",
      "updated_at" : "2016-10-05T21:46:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82076193",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/855082?v=3",
         "events_url" : "https://api.github.com/users/czzarr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/czzarr/followers",
         "following_url" : "https://api.github.com/users/czzarr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/czzarr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/czzarr",
         "id" : 855082,
         "login" : "czzarr",
         "organizations_url" : "https://api.github.com/users/czzarr/orgs",
         "received_events_url" : "https://api.github.com/users/czzarr/received_events",
         "repos_url" : "https://api.github.com/users/czzarr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/czzarr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/czzarr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/czzarr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82078198"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82078198"
         }
      },
      "body" : "done in https://github.com/bitcoin/bitcoin/pull/8883/commits/79cd9275db714603f4a3c55360b3d52a945d95da",
      "commit_id" : "79cd9275db714603f4a3c55360b3d52a945d95da",
      "created_at" : "2016-10-05T21:46:49Z",
      "diff_hunk" : "@@ -215,33 +223,142 @@ static void MutateTxAddInput(CMutableTransaction& tx, const string& strInput)\n \n static void MutateTxAddOutAddr(CMutableTransaction& tx, const string& strInput)\n {\n-    // separate VALUE:ADDRESS in string\n-    size_t pos = strInput.find(':');\n-    if ((pos == string::npos) ||\n-        (pos == 0) ||\n-        (pos == (strInput.size() - 1)))\n-        throw runtime_error(\"TX output missing separator\");\n+    // Seperate into VALUE:ADDRESS\n+    vector<string> vStrInputParts;\n+    boost::split(vStrInputParts, strInput, boost::is_any_of(\":\"));\n \n-    // extract and validate VALUE\n-    string strValue = strInput.substr(0, pos);\n+    // Extract and validate VALUE\n+    string strValue = vStrInputParts[0];\n     CAmount value;\n     if (!ParseMoney(strValue, value))\n         throw runtime_error(\"invalid TX output value\");\n \n     // extract and validate ADDRESS\n-    string strAddr = strInput.substr(pos + 1, string::npos);\n+    string strAddr = vStrInputParts[1];\n     CBitcoinAddress addr(strAddr);\n     if (!addr.IsValid())\n         throw runtime_error(\"invalid TX output address\");\n-\n-    // build standard output script via GetScriptForDestination()\n     CScript scriptPubKey = GetScriptForDestination(addr.Get());\n \n     // construct TxOut, append to transaction output list\n     CTxOut txout(value, scriptPubKey);\n     tx.vout.push_back(txout);\n }\n \n+static void MutateTxAddOutPubKey(CMutableTransaction& tx, const string& strInput)\n+{\n+    // Seperate into VALUE:PUBKEY[:FLAGS]\n+    vector<string> vStrInputParts;\n+    boost::split(vStrInputParts, strInput, boost::is_any_of(\":\"));\n+\n+    // Extract and validate VALUE",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8883#discussion_r82078198",
      "id" : 82078198,
      "original_commit_id" : "f6bbe646075164edf44c810e33526a18ddc90b7c",
      "original_position" : 61,
      "path" : "src/bitcoin-tx.cpp",
      "position" : null,
      "pull_request_review_id" : 3010783,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/8883",
      "updated_at" : "2016-10-05T21:46:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/82078198",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/855082?v=3",
         "events_url" : "https://api.github.com/users/czzarr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/czzarr/followers",
         "following_url" : "https://api.github.com/users/czzarr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/czzarr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/czzarr",
         "id" : 855082,
         "login" : "czzarr",
         "organizations_url" : "https://api.github.com/users/czzarr/orgs",
         "received_events_url" : "https://api.github.com/users/czzarr/received_events",
         "repos_url" : "https://api.github.com/users/czzarr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/czzarr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/czzarr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/czzarr"
      }
   }
]
