[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300786226"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300786226"
         }
      },
      "author_association" : "NONE",
      "body" : "Not needed curly ",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:03:38Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300786226",
      "id" : 300786226,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc4NjIyNg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 81,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 79,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300786226",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300786641"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300786641"
         }
      },
      "author_association" : "NONE",
      "body" : "Use the same curly brace formatting. Either all on the same line or all new line.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:06:02Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300786641",
      "id" : 300786641,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc4NjY0MQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 75,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300786641",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300787061"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300787061"
         }
      },
      "author_association" : "NONE",
      "body" : "No assignment?",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:08:26Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)\n+    {\n+        CDataStream ssBlock(SER_NETWORK, PROTOCOL_VERSION | RPCSerializationFlags());\n+        ssBlock << block;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300787061",
      "id" : 300787061,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc4NzA2MQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 96,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 93,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300787061",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300788723"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300788723"
         }
      },
      "author_association" : "NONE",
      "body" : "Very strange params[1] is a union of a number and bool. I'm skeptical of this because it will cause more bugs down the line. ",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:18:20Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300788723",
      "id" : 300788723,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc4ODcyMw==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 69,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 68,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300788723",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300789152"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300789152"
         }
      },
      "author_association" : "NONE",
      "body" : "Why no check for param[0].isNull()?",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:21:12Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300789152",
      "id" : 300789152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc4OTE1Mg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 74,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300789152",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300789254"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300789254"
         }
      },
      "author_association" : "NONE",
      "body" : "Place this assignment below the throw when checking pblockindex",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:21:58Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300789254",
      "id" : 300789254,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc4OTI1NA==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 84,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 86,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300789254",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300789355"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300789355"
         }
      },
      "author_association" : "NONE",
      "body" : "Add the hash to the throw so we can debug why this statement would have failed ",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:22:39Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300789355",
      "id" : 300789355,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc4OTM1NQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 87,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300789355",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300789607"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300789607"
         }
      },
      "author_association" : "NONE",
      "body" : "Will std::string be converted to the univalue object? Do we need to cast to a JSON object?",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:24:07Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)\n+    {\n+        CDataStream ssBlock(SER_NETWORK, PROTOCOL_VERSION | RPCSerializationFlags());\n+        ssBlock << block;\n+        std::string strHex = HexStr(ssBlock.begin(), ssBlock.end());\n+        return strHex;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300789607",
      "id" : 300789607,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc4OTYwNw==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 98,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 95,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300789607",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300789988"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300789988"
         }
      },
      "author_association" : "NONE",
      "body" : "There is no documentation for when verbosity is less than 0. I don't think it can ever be? Should verbosity be an unsigned int or enum?",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:26:40Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300789988",
      "id" : 300789988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc4OTk4OA==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 93,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 90,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300789988",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300790639"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300790639"
         }
      },
      "author_association" : "NONE",
      "body" : "This verbosity level logging should be an enum of constants to help read instead of magic numbers.\r\n\r\ne.g. `int verbosity = LEVEL1_BLOCKHEIGHT`",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:30:44Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300790639",
      "id" : 300790639,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc5MDYzOQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 64,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 63,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300790639",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300790722"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300790722"
         }
      },
      "author_association" : "NONE",
      "body" : "I can't tell if this returns negative or >3",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:31:12Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300790722",
      "id" : 300790722,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc5MDcyMg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 67,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 66,
      "pull_request_review_id" : 258536402,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300790722",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300791155"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300791155"
         }
      },
      "author_association" : "NONE",
      "body" : "If help is null this toString will cause undefined behavior",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:33:56Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300791155",
      "id" : 300791155,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc5MTE1NQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 61,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 61,
      "pull_request_review_id" : 258542950,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300791155",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300791292"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300791292"
         }
      },
      "author_association" : "NONE",
      "body" : "Can you add what block/parameter that is not found for debugging",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T20:34:36Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300791292",
      "id" : 300791292,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc5MTI5Mg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 258542950,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300791292",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300797511"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300797511"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The code is mostly a fork from the getblock function which means that I copied this from this function as well but I personally think that this issue is a topic for another pull request.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T21:14:59Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300797511",
      "id" : 300797511,
      "in_reply_to_id" : 300788723,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc5NzUxMQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 69,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 68,
      "pull_request_review_id" : 258551061,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300797511",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300798341"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300798341"
         }
      },
      "author_association" : "MEMBER",
      "body" : "The developer guidelines state that for new code, following the specified coding style is preferable. The only exception is commits which just move code around. See https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T21:21:03Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300798341",
      "id" : 300798341,
      "in_reply_to_id" : 300788723,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDc5ODM0MQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 69,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 68,
      "pull_request_review_id" : 258552066,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300798341",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300801699"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300801699"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "What do you mean by isNull?\r\nIf the param is empty or if the user has selected block zero, which is a valid block",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T21:47:54Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300801699",
      "id" : 300801699,
      "in_reply_to_id" : 300789152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgwMTY5OQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 74,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 258556297,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300801699",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300802179"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300802179"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Nope verbosity cannot be less than zero",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T21:51:46Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300802179",
      "id" : 300802179,
      "in_reply_to_id" : 300789988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgwMjE3OQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 93,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 90,
      "pull_request_review_id" : 258556853,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300802179",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300802444"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300802444"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Agree, a legacy of getblock",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T21:53:56Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300802444",
      "id" : 300802444,
      "in_reply_to_id" : 300786226,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgwMjQ0NA==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 81,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 79,
      "pull_request_review_id" : 258557159,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300802444",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300802822"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300802822"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The input is an integer and the various types of verbosity are magic numbers.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T21:57:15Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300802822",
      "id" : 300802822,
      "in_reply_to_id" : 300790639,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgwMjgyMg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 64,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 63,
      "pull_request_review_id" : 258557634,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300802822",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300802858"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300802858"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "How?",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T21:57:35Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300802858",
      "id" : 300802858,
      "in_reply_to_id" : 300791155,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgwMjg1OA==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 61,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 61,
      "pull_request_review_id" : 258557683,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300802858",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300802885"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300802885"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sure",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T21:57:43Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300802885",
      "id" : 300802885,
      "in_reply_to_id" : 300791292,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgwMjg4NQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 258557711,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300802885",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300803375"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300803375"
         }
      },
      "author_association" : "NONE",
      "body" : "Can we remove this check for less than zero and change verbosity to an unsigned short or preferably an enum of constants 0-3?",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T22:02:13Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300803375",
      "id" : 300803375,
      "in_reply_to_id" : 300789988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgwMzM3NQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 93,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 90,
      "pull_request_review_id" : 258558298,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300803375",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@fqlx Actually I do not think it is a good idea to move `int verbosity` to something else.\r\nThis could break the API backwards compatibility, maybe some 3rd party APIs are working with negative numbers for the verbosity. If we would use an unsigned variable it would cause an overflow and then the output would be the opposite",
      "created_at" : "2019-07-05T22:12:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508871580",
      "id" : 508871580,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODg3MTU4MA==",
      "updated_at" : "2019-07-05T22:12:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508871580",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300805732"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300805732"
         }
      },
      "author_association" : "NONE",
      "body" : "Yes but we only have 4 types. 0-3. It could be an enum",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T22:25:28Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300805732",
      "id" : 300805732,
      "in_reply_to_id" : 300790639,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgwNTczMg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 64,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 63,
      "pull_request_review_id" : 258561235,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300805732",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@fqlx I made some changes you've suggested.",
      "created_at" : "2019-07-05T22:33:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508873921",
      "id" : 508873921,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODg3MzkyMQ==",
      "updated_at" : "2019-07-05T22:33:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508873921",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Can you add tests?",
      "created_at" : "2019-07-05T22:42:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508874932",
      "id" : 508874932,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODg3NDkzMg==",
      "updated_at" : "2019-07-06T04:48:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508874932",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300807641"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300807641"
         }
      },
      "author_association" : "NONE",
      "body" : "\r\n`<= -1` should be `== BLOCK_DOESNT_EXIST` and define block doesn't exist to -1. I would also bet this constant is define in a header already. Find it please. We also can't have negative blocks so no need to check for less than -1.\r\n",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-05T22:47:54Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300807641",
      "id" : 300807641,
      "in_reply_to_id" : 300789152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgwNzY0MQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 74,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 258563524,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300807641",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't see the need for a test for such a function.",
      "created_at" : "2019-07-05T22:52:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508875950",
      "id" : 508875950,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODg3NTk1MA==",
      "updated_at" : "2019-07-05T22:52:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508875950",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@emilengler every change should have a test, especially a new RPC. Also in this case you should a release note too.",
      "created_at" : "2019-07-05T23:10:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508877749",
      "id" : 508877749,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODg3Nzc0OQ==",
      "updated_at" : "2019-07-05T23:10:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508877749",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "The tests are good not only to increase confidence in our codebase but to also show a working example how to use it. The code will used by 1000s of people ",
      "created_at" : "2019-07-05T23:30:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508879553",
      "id" : 508879553,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODg3OTU1Mw==",
      "updated_at" : "2019-07-05T23:30:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508879553",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300814190"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300814190"
         }
      },
      "author_association" : "NONE",
      "body" : "Hi - I may have made a mistake here.  It seems like the curly brace is needed to acquire tsc_main scope lock here. I'm not very familiar with this feature.\r\n\r\nSee: https://github.com/bitcoin/bitcoin/pull/16285#discussion_r300809662",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T00:39:58Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300814190",
      "id" : 300814190,
      "in_reply_to_id" : 300786226,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgxNDE5MA==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 81,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 79,
      "pull_request_review_id" : 258570836,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300814190",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300817268"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300817268"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@fqlx You seem very confused. The opening brace isn't needed to acquire the `cs_main` lock; It's to make the lock be released after the `GetBlockChecked` call. We want to minimize the time the lock is held for responsivity reasons.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T02:24:17Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300817268",
      "id" : 300817268,
      "in_reply_to_id" : 300786226,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgxNzI2OA==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 81,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 79,
      "pull_request_review_id" : 258574009,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300817268",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820535"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820535"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`<<` is the correct operator to serialize an object to a stream.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T05:12:20Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)\n+    {\n+        CDataStream ssBlock(SER_NETWORK, PROTOCOL_VERSION | RPCSerializationFlags());\n+        ssBlock << block;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820535",
      "id" : 300820535,
      "in_reply_to_id" : 300787061,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgyMDUzNQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 96,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 93,
      "pull_request_review_id" : 258577626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820535",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820557"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820557"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`std::string` is a valid `UniValue` object and is used in many other RPCs.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T05:13:21Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)\n+    {\n+        CDataStream ssBlock(SER_NETWORK, PROTOCOL_VERSION | RPCSerializationFlags());\n+        ssBlock << block;\n+        std::string strHex = HexStr(ssBlock.begin(), ssBlock.end());\n+        return strHex;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820557",
      "id" : 300820557,
      "in_reply_to_id" : 300789607,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgyMDU1Nw==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 98,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 95,
      "pull_request_review_id" : 258577645,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820557",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't see the need for a test for such a function.\r\n\r\nThere should be at least a basic test that checks `getblockbyheight(height)` is consistent with `getblock(getblockhash(height))`",
      "created_at" : "2019-07-06T05:15:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508898106",
      "id" : 508898106,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODg5ODEwNg==",
      "updated_at" : "2019-07-06T05:15:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508898106",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820746"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820746"
         }
      },
      "author_association" : "MEMBER",
      "body" : "IIRC it is undefined behavior to cast an `int` to an `enum` that is out of range of the `enum`. Because any `int` can be entered in the RPC, it could be out of range of the `enum` and cause undesirable things. So I think it is actually better to just handle it as an int. Also, `UniValue` does not have a `get_short()` function so there would be no way to fetch a short from the request other than casting which I think is undesirable especially when it's easier to just handle it as an int.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T05:23:10Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820746",
      "id" : 300820746,
      "in_reply_to_id" : 300789988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgyMDc0Ng==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 93,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 90,
      "pull_request_review_id" : 258577852,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820746",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820772"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820772"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`get_int` can return any valid `int`.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T05:24:07Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820772",
      "id" : 300820772,
      "in_reply_to_id" : 300790722,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgyMDc3Mg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 67,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 66,
      "pull_request_review_id" : 258577874,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820772",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820876"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820876"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> `<= -1` should be `== BLOCK_DOESNT_EXIST` and define block doesn't exist to -1.\r\n\r\nWhy? This is a user entered value, it could literally be anything, not just `-1`. A user isn't going to search specifically for `-1` just so they can get an error. It could be `-16654` or whatever you want. It is safer to check whether the value is `<= -1` rather than `-1`.\r\n\r\nAlso, why would this need to be defined as a constant? It really isn't useful as one.\r\n\r\n> I would also bet this constant is define in a header already. Find it please. We also can't have negative blocks so no need to check for less than -1.\r\n\r\nIt probably isn't defined anywhere as there is no need to define it anywhere.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T05:27:56Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820876",
      "id" : 300820876,
      "in_reply_to_id" : 300789152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgyMDg3Ng==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 74,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 258577965,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820876",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept ACK\r\n\r\nfailing a linter:\r\n\r\n```\r\nThis diff appears to have added new lines with trailing whitespace.\r\nThe following changes were suspected:\r\ndiff --git a/src/rpc/blockchain.cpp b/src/rpc/blockchain.cpp\r\n@@ -942,0 +943,97 @@ static UniValue getblock(const JSONRPCRequest& request)\r\n+\r\n+\r\n^---- failure generated from test/lint/lint-whitespace.sh\r\n```",
      "created_at" : "2019-07-06T05:29:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508898725",
      "id" : 508898725,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODg5ODcyNQ==",
      "updated_at" : "2019-07-06T05:29:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508898725",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820929"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820929"
         }
      },
      "author_association" : "NONE",
      "body" : "I appreciate the response @achow101.  I would then suggest we add a validate and transform for the RPC call but that is out of the scope of the PR. Validation from the client is necessary in these cases so we don't get undesirable things and it would keep the code clean.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T05:31:20Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300820929",
      "id" : 300820929,
      "in_reply_to_id" : 300789988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgyMDkyOQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 93,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 90,
      "pull_request_review_id" : 258578015,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300820929",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300821167"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300821167"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Validation from the client is not possible. The client is not necessarily `bitcoin-cli`. It could be any JSON-RPC client. Validation of this must happen server side.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T05:42:33Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300821167",
      "id" : 300821167,
      "in_reply_to_id" : 300789988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgyMTE2Nw==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 93,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 90,
      "pull_request_review_id" : 258578275,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300821167",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300821308"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300821308"
         }
      },
      "author_association" : "NONE",
      "body" : "> Why?\r\n\r\nIt's easier to read and maintain if we check for the valid paths.  The documentation says verbose 0-3, uses a weak type (int vs enum), then check for unrelated int values mid code - it's confusing. We can't just arbitrarily pick error cases to check for here. Why not check if the user inputted a string, emoji, a number greater than `INT_MAX` too? \r\n\r\n> It probably isn't defined anywhere as there is no need to define it anywhere.\r\n\r\nYou're right it's not define but it would be useful. \r\n",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T05:50:20Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300821308",
      "id" : 300821308,
      "in_reply_to_id" : 300789152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgyMTMwOA==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 74,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 258578442,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300821308",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300822307"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300822307"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> It's easier to read and maintain if we check for the valid paths. The documentation says verbose 0-3, uses a weak type (int vs enum), then check for unrelated int values mid code - it's confusing.\r\n\r\nYou're getting your conversations mixed up. This isn't about verbosity.\r\n\r\n> We can't just arbitrarily pick error cases to check for here.\r\n\r\nWe aren't.\r\n\r\n> Why not check if the user inputted a string, emoji, a number greater than `INT_MAX` too?\r\n\r\nThat's why RPCs should use [`RPCTypeCheck`](https://github.com/bitcoin/bitcoin/blob/master/src/rpc/util.cpp#L17). That (and `UniValue` itself) will handle type and integer out of bound errors.\r\n",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T06:39:37Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300822307",
      "id" : 300822307,
      "in_reply_to_id" : 300789152,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgyMjMwNw==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 74,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 258579556,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300822307",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300827307"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300827307"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "@sipa Ok, I've re-added it",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T10:20:40Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300827307",
      "id" : 300827307,
      "in_reply_to_id" : 300786226,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgyNzMwNw==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 81,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 79,
      "pull_request_review_id" : 258584882,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300827307",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@fqlx @promag @achow101 \r\nTest added, can someone take a look at it?",
      "created_at" : "2019-07-06T13:30:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508926760",
      "id" : 508926760,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODkyNjc2MA==",
      "updated_at" : "2019-07-06T13:30:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508926760",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300832926"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300832926"
         }
      },
      "author_association" : "MEMBER",
      "body" : "> Validation from the client is necessary in these cases so we don't get undesirable things and it would keep the code clean.\r\n\r\nNo.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T14:29:31Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300832926",
      "id" : 300832926,
      "in_reply_to_id" : 300789988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgzMjkyNg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 93,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 90,
      "pull_request_review_id" : 258591175,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300832926",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300833027"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300833027"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Something like the following should be enough:\r\n```py\r\nassert_equal(getblock(getblockhash(20)), getblockbyheight)\r\n```\r\nThen you could also test these errors:\r\n - calling without arguments\r\n - calling with extra arguments\r\n - calling with wrong type (string for instance).",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T14:33:05Z",
      "diff_hunk" : "@@ -307,6 +309,17 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblockbyheight(self):\n+        self.log.info(\"Test getblockbyheight\")\n+        node = self.nodes[0]\n+        node.add_p2p_connection(P2PInterface())\n+\n+        self.log.info(\"Getting block with height 20\")\n+        b20 = node.getblockbyheight(20)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300833027",
      "id" : 300833027,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgzMzAyNw==",
      "original_commit_id" : "1404d1947a5f58092e36fca1da940a54b684da98",
      "original_position" : 26,
      "path" : "test/functional/rpc_blockchain.py",
      "position" : null,
      "pull_request_review_id" : 258591275,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300833027",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300833423"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300833423"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you, I will edit it",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T14:47:18Z",
      "diff_hunk" : "@@ -307,6 +309,17 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblockbyheight(self):\n+        self.log.info(\"Test getblockbyheight\")\n+        node = self.nodes[0]\n+        node.add_p2p_connection(P2PInterface())\n+\n+        self.log.info(\"Getting block with height 20\")\n+        b20 = node.getblockbyheight(20)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300833423",
      "id" : 300833423,
      "in_reply_to_id" : 300833027,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgzMzQyMw==",
      "original_commit_id" : "1404d1947a5f58092e36fca1da940a54b684da98",
      "original_position" : 26,
      "path" : "test/functional/rpc_blockchain.py",
      "position" : null,
      "pull_request_review_id" : 258591738,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300833423",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300833726"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300833726"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You should assert the whole response, not just the hash.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T14:58:28Z",
      "diff_hunk" : "@@ -307,6 +309,17 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblockbyheight(self):\n+        self.log.info(\"Test getblockbyheight\")\n+        node = self.nodes[0]\n+        node.add_p2p_connection(P2PInterface())\n+\n+        self.log.info(\"Getting block with height 20\")\n+        b20 = node.getblockbyheight(20)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300833726",
      "id" : 300833726,
      "in_reply_to_id" : 300833027,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgzMzcyNg==",
      "original_commit_id" : "1404d1947a5f58092e36fca1da940a54b684da98",
      "original_position" : 26,
      "path" : "test/functional/rpc_blockchain.py",
      "position" : null,
      "pull_request_review_id" : 258592114,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300833726",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I can't unresolve https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300833726, but please address my comment there.",
      "created_at" : "2019-07-06T14:59:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508932427",
      "id" : 508932427,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODkzMjQyNw==",
      "updated_at" : "2019-07-06T14:59:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508932427",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag I pushed a new commit which fix this and unresolved the conversation.",
      "created_at" : "2019-07-06T17:18:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-508941343",
      "id" : 508941343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwODk0MTM0Mw==",
      "updated_at" : "2019-07-06T17:18:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/508941343",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300837447"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300837447"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Other functions use this as well, I think this should be improved in another PR",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-06T17:24:09Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300837447",
      "id" : 300837447,
      "in_reply_to_id" : 300790639,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDgzNzQ0Nw==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 64,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 63,
      "pull_request_review_id" : 258596437,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300837447",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300846315"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300846315"
         }
      },
      "author_association" : "NONE",
      "body" : "I'd recommend removing the logging on 317, 319 because it's not needed and will clutter the console logging.  Other than that, things look good.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-07T01:00:52Z",
      "diff_hunk" : "@@ -307,6 +309,16 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblockbyheight(self):\n+        self.log.info(\"Test getblockbyheight\")\n+        node = self.nodes[0]\n+        node.add_p2p_connection(P2PInterface())\n+\n+        self.log.info(\"Test that getblockbyheight is getting block 20\")\n+        assert_equal(node.getblock(node.getblockhash(20)), node.getblockbyheight(20))\n+        self.log.info(\"The block is valid\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300846315",
      "id" : 300846315,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDg0NjMxNQ==",
      "original_commit_id" : "3f3fc1121465e37b46fd8ec2d5baab5c046e4d74",
      "original_position" : 27,
      "path" : "test/functional/rpc_blockchain.py",
      "position" : null,
      "pull_request_review_id" : 258605854,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300846315",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1562849?v=4",
         "events_url" : "https://api.github.com/users/fqlx/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fqlx/followers",
         "following_url" : "https://api.github.com/users/fqlx/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fqlx/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fqlx",
         "id" : 1562849,
         "login" : "fqlx",
         "node_id" : "MDQ6VXNlcjE1NjI4NDk=",
         "organizations_url" : "https://api.github.com/users/fqlx/orgs",
         "received_events_url" : "https://api.github.com/users/fqlx/received_events",
         "repos_url" : "https://api.github.com/users/fqlx/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fqlx/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fqlx"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300863875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300863875"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Good point, removed!",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-07T12:13:56Z",
      "diff_hunk" : "@@ -307,6 +309,16 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblockbyheight(self):\n+        self.log.info(\"Test getblockbyheight\")\n+        node = self.nodes[0]\n+        node.add_p2p_connection(P2PInterface())\n+\n+        self.log.info(\"Test that getblockbyheight is getting block 20\")\n+        assert_equal(node.getblock(node.getblockhash(20)), node.getblockbyheight(20))\n+        self.log.info(\"The block is valid\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300863875",
      "id" : 300863875,
      "in_reply_to_id" : 300846315,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDg2Mzg3NQ==",
      "original_commit_id" : "3f3fc1121465e37b46fd8ec2d5baab5c046e4d74",
      "original_position" : 27,
      "path" : "test/functional/rpc_blockchain.py",
      "position" : null,
      "pull_request_review_id" : 258623671,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300863875",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300896491"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300896491"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No need for the `The block is valid` logging, or the extra white space here.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-08T01:16:01Z",
      "diff_hunk" : "@@ -307,6 +309,15 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblockbyheight(self):\n+        self.log.info(\"Test getblockbyheight\")\n+        node = self.nodes[0]\n+        node.add_p2p_connection(P2PInterface())\n+\n+        assert_equal(node.getblock(node.getblockhash(20)), node.getblockbyheight(20))\n+        self.log.info(\"The block is valid\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r300896491",
      "id" : 300896491,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMDg5NjQ5MQ==",
      "original_commit_id" : "33b2da3aec4d33c10b10f81e02db1a0585076b05",
      "original_position" : 26,
      "path" : "test/functional/rpc_blockchain.py",
      "position" : null,
      "pull_request_review_id" : 258655431,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/300896491",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301180681"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301180681"
         }
      },
      "author_association" : "MEMBER",
      "body" : "@fqlx from the server point of view, never trust the client.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-08T16:12:50Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301180681",
      "id" : 301180681,
      "in_reply_to_id" : 300789988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTE4MDY4MQ==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 93,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 90,
      "pull_request_review_id" : 259010983,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301180681",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301194131"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301194131"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why do you translate the hash into hex and then parse the hex into a hash?",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-08T16:44:04Z",
      "diff_hunk" : "@@ -940,6 +940,105 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301194131",
      "id" : 301194131,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTE5NDEzMQ==",
      "original_commit_id" : "33b2da3aec4d33c10b10f81e02db1a0585076b05",
      "original_position" : 77,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 259027469,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301194131",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301194560"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301194560"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Why would this happen? I'd say never, so it should not throw \"invalid key\", but an internal error. Also, missing `{}`",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-08T16:45:06Z",
      "diff_hunk" : "@@ -940,6 +940,105 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+\n+    pblockindex = LookupBlockIndex(hash);\n+\n+    if (!pblockindex)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block with hash \\\"\" + hash.ToString() + \"\\\" not found\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301194560",
      "id" : 301194560,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTE5NDU2MA==",
      "original_commit_id" : "33b2da3aec4d33c10b10f81e02db1a0585076b05",
      "original_position" : 83,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 259027469,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301194560",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301265946"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301265946"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You are right, was suggested by someone else",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-08T19:36:49Z",
      "diff_hunk" : "@@ -940,6 +940,105 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+\n+    pblockindex = LookupBlockIndex(hash);\n+\n+    if (!pblockindex)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block with hash \\\"\" + hash.ToString() + \"\\\" not found\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301265946",
      "id" : 301265946,
      "in_reply_to_id" : 301194560,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTI2NTk0Ng==",
      "original_commit_id" : "33b2da3aec4d33c10b10f81e02db1a0585076b05",
      "original_position" : 83,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 259114572,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301265946",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301266206"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301266206"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I was doing it the same way as in `getblock()`",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-08T19:37:31Z",
      "diff_hunk" : "@@ -940,6 +940,105 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301266206",
      "id" : 301266206,
      "in_reply_to_id" : 301194131,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTI2NjIwNg==",
      "original_commit_id" : "33b2da3aec4d33c10b10f81e02db1a0585076b05",
      "original_position" : 77,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 259114894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301266206",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301322612"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301322612"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Which is to say, you can make this argument just a number. No need to make this RPC strictly consistent with `getblock`. This behavior is only maintained in exceptional cases which do not apply here:\r\n\r\n```\r\n  - *Exception*: Some RPC calls can take both an `int` and `bool`, most notably when a bool was switched\r\n    to a multi-value, or due to other historical reasons. **Always** have false map to 0 and\r\n    true to 1 in this case.\r\n```",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-08T22:14:31Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301322612",
      "id" : 301322612,
      "in_reply_to_id" : 300788723,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTMyMjYxMg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 69,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 68,
      "pull_request_review_id" : 259183879,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301322612",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301323333"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301323333"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: braceless `ifs` should be inline\r\n\r\n```\r\n  - If an `if` only has a single-statement `then`-clause, it can appear\r\n    on the same line as the `if`, without braces. In every other case,\r\n    braces are required, and the `then` and `else` clauses must appear\r\n    correctly indented on a new line.\r\n```",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-08T22:16:52Z",
      "diff_hunk" : "@@ -940,6 +940,103 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(pblockindex->GetBlockHash());\n+    const CBlockIndex* tip;\n+\n+    if (!pblockindex)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301323333",
      "id" : 301323333,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTMyMzMzMw==",
      "original_commit_id" : "41c165266f86416fe96ad5f495b73ba9147843f2",
      "original_position" : 80,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 259184689,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301323333",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301323670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301323670"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: having a `blockheight` local will make this more legible imo",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-08T22:18:06Z",
      "diff_hunk" : "@@ -940,6 +940,103 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301323670",
      "id" : 301323670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTMyMzY3MA==",
      "original_commit_id" : "41c165266f86416fe96ad5f495b73ba9147843f2",
      "original_position" : 72,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 259185067,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301323670",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301324382"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301324382"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I would test the argument for valid range and throw an rpc error if out of range. Better to accept just the valid values IMO.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-08T22:20:40Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301324382",
      "id" : 301324382,
      "in_reply_to_id" : 300789988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTMyNDM4Mg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 93,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 90,
      "pull_request_review_id" : 259185883,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301324382",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301693757"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301693757"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Fixed",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-09T16:59:03Z",
      "diff_hunk" : "@@ -307,6 +309,15 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblockbyheight(self):\n+        self.log.info(\"Test getblockbyheight\")\n+        node = self.nodes[0]\n+        node.add_p2p_connection(P2PInterface())\n+\n+        assert_equal(node.getblock(node.getblockhash(20)), node.getblockbyheight(20))\n+        self.log.info(\"The block is valid\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301693757",
      "id" : 301693757,
      "in_reply_to_id" : 300896491,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTY5Mzc1Nw==",
      "original_commit_id" : "33b2da3aec4d33c10b10f81e02db1a0585076b05",
      "original_position" : 26,
      "path" : "test/functional/rpc_blockchain.py",
      "position" : null,
      "pull_request_review_id" : 259635977,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301693757",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301695052"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301695052"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It is only used 2 times, I think it is not necessary.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-09T17:01:59Z",
      "diff_hunk" : "@@ -940,6 +940,103 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301695052",
      "id" : 301695052,
      "in_reply_to_id" : 301323670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTY5NTA1Mg==",
      "original_commit_id" : "41c165266f86416fe96ad5f495b73ba9147843f2",
      "original_position" : 72,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 259637525,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301695052",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@fanquake Thank you for writing such an informative comment!\r\nI have fixed to compilation errors and squashed to commits.",
      "created_at" : "2019-07-09T17:10:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-509727480",
      "id" : 509727480,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwOTcyNzQ4MA==",
      "updated_at" : "2019-07-09T17:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/509727480",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301718362"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301718362"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Can remove this line. pblockindex is already the correct value",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-09T17:57:26Z",
      "diff_hunk" : "@@ -940,6 +940,103 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(pblockindex->GetBlockHash());\n+    const CBlockIndex* tip;\n+\n+    if (!pblockindex)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid key\");\n+\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301718362",
      "id" : 301718362,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTcxODM2Mg==",
      "original_commit_id" : "adb93ca9ddd09550b41af924010415d7ae015ec2",
      "original_position" : 85,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 259666535,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301718362",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301756779"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301756779"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Sure thing",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-09T19:30:28Z",
      "diff_hunk" : "@@ -940,6 +940,103 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(pblockindex->GetBlockHash());\n+    const CBlockIndex* tip;\n+\n+    if (!pblockindex)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid key\");\n+\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301756779",
      "id" : 301756779,
      "in_reply_to_id" : 301718362,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTc1Njc3OQ==",
      "original_commit_id" : "adb93ca9ddd09550b41af924010415d7ae015ec2",
      "original_position" : 85,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 259713546,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301756779",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I've also updated the commit messages with the rpc prefix",
      "created_at" : "2019-07-09T19:43:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-509780431",
      "id" : 509780431,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUwOTc4MDQzMQ==",
      "updated_at" : "2019-07-09T19:43:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/509780431",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301891181"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301891181"
         }
      },
      "author_association" : "MEMBER",
      "body" : "4 times (see below)",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T05:28:13Z",
      "diff_hunk" : "@@ -940,6 +940,103 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r301891181",
      "id" : 301891181,
      "in_reply_to_id" : 301323670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMTg5MTE4MQ==",
      "original_commit_id" : "41c165266f86416fe96ad5f495b73ba9147843f2",
      "original_position" : 72,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 259875962,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/301891181",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I don't see the need for a test for such a function.\r\n\r\nIs how we get RPC bugs into releases :D \r\n\r\nconcept ACK ",
      "created_at" : "2019-07-10T17:49:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-510162511",
      "id" : 510162511,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMDE2MjUxMQ==",
      "updated_at" : "2019-07-10T17:49:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/510162511",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302194093"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302194093"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is the wrong commit for logic changes(stick to tests only!), please split up this commit. Ask if you need help.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T17:50:17Z",
      "diff_hunk" : "@@ -1013,21 +1013,18 @@ static UniValue getblockbyheight(const JSONRPCRequest& request)\n \n     CBlock block;\n     CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n-    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302194093",
      "id" : 302194093,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjE5NDA5Mw==",
      "original_commit_id" : "6c1f05bd33c13c1c829f7e6a3b31586a41887d5a",
      "original_position" : 4,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260257626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302194093",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302195289"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302195289"
         }
      },
      "author_association" : "MEMBER",
      "body" : "feel-free-to-ignore-nit: error could be `RPC_INVALID_PARAMETER`",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T17:53:01Z",
      "diff_hunk" : "@@ -940,6 +940,105 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302195289",
      "id" : 302195289,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjE5NTI4OQ==",
      "original_commit_id" : "f0a41d5853a0c98e210bd74d990c240c1c0dec67",
      "original_position" : 73,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260257626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302195289",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302196460"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302196460"
         }
      },
      "author_association" : "MEMBER",
      "body" : "good follow-up testing would be to make sure `-1`, `0`, `getblockcount()`, and `getblockcount()+1` args respond properly.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T17:55:37Z",
      "diff_hunk" : "@@ -307,6 +309,13 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblockbyheight(self):\n+        self.log.info(\"Test getblockbyheight\")\n+        node = self.nodes[0]\n+        node.add_p2p_connection(P2PInterface())\n+        assert_equal(node.getblock(node.getblockhash(20)), node.getblockbyheight(20))\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302196460",
      "id" : 302196460,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjE5NjQ2MA==",
      "original_commit_id" : "6c1f05bd33c13c1c829f7e6a3b31586a41887d5a",
      "original_position" : 25,
      "path" : "test/functional/rpc_blockchain.py",
      "position" : 25,
      "pull_request_review_id" : 260257626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302196460",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302198402"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302198402"
         }
      },
      "author_association" : "MEMBER",
      "body" : "agreed on filtering for valid range",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T17:59:34Z",
      "diff_hunk" : "@@ -940,6 +940,106 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size())) {\n+        throw std::runtime_error(help.ToString());\n+    }\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    CBlock block;\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+    {\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+    }\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n+    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        pblockindex = LookupBlockIndex(hash);\n+        tip = ::ChainActive().Tip();\n+\n+        if (!pblockindex) {\n+            throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block not found\");\n+        }\n+\n+        block = GetBlockChecked(pblockindex);\n+    }\n+\n+    if (verbosity <= 0)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302198402",
      "id" : 302198402,
      "in_reply_to_id" : 300789988,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjE5ODQwMg==",
      "original_commit_id" : "54cd63a5ff82e6ae0440919eba646bddadc47e4e",
      "original_position" : 93,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 90,
      "pull_request_review_id" : 260257626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302198402",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302198828"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302198828"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Do we need to support both named args like getblock? I don't really know the story on this.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T18:00:32Z",
      "diff_hunk" : "@@ -2388,6 +2487,7 @@ static const CRPCCommand commands[] =\n     { \"blockchain\",         \"getbestblockhash\",       &getbestblockhash,       {} },\n     { \"blockchain\",         \"getblockcount\",          &getblockcount,          {} },\n     { \"blockchain\",         \"getblock\",               &getblock,               {\"blockhash\",\"verbosity|verbose\"} },\n+    { \"blockchain\",         \"getblockbyheight\",       &getblockbyheight,       {\"blockheight\",\"verbosity|verbose\"} },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302198828",
      "id" : 302198828,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjE5ODgyOA==",
      "original_commit_id" : "f0a41d5853a0c98e210bd74d990c240c1c0dec67",
      "original_position" : 110,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 108,
      "pull_request_review_id" : 260257626,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302198828",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302199781"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302199781"
         }
      },
      "author_association" : "MEMBER",
      "body" : "also, exercising the 2nd arg once in the test would be :+1: ",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T18:02:45Z",
      "diff_hunk" : "@@ -307,6 +309,13 @@ def assert_waitforheight(height, timeout=2):\n         assert_waitforheight(current_height)\n         assert_waitforheight(current_height + 1)\n \n+    def _test_getblockbyheight(self):\n+        self.log.info(\"Test getblockbyheight\")\n+        node = self.nodes[0]\n+        node.add_p2p_connection(P2PInterface())\n+        assert_equal(node.getblock(node.getblockhash(20)), node.getblockbyheight(20))\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302199781",
      "id" : 302199781,
      "in_reply_to_id" : 302196460,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjE5OTc4MQ==",
      "original_commit_id" : "6c1f05bd33c13c1c829f7e6a3b31586a41887d5a",
      "original_position" : 25,
      "path" : "test/functional/rpc_blockchain.py",
      "position" : 25,
      "pull_request_review_id" : 260264569,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302199781",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302201835"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302201835"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I've written you a message on freenode if you are `instagibbs` there. Can we discuss this here?\r\nI would post the chat log here afterwards with your permission",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T18:07:30Z",
      "diff_hunk" : "@@ -1013,21 +1013,18 @@ static UniValue getblockbyheight(const JSONRPCRequest& request)\n \n     CBlock block;\n     CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n-    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302201835",
      "id" : 302201835,
      "in_reply_to_id" : 302194093,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjIwMTgzNQ==",
      "original_commit_id" : "6c1f05bd33c13c1c829f7e6a3b31586a41887d5a",
      "original_position" : 4,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260267077,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302201835",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302201939"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302201939"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T18:07:46Z",
      "diff_hunk" : "@@ -940,6 +940,105 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302201939",
      "id" : 302201939,
      "in_reply_to_id" : 302195289,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjIwMTkzOQ==",
      "original_commit_id" : "f0a41d5853a0c98e210bd74d990c240c1c0dec67",
      "original_position" : 73,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260267219,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302201939",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302202611"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302202611"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Same, the reason why the RPC call is very similar to getblock is becuase I have forked it. That's why I also removed some of the legacy getblock stuff",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T18:09:18Z",
      "diff_hunk" : "@@ -2388,6 +2487,7 @@ static const CRPCCommand commands[] =\n     { \"blockchain\",         \"getbestblockhash\",       &getbestblockhash,       {} },\n     { \"blockchain\",         \"getblockcount\",          &getblockcount,          {} },\n     { \"blockchain\",         \"getblock\",               &getblock,               {\"blockhash\",\"verbosity|verbose\"} },\n+    { \"blockchain\",         \"getblockbyheight\",       &getblockbyheight,       {\"blockheight\",\"verbosity|verbose\"} },",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302202611",
      "id" : 302202611,
      "in_reply_to_id" : 302198828,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjIwMjYxMQ==",
      "original_commit_id" : "f0a41d5853a0c98e210bd74d990c240c1c0dec67",
      "original_position" : 110,
      "path" : "src/rpc/blockchain.cpp",
      "position" : 108,
      "pull_request_review_id" : 260268055,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302202611",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302207953"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302207953"
         }
      },
      "author_association" : "MEMBER",
      "body" : "we fixed this on the interwebs :+1: ",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T18:22:18Z",
      "diff_hunk" : "@@ -1013,21 +1013,18 @@ static UniValue getblockbyheight(const JSONRPCRequest& request)\n \n     CBlock block;\n     CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n-    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302207953",
      "id" : 302207953,
      "in_reply_to_id" : 302194093,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjIwNzk1Mw==",
      "original_commit_id" : "6c1f05bd33c13c1c829f7e6a3b31586a41887d5a",
      "original_position" : 4,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260274724,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302207953",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/5767891?v=4",
         "events_url" : "https://api.github.com/users/instagibbs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/instagibbs/followers",
         "following_url" : "https://api.github.com/users/instagibbs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/instagibbs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/instagibbs",
         "id" : 5767891,
         "login" : "instagibbs",
         "node_id" : "MDQ6VXNlcjU3Njc4OTE=",
         "organizations_url" : "https://api.github.com/users/instagibbs/orgs",
         "received_events_url" : "https://api.github.com/users/instagibbs/received_events",
         "repos_url" : "https://api.github.com/users/instagibbs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/instagibbs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/instagibbs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302209396"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302209396"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "For future readers: https://pastebin.com/33uYhx7i",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-10T18:25:53Z",
      "diff_hunk" : "@@ -1013,21 +1013,18 @@ static UniValue getblockbyheight(const JSONRPCRequest& request)\n \n     CBlock block;\n     CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];\n-    uint256 hash(ParseHashV(pblockindex->GetBlockHash().GetHex(), \"blockhash\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302209396",
      "id" : 302209396,
      "in_reply_to_id" : 302194093,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjIwOTM5Ng==",
      "original_commit_id" : "6c1f05bd33c13c1c829f7e6a3b31586a41887d5a",
      "original_position" : 4,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260276533,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302209396",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302401670"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302401670"
         }
      },
      "author_association" : "MEMBER",
      "body" : " this should have `cs_main` locked?",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-11T07:37:46Z",
      "diff_hunk" : "@@ -940,6 +940,102 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302401670",
      "id" : 302401670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjQwMTY3MA==",
      "original_commit_id" : "ac13a74c6e35acfca3906e0856a8f7f5e23a3230",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260516295,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302401670",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302401871"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302401871"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit, add `{}`",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-11T07:38:23Z",
      "diff_hunk" : "@@ -940,6 +940,103 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302401871",
      "id" : 302401871,
      "in_reply_to_id" : 301323670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjQwMTg3MQ==",
      "original_commit_id" : "41c165266f86416fe96ad5f495b73ba9147843f2",
      "original_position" : 72,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260516295,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302401871",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Why does travis starts responding with errors?\r\nThe codebase hasn't changed",
      "created_at" : "2019-07-11T17:00:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-510569594",
      "id" : 510569594,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMDU2OTU5NA==",
      "updated_at" : "2019-07-11T17:00:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/510569594",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302648697"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302648697"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Why?\r\n",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-11T17:01:06Z",
      "diff_hunk" : "@@ -940,6 +940,102 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302648697",
      "id" : 302648697,
      "in_reply_to_id" : 302401670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjY0ODY5Nw==",
      "original_commit_id" : "ac13a74c6e35acfca3906e0856a8f7f5e23a3230",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260834140,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302648697",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302672478"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302672478"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Because the chain \"can\" change concurrently. Similarly, note that below `cs_main` is locked in order to access the chain tip.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-11T17:59:04Z",
      "diff_hunk" : "@@ -940,6 +940,102 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302672478",
      "id" : 302672478,
      "in_reply_to_id" : 302401670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjY3MjQ3OA==",
      "original_commit_id" : "ac13a74c6e35acfca3906e0856a8f7f5e23a3230",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260864002,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302672478",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302673916"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302673916"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Also note that `getblockhash` RPC also locks `cs_main`.",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-11T18:02:34Z",
      "diff_hunk" : "@@ -940,6 +940,102 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302673916",
      "id" : 302673916,
      "in_reply_to_id" : 302401670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjY3MzkxNg==",
      "original_commit_id" : "ac13a74c6e35acfca3906e0856a8f7f5e23a3230",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260865804,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302673916",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302718574"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302718574"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Ok, I will change this tomorrow",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-11T20:01:29Z",
      "diff_hunk" : "@@ -940,6 +940,102 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r302718574",
      "id" : 302718574,
      "in_reply_to_id" : 302401670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMjcxODU3NA==",
      "original_commit_id" : "ac13a74c6e35acfca3906e0856a8f7f5e23a3230",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 260923612,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/302718574",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\nNACK for another rpc call. The reason #8457 was rejected was due to overloading APIs however this is invalidated by the existence of getblockstats.",
      "created_at" : "2019-07-12T10:40:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-510840305",
      "id" : 510840305,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMDg0MDMwNQ==",
      "updated_at" : "2019-07-12T10:40:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/510840305",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/10046315?v=4",
         "events_url" : "https://api.github.com/users/abitfan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/abitfan/followers",
         "following_url" : "https://api.github.com/users/abitfan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/abitfan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/abitfan",
         "id" : 10046315,
         "login" : "abitfan",
         "node_id" : "MDQ6VXNlcjEwMDQ2MzE1",
         "organizations_url" : "https://api.github.com/users/abitfan/orgs",
         "received_events_url" : "https://api.github.com/users/abitfan/received_events",
         "repos_url" : "https://api.github.com/users/abitfan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/abitfan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/abitfan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/abitfan"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@abitfan See #16317",
      "created_at" : "2019-07-12T17:35:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-510970526",
      "id" : 510970526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMDk3MDUyNg==",
      "updated_at" : "2019-07-12T17:35:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/510970526",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Seems that travis failed again, I will check the code again",
      "created_at" : "2019-07-12T18:45:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-510992631",
      "id" : 510992631,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMDk5MjYzMQ==",
      "updated_at" : "2019-07-12T18:45:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/510992631",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r303141331"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303141331"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Where I need to LOCK?",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-12T20:40:07Z",
      "diff_hunk" : "@@ -940,6 +940,102 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r303141331",
      "id" : 303141331,
      "in_reply_to_id" : 302401670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMzE0MTMzMQ==",
      "original_commit_id" : "ac13a74c6e35acfca3906e0856a8f7f5e23a3230",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 261465951,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303141331",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r303143169"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303143169"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You could move this line down to where you already lock\r\n```suggestion\r\n    CBlockIndex* pblockindex;\r\n```",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-12T20:45:56Z",
      "diff_hunk" : "@@ -940,6 +940,102 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r303143169",
      "id" : 303143169,
      "in_reply_to_id" : 302401670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMzE0MzE2OQ==",
      "original_commit_id" : "ac13a74c6e35acfca3906e0856a8f7f5e23a3230",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 261468231,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303143169",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r303145312"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303145312"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Thank you, I thought I would need a new lock",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-12T20:53:01Z",
      "diff_hunk" : "@@ -940,6 +940,102 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r303145312",
      "id" : 303145312,
      "in_reply_to_id" : 302401670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMzE0NTMxMg==",
      "original_commit_id" : "ac13a74c6e35acfca3906e0856a8f7f5e23a3230",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 261470980,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303145312",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Finally Travis has succeeded. I will do some small changes to the code which were suggested above and then this can be merged I think.",
      "created_at" : "2019-07-12T21:18:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-511036416",
      "id" : 511036416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMTAzNjQxNg==",
      "updated_at" : "2019-07-12T21:18:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/511036416",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "What is wrong with `getblock(getblockhash(<height>))`?\r\nIs the intention of this PR to increase fetch performance by height?",
      "created_at" : "2019-07-12T21:36:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-511041222",
      "id" : 511041222,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMTA0MTIyMg==",
      "updated_at" : "2019-07-12T21:36:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/511041222",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonasschnelli Such a feature get requested a lot",
      "created_at" : "2019-07-12T21:39:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-511042233",
      "id" : 511042233,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMTA0MjIzMw==",
      "updated_at" : "2019-07-12T21:39:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/511042233",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r303160775"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303160775"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Done",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-12T21:53:55Z",
      "diff_hunk" : "@@ -940,6 +940,102 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1)\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex = ::ChainActive()[request.params[0].get_int()];",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r303160775",
      "id" : 303160775,
      "in_reply_to_id" : 302401670,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwMzE2MDc3NQ==",
      "original_commit_id" : "ac13a74c6e35acfca3906e0856a8f7f5e23a3230",
      "original_position" : 76,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 261490257,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/303160775",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16439](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16439.html) (RPC: support \"@height\" in place of blockhash for getblock etc by ajtowns)\n* [#16365](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16365.html) (Log RPC parameters (arguments) if -debug=rpcparams by LarryRuane)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2019-07-13T05:05:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-511089299",
      "id" : 511089299,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMTA4OTI5OQ==",
      "updated_at" : "2019-07-24T22:16:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/511089299",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> An alternative to overloading `hash` in `getblock` is to add an extra parameter to `getblock`, like:\r\n> \r\n> ```\r\n> getblock hash ( height )\r\n> ```\r\n> \r\n> Then:\r\n> \r\n>     * if `hash` is null then use height\r\n> \r\n>     * if both are set then they must match.\r\n> \r\n> \r\n> This would look good if called with named parameter `getblock(height=20)`.\r\n\r\nI think I agree with this -- here's a draft of what that might look like shamelessly built on top of this PR while removing most of it :) https://github.com/ajtowns/bitcoin/commit/cf0868719748e2bb4f0394924245d4212d0f4260 \r\n\r\n@emilengler Feel free to steal the patch, merge it into your own, take the credit, do what you like; or ignore it and get this merged, whatever :)",
      "created_at" : "2019-07-16T15:16:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-511861339",
      "id" : 511861339,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMTg2MTMzOQ==",
      "updated_at" : "2019-07-16T15:16:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/511861339",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm unsure about this. Overlapping features for a machine-2-machine API (our RPC API) seems non-ideal to me.\r\nIMO `getblockhash` (or `/rest/blockhashbyheight`) is the one call that deals with heights.\r\n\r\nI would accept the argument that performance is an issue (since one needs to execute two calls for getting a block at a certain height),... but since the RPC interface with its JSON overhead is already slow, I don't think it matters that much.\r\n\r\nMy humble opinion is to avoid adding client features on the server-side.",
      "created_at" : "2019-07-16T15:32:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-511867759",
      "id" : 511867759,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMTg2Nzc1OQ==",
      "updated_at" : "2019-07-16T15:32:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/511867759",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jonasschnelli #16317 \r\nThe feature get requested a lot (around once or twice per semester).\r\nI think it should be added to to lots of requests.\r\nIt wouldn't make in terms of speed such a difference.\r\nIt is even slower to first call getblockhash and then getblock",
      "created_at" : "2019-07-17T15:30:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512331736",
      "id" : 512331736,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMjMzMTczNg==",
      "updated_at" : "2019-07-17T15:30:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/512331736",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@emilengler note that this call can't be cached whereas getblock by hash can.\r\n\r\n> I think it should be added to to lots of requests.\r\n\r\nWhat you mean?\r\n\r\n> It is even slower to first call getblockhash and then getblock\r\n\r\nDo you have numbers to prove this? I suspect it is far from being a bottleneck.",
      "created_at" : "2019-07-17T15:40:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512335808",
      "id" : 512335808,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMjMzNTgwOA==",
      "updated_at" : "2019-07-17T15:40:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/512335808",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag First there was a type sorry\r\nI meant:\r\n_I think it should be added due to lots of requests._\r\n\r\nTo the second point: I don't have numbers to prove it but I'm very sure that 2 separate calls are slower.",
      "created_at" : "2019-07-17T15:44:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512337339",
      "id" : 512337339,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMjMzNzMzOQ==",
      "updated_at" : "2019-07-17T15:44:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/512337339",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I know it's slower, but how much? How much this saves?",
      "created_at" : "2019-07-17T15:53:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512341362",
      "id" : 512341362,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMjM0MTM2Mg==",
      "updated_at" : "2019-07-17T15:53:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/512341362",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think speed is a good rationale for this PR. If speed was really a concern, you wouldn't be using Bitcoin Core RPCs in the first place.\r\n\r\nThe only real reason to want this is convenience. I'm sure that's the real reason this is often requested, and I'm mildly in favor of it because of that.",
      "created_at" : "2019-07-17T16:45:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512361535",
      "id" : 512361535,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMjM2MTUzNQ==",
      "updated_at" : "2019-07-17T16:45:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/512361535",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "See also \" GUI: Add generate method #16000 \".\r\n\r\nBasically it would be nice to have a way to set aliases like `generate=generatetoaddress(getnewaddress())` or `getblockbyheight=getblock(getblockhash($1))`.  This is really easy if you call the rpc from bash or python, but not when calling from the gui.",
      "created_at" : "2019-07-17T17:16:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512414974",
      "id" : 512414974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMjQxNDk3NA==",
      "updated_at" : "2019-07-17T17:16:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/512414974",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The only real reason to want this is convenience.\r\n\r\nHow about just treating a blockhash `\"@123\"` as a request of the block at height 123, rather than an error for not being 64 hex digits? That's pretty convenient for manual use from the cli and gui, and pretty easy to code (and thus to do for other RPCs that want a block hash):\r\n\r\n    $ bitcoin-cli -regtest getblock $(bitcoin-cli -regtest getblockhash 0) | grep ^...hash\r\n      \"hash\": \"0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206\",\r\n    $ bitcoin-cli -regtest getblock @0 | grep ^...hash\r\n      \"hash\":  \"0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206\",\r\n\r\n```diff\r\n+inline uint256 GetBlockHashFromParam(const UniValue& param, const std::string& name) EXCLUSIVE_LOCKS_REQUIRED(cs_main)\r\n+{\r\n+    const std::string& v = param.get_str();\r\n+    if (v.size() > 1 && v[0] == '@') {\r\n+        // treat as height, and lookup\r\n+        int32_t height;\r\n+        if (!ParseInt32(v.substr(1), &height)) {\r\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, strprintf(\"Target block height %s must be @ followed by a number\", v));\r\n+        }\r\n+        if (height < 0) {\r\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, strprintf(\"Target block height %d is negative\", height));\r\n+        }\r\n+        const int current_tip = ::ChainActive().Height();\r\n+        if (height > current_tip) {\r\n+            throw JSONRPCError(RPC_INVALID_PARAMETER, strprintf(\"Target block height %d after current tip %d\", height, current_tip));\r\n+        }\r\n+        return *(::ChainActive()[height]->phashBlock);\r\n+    } else {\r\n+        return ParseHashV(param, name);\r\n+    }\r\n+}\r\n+\r\n static UniValue getblock(const JSONRPCRequest& request)\r\n {\r\n     const RPCHelpMan help{\"getblock\",\r\n@@ -904,8 +926,6 @@ static UniValue getblock(const JSONRPCRequest& request)\r\n         throw std::runtime_error(help.ToString());\r\n     }\r\n \r\n-    uint256 hash(ParseHashV(request.params[0], \"blockhash\"));\r\n-\r\n     int verbosity = 1;\r\n     if (!request.params[1].isNull()) {\r\n         if(request.params[1].isNum())\r\n@@ -919,6 +939,7 @@ static UniValue getblock(const JSONRPCRequest& request)\r\n     const CBlockIndex* tip;\r\n     {\r\n         LOCK(cs_main);\r\n+        uint256 hash(GetBlockHashFromParam(request.params[0], \"blockhash\"));\r\n         pblockindex = LookupBlockIndex(hash);\r\n         tip = ::ChainActive().Tip();\r\n```",
      "created_at" : "2019-07-18T01:05:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512624370",
      "id" : 512624370,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMjYyNDM3MA==",
      "updated_at" : "2019-07-18T01:05:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/512624370",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ajtowns I think it is better to have a seperate command for this. This could cause confusion",
      "created_at" : "2019-07-18T15:42:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512871611",
      "id" : 512871611,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMjg3MTYxMQ==",
      "updated_at" : "2019-07-18T15:42:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/512871611",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Concept NAK from me sorry, please provide benchmarks to support the new RPC - which IMO is the only valid reason to add redundancy to the RPC interface.",
      "created_at" : "2019-07-18T15:49:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512874508",
      "id" : 512874508,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMjg3NDUwOA==",
      "updated_at" : "2019-07-18T15:49:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/512874508",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This would make it even faster to get a block just by its height. Currently you need to execute two separate commands which is slower and more complicated in two ways: For the machine and for the user and such a feature get requested a lot",
      "created_at" : "2019-07-18T19:51:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-512962108",
      "id" : 512962108,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMjk2MjEwOA==",
      "updated_at" : "2019-07-18T19:51:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/512962108",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I went ahead and made a quick profile:\r\n```py\r\ncount = 5000\r\nnode.generate(count)\r\n\r\nfor i in range(count):\r\n    node.getblock(self.nodes[0].getblockhash(i))\r\n\r\n# takes ~ 3742ms\r\n\r\nfor i in range(count):\r\n    node.getblockbyheight(i)\r\n\r\n# takes ~ 2193ms\r\n```\r\nNote that it fetches 5000 blocks but these are really small blocks and you should try with bigger blocks - I think it will make a difference in the comparison - I mean `getblockbyheight` would just be slightly faster.",
      "created_at" : "2019-07-18T21:52:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-513002784",
      "id" : 513002784,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMzAwMjc4NA==",
      "updated_at" : "2019-07-18T21:53:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/513002784",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag Thanks for doing the test but it is even faster for the user to type the command",
      "created_at" : "2019-07-19T15:34:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-513275025",
      "id" : 513275025,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMzI3NTAyNQ==",
      "updated_at" : "2019-07-19T15:34:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/513275025",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Currently there are:\r\n3 ACKs\r\n1 NACK",
      "created_at" : "2019-07-20T13:06:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-513466136",
      "id" : 513466136,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxMzQ2NjEzNg==",
      "updated_at" : "2019-07-20T13:06:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/513466136",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r305837407"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/305837407"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "`hash` isn't used",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-22T13:13:41Z",
      "diff_hunk" : "@@ -940,6 +940,104 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+    }\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex;\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        // Get index and hash\n+        pblockindex = ::ChainActive()[request.params[0].get_int()];\n+        uint256 hash(pblockindex->GetBlockHash());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r305837407",
      "id" : 305837407,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNTgzNzQwNw==",
      "original_commit_id" : "8d2c01f3413ad55c5b5056fb9aa6e801196a3a1b",
      "original_position" : 83,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 264805160,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/305837407",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r305982197"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/305982197"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "You're right",
      "commit_id" : "373401fa81e43886d43696d1a59cdd933a882b0d",
      "created_at" : "2019-07-22T18:56:37Z",
      "diff_hunk" : "@@ -940,6 +940,104 @@ static UniValue getblock(const JSONRPCRequest& request)\n     return blockToJSON(block, tip, pblockindex, verbosity >= 2);\n }\n \n+static UniValue getblockbyheight(const JSONRPCRequest& request)\n+{\n+    const RPCHelpMan help{\"getblockbyheight\",\n+                \"\\nIf verbosity is 0, returns a string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                \"If verbosity is 1, returns an Object with information about block <height>.\\n\"\n+                \"If verbosity is 2, returns an Object with information about block <height> and information about each transaction. \\n\",\n+                {\n+                    {\"blockheight\", RPCArg::Type::NUM, RPCArg::Optional::NO, \"The block height\"},\n+                    {\"verbosity\", RPCArg::Type::NUM, /* default */ \"1\", \"0 for hex-encoded data, 1 for a json object, and 2 for json object with transaction data\"},\n+                },\n+                {\n+                    RPCResult{\"for verbosity = 0\",\n+            \"\\\"data\\\"             (string) A string that is serialized, hex-encoded data for block 'height'.\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 1\",\n+            \"{\\n\"\n+            \"  \\\"hash\\\" : \\\"hash\\\",     (string) the block hash (same as provided)\\n\"\n+            \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n+            \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n+            \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n+            \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n+            \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n+            \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n+            \"  \\\"merkleroot\\\" : \\\"xxxx\\\", (string) The merkle root\\n\"\n+            \"  \\\"tx\\\" : [               (array of string) The transaction ids\\n\"\n+            \"     \\\"transactionid\\\"     (string) The transaction id\\n\"\n+            \"     ,...\\n\"\n+            \"  ],\\n\"\n+            \"  \\\"time\\\" : ttt,          (numeric) The block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"mediantime\\\" : ttt,    (numeric) The median block time in seconds since epoch (Jan 1 1970 GMT)\\n\"\n+            \"  \\\"nonce\\\" : n,           (numeric) The nonce\\n\"\n+            \"  \\\"bits\\\" : \\\"1d00ffff\\\", (string) The bits\\n\"\n+            \"  \\\"difficulty\\\" : x.xxx,  (numeric) The difficulty\\n\"\n+            \"  \\\"chainwork\\\" : \\\"xxxx\\\",  (string) Expected number of hashes required to produce the chain up to this block (in hex)\\n\"\n+            \"  \\\"nTx\\\" : n,             (numeric) The number of transactions in the block.\\n\"\n+            \"  \\\"previousblockhash\\\" : \\\"hash\\\",  (string) The hash of the previous block\\n\"\n+            \"  \\\"nextblockhash\\\" : \\\"hash\\\"       (string) The hash of the next block\\n\"\n+            \"}\\n\"\n+                    },\n+                    RPCResult{\"for verbosity = 2\",\n+            \"{\\n\"\n+            \"  ...,                     Same output as verbosity = 1.\\n\"\n+            \"  \\\"tx\\\" : [               (array of Objects) The transactions in the format of the getrawtransaction RPC. Different from verbosity = 1 \\\"tx\\\" result.\\n\"\n+            \"         ,...\\n\"\n+            \"  ],\\n\"\n+            \"  ,...                     Same output as verbosity = 1.\\n\"\n+            \"}\\n\"\n+                    },\n+                },\n+                RPCExamples{\n+                    HelpExampleCli(\"getblockbyheight\", \"0\")\n+            + HelpExampleRpc(\"getblockbyheight\", \"42\")\n+                },\n+    };\n+\n+    if (request.fHelp || !help.IsValidNumArgs(request.params.size()))\n+        throw std::runtime_error(help.ToString());\n+\n+    int verbosity = 1;\n+    if (!request.params[1].isNull()) {\n+        if(request.params[1].isNum())\n+            verbosity = request.params[1].get_int();\n+        else\n+            verbosity = request.params[1].get_bool() ? 1 : 0;\n+    }\n+\n+    // Check if block exists or is negative\n+    if(::ChainActive().Height() < request.params[0].get_int() || request.params[0].get_int() <= -1) {\n+        throw JSONRPCError(RPC_INVALID_PARAMETER, \"Block \" + std::to_string(request.params[0].get_int()) + \" not found\");\n+    }\n+\n+    CBlock block;\n+    CBlockIndex* pblockindex;\n+    const CBlockIndex* tip;\n+    {\n+        LOCK(cs_main);\n+        // Get index and hash\n+        pblockindex = ::ChainActive()[request.params[0].get_int()];\n+        uint256 hash(pblockindex->GetBlockHash());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#discussion_r305982197",
      "id" : 305982197,
      "in_reply_to_id" : 305837407,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMwNTk4MjE5Nw==",
      "original_commit_id" : "8d2c01f3413ad55c5b5056fb9aa6e801196a3a1b",
      "original_position" : 83,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 264991512,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/16345",
      "updated_at" : "2019-07-22T19:00:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/305982197",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Note that it fetches 5000 blocks but these are really small blocks and you should try with bigger blocks - I think it will make a difference in the comparison - I mean `getblockbyheight` would just be slightly faster.\r\n\r\nIt looks like even with bigger blocks avoiding the two RPCs is a fair bit faster:\r\n\r\n```\r\n$ time for a in `seq 400000 400500`; do bitcoin-cli getblock $(bitcoin-cli getblockhash $a); done | grep -v '\"confirmations\":' | sha256sum\r\n28620dea517c27debd958345197dc911f2fe95934742293548e79cd673bfae40  -\r\n\r\nreal\t0m15.763s\r\n$ time for a in `seq 400000 400500`; do ./bitcoin-cli getblockbyheight $a; done | grep -v '\"confirmations\":' | sha256sum\r\n28620dea517c27debd958345197dc911f2fe95934742293548e79cd673bfae40  -\r\n\r\nreal\t0m11.514s\r\n$ time for a in `seq 400000 400500`; do bitcoin-cli getblock $(bitcoin-cli getblockhash $a); done | grep -v '\"confirmations\":' | sha256sum\r\n28620dea517c27debd958345197dc911f2fe95934742293548e79cd673bfae40  -\r\n\r\nreal\t0m15.408s\r\n```",
      "created_at" : "2019-07-23T05:14:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-514057030",
      "id" : 514057030,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDA1NzAzMA==",
      "updated_at" : "2019-07-23T05:14:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514057030",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> @emilengler note that this call can't be cached whereas getblock by hash can.\r\n\r\nStrictly speaking, \"getblock(hash)\" can't be cached either, because it includes a \"confirmations\" key which changes every time a new block gets mined",
      "created_at" : "2019-07-23T09:15:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-514125792",
      "id" : 514125792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNDEyNTc5Mg==",
      "updated_at" : "2019-07-23T09:15:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/514125792",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm a mild concept NACK and an approach NACK on this.\r\n\r\n- mild concept NACK: unless there's a very compelling reason, I don't think the RPC interface should offer redundant ways to do the same thing. Increasing the surface area of the RPC interface increases the maintenance burden, so we should try to keep it minimal wherever possible.\r\n- approach NACK: this approach duplicates a lot of code, both in the implementation and in the RPC help text. That could be improved by factoring both the logic and help text out, and calling it from both `getblock` and `getblockatheight`.\r\n\r\nOverall, I prefer #16439. I'm not a fan of magic incantations like `@height` in general, but that PR seems like a pretty clean implementation and there's absolutely no ambiguity between `getblock @height` and `getblock hash`.",
      "created_at" : "2019-07-30T15:42:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-516476034",
      "id" : 516476034,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjQ3NjAzNA==",
      "updated_at" : "2019-07-30T15:42:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516476034",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@emilengler re: your question in IRC\r\n\r\n> [01:04:54] \\<emilengler> How the CTRL+L shortcut is being handled in bitcoin-qt? Over a QAction or a QShortcut?\r\n\r\nIt's just a property of the clear button https://github.com/bitcoin/bitcoin/blob/3f288a1c05ebcadd7d7709f81c77921ff9e27ba2/src/qt/forms/debugwindow.ui#L564-L566\r\n",
      "created_at" : "2019-07-31T14:28:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-516873288",
      "id" : 516873288,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjg3MzI4OA==",
      "updated_at" : "2019-07-31T14:28:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516873288",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@ryanofsky Thank you, already got this :)\r\nBut I don't think this is the right place to discuss this.\r\nAn IRC direct message had done the same",
      "created_at" : "2019-07-31T18:36:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/16345#issuecomment-516969568",
      "id" : 516969568,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16345",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxNjk2OTU2OA==",
      "updated_at" : "2019-07-31T18:36:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/516969568",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/12272949?v=4",
         "events_url" : "https://api.github.com/users/emilengler/events{/privacy}",
         "followers_url" : "https://api.github.com/users/emilengler/followers",
         "following_url" : "https://api.github.com/users/emilengler/following{/other_user}",
         "gists_url" : "https://api.github.com/users/emilengler/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/emilengler",
         "id" : 12272949,
         "login" : "emilengler",
         "node_id" : "MDQ6VXNlcjEyMjcyOTQ5",
         "organizations_url" : "https://api.github.com/users/emilengler/orgs",
         "received_events_url" : "https://api.github.com/users/emilengler/received_events",
         "repos_url" : "https://api.github.com/users/emilengler/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/emilengler/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/emilengler"
      }
   }
]
