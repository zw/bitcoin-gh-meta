{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "**Issue**\r\nWe're running bitcoind + lnd on a raspberry pi with several other pieces of software. Because we want bitcoind to be really light weight, we set the maxmempool to be 20 mb. We don't really care about having mempool data itself, but we do care about being able to create transactions and broadcast those transactions to the network.\r\n\r\nThe problem we've been running into is that when the mempool is constricted like this (20 mb limit), mempoolminfee seams to start out at 0.00000001 at boot time, but then gets larger the longer bitcoind is online. We typically create transactions at 1 sat_per_byte because we don't care about them being validated immediately. The problem is we're getting this `[lncli] rpc error: code = Unknown desc = -26: mempool min fee not met, 143 < 2005 (code 66)`. This error is of course being propagated by bitcoind.\r\n\r\nWe set `mintxfee` to `0.00000001` and even `minrelaytxfee` to `0.00000001`, but neither seem to stop mempoolminfee from increasing over time.\r\n\r\nIs there anyway to guarantee these transactions always get inserted into the mempool and broadcasted? I did some research and it looks like the mempool operates like that to avoid dos attacks. But, shouldn't rpc calls bypass these ddos issues. It makes sense that rpc calls should always work.\r\n\r\n**Expected Behavior**\r\nThere are two appropriate ways I think this could be handled. \r\n\r\n1. Creating a transaction via RPC should always be accepted by the local mempool and broadcasted to peers that will accept that feerate. \r\n2. Creating a transaction via RPC should always be broadcasted to peers that will accept that feerate. \r\n\r\n**Actual Behavior**\r\nThe RPC call fails with an error message similar to this `mempool min fee not met, 143 < 2005 `\r\n\r\n**Environment**\r\nWe compile our own docker containers. Important lines from the docker file are below. We are also using lnd 0.7.0. \r\n```\r\nFROM ubuntu:18.04\r\n\r\nARG VERSION=0.18.0\r\nENV BINARY_LINK https://bitcoin.org/bin/bitcoin-core-${VERSION}/bitcoin-${VERSION}-x86_64-linux-gnu.tar.gz\r\n```\r\n\r\n**Machine Info**\r\nThis specifically is happening on a raspberry pi 3b+. But, I believe it is not machine based. \r\n",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16304/comments",
   "created_at" : "2019-06-28T16:37:24Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16304/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/16304",
   "id" : 462118745,
   "labels" : [
      {
         "color" : "006688",
         "default" : false,
         "id" : 477890092,
         "name" : "Questions and Help",
         "node_id" : "MDU6TGFiZWw0Nzc4OTAwOTI=",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Questions%20and%20Help"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16304/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "MDU6SXNzdWU0NjIxMTg3NDU=",
   "number" : 16304,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Cannot create low fee transaction via RPC",
   "updated_at" : "2019-06-28T17:04:11Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/16304",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/2092944?v=4",
      "events_url" : "https://api.github.com/users/stridentbean/events{/privacy}",
      "followers_url" : "https://api.github.com/users/stridentbean/followers",
      "following_url" : "https://api.github.com/users/stridentbean/following{/other_user}",
      "gists_url" : "https://api.github.com/users/stridentbean/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/stridentbean",
      "id" : 2092944,
      "login" : "stridentbean",
      "node_id" : "MDQ6VXNlcjIwOTI5NDQ=",
      "organizations_url" : "https://api.github.com/users/stridentbean/orgs",
      "received_events_url" : "https://api.github.com/users/stridentbean/received_events",
      "repos_url" : "https://api.github.com/users/stridentbean/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/stridentbean/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/stridentbean/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/stridentbean"
   }
}
