[
   {
      "body" : "Looking at the code, it seems to me that verification will have the exact same problem. That is,\r\n\r\n`addr.GetKeyID(keyID)`\r\n\r\nwill return false.",
      "created_at" : "2017-06-06T17:53:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306565856",
      "id" : 306565856,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T17:53:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306565856",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/104945?v=3",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "body" : "The address is a p2sh address, it doesn't have an associated public or private key to sign and verify messages with.",
      "created_at" : "2017-06-06T18:05:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306569458",
      "id" : 306569458,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T18:05:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306569458",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "I don't understand\r\n\r\nIt does have associated private key - the same private key as the first address I get from `bitcoin-cli getnewaddress`. I was under the impression that is what `addwitnessaddress` does (as was explained to me here - https://bitcoin.stackexchange.com/questions/52961/can-i-get-the-wallet-in-bitcoind-to-use-p2sh-segwit-on-testnet )",
      "created_at" : "2017-06-06T18:07:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306570067",
      "id" : 306570067,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T18:07:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306570067",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/104945?v=3",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "body" : "Yes, but it is still technically a P2SH address and is treated as such. The underlying script has a private key associated with it, but not the address itself.",
      "created_at" : "2017-06-06T18:21:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306573998",
      "id" : 306573998,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T18:21:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306573998",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "The confusion here comes from the ambiguitiy in whether an address is an identifier of a key, or a shorthand for a script.\r\n\r\nIn the time when there was only one type of addresses, this was an innocent confusion to have: every address was indeed a shorthand for a P2PKH script, but also uniquely identified a private/public keypair. This is exploited in the `signmessage` command. It works with keys, not addresses, but uses addresses to refer to these keys.\r\n\r\nSince P2SH, and certainly now with P2WSH/P2WPKH, this no longer works. You can't sign with an arbitrary P2SH address - even if you have the key for it - since the receiver wouldn't have the public key to verify with.",
      "created_at" : "2017-06-06T18:29:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306576290",
      "id" : 306576290,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T18:29:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306576290",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "IMO it is intentional that the old sign/verify message does not work with P2SH/newer addresses. If someone wants to do message signing as a non-obsolete thing, I would recommend writing a BIP that specifies how to handle it for newer address formats, and fixes the confusion surrounding it (I have seen people try to use signed messages to prove they sent bitcoins, which the current stuff does NOT prove.)\r\n\r\nIn the meantime, perhaps verifymessage ought to throw an error rather than returning false?",
      "created_at" : "2017-06-06T18:45:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306580532",
      "id" : 306580532,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T18:45:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306580532",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "> You can't sign with an arbitrary P2SH address\r\n\r\nBut you can sight with *your* P2SH address that you have private key to, right?\r\n\r\nAnd similarly, if the receiver knows that the address is \"nested witness address\", he can check whether a given public key belongs to that address.\r\n\r\nI am not talking about arbitrary P2SH addresses, but really when the receiver knows it's \"nested witness\" address.",
      "created_at" : "2017-06-06T18:46:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306580829",
      "id" : 306580829,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T18:46:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306580829",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/104945?v=3",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "body" : "> But you can sight with your P2SH address that you have private key to, right?\r\n\r\nNo, you can't.\r\n\r\n> And similarly, if the receiver knows that the address is \"nested witness address\", he can check whether a given public key belongs to that address.\r\n\r\n> I am not talking about arbitrary P2SH addresses, but really when the receiver knows it's \"nested witness\" address.\r\n\r\nThere is no way for the software that is verifying the signature to know whether the public key corresponds to a nested-p2wpkh address. It simply does not know what p2sh address it would correspond to since a public key can be a part of multiple p2sh addresses. The reason it works for p2pkh is because a public key can only correspond to one p2pkh address.",
      "created_at" : "2017-06-06T18:52:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306582526",
      "id" : 306582526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T18:52:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306582526",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "body" : "Oh. I thought (pubkey) -> (nested-p2wpkh address) function is deterministic, based on BIP 141.",
      "created_at" : "2017-06-06T18:57:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306583870",
      "id" : 306583870,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T18:57:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306583870",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/104945?v=3",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "body" : "> Oh. I thought (pubkey) -> (nested-p2wpkh address) function is deterministic, based on BIP 141.\r\n\r\nIt is.\r\n\r\nAnd it would in theory be possible to make `signmessage` work for a P2SH-P2WPKH address, in cases where the verifier knows the embedded pubkeyhash already. But in that case you don't need \"sign with a witness address\" functionality - you could just sign with the embedded key (see `validateaddress`), and have the verifier check that.\r\n\r\nThe point is to not further the misunderstanding that `signmessage` signs with an address - it never did. It signs with a keyhash, and verify with a keyhash.",
      "created_at" : "2017-06-06T18:59:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306584383",
      "id" : 306584383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T19:00:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306584383",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "So, in theory, the current behaviour could be \"emulated\" by using some different format, where the address would have to be P2SH-PWPKH and the pubkeyhash would be the part of the signature somehow.\r\n\r\nHowever, that would need some new standards for the new types of addresses, as @luke-jr noted. And it's a question if it's worth it.\r\n\r\nGot it. Thanks for the comments. Should I close the issue now?",
      "created_at" : "2017-06-06T20:01:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306600298",
      "id" : 306600298,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T20:01:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306600298",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/104945?v=3",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "body" : "nope I still misunderstood all the formats, sorry. It could still be possible now I think.\r\n\r\nSince you have to recover pubkey from the signature right now, you can go to pubkeyhash and scripthash, given you somehow know the script format (in this case, p2sh-p2wpkh).\r\n\r\nThe signer would sign the message with his private key; the verifier would try that the pubkey in the signature generates the given address through p2sh, which would mean the signature is valid.\r\n\r\nThe only problem I can think of is that you are then proving both the ownership of the p2pkh and the p2s-p2wpkh addresses, but it doesn't really matter.",
      "created_at" : "2017-06-06T21:41:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306625741",
      "id" : 306625741,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T21:41:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306625741",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/104945?v=3",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "body" : "We constructed a new kind of signmessage for elements which is conceptually a lot better and supports arbitrary scripts-- but it immediately runs into a problem that softfork semantics only work within the context of a consensus network... it's not clear how to handle them.\r\n\r\nE.g. if a new softfork is defined on bitcoin and you make a pubkey that uses it... old verifiers need to return indeterminate-- before segwit script versioning this was intractable but it could be done now.",
      "created_at" : "2017-06-06T21:41:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306625829",
      "id" : 306625829,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-06-06T21:41:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/306625829",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "just for interest - our users (Trezor) are asking for this feature (on Litecoin addresses) and we will maybe have to write some custom format for this\r\n\r\nsee discussion here\r\n\r\nhttps://github.com/trezor/trezor-mcu/issues/169",
      "created_at" : "2017-07-17T18:22:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-315838851",
      "id" : 315838851,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-07-17T18:22:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/315838851",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/104945?v=4",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "body" : "> trezor/trezor-mcu#169\r\n\r\nTL;DR: As a quick solution we are thinking about using introducing more `v` values to distinguish among various address formats:\r\n\r\n> 35-38 p2sh segwit pubkey (base58)\r\n> 39-42 segwit pubkey (bech32)",
      "created_at" : "2017-07-18T11:12:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-316032523",
      "id" : 316032523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-07-18T17:32:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/316032523",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/42201?v=4",
         "events_url" : "https://api.github.com/users/prusnak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prusnak/followers",
         "following_url" : "https://api.github.com/users/prusnak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prusnak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prusnak",
         "id" : 42201,
         "login" : "prusnak",
         "organizations_url" : "https://api.github.com/users/prusnak/orgs",
         "received_events_url" : "https://api.github.com/users/prusnak/received_events",
         "repos_url" : "https://api.github.com/users/prusnak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prusnak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prusnak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prusnak"
      }
   },
   {
      "body" : "sign/verify for p2wpkh-in-p2sh is now implemented in trezor firmware (only in code now). See the linked discussion.",
      "created_at" : "2017-07-25T17:37:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-317812769",
      "id" : 317812769,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-07-25T17:37:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/317812769",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/104945?v=4",
         "events_url" : "https://api.github.com/users/runn1ng/events{/privacy}",
         "followers_url" : "https://api.github.com/users/runn1ng/followers",
         "following_url" : "https://api.github.com/users/runn1ng/following{/other_user}",
         "gists_url" : "https://api.github.com/users/runn1ng/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/runn1ng",
         "id" : 104945,
         "login" : "runn1ng",
         "organizations_url" : "https://api.github.com/users/runn1ng/orgs",
         "received_events_url" : "https://api.github.com/users/runn1ng/received_events",
         "repos_url" : "https://api.github.com/users/runn1ng/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/runn1ng/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/runn1ng/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/runn1ng"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "New dev mailinglist discussion [here](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-December/015374.html).",
      "created_at" : "2017-12-09T12:43:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-350459238",
      "id" : 350459238,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-12-09T12:43:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/350459238",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I'm currently working on it",
      "created_at" : "2017-12-18T15:17:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-352455378",
      "id" : 352455378,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-12-18T15:17:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352455378",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/13293315?v=4",
         "events_url" : "https://api.github.com/users/jakubtrnka/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jakubtrnka/followers",
         "following_url" : "https://api.github.com/users/jakubtrnka/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jakubtrnka/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jakubtrnka",
         "id" : 13293315,
         "login" : "jakubtrnka",
         "organizations_url" : "https://api.github.com/users/jakubtrnka/orgs",
         "received_events_url" : "https://api.github.com/users/jakubtrnka/received_events",
         "repos_url" : "https://api.github.com/users/jakubtrnka/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jakubtrnka/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jakubtrnka/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jakubtrnka"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jakubtrnka working on what?",
      "created_at" : "2017-12-18T15:24:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-352457579",
      "id" : 352457579,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-12-18T15:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352457579",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/42201?v=4",
         "events_url" : "https://api.github.com/users/prusnak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prusnak/followers",
         "following_url" : "https://api.github.com/users/prusnak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prusnak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prusnak",
         "id" : 42201,
         "login" : "prusnak",
         "organizations_url" : "https://api.github.com/users/prusnak/orgs",
         "received_events_url" : "https://api.github.com/users/prusnak/received_events",
         "repos_url" : "https://api.github.com/users/prusnak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prusnak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prusnak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prusnak"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@jakubtrnka are you working on BIP?",
      "created_at" : "2017-12-18T15:24:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-352457615",
      "id" : 352457615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-12-18T15:24:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352457615",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/104945?v=4",
         "events_url" : "https://api.github.com/users/karel-3d/events{/privacy}",
         "followers_url" : "https://api.github.com/users/karel-3d/followers",
         "following_url" : "https://api.github.com/users/karel-3d/following{/other_user}",
         "gists_url" : "https://api.github.com/users/karel-3d/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/karel-3d",
         "id" : 104945,
         "login" : "karel-3d",
         "organizations_url" : "https://api.github.com/users/karel-3d/orgs",
         "received_events_url" : "https://api.github.com/users/karel-3d/received_events",
         "repos_url" : "https://api.github.com/users/karel-3d/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/karel-3d/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/karel-3d/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/karel-3d"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "@prusnak I'm totally fine with extending signmessage using just new header bytes as you're suggesting:\r\n\r\n > 35-38 p2sh segwit pubkey (base58)\r\n > 39-42 segwit pubkey (bech32)\r\n\r\nAs SegWit keys are always compressed you only need 4 for each, indeed.",
      "created_at" : "2017-12-18T19:34:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-352534442",
      "id" : 352534442,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-12-18T19:34:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352534442",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@karel-3d @prusnak At first I'm going to implement verification for P2SH encapsulated P2WPKH. If that works then also \"signmessage\". This is not a problem. ECDSA enables to recover public key from signature [as described in ÃÂ§ 4.1.6 ](http://www.secg.org/sec1-v2.pdf). is actually very similar procedure of how \"normal\" message/address verification works, am I right? The public key is reconstructed from signature, hashed and compared. Right now the only way I found to verify such signatures is in Trezor web wallet. I didn't find anyone else working on this.",
      "created_at" : "2017-12-18T21:51:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-352569173",
      "id" : 352569173,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2017-12-18T21:52:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352569173",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/13293315?v=4",
         "events_url" : "https://api.github.com/users/jakubtrnka/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jakubtrnka/followers",
         "following_url" : "https://api.github.com/users/jakubtrnka/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jakubtrnka/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jakubtrnka",
         "id" : 13293315,
         "login" : "jakubtrnka",
         "organizations_url" : "https://api.github.com/users/jakubtrnka/orgs",
         "received_events_url" : "https://api.github.com/users/jakubtrnka/received_events",
         "repos_url" : "https://api.github.com/users/jakubtrnka/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jakubtrnka/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jakubtrnka/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jakubtrnka"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Shouldn't this be assigned to someone? Seems pretty important not to leave those migrating to SegWit addresses at a disadvantage compared to those sticking to legacy addresses.",
      "created_at" : "2018-02-11T11:48:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-364745546",
      "id" : 364745546,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-02-11T11:48:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/364745546",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/36365571?v=4",
         "events_url" : "https://api.github.com/users/NilByte/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NilByte/followers",
         "following_url" : "https://api.github.com/users/NilByte/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NilByte/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NilByte",
         "id" : 36365571,
         "login" : "NilByte",
         "organizations_url" : "https://api.github.com/users/NilByte/orgs",
         "received_events_url" : "https://api.github.com/users/NilByte/received_events",
         "repos_url" : "https://api.github.com/users/NilByte/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NilByte/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NilByte/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NilByte"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Please add the following reference to the use cases for this important feature in the GUI and add the appropriate tags/labels:  \r\nhttps://bitcoin.stackexchange.com/a/72281/75001\r\n\r\nThe desired result for this use case is that a message can be signed for any address in a given wallet verifying that the signer does indeed have the priv key for a given signing address in their wallet and, the balance of said address can then be inspected using blockchain.info or similar. Important for proof of holdings.\r\n\r\nI do not expect that blockchain.info will necessarily let you lookup the base address for a SegWit or Bech32 address? I can understand that it may be necessary for this use to possibly provide an additional field for the encoded resultant address (can be automatically populated) which if used should and different to the signing address (using GUI terminology) should be verified to be a correct resultant against the signing address or equal to it and, appended to the message before signing. The signed message will then be increased by two new lines and one address. (hopefully in the format `bitcoin:{address}`) This will need a mechanism to prevent fraud. - Or, can blockchain.info be updated to work if it currently won't?\r\n\r\n# Does blockchain.info show balances for addresses that are in cold storage?\r\n\r\nYes.\r\n\r\n>... is there any way for me in another country to confirm that what my colleague views is actually accurate and correct?\r\n\r\nSince they use Bitcoin Core, yes, there is a way to verify that they hold the addresses that they claim. Have them sign a message with each address that they claim to have the holdings on, using Bitcoin Core you can verify that they indeed have those addresses and check them on blockchain.info to find the current balance.\r\n\r\nOnly works in Bitcoin Core currently for addresses starting with a '1' (not Segwit addresses starting with a '3' and not Bech32 addresses starting with 'bc1' - the developers are aware of this and I will remind them shortly.)\r\n\r\nIn Bitcoin Core, your transaction opposite goes to File -> Sign Message and signs any message with one of the holding addresses. Copy the message, address and signature and send to you via probably plain text format email is the easiest. Repeat for each additional address holding the balance of BTC that they are offering to sell.\r\n\r\nIn Bitcoin Core, you go to File -> Verify Message and key the details provided EXACTLY - spaces, new lines and all characters must be an EXACT match. Click on verify and voilÃÂ .\r\n\r\nI prefer the form of signed message as follows (don't key the top and bottom bar rows for the message, just the contents and you can check this yourself, the bottom row is the signature). I like to key the address used for verifying as a part of the message but that is not strictly necessary:\r\n\r\n    ------------------------------\r\n    Something that I want to sign.\r\n    \r\n    bitcoin:1PMUf9aaQ41M4bgVbCAPVwAeuKvj8CwxJg\r\n    ------------------------------\r\n    Signture:\r\n    IGaXlQNRHHM6ferJ+Ocr3cN9dRJhIWxo+n9PGwgg1uPdOLVYIeCuaccEzDygVgYPJMXqmQeSaLaZVoG6FMHPJkg=\r\n\r\nThis contains all of the compact information necessary to verify the message.\r\n\r\nExample of verified message:  \r\n![verified message][1]\r\n\r\n[1]: https://i.stack.imgur.com/zv1xq.png ",
      "created_at" : "2018-03-13T13:21:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372662747",
      "id" : 372662747,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T21:51:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372662747",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Willtech Addresses do not have balances at all, and signed messages do not prove what that website claims they do.",
      "created_at" : "2018-03-13T13:28:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372664615",
      "id" : 372664615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T13:28:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372664615",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "So... this just isn't going to happen?",
      "created_at" : "2018-03-13T16:18:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372725068",
      "id" : 372725068,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T16:18:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372725068",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1364262?v=4",
         "events_url" : "https://api.github.com/users/EvilJordan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EvilJordan/followers",
         "following_url" : "https://api.github.com/users/EvilJordan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EvilJordan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EvilJordan",
         "id" : 1364262,
         "login" : "EvilJordan",
         "organizations_url" : "https://api.github.com/users/EvilJordan/orgs",
         "received_events_url" : "https://api.github.com/users/EvilJordan/received_events",
         "repos_url" : "https://api.github.com/users/EvilJordan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EvilJordan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EvilJordan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EvilJordan"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@EvilJordan we are eagerly awaiting your pull request...",
      "created_at" : "2018-03-13T16:24:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372727267",
      "id" : 372727267,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T16:24:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372727267",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@Sjors I wish I was smart enough to write one!",
      "created_at" : "2018-03-13T16:26:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372727952",
      "id" : 372727952,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T16:26:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372727952",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1364262?v=4",
         "events_url" : "https://api.github.com/users/EvilJordan/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EvilJordan/followers",
         "following_url" : "https://api.github.com/users/EvilJordan/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EvilJordan/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EvilJordan",
         "id" : 1364262,
         "login" : "EvilJordan",
         "organizations_url" : "https://api.github.com/users/EvilJordan/orgs",
         "received_events_url" : "https://api.github.com/users/EvilJordan/received_events",
         "repos_url" : "https://api.github.com/users/EvilJordan/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EvilJordan/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EvilJordan/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EvilJordan"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@luke-jr So a signed message does not prove that I have the key for that address in my wallet? And, I cannot use a block explorer like blockchain.info to find the current balance of utxo's for an address? Feel free to offer a suggested edit to my [answer](https://bitcoin.stackexchange.com/posts/72281/edit).\r\n\r\nI had hoped this would be easily sorted out after reading earlier the [comments](https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306584383) by @sipa ",
      "created_at" : "2018-03-13T20:52:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372814342",
      "id" : 372814342,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T20:58:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372814342",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Willtech That's correct, it does not prove you have the key, only that you are the recipient of any bitcoins sent to it. In particular, shared wallets (eg, MtGox, Coinbase, etc) *should and do* allow you to sign for your addresses, even though when you send to them, the UTXOs created do not belong to you specifically.\r\n\r\nAs with balances, addresses also do not have UTXOs. Once they receive coins, the UTXO created no longer has any relation to the address that received the coins.",
      "created_at" : "2018-03-13T20:58:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372816139",
      "id" : 372816139,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T21:15:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372816139",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@luke-jr In this case, the person puporting to offer some Bitcoin's for sale is a Bitcoin Core user. I can understand that the situation may be confusing if the wallet is with a web wallet provider, with address amalgamation and possibly multiple wallet accounts under one key set that you do not own.\r\n\r\nSurely utxo's stay associated to the receiving address? Okay, once again with web wallets, utxo's on the receiving address may have no relationship to your balance but, once again, you do not own the priv keys.\r\n\r\nI think that the whole idea of a web wallet is nice for people but I am yet to see an implementation that I like.",
      "created_at" : "2018-03-13T21:28:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372824691",
      "id" : 372824691,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T21:32:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372824691",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The message-verifier cannot prove the message-signer is using any particular software. And it's not a good idea to rely on accidental/unintended behaviour anyway.\r\n\r\nAddresses are intentionally explicitly opaque and disconnected from UTXOs and balances.",
      "created_at" : "2018-03-13T21:44:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372828973",
      "id" : 372828973,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T21:44:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372828973",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@luke-jr Okay, but then the message just should not verify if the same message signing rules are not used.\r\n\r\nIf I send 1BTC to {address} of mine then utxo does not move until I spend it. That is not opaque, unless you are once again referring to amalgamated web wallets. Utxo balances are distinct from wallet balances.",
      "created_at" : "2018-03-13T21:55:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372832054",
      "id" : 372832054,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T21:55:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372832054",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Willtech Core does not guarantee the behaviour you assume either. The message signing rules for signmessage guarantee only that the signer will receive coins sent to the address in question. It does not guarantee possession of a balance or UTXOs in any sense.",
      "created_at" : "2018-03-13T21:57:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372832806",
      "id" : 372832806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T21:57:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372832806",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@luke-jr How do you sign without the priv key proving ownership of the address and, in the case of a full node wallet, ownership of the utxo's?",
      "created_at" : "2018-03-13T22:00:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372833647",
      "id" : 372833647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T22:02:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372833647",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "OWNER",
      "body" : "Owning money and having access to private keys that can spend coins are independent concepts. Exchanges have private keys for UTXOs money they hold on behalf of their customers. They can clearly sign messages using those keys, but they certainly don't own all those coins.\n\n\n\n",
      "created_at" : "2018-03-13T22:08:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372835614",
      "id" : 372835614,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-13T22:08:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372835614",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@Willtech I'm not sure what you're asking. There is no mechanism that supports proving present ownership of UTXOs/coins (for messages, anyway).",
      "created_at" : "2018-03-14T01:17:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372872314",
      "id" : 372872314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-14T01:17:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372872314",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Well yes, but I am really only speaking about Bitcoin Core as in the use case. That's where we are after all.",
      "created_at" : "2018-03-14T07:59:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-372934927",
      "id" : 372934927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-14T08:00:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/372934927",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@luke-jr  Why would we need to prove ownership of specific UTXO? Neither do I understand how you mean that signature does not prove ownership of keys. I thought the whole idea of message signing is to prove the ability to spend UTXOs associated with specific keys, therefore key hashes, therefore addresses. So why not to allow to verify message-signatures associated with those public keys if it's possible given whatever address?",
      "created_at" : "2018-03-26T14:47:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-376192098",
      "id" : 376192098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "updated_at" : "2018-03-26T14:47:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376192098",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/13293315?v=4",
         "events_url" : "https://api.github.com/users/jakubtrnka/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jakubtrnka/followers",
         "following_url" : "https://api.github.com/users/jakubtrnka/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jakubtrnka/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jakubtrnka",
         "id" : 13293315,
         "login" : "jakubtrnka",
         "organizations_url" : "https://api.github.com/users/jakubtrnka/orgs",
         "received_events_url" : "https://api.github.com/users/jakubtrnka/received_events",
         "repos_url" : "https://api.github.com/users/jakubtrnka/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jakubtrnka/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jakubtrnka/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jakubtrnka"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "When attempting to sign a message with a bech32 address, Bitcoin Core complains that the address doesn't refer to a key. But it does. As a result I am unable to verify signatures made by users of the Electrum wallet (which can sign using bech32 addresses). I heard the Trezor also has similar functionality.\r\n\r\nI made the following change to allow signing and verifying messages with bech32 addresses in Core. It appears to be compatible with Electrum's signatures.\r\n\r\n    diff --git a/src/rpc/misc.cpp b/src/rpc/misc.cpp\r\n    index 18c867bff..a8e75ddc7 100644\r\n    --- a/src/rpc/misc.cpp\r\n    +++ b/src/rpc/misc.cpp\r\n    @@ -179,7 +179,11 @@ static UniValue verifymessage(const JSONRPCRequest& request)\r\n     \r\n         const CKeyID *keyID = boost::get<CKeyID>(&destination);\r\n         if (!keyID) {\r\n    -        throw JSONRPCError(RPC_TYPE_ERROR, \"Address does not refer to key\");\r\n    +        const WitnessV0KeyHash *witnessV0KeyHash = boost::get<WitnessV0KeyHash>(&destination);\r\n    +        if (!witnessV0KeyHash) {\r\n    +            throw JSONRPCError(RPC_TYPE_ERROR, \"Address does not refer to key\");\r\n    +        }\r\n    +        keyID = (CKeyID *)(witnessV0KeyHash);\r\n         }\r\n     \r\n         bool fInvalid = false;\r\n    diff --git a/src/wallet/rpcwallet.cpp b/src/wallet/rpcwallet.cpp\r\n    index 38397a394..a01b17ce8 100644\r\n    --- a/src/wallet/rpcwallet.cpp\r\n    +++ b/src/wallet/rpcwallet.cpp\r\n    @@ -540,7 +540,11 @@ static UniValue signmessage(const JSONRPCRequest& request)\r\n     \r\n         const CKeyID *keyID = boost::get<CKeyID>(&dest);\r\n         if (!keyID) {\r\n    -        throw JSONRPCError(RPC_TYPE_ERROR, \"Address does not refer to key\");\r\n    +        const WitnessV0KeyHash *witnessV0KeyHash = boost::get<WitnessV0KeyHash>(&dest);\r\n    +        if (!witnessV0KeyHash) {\r\n    +            throw JSONRPCError(RPC_TYPE_ERROR, \"Address does not refer to key\");\r\n    +        }\r\n    +        keyID = (CKeyID *)(witnessV0KeyHash);\r\n         }\r\n     \r\n         CKey key;\r\n",
      "created_at" : "2019-01-14T05:45:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-453906613",
      "id" : 453906613,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ1MzkwNjYxMw==",
      "updated_at" : "2019-01-14T05:45:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/453906613",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "node_id" : "MDQ6VXNlcjU3MzM1Ng==",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Hi all,\r\n\r\nAny updates on this issue? It's been 8 months since the last comment.",
      "created_at" : "2019-08-09T05:47:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-519787037",
      "id" : 519787037,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTc4NzAzNw==",
      "updated_at" : "2019-08-09T05:47:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519787037",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/172282?v=4",
         "events_url" : "https://api.github.com/users/ripper234/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ripper234/followers",
         "following_url" : "https://api.github.com/users/ripper234/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ripper234/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ripper234",
         "id" : 172282,
         "login" : "ripper234",
         "node_id" : "MDQ6VXNlcjE3MjI4Mg==",
         "organizations_url" : "https://api.github.com/users/ripper234/orgs",
         "received_events_url" : "https://api.github.com/users/ripper234/received_events",
         "repos_url" : "https://api.github.com/users/ripper234/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ripper234/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ripper234/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ripper234"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "If you don't like my fix in the comment immediately before yours, you can always take a two-step approach. First get the privkey from the address, and then sign your message using the privkey.\r\n\r\n    1. dumpprivkey \"address\"\r\n    2. signmessagewithprivkey \"privkey\" \"message\"\r\n\r\nIf this is something you need to do frequently I'd recommend scripting it. Something like this perhaps:\r\n\r\n    signmessage() {\r\n        if [[ $# != 2 ]]; then\r\n            echo \"usage: signmessage <address> <message>\" 1>&2; return\r\n        fi\r\n\r\n        address=$1; message=$2\r\n\r\n        privkey=$(bitcoin-cli dumpprivkey $address)\r\n        if (($?)); then\r\n            echo \"error getting privkey\" 1>&2; return\r\n        fi\r\n\r\n        bitcoin-cli signmessagewithprivkey $privkey \"$message\"\r\n        if (($?)); then\r\n            echo \"error signing message\" 1>&2; return\r\n        fi\r\n    }",
      "created_at" : "2019-08-09T13:59:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-519930143",
      "id" : 519930143,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUxOTkzMDE0Mw==",
      "updated_at" : "2019-08-09T13:59:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519930143",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "node_id" : "MDQ6VXNlcjU3MzM1Ng==",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems that some believe the use case for sign message is discredited and intend that nothing will happen, the feature will eventually be removed. FWIW I disagree.",
      "created_at" : "2019-08-23T14:04:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-524328191",
      "id" : 524328191,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNDMyODE5MQ==",
      "updated_at" : "2019-08-23T14:04:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/524328191",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "node_id" : "MDQ6VXNlcjExNzM2MjI=",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "See #16440.",
      "created_at" : "2019-08-23T17:02:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-524389777",
      "id" : 524389777,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNDM4OTc3Nw==",
      "updated_at" : "2019-08-23T17:02:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/524389777",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> If you don't like my fix in the comment immediately before yours, you can always take a two-step approach. First get the privkey from the address, and then sign your message using the privkey.\r\n> \r\n> ```\r\n> 1. dumpprivkey \"address\"\r\n> 2. signmessagewithprivkey \"privkey\" \"message\"\r\n> ```\r\n> \r\n> If this is something you need to do frequently I'd recommend scripting it. Something like this perhaps:\r\n> \r\n> ```\r\n> signmessage() {\r\n>     if [[ $# != 2 ]]; then\r\n>         echo \"usage: signmessage <address> <message>\" 1>&2; return\r\n>     fi\r\n> \r\n>     address=$1; message=$2\r\n> \r\n>     privkey=$(bitcoin-cli dumpprivkey $address)\r\n>     if (($?)); then\r\n>         echo \"error getting privkey\" 1>&2; return\r\n>     fi\r\n> \r\n>     bitcoin-cli signmessagewithprivkey $privkey \"$message\"\r\n>     if (($?)); then\r\n>         echo \"error signing message\" 1>&2; return\r\n>     fi\r\n> }\r\n> ```\r\n\r\n\r\n@dooglus when you sign with the private key (`signmessagewithprivkey`), how do you verify it? \r\n\r\n`verifymessage` is not able to verify it\r\n",
      "created_at" : "2019-09-02T14:32:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-527168776",
      "id" : 527168776,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNzE2ODc3Ng==",
      "updated_at" : "2019-09-02T14:32:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527168776",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/329989?v=4",
         "events_url" : "https://api.github.com/users/wspi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/wspi/followers",
         "following_url" : "https://api.github.com/users/wspi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/wspi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/wspi",
         "id" : 329989,
         "login" : "wspi",
         "node_id" : "MDQ6VXNlcjMyOTk4OQ==",
         "organizations_url" : "https://api.github.com/users/wspi/orgs",
         "received_events_url" : "https://api.github.com/users/wspi/received_events",
         "repos_url" : "https://api.github.com/users/wspi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/wspi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/wspi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/wspi"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@wspi I use [this patch](https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-453906613) to verify it.",
      "created_at" : "2019-09-02T16:13:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-527196440",
      "id" : 527196440,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDUyNzE5NjQ0MA==",
      "updated_at" : "2019-09-02T16:13:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/527196440",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/573356?v=4",
         "events_url" : "https://api.github.com/users/dooglus/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dooglus/followers",
         "following_url" : "https://api.github.com/users/dooglus/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dooglus/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dooglus",
         "id" : 573356,
         "login" : "dooglus",
         "node_id" : "MDQ6VXNlcjU3MzM1Ng==",
         "organizations_url" : "https://api.github.com/users/dooglus/orgs",
         "received_events_url" : "https://api.github.com/users/dooglus/received_events",
         "repos_url" : "https://api.github.com/users/dooglus/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dooglus/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dooglus/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dooglus"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "About BIP322, was any consideration given to light clients? How are they supposed to implement that?\r\n\r\nISTM that a full-fledged consensus validator and a script interpreter is needed. Only full nodes have that.\r\n\r\nAre light clients expected to do template matching, and otherwise return INCONCLUSIVE to basically everything?",
      "created_at" : "2019-10-25T18:50:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-546469854",
      "id" : 546469854,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU0NjQ2OTg1NA==",
      "updated_at" : "2019-10-25T18:50:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/546469854",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/29142493?v=4",
         "events_url" : "https://api.github.com/users/SomberNight/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SomberNight/followers",
         "following_url" : "https://api.github.com/users/SomberNight/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SomberNight/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SomberNight",
         "id" : 29142493,
         "login" : "SomberNight",
         "node_id" : "MDQ6VXNlcjI5MTQyNDkz",
         "organizations_url" : "https://api.github.com/users/SomberNight/orgs",
         "received_events_url" : "https://api.github.com/users/SomberNight/received_events",
         "repos_url" : "https://api.github.com/users/SomberNight/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SomberNight/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SomberNight/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SomberNight"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I beg your pardon, but, how would future versions of Bitcoin Core/Electrum/Trezor etc deal with the existing signatures of SegWit addressses signed by Trezor or Electrum? Should them be simply treated as invalid in the future, or not?",
      "created_at" : "2019-12-28T12:17:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-569412102",
      "id" : 569412102,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2OTQxMjEwMg==",
      "updated_at" : "2019-12-28T12:17:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/569412102",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "To be frank, I think it has been already quite weird for SegWit addresses to have such a \"difference\" with legacy addresses, that SegWit cannot do message signing, but legacy addresses can do it.",
      "created_at" : "2019-12-28T12:22:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-569412450",
      "id" : 569412450,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2OTQxMjQ1MA==",
      "updated_at" : "2019-12-28T12:22:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/569412450",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4075106?v=4",
         "events_url" : "https://api.github.com/users/andronoob/events{/privacy}",
         "followers_url" : "https://api.github.com/users/andronoob/followers",
         "following_url" : "https://api.github.com/users/andronoob/following{/other_user}",
         "gists_url" : "https://api.github.com/users/andronoob/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/andronoob",
         "id" : 4075106,
         "login" : "andronoob",
         "node_id" : "MDQ6VXNlcjQwNzUxMDY=",
         "organizations_url" : "https://api.github.com/users/andronoob/orgs",
         "received_events_url" : "https://api.github.com/users/andronoob/received_events",
         "repos_url" : "https://api.github.com/users/andronoob/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/andronoob/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/andronoob/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/andronoob"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> how would future versions of Bitcoin Core/Electrum/Trezor etc deal with the existing signatures of SegWit addressses signed by Trezor or Electrum?\n\nThat does not seem to be a particularly large concern to me. Validators can just test both the old scheme and the new. Old signatures can rather easily be accepted by future validators.\n-------- Original Message --------\nOn 28 Dec 2019, 13:17, andronoob wrote:\n\n> I beg your pardon, but, how would future versions of Bitcoin Core/Electrum/Trezor etc deal with the existing signatures of SegWit addressses signed by Trezor or Electrum? Should them be simply treated as invalid in the future, or not?\n>\n> â\n> You are receiving this because you commented.\n> Reply to this email directly, [view it on GitHub](https://github.com/bitcoin/bitcoin/issues/10542?email_source=notifications&email_token=AG6K3XKW6O4MYLB24LRMOATQ247XDA5CNFSM4DOGSBP2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEHYIUBQ#issuecomment-569412102), or [unsubscribe](https://github.com/notifications/unsubscribe-auth/AG6K3XIQ6YMVIGOEYIMUJRDQ247XDANCNFSM4DOGSBPQ).",
      "created_at" : "2019-12-28T13:52:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-569419145",
      "id" : 569419145,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDU2OTQxOTE0NQ==",
      "updated_at" : "2019-12-28T13:52:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/569419145",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/29142493?v=4",
         "events_url" : "https://api.github.com/users/SomberNight/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SomberNight/followers",
         "following_url" : "https://api.github.com/users/SomberNight/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SomberNight/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SomberNight",
         "id" : 29142493,
         "login" : "SomberNight",
         "node_id" : "MDQ6VXNlcjI5MTQyNDkz",
         "organizations_url" : "https://api.github.com/users/SomberNight/orgs",
         "received_events_url" : "https://api.github.com/users/SomberNight/received_events",
         "repos_url" : "https://api.github.com/users/SomberNight/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SomberNight/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SomberNight/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SomberNight"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "I note that @dooglus seems to have shown that this is an issue that can be fixed.  I also note that my Mycelium wallet on Android is able to sign a message using a segwit native address, and then verify it, and also fail the verification if I make an edit to the message.\r\n\r\nIs this in a pull request, and if not, why not?\r\n\r\n@luke-jr and @yllierop reacted to it thumbs-down and confused without explanation or questions.\r\n\r\nThe reason this is valuable to me is that signing an address with itself is a good way for someone requesting a withdrawal to prove that they will receive the coins sent to it, and many people, seeing the value of the more compact segwit native addresses will want to use them for such withdrawals.",
      "created_at" : "2020-10-26T03:37:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-716284287",
      "id" : 716284287,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNjI4NDI4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-26T03:37:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/716284287",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1767796?v=4",
         "events_url" : "https://api.github.com/users/dscotese/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dscotese/followers",
         "following_url" : "https://api.github.com/users/dscotese/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dscotese/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dscotese",
         "id" : 1767796,
         "login" : "dscotese",
         "node_id" : "MDQ6VXNlcjE3Njc3OTY=",
         "organizations_url" : "https://api.github.com/users/dscotese/orgs",
         "received_events_url" : "https://api.github.com/users/dscotese/received_events",
         "repos_url" : "https://api.github.com/users/dscotese/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dscotese/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dscotese/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dscotese"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> @luke-jr and @yllierop reacted to it thumbs-down and confused without explanation or questions.\r\n\r\nThe current signmessage functionality is confusing to users who often think it proves something it does not (specifically, that the signer controls a private key or has ownership of some number of bitcoins). This issue should be addressed (ideally by providing a way to prove what users want to prove) for any new signed message standards (the existing standard only supports \"1\"-addresses).\r\n\r\n>The reason this is valuable to me is that signing an address with itself is a good way for someone requesting a withdrawal to prove that they will receive the coins sent to it, and many people, seeing the value of the more compact segwit native addresses will want to use them for such withdrawals.\r\n\r\nWhat is the use case for proving you will receive a withdrawl? This sounds like KYC, which isn't something we want to encourage?",
      "created_at" : "2020-10-26T04:45:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-716300198",
      "id" : 716300198,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNjMwMDE5OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-26T04:45:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/716300198",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@dscotese The reason for not going with such an approach is that it needs changes every time a new address format/policy gets adopted (like we'll need one for taproot if/when it starts being used). Furthermore, it's inherently restricted to single-key addresses which is problematic for multiple reasons (the verifier shouldn't need to care what the prover uses, and standards limited to single-key uses may disincentivize people from adopting safer multisig construction).\n\nA proposal to deal with this in a generic way is in BIP322, which has recently picked up some steam. It treats addresses simply as the script they represent, and requires a signature that is verified using the script interpreter itself. This means that in theory it should work for whatever script/address.",
      "created_at" : "2020-10-26T05:12:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-716307429",
      "id" : 716307429,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNjMwNzQyOQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-26T05:15:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/716307429",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> What is the use case for proving you will receive a withdrawl? This sounds like KYC, which isn't something we want to encourage?\r\nIt _is_ KYC, but for _holding knowledge_ (the private key), not for an identity attached to a human being.  The purpose is that once you prove to me that you have a certain piece of knowledge, you can show that whoever holds that piece of knowledge created a particular lightning invoice for the amount *I* owe to whoever holds that piece of knowledge, so that once I pay it (and have the preimage from the hash in the invoice), I have solid proof that my debt is paid.  The tech I seek is NOT for identification in a way that can be used against people, but in a way that can make payers safe from claims that a payment went to the wrong party.  If you know of a better way, please let me know.  Thanks!\r\n",
      "created_at" : "2020-10-27T22:13:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-717571314",
      "id" : 717571314,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNzU3MTMxNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-27T22:13:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/717571314",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1767796?v=4",
         "events_url" : "https://api.github.com/users/dscotese/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dscotese/followers",
         "following_url" : "https://api.github.com/users/dscotese/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dscotese/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dscotese",
         "id" : 1767796,
         "login" : "dscotese",
         "node_id" : "MDQ6VXNlcjE3Njc3OTY=",
         "organizations_url" : "https://api.github.com/users/dscotese/orgs",
         "received_events_url" : "https://api.github.com/users/dscotese/received_events",
         "repos_url" : "https://api.github.com/users/dscotese/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dscotese/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dscotese/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dscotese"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "How does it prove your debt is paid?\r\n\r\nSince you bring up Lightning, wouldn't it be better actually if you can sign a message as the recipient of a specific Lightning invoice? (Being able to sign as a segwit address recipient doesn't actually prove anything for Lightning AFAICT)",
      "created_at" : "2020-10-27T22:20:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-717574712",
      "id" : 717574712,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNzU3NDcxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-27T22:20:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/717574712",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Say that I have the preimage of an invoice.  That proves I paid the invoice, right?\r\nSuppose I also have the invoice, and a signature of it.  That proves that some data was used to create the signature of an invoice which has been paid (so it doesn't prove that I paid it, just that it was paid).\r\nSuppose the data used to sign the invoice is a private key that belongs to someone.  That proves that the owner of that private key signed the invoice.  Paying the invoice is not necessarily the same as paying them, so you're right that it doesn't prove they were paid. It proves someone was paid and that they got an invoice from that someone.  They may be able to invent a reason to sign an invoice that isn't for a debt to themselves, so perhaps what gets signed needs to be the invoice and a message like \"Signing this message and invoice relieves github user dscotese of his debt of ___ to the signer if the invoice gets paid: lnbc...\" Of course, people can sign things without them being true, so it still doesn't prove anything, but I would have proof that they provided me with instructions to pay off my debt, and I followed them.  The rest, I think, would be on them.\r\n\r\nDoes that answer the question?\r\n\r\nIf I sign a message as the recipient of a Lightning Invoice (which I then pay), that doesn't prove that the invoice came from the person I owe, so that wouldn't be better.  I may have misunderstood something.  I want to prove that the invoice came from the person I owe.  In order to recognize them, I asked for a public key when we first met.  If I get something signed with that key, I know the something was seen and approved by the right person.",
      "created_at" : "2020-10-28T00:43:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-717624990",
      "id" : 717624990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNzYyNDk5MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-28T00:43:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/717624990",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1767796?v=4",
         "events_url" : "https://api.github.com/users/dscotese/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dscotese/followers",
         "following_url" : "https://api.github.com/users/dscotese/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dscotese/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dscotese",
         "id" : 1767796,
         "login" : "dscotese",
         "node_id" : "MDQ6VXNlcjE3Njc3OTY=",
         "organizations_url" : "https://api.github.com/users/dscotese/orgs",
         "received_events_url" : "https://api.github.com/users/dscotese/received_events",
         "repos_url" : "https://api.github.com/users/dscotese/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dscotese/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dscotese/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dscotese"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Signed messages don't prove anything about the private key.",
      "created_at" : "2020-10-28T13:09:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-717921408",
      "id" : 717921408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxNzkyMTQwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-28T13:09:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/717921408",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "How is this supposed to be interpreted then?\r\n\r\n![Capture](https://user-images.githubusercontent.com/36365571/97467004-06f32280-1944-11eb-82cb-0b305c0db1df.PNG)\r\n",
      "created_at" : "2020-10-28T16:38:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-718058487",
      "id" : 718058487,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODA1ODQ4Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-28T16:38:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718058487",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/36365571?v=4",
         "events_url" : "https://api.github.com/users/NilByte/events{/privacy}",
         "followers_url" : "https://api.github.com/users/NilByte/followers",
         "following_url" : "https://api.github.com/users/NilByte/following{/other_user}",
         "gists_url" : "https://api.github.com/users/NilByte/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/NilByte",
         "id" : 36365571,
         "login" : "NilByte",
         "node_id" : "MDQ6VXNlcjM2MzY1NTcx",
         "organizations_url" : "https://api.github.com/users/NilByte/orgs",
         "received_events_url" : "https://api.github.com/users/NilByte/received_events",
         "repos_url" : "https://api.github.com/users/NilByte/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/NilByte/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/NilByte/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/NilByte"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Exactly as it says? The signature proves the message is signed by the person bitcoins sent to the address will belong to. Nothing more.",
      "created_at" : "2020-10-28T16:54:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-718069604",
      "id" : 718069604,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODA2OTYwNA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-28T16:54:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718069604",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "> Signed messages don't prove anything about the private key.\r\n\r\nIt's assumed that the private key is owned by the person who does the signing.  Ownership is an important aspect of some things, private keys being one of them, as I view things.  I think you meant something else, but I can't figure out what.",
      "created_at" : "2020-10-29T18:59:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-718956683",
      "id" : 718956683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODk1NjY4Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T18:59:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718956683",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/1767796?v=4",
         "events_url" : "https://api.github.com/users/dscotese/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dscotese/followers",
         "following_url" : "https://api.github.com/users/dscotese/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dscotese/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dscotese",
         "id" : 1767796,
         "login" : "dscotese",
         "node_id" : "MDQ6VXNlcjE3Njc3OTY=",
         "organizations_url" : "https://api.github.com/users/dscotese/orgs",
         "received_events_url" : "https://api.github.com/users/dscotese/received_events",
         "repos_url" : "https://api.github.com/users/dscotese/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dscotese/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dscotese/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dscotese"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I think what Luke means is this, but correct me if I'm wrong:\n\nSigning a message with an address proves that whoever can spend money sent to that address agrees with that message.\n\nSince currently the only supported address types are ones that correspond to a single-key policies, that indeed implies that a message signature also corresponds to \"the holder of the private key corresponding to said address agrees with the message\". This is however just a technicality. In BIP322 you can have message signatures from a multisig address (where just a threshold signs, and there is no \"the\" private key), or if you'd have an address that corresponds to script OP_TRUE, anyone would be able to \"sign\" for it, as anyone would be able to spend from it.\n\nSo I think the point is that in an ideal world, someone verifying a message signature shouldn't know or care about the fact that there is a single private key corresponding to that address. Due to a current implementation detail that is however still the case in practice.",
      "created_at" : "2020-10-29T19:08:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-718961867",
      "id" : 718961867,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODk2MTg2Nw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T19:08:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718961867",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">It's assumed that the private key is owned by the person who does the signing. \r\n\r\nThis assumption is wrong. Third party and shared wallets are *supposed* to allow users to sign messages with the addresses they deposit/receive with.",
      "created_at" : "2020-10-29T20:07:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-718992093",
      "id" : 718992093,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcxODk5MjA5Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-29T20:07:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718992093",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Any news about fix this issue?",
      "created_at" : "2021-04-10T14:41:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-817147078",
      "id" : 817147078,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxNzE0NzA3OA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-10T14:41:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/817147078",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12465465?v=4",
         "events_url" : "https://api.github.com/users/EndrII/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EndrII/followers",
         "following_url" : "https://api.github.com/users/EndrII/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EndrII/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EndrII",
         "id" : 12465465,
         "login" : "EndrII",
         "node_id" : "MDQ6VXNlcjEyNDY1NDY1",
         "organizations_url" : "https://api.github.com/users/EndrII/orgs",
         "received_events_url" : "https://api.github.com/users/EndrII/received_events",
         "repos_url" : "https://api.github.com/users/EndrII/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EndrII/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EndrII/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EndrII"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I'm no longer involved in Bitcoin so I am not sure.\r\n\r\nBut I think the consensus here is - btc developers don't like \"sign message\" feature for conceptual reasons (I'm not sure if for a good reason but I don't care that much anymore :D ), they grudgingly keep it working on \"legacy\" addresses because of backwards compatibility, and they won't add it for new address formats.\r\n\r\nSo I don't think this will ever get fixed. I'll keep it open because some folks always come and say they want it, so, whatever.",
      "created_at" : "2021-04-12T04:24:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-817468340",
      "id" : 817468340,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxNzQ2ODM0MA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-12T04:24:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/817468340",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/104945?v=4",
         "events_url" : "https://api.github.com/users/karelbilek/events{/privacy}",
         "followers_url" : "https://api.github.com/users/karelbilek/followers",
         "following_url" : "https://api.github.com/users/karelbilek/following{/other_user}",
         "gists_url" : "https://api.github.com/users/karelbilek/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/karelbilek",
         "id" : 104945,
         "login" : "karelbilek",
         "node_id" : "MDQ6VXNlcjEwNDk0NQ==",
         "organizations_url" : "https://api.github.com/users/karelbilek/orgs",
         "received_events_url" : "https://api.github.com/users/karelbilek/received_events",
         "repos_url" : "https://api.github.com/users/karelbilek/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/karelbilek/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/karelbilek/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/karelbilek"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "oh no, its very useful feature causerie this is only method for confirming that a person is my payer, ",
      "created_at" : "2021-04-12T06:16:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-817517218",
      "id" : 817517218,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxNzUxNzIxOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-12T06:16:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/817517218",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12465465?v=4",
         "events_url" : "https://api.github.com/users/EndrII/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EndrII/followers",
         "following_url" : "https://api.github.com/users/EndrII/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EndrII/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EndrII",
         "id" : 12465465,
         "login" : "EndrII",
         "node_id" : "MDQ6VXNlcjEyNDY1NDY1",
         "organizations_url" : "https://api.github.com/users/EndrII/orgs",
         "received_events_url" : "https://api.github.com/users/EndrII/received_events",
         "repos_url" : "https://api.github.com/users/EndrII/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EndrII/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EndrII/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EndrII"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There is on-and-off work on BIP322, which should provide this function for all types of addresses (segwit, and future ones), but there isn't much progress on it right now.",
      "created_at" : "2021-04-12T06:20:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-817518989",
      "id" : 817518989,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxNzUxODk4OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-12T06:20:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/817518989",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@sipa thanks. \r\nI hope this will be implemented soon, as this function is very important to me at the moment. ",
      "created_at" : "2021-04-12T06:22:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-817520153",
      "id" : 817520153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxNzUyMDE1Mw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-12T06:22:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/817520153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/12465465?v=4",
         "events_url" : "https://api.github.com/users/EndrII/events{/privacy}",
         "followers_url" : "https://api.github.com/users/EndrII/followers",
         "following_url" : "https://api.github.com/users/EndrII/following{/other_user}",
         "gists_url" : "https://api.github.com/users/EndrII/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/EndrII",
         "id" : 12465465,
         "login" : "EndrII",
         "node_id" : "MDQ6VXNlcjEyNDY1NDY1",
         "organizations_url" : "https://api.github.com/users/EndrII/orgs",
         "received_events_url" : "https://api.github.com/users/EndrII/received_events",
         "repos_url" : "https://api.github.com/users/EndrII/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/EndrII/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/EndrII/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/EndrII"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">oh no, its very useful feature causerie this is only method for confirming that a person is my payer,\r\n\r\nThat's half the point to not extending this further: This feature DOESN'T confirm a person is your payer!",
      "created_at" : "2021-04-12T16:31:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-817953403",
      "id" : 817953403,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxNzk1MzQwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-12T16:31:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/817953403",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> This feature DOESN'T confirm a person is your payer!\r\n\r\nI have read all the comments in this issue and now I am confused. I have used this in Electrum few times. One example:\r\n\r\nPoloniex support asked me to sign message with a bitcoin address which was used for withdrawal in past. I had issues accessing my account so this was done to verify I own this Poloniex account without doing any KYC.\r\n\r\nSigning message with a bitcoin address and verifying it is possible right now using Electrum wallet and even Joinmarket added it in https://github.com/JoinMarket-Org/joinmarket-clientserver/pull/841\r\n\r\nSo what is being used when users sign the message in electrum and what is being verified? Can someone else sign a message with this bitcoin address using Electrum? `tb1qr3m8k7ps0cehz6dcwz0fyhsdv9h9dlcmxusz4m` If yes, then maybe signing option is useless. If no, it does prove that I own the private key for this address isn't it? Or at least I am willing to associate myself with this bitcoin address and someone can send me BTC to the address used for signing.\r\n\r\nI understand this comment and it makes sense: https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-306573998 and also comment by sipa that there is no public key to verify for segwit addresses. \r\n\r\nAgain two questions:\r\n\r\n1. Then how is it working in Electrum and Joinmarket?\r\n2. Is this a workaround? To sign messages with private key: https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-519930143 and verify with https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-453906613 ?\r\n",
      "created_at" : "2021-04-12T17:11:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-817980713",
      "id" : 817980713,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxNzk4MDcxMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-12T17:11:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/817980713",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@prayank23 Presumably @luke-jr is referring to the fact that a signature with address A and message M means that whoever has control over address A (i.e. the ability to move coins sent to that address) agrees with that message. You can't use it to determine who the sender is however, because Bitcoin addresses do not have a sender address; they only have input coins and those coins may have an address they were previously under control of. In the case of a service provider that has one wallet shared by multiple users, the apparent \"sender\" address may belong to a different user (i.e., sending to it would credit someone else). Another example: using \"sender\" address signatures in a payjoin transaction would permit your joining partners to sign for you, as they too have an address that looks like a \"sender\".\n\nAs far as what Electrum and other software does: they're probably extending the old signmessage format to segwit addresses in an ad-hoc manner (just a bit to indicate \"p2wpkh\" for example). This is trivial to do, but we've been loathe to do something like this, because it doesn't scale. It cannot support multisig, and would need continuous updates to support new address schemes (e.g. Taproot) leading to a compatibility nightmare. There is a solution to this: BIP322, which defines a signmessage format that works for all address types and all future schemes. However, developmemt seems to have stalled around it.",
      "created_at" : "2021-04-12T17:47:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-818004294",
      "id" : 818004294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxODAwNDI5NA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-12T17:57:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/818004294",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> a signature with address A and message M means that whoever has control over address A (i.e. the ability to move coins sent to that address) agrees with that message\r\n\r\nThis isn't true. The UTXOs created when address A received, may be in a shared wallet, and sent by someone entirely unrelated to address A. And this is by design - it isn't a bug in the signer.\r\n\r\nSigned messages today prove the message is agreed on by the person who receives with address A. They cannot be used to prove anything about a sender.",
      "created_at" : "2021-04-12T17:56:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-818009951",
      "id" : 818009951,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxODAwOTk1MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-12T17:56:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/818009951",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@luke-jr Yes, I agree with what you're saying; I don't think I'm saying anything else. A signature with address A means whoever can receive on address A agrees with the message. That implies they are who will receive coins sent there, and have the ability to send them further.\n\nIt does not mean anything about transactions that look like they have \"input address\" A.",
      "created_at" : "2021-04-12T18:01:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-818012903",
      "id" : 818012903,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxODAxMjkwMw==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-12T18:01:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/818012903",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Thanks @sipa and @luke-jr \r\n\r\n> There is a solution to this: BIP322, which defines a signmessage format that works for all address types and all future schemes. However, developmemt seems to have stalled around it.\r\n\r\nWill research more about this. I had a follow up question not sure if it's offtopic.\r\n\r\nCan signing and verifying of messages be used for 2FA or normal authentication? Example: few darknet websites had this option to save your PGP public key when you sign up and user needs to decrypt random messages on each login which were encrypted using this key. Can bitcoin address replace PGP public key in this case? So a user will add one bitcoin address during registration. A random string is shared on each login, user needs to **sign it with bitcoin address** and it will be verified for successful authentication. \r\n\r\nLNURL-AUTH is also interesting which can be used to register/login with LN wallet. Not sure about the technical details but few libraries available to test it: https://github.com/fiatjaf/awesome-lnurl#libraries and it involves **signing** of [challenges](https://xn--57h.bigsun.xyz/lnurl-auth.html).",
      "created_at" : "2021-04-12T18:46:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-818045408",
      "id" : 818045408,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDgxODA0NTQwOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2021-04-12T18:46:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/818045408",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Key is not address is fine the address is a cryptographic construct the feature is to be able to use the address to sign and verify messages.\r\n\r\nI remember Satoshi saying Bitcoin is better because it has chance, you could ask someone to sign a message and reveal a little bit of information.",
      "created_at" : "2024-01-02T06:01:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-1873646556",
      "id" : 1873646556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "IC_kwDOABII585vrZPc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1873646556/reactions"
      },
      "updated_at" : "2024-01-02T06:03:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1873646556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "node_id" : "MDQ6VXNlcjExNzM2MjI=",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Not sure whether to open a new issue but it probably fits in here.\r\n\r\n![Screenshot_2024-02-22_15-41-38](https://github.com/bitcoin/bitcoin/assets/22841402/274ff72d-201a-4dbe-97fb-82775b92d9b3)\r\n\r\nMaybe some day there will be a way to sign messages again.  Until then, could we at least tell users that it's not supported?  For example, changing the top text from \"You can sign messages/agreements with your addresses\" to \"You can sign messages/agreements with your legacy (P2PKH) addresses\"\r\n\r\nAnd changing the error from \"The entered address does not refer to a key.\" (which is incorrect, as P2WPKH refers to a key just as much as P2PKH does, and I'd say P2TR refers to a key even more!) to \"Message signing for segwit addresses (addresses starting with bc1/tb1) is not supported in this version of Bitcoin Core.\"\r\n\r\nIt's easy enough to change the error message while it's unsupported.\r\n\r\nThis came to my attention as I was helping someone who was worried that they had lost their keys (a reasonable worry given the red error message!) - they were trying to use the sign message function on an offline computer to make sure their wallet & passwords still worked.",
      "created_at" : "2024-02-22T21:06:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-1960313569",
      "id" : 1960313569,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "IC_kwDOABII58502ALh",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 7,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 7,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1960313569/reactions"
      },
      "updated_at" : "2024-02-22T21:06:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1960313569",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/22841402?v=4",
         "events_url" : "https://api.github.com/users/adiabat/events{/privacy}",
         "followers_url" : "https://api.github.com/users/adiabat/followers",
         "following_url" : "https://api.github.com/users/adiabat/following{/other_user}",
         "gists_url" : "https://api.github.com/users/adiabat/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/adiabat",
         "id" : 22841402,
         "login" : "adiabat",
         "node_id" : "MDQ6VXNlcjIyODQxNDAy",
         "organizations_url" : "https://api.github.com/users/adiabat/orgs",
         "received_events_url" : "https://api.github.com/users/adiabat/received_events",
         "repos_url" : "https://api.github.com/users/adiabat/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/adiabat/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/adiabat/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/adiabat"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@adiabat It is supported someone has to work on the feature and produce some programming the repository will publish meeting the consensus\r\n\r\nWhy do you think the feature was included in the earlier release?\r\n\r\nBitcoin is honest and I mean it must be entirely the reason signing a message was introduced was to provide some proof of an owner of an address even when they are communicating privately. The only people who don't want it are apt to try that anyone cannot provide any proof. Actually if there is proof it is better anyone can look on the public ledger to see that there is proof of a balance.\r\n\r\nProfessor. Damian A. James Williamson\r\nWills",
      "created_at" : "2024-04-04T12:11:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-2037011586",
      "id" : 2037011586,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "IC_kwDOABII5855alSC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2037011586/reactions"
      },
      "updated_at" : "2024-04-04T12:17:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2037011586",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "node_id" : "MDQ6VXNlcjExNzM2MjI=",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Also, [signmessage works in V0.18.1](https://twitter.com/CA_22562_AN/status/1775885406741082140) \r\n\r\nhttps://bitcoincore.org/bin/bitcoin-core-0.18.1/\r\n\r\nProfessor. Damian A. James Williamson\r\nWills",
      "created_at" : "2024-04-04T13:55:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/10542#issuecomment-2037289362",
      "id" : 2037289362,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10542",
      "node_id" : "IC_kwDOABII5855bpGS",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2037289362/reactions"
      },
      "updated_at" : "2024-04-04T13:59:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/2037289362",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1173622?v=4",
         "events_url" : "https://api.github.com/users/Willtech/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Willtech/followers",
         "following_url" : "https://api.github.com/users/Willtech/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Willtech/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Willtech",
         "id" : 1173622,
         "login" : "Willtech",
         "node_id" : "MDQ6VXNlcjExNzM2MjI=",
         "organizations_url" : "https://api.github.com/users/Willtech/orgs",
         "received_events_url" : "https://api.github.com/users/Willtech/received_events",
         "repos_url" : "https://api.github.com/users/Willtech/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Willtech/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Willtech/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Willtech"
      }
   }
]
