[
   {
      "body" : "@jimmysong @kallewoof @sdaftuar - you've all mentioned that you're happy to help move #10082 forward. Any review of this and/or #10555 would be appreciated.",
      "created_at" : "2017-06-08T15:07:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-307132530",
      "id" : 307132530,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-08T15:07:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307132530",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120930302"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120930302"
         }
      },
      "body" : "nit: `range(n)` is better than `range(0, n)`",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-08T16:04:08Z",
      "diff_hunk" : "@@ -38,57 +38,55 @@ def setup_nodes(self):\n         self.zmqSubSocket = self.zmqContext.socket(zmq.SUB)\n         self.zmqSubSocket.setsockopt(zmq.SUBSCRIBE, b\"hashblock\")\n         self.zmqSubSocket.setsockopt(zmq.SUBSCRIBE, b\"hashtx\")\n-        self.zmqSubSocket.connect(\"tcp://127.0.0.1:%i\" % self.port)\n-        self.nodes = self.start_nodes(self.num_nodes, self.options.tmpdir, extra_args=[\n-            ['-zmqpubhashtx=tcp://127.0.0.1:'+str(self.port), '-zmqpubhashblock=tcp://127.0.0.1:'+str(self.port)],\n-            [],\n-            [],\n-            []\n-            ])\n+        ip_address = \"tcp://127.0.0.1:28332\"\n+        self.zmqSubSocket.connect(ip_address)\n+        extra_args = [['-zmqpubhashtx=%s' % ip_address, '-zmqpubhashblock=%s' % ip_address], []]\n+        self.nodes = self.start_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n \n     def run_test(self):\n-        self.sync_all()\n-\n         genhashes = self.nodes[0].generate(1)\n         self.sync_all()\n \n-        self.log.info(\"listen...\")\n+        self.log.info(\"Wait for tx\")\n         msg = self.zmqSubSocket.recv_multipart()\n         topic = msg[0]\n         assert_equal(topic, b\"hashtx\")\n         body = msg[1]\n         msgSequence = struct.unpack('<I', msg[-1])[-1]\n-        assert_equal(msgSequence, 0) #must be sequence 0 on hashtx\n+        assert_equal(msgSequence, 0)  # must be sequence 0 on hashtx\n \n+        self.log.info(\"Wait for block\")\n         msg = self.zmqSubSocket.recv_multipart()\n         topic = msg[0]\n         body = msg[1]\n         msgSequence = struct.unpack('<I', msg[-1])[-1]\n-        assert_equal(msgSequence, 0) #must be sequence 0 on hashblock\n+        assert_equal(msgSequence, 0)  # must be sequence 0 on hashblock\n         blkhash = bytes_to_hex_str(body)\n \n-        assert_equal(genhashes[0], blkhash) #blockhash from generate must be equal to the hash received over zmq\n+        assert_equal(genhashes[0], blkhash)  # blockhash from generate must be equal to the hash received over zmq\n \n+        self.log.info(\"Generate 10 blocks (and 10 coinbase txes)\")\n         n = 10\n         genhashes = self.nodes[1].generate(n)\n         self.sync_all()\n \n         zmqHashes = []\n         blockcount = 0\n-        for x in range(0,n*2):\n+        for x in range(0, n * 2):\n             msg = self.zmqSubSocket.recv_multipart()\n             topic = msg[0]\n             body = msg[1]\n             if topic == b\"hashblock\":\n                 zmqHashes.append(bytes_to_hex_str(body))\n                 msgSequence = struct.unpack('<I', msg[-1])[-1]\n-                assert_equal(msgSequence, blockcount+1)\n+                assert_equal(msgSequence, blockcount + 1)\n                 blockcount += 1\n \n-        for x in range(0,n):\n-            assert_equal(genhashes[x], zmqHashes[x]) #blockhash from generate must be equal to the hash received over zmq\n+        for x in range(0, n):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120930302",
      "id" : 120930302,
      "original_commit_id" : "86d4529526a7530a06aacf5e09307f650a6ac78a",
      "original_position" : 85,
      "path" : "test/functional/zmq_test.py",
      "position" : null,
      "pull_request_review_id" : 42937434,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120930302",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120931184"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120931184"
         }
      },
      "body" : "This might be easier to read if made into a for loop:\r\n\r\n    interval = 0.1\r\n    for _ in range(int(timeout/interval)):\r\n        try:\r\n            return socket.recv_multipart(zmq.NOBLOCK)\r\n        except zmq.error.Again:\r\n            time.sleep(interval)\r\n    raise AssertionError(\"Timed out waiting for zmq message\")",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-08T16:07:58Z",
      "diff_hunk" : "@@ -6,12 +6,23 @@\n import configparser\n import os\n import struct\n+import time\n \n from test_framework.test_framework import BitcoinTestFramework, SkipTest\n from test_framework.util import (assert_equal,\n                                  bytes_to_hex_str,\n                                  )\n \n+def wait_for_multipart(socket, timeout=60):\n+    while True:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120931184",
      "id" : 120931184,
      "original_commit_id" : "dbc0700b6fa4004b0e608ee93172a15ab0f08e4b",
      "original_position" : 12,
      "path" : "test/functional/zmq_test.py",
      "position" : null,
      "pull_request_review_id" : 42937434,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120931184",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120931991"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120931991"
         }
      },
      "body" : "Why take out the constant here?",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-08T16:11:11Z",
      "diff_hunk" : "@@ -452,7 +452,7 @@ def run_test(self):\n         self.stop_node(2)\n         self.stop_node(3)\n         self.nodes[1].encryptwallet(\"test\")\n-        bitcoind_processes[1].wait(timeout=BITCOIND_PROC_WAIT_TIMEOUT)\n+        self.bitcoind_processes[1].wait(60)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120931991",
      "id" : 120931991,
      "original_commit_id" : "8f4dbd58577882ba4630f342a4a020248c16ebdb",
      "original_position" : 5,
      "path" : "test/functional/fundrawtransaction.py",
      "position" : null,
      "pull_request_review_id" : 42937434,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120931991",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120932618"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120932618"
         }
      },
      "body" : "Is this being used?",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-08T16:13:30Z",
      "diff_hunk" : "@@ -14,6 +14,7 @@\n import sys\n import tempfile\n import time\n+import traceback",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120932618",
      "id" : 120932618,
      "original_commit_id" : "343e13768366d7a774f5ba2a1aa90a3c7f04dd7c",
      "original_position" : 4,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 14,
      "pull_request_review_id" : 42937434,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120932618",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120933058"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120933058"
         }
      },
      "body" : "How did this work before? Was it one of the import *'s?",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-08T16:15:22Z",
      "diff_hunk" : "@@ -15,16 +15,17 @@\n test that enforcement has not triggered (which triggers ACTIVE)\n test that enforcement has triggered\n \"\"\"\n+from io import BytesIO\n+import shutil",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120933058",
      "id" : 120933058,
      "original_commit_id" : "c6460011f874d36e933d310e503ae7c170168b0f",
      "original_position" : 5,
      "path" : "test/functional/bip9-softforks.py",
      "position" : 5,
      "pull_request_review_id" : 42937434,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120933058",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120938947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120938947"
         }
      },
      "body" : "Yes, that's better. I've made the change in #10555, and will rebase this PR off that once you've finished your review.",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-08T16:41:01Z",
      "diff_hunk" : "@@ -6,12 +6,23 @@\n import configparser\n import os\n import struct\n+import time\n \n from test_framework.test_framework import BitcoinTestFramework, SkipTest\n from test_framework.util import (assert_equal,\n                                  bytes_to_hex_str,\n                                  )\n \n+def wait_for_multipart(socket, timeout=60):\n+    while True:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120938947",
      "id" : 120938947,
      "original_commit_id" : "dbc0700b6fa4004b0e608ee93172a15ab0f08e4b",
      "original_position" : 12,
      "path" : "test/functional/zmq_test.py",
      "position" : null,
      "pull_request_review_id" : 42946768,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120938947",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120938999"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120938999"
         }
      },
      "body" : "Agree. Changed in #10555 ",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-08T16:41:11Z",
      "diff_hunk" : "@@ -38,57 +38,55 @@ def setup_nodes(self):\n         self.zmqSubSocket = self.zmqContext.socket(zmq.SUB)\n         self.zmqSubSocket.setsockopt(zmq.SUBSCRIBE, b\"hashblock\")\n         self.zmqSubSocket.setsockopt(zmq.SUBSCRIBE, b\"hashtx\")\n-        self.zmqSubSocket.connect(\"tcp://127.0.0.1:%i\" % self.port)\n-        self.nodes = self.start_nodes(self.num_nodes, self.options.tmpdir, extra_args=[\n-            ['-zmqpubhashtx=tcp://127.0.0.1:'+str(self.port), '-zmqpubhashblock=tcp://127.0.0.1:'+str(self.port)],\n-            [],\n-            [],\n-            []\n-            ])\n+        ip_address = \"tcp://127.0.0.1:28332\"\n+        self.zmqSubSocket.connect(ip_address)\n+        extra_args = [['-zmqpubhashtx=%s' % ip_address, '-zmqpubhashblock=%s' % ip_address], []]\n+        self.nodes = self.start_nodes(self.num_nodes, self.options.tmpdir, extra_args)\n \n     def run_test(self):\n-        self.sync_all()\n-\n         genhashes = self.nodes[0].generate(1)\n         self.sync_all()\n \n-        self.log.info(\"listen...\")\n+        self.log.info(\"Wait for tx\")\n         msg = self.zmqSubSocket.recv_multipart()\n         topic = msg[0]\n         assert_equal(topic, b\"hashtx\")\n         body = msg[1]\n         msgSequence = struct.unpack('<I', msg[-1])[-1]\n-        assert_equal(msgSequence, 0) #must be sequence 0 on hashtx\n+        assert_equal(msgSequence, 0)  # must be sequence 0 on hashtx\n \n+        self.log.info(\"Wait for block\")\n         msg = self.zmqSubSocket.recv_multipart()\n         topic = msg[0]\n         body = msg[1]\n         msgSequence = struct.unpack('<I', msg[-1])[-1]\n-        assert_equal(msgSequence, 0) #must be sequence 0 on hashblock\n+        assert_equal(msgSequence, 0)  # must be sequence 0 on hashblock\n         blkhash = bytes_to_hex_str(body)\n \n-        assert_equal(genhashes[0], blkhash) #blockhash from generate must be equal to the hash received over zmq\n+        assert_equal(genhashes[0], blkhash)  # blockhash from generate must be equal to the hash received over zmq\n \n+        self.log.info(\"Generate 10 blocks (and 10 coinbase txes)\")\n         n = 10\n         genhashes = self.nodes[1].generate(n)\n         self.sync_all()\n \n         zmqHashes = []\n         blockcount = 0\n-        for x in range(0,n*2):\n+        for x in range(0, n * 2):\n             msg = self.zmqSubSocket.recv_multipart()\n             topic = msg[0]\n             body = msg[1]\n             if topic == b\"hashblock\":\n                 zmqHashes.append(bytes_to_hex_str(body))\n                 msgSequence = struct.unpack('<I', msg[-1])[-1]\n-                assert_equal(msgSequence, blockcount+1)\n+                assert_equal(msgSequence, blockcount + 1)\n                 blockcount += 1\n \n-        for x in range(0,n):\n-            assert_equal(genhashes[x], zmqHashes[x]) #blockhash from generate must be equal to the hash received over zmq\n+        for x in range(0, n):",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120938999",
      "id" : 120938999,
      "original_commit_id" : "86d4529526a7530a06aacf5e09307f650a6ac78a",
      "original_position" : 85,
      "path" : "test/functional/zmq_test.py",
      "position" : null,
      "pull_request_review_id" : 42946823,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120938999",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120939551"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120939551"
         }
      },
      "body" : "Because I've moved the `BITCOIND_PROC_WAIT_TIMEOUT` constant into test_framework.py. The next PR (introduce TestNode) will remove `bitcoind_processes` dict entirely, so for this intermediate PR rather than add an import which I'll revert in the next PR, I've just changed this to a hard-coded value.",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-08T16:43:27Z",
      "diff_hunk" : "@@ -452,7 +452,7 @@ def run_test(self):\n         self.stop_node(2)\n         self.stop_node(3)\n         self.nodes[1].encryptwallet(\"test\")\n-        bitcoind_processes[1].wait(timeout=BITCOIND_PROC_WAIT_TIMEOUT)\n+        self.bitcoind_processes[1].wait(60)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120939551",
      "id" : 120939551,
      "original_commit_id" : "8f4dbd58577882ba4630f342a4a020248c16ebdb",
      "original_position" : 5,
      "path" : "test/functional/fundrawtransaction.py",
      "position" : null,
      "pull_request_review_id" : 42947415,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120939551",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120940007"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120940007"
         }
      },
      "body" : "Here: https://github.com/bitcoin/bitcoin/blob/9c248e39f2807a7f89e555e99cc55cb2de1ad335/test/functional/test_framework/test_framework.py#L194\r\n\r\nI must have missed out this import in a previous commit. Makes sense to fix it in this cleanup commit.",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-08T16:45:16Z",
      "diff_hunk" : "@@ -14,6 +14,7 @@\n import sys\n import tempfile\n import time\n+import traceback",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120940007",
      "id" : 120940007,
      "original_commit_id" : "343e13768366d7a774f5ba2a1aa90a3c7f04dd7c",
      "original_position" : 4,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 14,
      "pull_request_review_id" : 42947875,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120940007",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120940253"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120940253"
         }
      },
      "body" : "Yes, this was being indirectly imported from utils.py :( there are still lots of indirect imports in functional tests, which makes refactors like this seem more disruptive than they actually are.",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-08T16:46:23Z",
      "diff_hunk" : "@@ -15,16 +15,17 @@\n test that enforcement has not triggered (which triggers ACTIVE)\n test that enforcement has triggered\n \"\"\"\n+from io import BytesIO\n+import shutil",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r120940253",
      "id" : 120940253,
      "original_commit_id" : "c6460011f874d36e933d310e503ae7c170168b0f",
      "original_position" : 5,
      "path" : "test/functional/bip9-softforks.py",
      "position" : 5,
      "pull_request_review_id" : 42948113,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/120940253",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "@jimmysong - Thanks for the quick review! Responses inline.",
      "created_at" : "2017-06-08T16:46:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-307161416",
      "id" : 307161416,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-08T16:46:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307161416",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Great, please let me know when you rebase to #10555 and I'll test it.",
      "created_at" : "2017-06-08T19:28:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-307203506",
      "id" : 307203506,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-08T19:28:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307203506",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "body" : "rebased on #10555 ",
      "created_at" : "2017-06-08T19:37:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-307205612",
      "id" : 307205612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-08T19:37:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307205612",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Tested ACK e1e3dd074b71503d8f74651bf2a3cfd9e55a4d2b",
      "created_at" : "2017-06-08T20:17:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-307215447",
      "id" : 307215447,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-08T20:17:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307215447",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/524761?v=3",
         "events_url" : "https://api.github.com/users/jimmysong/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jimmysong/followers",
         "following_url" : "https://api.github.com/users/jimmysong/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jimmysong/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jimmysong",
         "id" : 524761,
         "login" : "jimmysong",
         "organizations_url" : "https://api.github.com/users/jimmysong/orgs",
         "received_events_url" : "https://api.github.com/users/jimmysong/received_events",
         "repos_url" : "https://api.github.com/users/jimmysong/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jimmysong/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jimmysong"
      }
   },
   {
      "body" : "utACK e1e3dd074b71503d8f74651bf2a3cfd9e55a4d2b",
      "created_at" : "2017-06-08T21:05:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-307227387",
      "id" : 307227387,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-08T21:05:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/307227387",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r121032497"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/121032497"
         }
      },
      "body" : "I have a hard time understanding how this will work. `self.nodes` seems to be set to `self.start_nodes(...)` which means at this point, `self.nodes` is not set at all, and `self.stop_nodes()` will do nothing. Am I missing something?",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-09T01:20:12Z",
      "diff_hunk" : "@@ -207,16 +203,82 @@ def main(self):\n     # Public helper methods. These can be accessed by the subclass test scripts.\n \n     def start_node(self, i, dirname, extra_args=None, rpchost=None, timewait=None, binary=None, stderr=None):\n-        return _start_node(i, dirname, extra_args, rpchost, timewait, binary, stderr)\n+        \"\"\"Start a bitcoind and return RPC connection to it\"\"\"\n+\n+        datadir = os.path.join(dirname, \"node\" + str(i))\n+        if binary is None:\n+            binary = os.getenv(\"BITCOIND\", \"bitcoind\")\n+        args = [binary, \"-datadir=\" + datadir, \"-server\", \"-keypool=1\", \"-discover=0\", \"-rest\", \"-logtimemicros\", \"-debug\", \"-debugexclude=libevent\", \"-debugexclude=leveldb\", \"-mocktime=\" + str(self.mocktime), \"-uacomment=testnode%d\" % i]\n+        if extra_args is not None:\n+            args.extend(extra_args)\n+        self.bitcoind_processes[i] = subprocess.Popen(args, stderr=stderr)\n+        self.log.debug(\"initialize_chain: bitcoind started, waiting for RPC to come up\")\n+        url = rpc_url(i, rpchost)\n+        self._wait_for_bitcoind_start(self.bitcoind_processes[i], url, i)\n+        self.log.debug(\"initialize_chain: RPC successfully started\")\n+        proxy = get_rpc_proxy(url, i, timeout=timewait)\n+\n+        if self.options.coveragedir:\n+            coverage.write_all_rpc_commands(self.options.coveragedir, proxy)\n+\n+        return proxy\n \n     def start_nodes(self, num_nodes, dirname, extra_args=None, rpchost=None, timewait=None, binary=None):\n-        return _start_nodes(num_nodes, dirname, extra_args, rpchost, timewait, binary)\n+        \"\"\"Start multiple bitcoinds, return RPC connections to them\"\"\"\n+\n+        if extra_args is None:\n+            extra_args = [None] * num_nodes\n+        if binary is None:\n+            binary = [None] * num_nodes\n+        assert_equal(len(extra_args), num_nodes)\n+        assert_equal(len(binary), num_nodes)\n+        rpcs = []\n+        try:\n+            for i in range(num_nodes):\n+                rpcs.append(self.start_node(i, dirname, extra_args[i], rpchost, timewait=timewait, binary=binary[i]))\n+        except:\n+            # If one node failed to start, stop the others\n+            self.stop_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r121032497",
      "id" : 121032497,
      "original_commit_id" : "e1e3dd074b71503d8f74651bf2a3cfd9e55a4d2b",
      "original_position" : 159,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 43050422,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/121032497",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r121033071"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/121033071"
         }
      },
      "body" : "I don't think you are. Instead of returning `rpcs`, I think this function should appent to `self.nodes` directly.",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-09T01:27:03Z",
      "diff_hunk" : "@@ -207,16 +203,82 @@ def main(self):\n     # Public helper methods. These can be accessed by the subclass test scripts.\n \n     def start_node(self, i, dirname, extra_args=None, rpchost=None, timewait=None, binary=None, stderr=None):\n-        return _start_node(i, dirname, extra_args, rpchost, timewait, binary, stderr)\n+        \"\"\"Start a bitcoind and return RPC connection to it\"\"\"\n+\n+        datadir = os.path.join(dirname, \"node\" + str(i))\n+        if binary is None:\n+            binary = os.getenv(\"BITCOIND\", \"bitcoind\")\n+        args = [binary, \"-datadir=\" + datadir, \"-server\", \"-keypool=1\", \"-discover=0\", \"-rest\", \"-logtimemicros\", \"-debug\", \"-debugexclude=libevent\", \"-debugexclude=leveldb\", \"-mocktime=\" + str(self.mocktime), \"-uacomment=testnode%d\" % i]\n+        if extra_args is not None:\n+            args.extend(extra_args)\n+        self.bitcoind_processes[i] = subprocess.Popen(args, stderr=stderr)\n+        self.log.debug(\"initialize_chain: bitcoind started, waiting for RPC to come up\")\n+        url = rpc_url(i, rpchost)\n+        self._wait_for_bitcoind_start(self.bitcoind_processes[i], url, i)\n+        self.log.debug(\"initialize_chain: RPC successfully started\")\n+        proxy = get_rpc_proxy(url, i, timeout=timewait)\n+\n+        if self.options.coveragedir:\n+            coverage.write_all_rpc_commands(self.options.coveragedir, proxy)\n+\n+        return proxy\n \n     def start_nodes(self, num_nodes, dirname, extra_args=None, rpchost=None, timewait=None, binary=None):\n-        return _start_nodes(num_nodes, dirname, extra_args, rpchost, timewait, binary)\n+        \"\"\"Start multiple bitcoinds, return RPC connections to them\"\"\"\n+\n+        if extra_args is None:\n+            extra_args = [None] * num_nodes\n+        if binary is None:\n+            binary = [None] * num_nodes\n+        assert_equal(len(extra_args), num_nodes)\n+        assert_equal(len(binary), num_nodes)\n+        rpcs = []\n+        try:\n+            for i in range(num_nodes):\n+                rpcs.append(self.start_node(i, dirname, extra_args[i], rpchost, timewait=timewait, binary=binary[i]))\n+        except:\n+            # If one node failed to start, stop the others\n+            self.stop_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r121033071",
      "id" : 121033071,
      "original_commit_id" : "e1e3dd074b71503d8f74651bf2a3cfd9e55a4d2b",
      "original_position" : 159,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 43051020,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/121033071",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/3782274?v=3",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r121161453"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/121161453"
         }
      },
      "body" : "Good spot @kallewoof - you're not missing anything at all. This is obviously wrong :(\r\n\r\nOnce #10082 is fully merged, I'd like to improve the way the TestNode objects are handled by the BitcoinTestFramework class. There should be separate methods `add_nodes()`, which would instantiate new TestNode objects, and `start_node()`, which would start the bitcoind process. I don't think `start_node()` or `start_nodes()` should be responsible for updating the `self.nodes` list, and individual tests shouldn't normally have to concern themselves with updating the list.\r\n\r\nI also think that eventually `self.nodes` should be a dictionary.\r\n\r\nFor now, I've added a fixup commit that appends the newly created nodes to self.nodes, then calls self.stop_nodes(), and then clears the list. It's a little hacky, but it should restore the functionality here until #10082 is fully merged. Can you take a look and let me know what you think?",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-09T15:56:31Z",
      "diff_hunk" : "@@ -207,16 +203,82 @@ def main(self):\n     # Public helper methods. These can be accessed by the subclass test scripts.\n \n     def start_node(self, i, dirname, extra_args=None, rpchost=None, timewait=None, binary=None, stderr=None):\n-        return _start_node(i, dirname, extra_args, rpchost, timewait, binary, stderr)\n+        \"\"\"Start a bitcoind and return RPC connection to it\"\"\"\n+\n+        datadir = os.path.join(dirname, \"node\" + str(i))\n+        if binary is None:\n+            binary = os.getenv(\"BITCOIND\", \"bitcoind\")\n+        args = [binary, \"-datadir=\" + datadir, \"-server\", \"-keypool=1\", \"-discover=0\", \"-rest\", \"-logtimemicros\", \"-debug\", \"-debugexclude=libevent\", \"-debugexclude=leveldb\", \"-mocktime=\" + str(self.mocktime), \"-uacomment=testnode%d\" % i]\n+        if extra_args is not None:\n+            args.extend(extra_args)\n+        self.bitcoind_processes[i] = subprocess.Popen(args, stderr=stderr)\n+        self.log.debug(\"initialize_chain: bitcoind started, waiting for RPC to come up\")\n+        url = rpc_url(i, rpchost)\n+        self._wait_for_bitcoind_start(self.bitcoind_processes[i], url, i)\n+        self.log.debug(\"initialize_chain: RPC successfully started\")\n+        proxy = get_rpc_proxy(url, i, timeout=timewait)\n+\n+        if self.options.coveragedir:\n+            coverage.write_all_rpc_commands(self.options.coveragedir, proxy)\n+\n+        return proxy\n \n     def start_nodes(self, num_nodes, dirname, extra_args=None, rpchost=None, timewait=None, binary=None):\n-        return _start_nodes(num_nodes, dirname, extra_args, rpchost, timewait, binary)\n+        \"\"\"Start multiple bitcoinds, return RPC connections to them\"\"\"\n+\n+        if extra_args is None:\n+            extra_args = [None] * num_nodes\n+        if binary is None:\n+            binary = [None] * num_nodes\n+        assert_equal(len(extra_args), num_nodes)\n+        assert_equal(len(binary), num_nodes)\n+        rpcs = []\n+        try:\n+            for i in range(num_nodes):\n+                rpcs.append(self.start_node(i, dirname, extra_args[i], rpchost, timewait=timewait, binary=binary[i]))\n+        except:\n+            # If one node failed to start, stop the others\n+            self.stop_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r121161453",
      "id" : 121161453,
      "original_commit_id" : "e1e3dd074b71503d8f74651bf2a3cfd9e55a4d2b",
      "original_position" : 159,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 43193776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/121161453",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r121319327"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/121319327"
         }
      },
      "body" : "@jnewbery Fix looks good to me!",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-12T06:46:09Z",
      "diff_hunk" : "@@ -207,16 +203,82 @@ def main(self):\n     # Public helper methods. These can be accessed by the subclass test scripts.\n \n     def start_node(self, i, dirname, extra_args=None, rpchost=None, timewait=None, binary=None, stderr=None):\n-        return _start_node(i, dirname, extra_args, rpchost, timewait, binary, stderr)\n+        \"\"\"Start a bitcoind and return RPC connection to it\"\"\"\n+\n+        datadir = os.path.join(dirname, \"node\" + str(i))\n+        if binary is None:\n+            binary = os.getenv(\"BITCOIND\", \"bitcoind\")\n+        args = [binary, \"-datadir=\" + datadir, \"-server\", \"-keypool=1\", \"-discover=0\", \"-rest\", \"-logtimemicros\", \"-debug\", \"-debugexclude=libevent\", \"-debugexclude=leveldb\", \"-mocktime=\" + str(self.mocktime), \"-uacomment=testnode%d\" % i]\n+        if extra_args is not None:\n+            args.extend(extra_args)\n+        self.bitcoind_processes[i] = subprocess.Popen(args, stderr=stderr)\n+        self.log.debug(\"initialize_chain: bitcoind started, waiting for RPC to come up\")\n+        url = rpc_url(i, rpchost)\n+        self._wait_for_bitcoind_start(self.bitcoind_processes[i], url, i)\n+        self.log.debug(\"initialize_chain: RPC successfully started\")\n+        proxy = get_rpc_proxy(url, i, timeout=timewait)\n+\n+        if self.options.coveragedir:\n+            coverage.write_all_rpc_commands(self.options.coveragedir, proxy)\n+\n+        return proxy\n \n     def start_nodes(self, num_nodes, dirname, extra_args=None, rpchost=None, timewait=None, binary=None):\n-        return _start_nodes(num_nodes, dirname, extra_args, rpchost, timewait, binary)\n+        \"\"\"Start multiple bitcoinds, return RPC connections to them\"\"\"\n+\n+        if extra_args is None:\n+            extra_args = [None] * num_nodes\n+        if binary is None:\n+            binary = [None] * num_nodes\n+        assert_equal(len(extra_args), num_nodes)\n+        assert_equal(len(binary), num_nodes)\n+        rpcs = []\n+        try:\n+            for i in range(num_nodes):\n+                rpcs.append(self.start_node(i, dirname, extra_args[i], rpchost, timewait=timewait, binary=binary[i]))\n+        except:\n+            # If one node failed to start, stop the others\n+            self.stop_nodes()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r121319327",
      "id" : 121319327,
      "original_commit_id" : "e1e3dd074b71503d8f74651bf2a3cfd9e55a4d2b",
      "original_position" : 159,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : null,
      "pull_request_review_id" : 43356748,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/121319327",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/250224?v=3",
         "events_url" : "https://api.github.com/users/kallewoof/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kallewoof/followers",
         "following_url" : "https://api.github.com/users/kallewoof/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kallewoof/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kallewoof",
         "id" : 250224,
         "login" : "kallewoof",
         "organizations_url" : "https://api.github.com/users/kallewoof/orgs",
         "received_events_url" : "https://api.github.com/users/kallewoof/received_events",
         "repos_url" : "https://api.github.com/users/kallewoof/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kallewoof/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kallewoof"
      }
   },
   {
      "body" : "Needed rebase because the new wallet-encryption test used functions that are moved into the BitcoinTestFramework class by the PR.",
      "created_at" : "2017-06-16T13:56:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-309032505",
      "id" : 309032505,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-16T13:56:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309032505",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r122589783"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122589783"
         }
      },
      "body" : "Please keep the arg named. I'd really prefer if all primitive types are named in our python code.",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-18T12:23:55Z",
      "diff_hunk" : "@@ -452,7 +452,7 @@ def run_test(self):\n         self.stop_node(2)\n         self.stop_node(3)\n         self.nodes[1].encryptwallet(\"test\")\n-        bitcoind_processes[1].wait(timeout=BITCOIND_PROC_WAIT_TIMEOUT)\n+        self.bitcoind_processes[1].wait(60)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r122589783",
      "id" : 122589783,
      "original_commit_id" : "3cc81f93a1458640bf4c1317a2ae5b97addba369",
      "original_position" : 5,
      "path" : "test/functional/fundrawtransaction.py",
      "position" : null,
      "pull_request_review_id" : 44720080,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122589783",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r122594658"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122594658"
         }
      },
      "body" : "Done. I've also restored the use of a constant here (at least until the next PR in this series is merged).",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-18T16:06:19Z",
      "diff_hunk" : "@@ -452,7 +452,7 @@ def run_test(self):\n         self.stop_node(2)\n         self.stop_node(3)\n         self.nodes[1].encryptwallet(\"test\")\n-        bitcoind_processes[1].wait(timeout=BITCOIND_PROC_WAIT_TIMEOUT)\n+        self.bitcoind_processes[1].wait(60)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r122594658",
      "id" : 122594658,
      "original_commit_id" : "3cc81f93a1458640bf4c1317a2ae5b97addba369",
      "original_position" : 5,
      "path" : "test/functional/fundrawtransaction.py",
      "position" : null,
      "pull_request_review_id" : 44724566,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122594658",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Rebased",
      "created_at" : "2017-06-18T16:06:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-309286583",
      "id" : 309286583,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-18T16:06:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309286583",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r122718844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122718844"
         }
      },
      "body" : "Are you sure this was fixed? GitHub didn't collapse the comments.",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-19T14:15:44Z",
      "diff_hunk" : "@@ -452,7 +452,7 @@ def run_test(self):\n         self.stop_node(2)\n         self.stop_node(3)\n         self.nodes[1].encryptwallet(\"test\")\n-        bitcoind_processes[1].wait(timeout=BITCOIND_PROC_WAIT_TIMEOUT)\n+        self.bitcoind_processes[1].wait(60)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r122718844",
      "id" : 122718844,
      "original_commit_id" : "3cc81f93a1458640bf4c1317a2ae5b97addba369",
      "original_position" : 5,
      "path" : "test/functional/fundrawtransaction.py",
      "position" : null,
      "pull_request_review_id" : 44858899,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122718844",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r123085875"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123085875"
         }
      },
      "body" : "Oops. Fixed but not pushed.\r\n\r\nShould be good now.",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-20T20:26:04Z",
      "diff_hunk" : "@@ -452,7 +452,7 @@ def run_test(self):\n         self.stop_node(2)\n         self.stop_node(3)\n         self.nodes[1].encryptwallet(\"test\")\n-        bitcoind_processes[1].wait(timeout=BITCOIND_PROC_WAIT_TIMEOUT)\n+        self.bitcoind_processes[1].wait(60)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r123085875",
      "id" : 123085875,
      "original_commit_id" : "3cc81f93a1458640bf4c1317a2ae5b97addba369",
      "original_position" : 5,
      "path" : "test/functional/fundrawtransaction.py",
      "position" : null,
      "pull_request_review_id" : 45256812,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-20T20:26:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123085875",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Needs rebase after #10533 (again, sorry)",
      "created_at" : "2017-06-21T12:56:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-310069790",
      "id" : 310069790,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-21T12:56:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/310069790",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r123453089"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123453089"
         }
      },
      "body" : "Not sure how to feel about the whitespace changes. This might discourage or distract reviewers. Maybe we could make those in a separate somewhat larger pull?",
      "commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "created_at" : "2017-06-22T08:48:43Z",
      "diff_hunk" : "@@ -187,7 +183,7 @@ def main(self):\n                 for fn in filenames:\n                     try:\n                         with open(fn, 'r') as f:\n-                            print(\"From\" , fn, \":\")\n+                            print(\"From\", fn, \":\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#discussion_r123453089",
      "id" : 123453089,
      "original_commit_id" : "68b56ce2a1d8e480da27c82287ac457c928beebd",
      "original_position" : 116,
      "path" : "test/functional/test_framework/test_framework.py",
      "position" : 116,
      "pull_request_review_id" : 45655965,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/10556",
      "updated_at" : "2017-06-22T08:48:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/123453089",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "rebased (twice - since master changed while I was rebasing  )\r\n\r\n> Not sure how to feel about the whitespace changes. This might discourage or distract reviewers.\r\n\r\nI include style fixes for the modules I'm touching in PRs for a few reasons:\r\n- I like my commits to run clean through a linter. It's the best way I know to make sure I'm not introducing new style nits.\r\n- no-one likes reviewing style-change-only PRs, so unless they're included in larger PRs, style tends to degrade over time\r\n- it's less disruptive than project-wide style PRs in terms of rebasing, since the module is being updated anyway.\r\n\r\nIt doesn't appear that this has discouraged reviewers - this PR has three ACKs and a comment from another reviewer (you).\r\n\r\nThe style changes are contained within separate commits so if you feel really strongly about this I can remove them. However, I'd prefer not to since I've already rebased this PR five times.\r\n",
      "created_at" : "2017-06-27T20:46:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-311480237",
      "id" : 311480237,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-27T20:46:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311480237",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Sorry, this needs rebase again. :(",
      "created_at" : "2017-06-29T09:05:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-311907645",
      "id" : 311907645,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-29T09:05:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311907645",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "rebased",
      "created_at" : "2017-06-29T10:59:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-311933188",
      "id" : 311933188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-29T10:59:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311933188",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "body" : "Well, the issue with including whitespace fixes is that it makes it harder\nto backport and also harder to keep mergeable. So the rebases will\nintroduce errors (see below). Actually I would be fine with a cleanup in\ntest that fixes whitespace and is a `git diff --ignore-all-space` empty\ndiff.\n\nutACK with 05b8c081b435e87b08335e9f9b62a55fa1d48ecc, lets leave this as is\nand fix two nits:\n\n* rpc_auth_pair does not exist previously and is never used, please remove\n* You want to move the `assert_equal(return_code, 0)` down by one line,\nsuch that the process is deleted even if the return code does not match\n* wait_for_node_exit should probably come with a default value for timeout,\nbut this should be done i a follow a later pull.\n\nOn Thu, Jun 29, 2017 at 12:59 PM, John Newbery <notifications@github.com>\nwrote:\n\n> rebased\n>\n> \n> You are receiving this because you were assigned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-311933188>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AGGmv1fsdTJNMgo7Qfy6NzuthY9Ulju5ks5sI4OMgaJpZM4N0NGy>\n> .\n>\n",
      "created_at" : "2017-06-29T13:39:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-311969383",
      "id" : 311969383,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-29T13:39:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311969383",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "Fixed the first two nits. Thanks for catching\r\n\r\n> wait_for_node_exit should probably come with a default value for timeout,\r\nbut this should be done i a follow a later pull.\r\n\r\nRight - I think that's completely orthogonal to this pull. It was introduced in 176c021d085f5a45bc9e038e760942aa648dd797",
      "created_at" : "2017-06-29T14:08:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/10556#issuecomment-311977609",
      "id" : 311977609,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10556",
      "updated_at" : "2017-06-29T14:08:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/311977609",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/1063656?v=3",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   }
]
