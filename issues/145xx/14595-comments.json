[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`-blocksdir` option has been already supported by the command line and/or `bitcoin.conf` file.\r\nSee: #12653",
      "created_at" : "2018-11-03T21:02:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14595#issuecomment-435620621",
      "id" : 435620621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNTYyMDYyMQ==",
      "updated_at" : "2018-11-03T21:02:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435620621",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "spec: Bitcoin 0.17.0, Mac OSX\r\n\r\n@hebasto Oh ok I didn't know that, thank you.\r\nHowever I tried to add `blocksdir` to my config file and it is not taken into account. I first tried to add `blocksdir` under sections [main] and [test]. This doesn't work. And having a global `blocksdir` doesn't work either.\r\n\r\nI have an additional issue with regtest. I want to keep the default data directory but when I run bitcoind, it will create an empty blocks folder at the root of the bitcoin directory in addition to a blocks folder in the regtest directory. It seems that bitcoind in regtest will first search for a blocks dir as if it was on mainnet. It forces me to plug my external hard drive even if I work on regtest.\r\nSpecifying `datadir` or `blocksdir` in [regtest] to avoid this unwanted behavior doesn't work.\r\n\r\n",
      "created_at" : "2018-11-05T18:13:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14595#issuecomment-435977125",
      "id" : 435977125,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNTk3NzEyNQ==",
      "updated_at" : "2018-11-05T18:13:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/435977125",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4022128?v=4",
         "events_url" : "https://api.github.com/users/Janaka-Steph/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Janaka-Steph/followers",
         "following_url" : "https://api.github.com/users/Janaka-Steph/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Janaka-Steph/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Janaka-Steph",
         "id" : 4022128,
         "login" : "Janaka-Steph",
         "node_id" : "MDQ6VXNlcjQwMjIxMjg=",
         "organizations_url" : "https://api.github.com/users/Janaka-Steph/orgs",
         "received_events_url" : "https://api.github.com/users/Janaka-Steph/received_events",
         "repos_url" : "https://api.github.com/users/Janaka-Steph/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Janaka-Steph/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Janaka-Steph/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Janaka-Steph"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Janaka-Steph \r\n> However I tried to add `blocksdir` to my config file and it is not taken into account. I first tried to add `blocksdir` under sections [main] and [test]. This doesn't work. And having a global `blocksdir` doesn't work either.\r\n\r\nCan you provide your `bitcoin.conf` file here?\r\n\r\n> I have an additional issue with regtest. I want to keep the default data directory but when I run bitcoind, it will create an empty blocks folder at the root of the bitcoin directory in addition to a blocks folder in the regtest directory.\r\n\r\nThe #14409 patch fixes this issue.",
      "created_at" : "2018-11-05T19:49:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14595#issuecomment-436011186",
      "id" : 436011186,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNjAxMTE4Ng==",
      "updated_at" : "2018-11-05T19:49:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436011186",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Here is my bitcoin conf file. `blocksdir` is commented. I tried different things but can't have it working.\r\n \r\n```\r\n# This config should be placed in following path on Mac OSX:\r\n# $HOME/Library/Application Support/Bitcoin/bitcoin.conf\r\n\r\n###\r\n#[core]\r\n\r\n#regtest=1\r\ntestnet=1\r\n\r\n# Maintain a full transaction index, used by the getrawtransaction rpc call.\r\ntxindex=1\r\n\r\n# Specify a non-default location to store blockchain and other data.\r\n# Default location on Mac OSX: $HOME/Library/Application Support/Bitcoin\r\n# Having chainstate on external HD hurts performance badly, see https://github.com/bitcoin/bitcoin/issues/10647#issuecomment-312466993\r\n# datadir=/Volumes/Blockchains/Bitcoin\r\n\r\n# Configuration file location\r\n# conf=/Users/steph/Library/Application Support/Bitcoin/bitcoin.conf\r\n\r\n# Set database cache size in megabytes; machines sync faster with a larger cache\r\n# Recommend setting as high as possible based upon machine's available RAM\r\ndbcache=10000\r\n\r\n# Append comment to the user agent string\r\nuacomment=fuckTheBanks\r\n\r\n\r\n###\r\n#[zeromq]\r\n# Enable publishing of block hashes to <address>.\r\nzmqpubhashblock=tcp://127.0.0.1:30001\r\n\r\n# Enable publishing of transaction hashes to <address>.\r\nzmqpubhashtx=tcp://127.0.0.1:30001\r\n\r\n\r\n\r\n###\r\n#[debug]\r\n# Categories: net, tor, mempool, http, bench, zmq, db, rpc, estimatefee, addrman, selectcoins, reindex, cmpctblock, rand, prune, proxy, mempoolrej, libevent, coindb, qt, leveldb\r\ndebug=1\r\n# Log IP Addresses in debug output.\r\nlogips=1\r\n\r\n\r\n# [network]\r\n# Automatically create Tor hidden service\r\n# listenonion=0\r\n# Use UPnP to map the listening port\r\nupnp=1\r\n\r\n\r\n###\r\n#[rpc]\r\n# Accept command line and JSON-RPC commands.\r\nserver=1\r\n\r\n# Accept public REST requests.\r\nrest=1\r\n\r\n# Secure the JSON-RPC api. Deprecated method, use rpcauth instead\r\n#rpcuser=user\r\n#If no rpcpassword is set, rpc cookie auth is sought\r\n#rpcpassword=lulz\r\n\r\n# Location of the RPC auth cookie\r\n#rpccookiefile=/Users/steph/Library/Application\\ Support/Bitcoin/regtest/.cookie\r\n\r\n# Username and hashed password for JSON-RPC connections. <USERNAME>:<SALT>$<HASH>\r\n# RPC clients connect using rpcuser=<USERNAME>/rpcpassword=<PASSWORD> arguments.\r\n# You can generate this value with the ./share/rpcauth/rpcauth.py script in the Bitcoin Core repository\r\n# rpcauth=stephane:c2aab19c89911bdeae44792ad23a8edb$e1057aa437fb1b6466de687f697b6ba8ea6fd3807b9b5bf38e972771ad4c6ce2\r\n\r\n# Allow JSON-RPC connections from specified source. Valid for <ip> are a single IP (e.g. 1.2.3.4), a network/netmask (e.g. 1.2.3.4/255.255.255.0) or a network/CIDR (e.g. 1.2.3.4/24). This option can be specified multiple times.\r\n#rpcallowip=127.0.0.1\r\n\r\n\r\n###\r\n# [wallet]\r\n# Send transactions with full-RBF (bip125-replaceable), activated by default. Use bumpfee \"txid\" to replace a tx.\r\nwalletrbf=1\r\n\r\n#disablewallet=1\r\n\r\n\r\n\r\n###\r\n# Network specific sections\r\n# https://bitcoin.org/en/release/v0.17.0#configuration-sections-for-testnet-and-regtest\r\n[main]\r\n#blocksdir=/Volumes/Blockchains/Bitcoin\r\n\r\n# Bitcoin network protocol listen port (default 8333)\r\n#port=8333\r\n\r\n# RPC connection port (default 8332)\r\n#rpcport=8332\r\n\r\n#mempoolsize=300\r\n\r\n\r\n\r\n[test]\r\n#blocksdir=/Volumes/Blockchains/Bitcoin\r\n\r\n# Bitcoin network protocol listen port (default 18333)\r\nport=18401\r\n\r\n# RPC connection port (default 18332)\r\n#rpcport=18332\r\n\r\n#mempoolsize=100\r\n\r\n# Fees (in BTC/kB) smaller than this are considered zero fee for transaction creation (default: 0.00001)\r\nmintxfee=0.001\r\n\r\n# Fee (in BTC/kB) to add to transactions you send (default: 0.00)\r\n#paytxfee=0.001\r\n\r\n# If paytxfee is not set, include enough fee so transactions begin confirmation on average within n blocks (default: 6)\r\ntxconfirmtarget=1\r\n\r\n# Specify a non-default location to store wallet data.\r\n# walletdir=/Users/steph/Library/Application Support/Bitcoin/testnet3/wallet1\r\n\r\n\r\n\r\n[regtest]\r\n#blocksdir=/Volumes/Blockchains/Bitcoin\r\n\r\n# Bitcoin network protocol listen port (default 18444)\r\n#port=18444\r\n\r\n# RPC connection port (default 18443)\r\n#rpcport=18443\r\n\r\n# Location of the RPC auth cookie\r\n# rpccookiefile=/Users/steph/Desktop/Bitcoin/Regtest_Server/.cookie\r\n\r\n# Set the depth of the work queue to service RPC calls\r\nrpcworkqueue=32\r\n\r\n#mempoolsize=20\r\n```",
      "created_at" : "2018-11-05T21:48:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14595#issuecomment-436047870",
      "id" : 436047870,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQzNjA0Nzg3MA==",
      "updated_at" : "2018-11-05T21:48:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/436047870",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/4022128?v=4",
         "events_url" : "https://api.github.com/users/Janaka-Steph/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Janaka-Steph/followers",
         "following_url" : "https://api.github.com/users/Janaka-Steph/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Janaka-Steph/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Janaka-Steph",
         "id" : 4022128,
         "login" : "Janaka-Steph",
         "node_id" : "MDQ6VXNlcjQwMjIxMjg=",
         "organizations_url" : "https://api.github.com/users/Janaka-Steph/orgs",
         "received_events_url" : "https://api.github.com/users/Janaka-Steph/received_events",
         "repos_url" : "https://api.github.com/users/Janaka-Steph/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Janaka-Steph/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Janaka-Steph/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Janaka-Steph"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@Janaka-Steph \r\nI've tested your config file on MacOS 10.13.6:\r\n\r\n```\r\n...\r\ntestnet=1\r\n...\r\n[test]\r\n#blocksdir=/Volumes/Blockchains/Bitcoin\r\nblocksdir=/Users/hebasto/Desktop/BLOCKS\r\n...\r\n```\r\n\r\nIt works as expected for me:\r\n```\r\n$ ls /Users/hebasto/Desktop/BLOCKS/testnet3/\r\nblocks\r\n```",
      "created_at" : "2018-11-30T16:27:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/14595#issuecomment-443258361",
      "id" : 443258361,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14595",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0MzI1ODM2MQ==",
      "updated_at" : "2018-11-30T16:27:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/443258361",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/32963518?v=4",
         "events_url" : "https://api.github.com/users/hebasto/events{/privacy}",
         "followers_url" : "https://api.github.com/users/hebasto/followers",
         "following_url" : "https://api.github.com/users/hebasto/following{/other_user}",
         "gists_url" : "https://api.github.com/users/hebasto/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/hebasto",
         "id" : 32963518,
         "login" : "hebasto",
         "node_id" : "MDQ6VXNlcjMyOTYzNTE4",
         "organizations_url" : "https://api.github.com/users/hebasto/orgs",
         "received_events_url" : "https://api.github.com/users/hebasto/received_events",
         "repos_url" : "https://api.github.com/users/hebasto/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/hebasto/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/hebasto"
      }
   }
]
