[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r25995924"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/25995924"
         }
      },
      "body" : "Comment is outdated now.",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-03-07T13:17:45Z",
      "diff_hunk" : "@@ -2132,15 +2137,21 @@ static CBlockIndex* FindMostWorkChain() {\n         CBlockIndex *pindexTest = pindexNew;\n         bool fInvalidAncestor = false;\n         while (pindexTest && !chainActive.Contains(pindexTest)) {\n-            assert(pindexTest->nStatus & BLOCK_HAVE_DATA);\n             assert(pindexTest->nChainTx || pindexTest->nHeight == 0);\n-            if (pindexTest->nStatus & BLOCK_FAILED_MASK) {\n+\n+            // Pruned nodes may have entries in setBlockIndexCandidates for\n+            // which block files have been deleted.  Remove those as candidates\n+            // for the most work chain if we come across them; we can't switch\n+            // to a chain unless we have all the non-active-chain parent blocks.\n+            bool fFailedChain = pindexTest->nStatus & BLOCK_FAILED_MASK;\n+            if (fFailedChain || !(pindexTest->nStatus & BLOCK_HAVE_DATA)) {\n                 // Candidate has an invalid ancestor, remove entire chain from the set.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r25995924",
      "id" : 25995924,
      "original_commit_id" : "715bc7a244fa6b1bbfb2554d295f07c5de016ecf",
      "original_position" : 45,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/25995924",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r25995941"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/25995941"
         }
      },
      "body" : "Style nit: { on the same line.",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-03-07T13:20:06Z",
      "diff_hunk" : "@@ -2268,6 +2279,9 @@ bool ActivateBestChain(CValidationState &state, CBlock *pblock) {\n             uint256 hashNewTip = pindexNewTip->GetBlockHash();\n             // Relay inventory, but don't relay old inventory during initial block download.\n             int nBlockEstimate = Checkpoints::GetTotalBlocksEstimate();\n+            // Don't relay blocks if autopruning -- could cause a peer to try to download, resulting\n+            // in a stalled download if the block file is pruned before the request.\n+            if (nLocalServices & NODE_NETWORK)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r25995941",
      "id" : 25995941,
      "original_commit_id" : "715bc7a244fa6b1bbfb2554d295f07c5de016ecf",
      "original_position" : 63,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/25995941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r25995943"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/25995943"
         }
      },
      "body" : "Style nit: spaces around =",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-03-07T13:20:20Z",
      "diff_hunk" : "@@ -2826,6 +2848,102 @@ bool AbortNode(const std::string &strMessage, const std::string &userMessage) {\n     return false;\n }\n \n+\n+/**\n+ * BLOCK PRUNING CODE (\"Autoprune\")\n+ */\n+\n+/* Calculate the amount of disk space the block & undo files currently use */\n+uint64_t CalculateCurrentUsage()\n+{\n+    uint64_t retval=0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r25995943",
      "id" : 25995943,
      "original_commit_id" : "715bc7a244fa6b1bbfb2554d295f07c5de016ecf",
      "original_position" : 110,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/25995943",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r25995955"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/25995955"
         }
      },
      "body" : "This seems like a pretty normal condition during initial sync; does that require an unconditional log message?",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-03-07T13:22:20Z",
      "diff_hunk" : "@@ -2826,6 +2848,102 @@ bool AbortNode(const std::string &strMessage, const std::string &userMessage) {\n     return false;\n }\n \n+\n+/**\n+ * BLOCK PRUNING CODE (\"Autoprune\")\n+ */\n+\n+/* Calculate the amount of disk space the block & undo files currently use */\n+uint64_t CalculateCurrentUsage()\n+{\n+    uint64_t retval=0;\n+    BOOST_FOREACH(const CBlockFileInfo &file, vinfoBlockFile) {\n+        retval += file.nSize + file.nUndoSize;\n+    }\n+    return retval;\n+}\n+\n+/* Prune (delete) a block file.  Returns true if a file was deleted, else false */\n+void PruneOneBlockFile(const int fileNumber)\n+{\n+    if (!fHavePruned) {\n+        AssertLockHeld(cs_main);\n+        pblocktree->WriteFlag(\"prunedblockfiles\", true);\n+        fHavePruned = true;\n+    }\n+    for (BlockMap::iterator it = mapBlockIndex.begin(); it != mapBlockIndex.end(); ++it) {\n+        CBlockIndex* pindex = it->second;\n+        if (pindex->nFile == fileNumber){\n+            pindex->nStatus &= ~BLOCK_HAVE_DATA;\n+            pindex->nStatus &= ~BLOCK_HAVE_UNDO;\n+            pindex->nFile = 0;\n+            pindex->nDataPos = 0;\n+            pindex->nUndoPos = 0;\n+            setDirtyBlockIndex.insert(pindex);\n+        }\n+    }\n+    CDiskBlockPos pos(fileNumber, 0);\n+    try \n+    {\n+        boost::filesystem::remove(GetBlockPosFilename(pos, \"blk\"));\n+        boost::filesystem::remove(GetBlockPosFilename(pos, \"rev\"));\n+    }\n+    catch (const std::runtime_error& e)\n+    {\n+        AbortNode(\"Fatal error removing block/undo file. Try running with -reindex\");\n+    }\n+\n+    vinfoBlockFile[fileNumber].SetNull();\n+    setDirtyFileInfo.insert(fileNumber);\n+}\n+\n+/**\n+ * Autoprune()\n+ *\n+ * nAdditionalBytes, if supplied, is the number of bytes that\n+ * are about to be allocated to write new blocks to disk.\n+ */\n+void Autoprune(uint64_t nAdditionalBytes)\n+{\n+    LOCK(cs_main);\n+    if (chainActive.Tip() == NULL || nAutopruneTarget == 0) {\n+        LogPrintf(\"Autoprune: No chain, or called when target=0.\\n\");\n+        return;\n+    }\n+    if (chainActive.Tip()->nHeight <= Params().AutopruneAfterHeight()) {\n+        LogPrintf(\"Autoprune: current height less than minimum height for pruning (%d).\\n\", Params().AutopruneAfterHeight());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r25995955",
      "id" : 25995955,
      "original_commit_id" : "715bc7a244fa6b1bbfb2554d295f07c5de016ecf",
      "original_position" : 165,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/25995955",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Looks good, overall. I wouldn't worry about the inefficient mapBlockIndex iteration for now, that can be improved later. I haven't tested yet.",
      "created_at" : "2015-03-07T13:30:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-77689327",
      "id" : 77689327,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-07T13:30:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/77689327",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r26002908"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26002908"
         }
      },
      "body" : "Can you use //! so it will get picked up by doxygen",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-03-08T07:09:18Z",
      "diff_hunk" : "@@ -200,6 +201,7 @@ class CTestNetParams : public CMainParams {\n         nMinerThreads = 0;\n         nTargetTimespan = 14 * 24 * 60 * 60; //! two weeks\n         nTargetSpacing = 10 * 60;\n+        nAutopruneAfterHeight = 1000; // low since testnet can be reset in future",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r26002908",
      "id" : 26002908,
      "original_commit_id" : "715bc7a244fa6b1bbfb2554d295f07c5de016ecf",
      "original_position" : 12,
      "path" : "src/chainparams.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/26002908",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "We've added 6 new commits.\r\n1 addresses some of the feedback so far (will be squashed)\r\n2,3 are already in master and will be dropped when we rebase\r\n4 adds an RPC test. It is very expensive, so please be wary running it.\r\n5 fixes a bug that was preventing us from reorg'ing to a chain for which we needed to redownload pruned blocks. (will be squashed)\r\n6 is the code change from #5890 and can be dropped if that's merged",
      "created_at" : "2015-03-13T17:24:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-79158060",
      "id" : 79158060,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-13T17:24:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/79158060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Addressed some of the feedback and made a few other slight improvements.\r\nOf note, as discussed on IRC, passing -prune=N and -reindex will cause all block and undo files to be deleted.  This happens regardless of whether you were previously pruned and actually needed to do this or not.  This was added in the last commit.",
      "created_at" : "2015-03-19T15:43:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-83639289",
      "id" : 83639289,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-19T15:43:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/83639289",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "v0.9.0rc2-2621-g40ba177.  Bootstrapping with \"prune=1000\", (and some minor added debug prints which shouldn't have affected anything, but never know):\r\n\r\nbitcoind: coins.cpp:150: virtual bool CCoinsViewCache::BatchWrite(CCoinsMap&, const uint256&): Assertion `it->second.flags & CCoinsCacheEntry::FRESH' failed.\r\n\r\nUnf. didn't have ulimit -c unlimited.  Rerunning, it seems be gathering blocks like normal...",
      "created_at" : "2015-03-25T11:21:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-85987895",
      "id" : 85987895,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-25T11:21:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/85987895",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "Hey Rusty,\r\n\r\nYou don't happen to have the debug.log laying around from when it crashed,\r\ndo you?  Would you be willing to share it?\r\n\r\nThanks!\r\n--adam\r\n\r\n\r\nOn Wed, Mar 25, 2015 at 7:21 AM, Rusty Russell <notifications@github.com>\r\nwrote:\r\n\r\n> Hmm, bootstrapping with \"prune=1000\", (and some minor added debug prints\r\n> which shouldn't have affected anything, but never know):\r\n>\r\n> bitcoind: coins.cpp:150: virtual bool\r\n> CCoinsViewCache::BatchWrite(CCoinsMap&, const uint256&): Assertion\r\n> `it->second.flags & CCoinsCacheEntry::FRESH' failed.\r\n>\r\n> Unf. didn't have ulimit -c unlimited. Rerunning, it seems be gathering\r\n> blocks like normal...\r\n>\r\n> Ã¢ÂÂ\r\n> Reply to this email directly or view it on GitHub\r\n> <https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-85987895>.\r\n>\r\n",
      "created_at" : "2015-03-25T15:05:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86072095",
      "id" : 86072095,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-25T15:19:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86072095",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "Also, what version are you running?  If you're running this pull, you should see a version string like this:\r\n\r\n```\r\n2015-03-25 15:22:05 Bitcoin version v0.10.99.0-40ba177-dirty (2015-03-19 11:28:32 -0400)\r\n```\r\n\r\nThe \"v0.9.0rc2-2621-g40ba177\" that appears in your comment references a version that is quite old.  Also, did you update your comment after the fact?  For some reason, github never included that part in the original email.\r\n\r\nThanks!\r\n",
      "created_at" : "2015-03-25T15:24:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86081177",
      "id" : 86081177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-25T15:24:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86081177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "https://github.com/sdaftuar/bitcoin/tree/autoprune == 40ba177 which is what I was running (and, AFAICT, what is proposed in this pull request).\r\n\r\nUnf. I didn't save debug.log :(",
      "created_at" : "2015-03-26T00:28:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86264679",
      "id" : 86264679,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T00:28:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86264679",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "Hmm, next run got killed by the OOM killer.  Perhaps this first assert() was due to OOM (512M mem, 512M swap).",
      "created_at" : "2015-03-26T00:35:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86265588",
      "id" : 86265588,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T00:35:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86265588",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "I see an 0.9.0rc2 in the version string you posted.  Did you back port or\nrebase?\n\nOn Wed, Mar 25, 2015, 8:35 PM Rusty Russell <notifications@github.com>\nwrote:\n\n> Hmm, next run got killed by the OOM killer. Perhaps this first assert()\n> was due to OOM (512M mem, 512M swap).\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86265588>.\n>\n",
      "created_at" : "2015-03-26T00:52:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86267908",
      "id" : 86267908,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T00:52:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86267908",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "Neither.  git describe uses the previous tag it knows about.  For some reason it doesn't know about more recent tags.  But I'm on commit 40ba177537a6cb032a03648208add12695c635e8.\r\n\r\nThe good news: it happened again!  bitcoind: coins.cpp:150: virtual bool CCoinsViewCache::BatchWrite(CCoinsMap&, const uint256&): Assertion `it->second.flags & CCoinsCacheEntry::FRESH' failed.\r\n\r\nHere's the last 100 lines of debug.log (can't figure out how to attach the whole thing):\r\n\r\n2015-03-26 01:12:46 UpdateTip: new best=000000000000002a45bf369333c2daa0555e8e6f064cbd6bd1ff1a5d06980d82  height=256222  log2_work=71.679906  tx=23298335  date=2013-09-05 08:23:11 progress=0.164551  cache=48753\r\n2015-03-26 01:12:46 UpdateTip: new best=000000000000000753309260f94ad504e02cfc39bbd27864572d935b1aea715d  height=256223  log2_work=71.680048  tx=23298379  date=2013-09-05 08:24:21 progress=0.164551  cache=48814\r\n2015-03-26 01:12:46 UpdateTip: new best=0000000000000022474ef8062a2b3ffac71dba34f4713e4320cb03ab2a8b4f27  height=256224  log2_work=71.680191  tx=23298647  date=2013-09-05 08:31:51 progress=0.164553  cache=49002\r\n2015-03-26 01:12:46 UpdateTip: new best=000000000000000d93e092f11fbffe4cf51b3230b85429126fd59fdc4a658711  height=256225  log2_work=71.680333  tx=23298903  date=2013-09-05 09:02:55 progress=0.164555  cache=49232\r\n2015-03-26 01:12:46 UpdateTip: new best=000000000000000b82f040c3342eb73532a6124efc40b024fdad513e05fd0bd5  height=256226  log2_work=71.680475  tx=23299531  date=2013-09-05 09:10:09 progress=0.164559  cache=49832\r\n2015-03-26 01:12:46 UpdateTip: new best=000000000000002a6ecdbe7fbfa95c3506f1453577a683a79da81098e7905584  height=256227  log2_work=71.680618  tx=23300084  date=2013-09-05 09:16:24 progress=0.164563  cache=50243\r\n2015-03-26 01:12:46 UpdateTip: new best=000000000000002c6fa89ede90bbc722936a218850ce5f6376edb2ea00a7fa05  height=256228  log2_work=71.68076  tx=23300099  date=2013-09-05 09:16:32 progress=0.164563  cache=50271\r\n2015-03-26 01:12:47 UpdateTip: new best=00000000000000101ce20a35d1ddcae106b960d6e785104426f8d0bdd2017bf2  height=256229  log2_work=71.680902  tx=23300780  date=2013-09-05 09:35:11 progress=0.164568  cache=50989\r\n2015-03-26 01:12:47 UpdateTip: new best=0000000000000020c9620a098f464ca259dfb49e0d58ac6e8072fb9ebf01aa22  height=256230  log2_work=71.681045  tx=23301155  date=2013-09-05 09:43:39 progress=0.164571  cache=51343\r\n2015-03-26 01:12:47 UpdateTip: new best=000000000000002ff0c69115a9a7ec287f2eb1e7aaf5fcd8e570523c6d0e35da  height=256231  log2_work=71.681187  tx=23301803  date=2013-09-05 10:08:04 progress=0.164575  cache=51839\r\n2015-03-26 01:12:48 UpdateTip: new best=0000000000000012934a060e2f39186df3576919488f578142ac0b39f40eb016  height=256232  log2_work=71.681329  tx=23302097  date=2013-09-05 10:11:37 progress=0.164577  cache=52213\r\n2015-03-26 01:12:48 UpdateTip: new best=0000000000000001fd0e62b6be598ed76515a2044941efdffaa6cffbaedf6be9  height=256233  log2_work=71.681472  tx=23302512  date=2013-09-05 10:23:50 progress=0.164580  cache=52519\r\n2015-03-26 01:12:48 UpdateTip: new best=000000000000003040c350eb9968ddd8d465c02d3b8c08a57092d648d84e81fb  height=256234  log2_work=71.681614  tx=23303160  date=2013-09-05 10:56:06 progress=0.164585  cache=53021\r\n2015-03-26 01:12:48 UpdateTip: new best=0000000000000004e00a510cb0eb701049eab4ffa7f5ae0cb35166012f206735  height=256235  log2_work=71.681756  tx=23303555  date=2013-09-05 10:58:04 progress=0.164588  cache=53195\r\n2015-03-26 01:12:48 UpdateTip: new best=0000000000000001d5cb5a162b017593ea700796346fc4ad2878317f88639558  height=256236  log2_work=71.681898  tx=23303687  date=2013-09-05 10:59:25 progress=0.164589  cache=53329\r\n2015-03-26 01:12:49 UpdateTip: new best=00000000000000132059570a30473e9a66082f15a3587f46674e2868e42c1717  height=256237  log2_work=71.68204  tx=23304007  date=2013-09-05 11:07:52 progress=0.164591  cache=53593\r\n2015-03-26 01:12:49 UpdateTip: new best=0000000000000022e8d500382e2890c4188afbac95bd96b28badeb40535a2d62  height=256238  log2_work=71.682183  tx=23304182  date=2013-09-05 11:13:55 progress=0.164592  cache=53742\r\n2015-03-26 01:12:49 UpdateTip: new best=00000000000000153e89df838e32e1d69f44352582b7e916779a4c81f5c87fc8  height=256239  log2_work=71.682325  tx=23304295  date=2013-09-05 11:16:07 progress=0.164593  cache=53864\r\n2015-03-26 01:12:49 UpdateTip: new best=000000000000001c4c2ae705ca273cabbb7881587eee17d65e97872f6d32e3dd  height=256240  log2_work=71.682467  tx=23304658  date=2013-09-05 11:30:15 progress=0.164596  cache=54138\r\n2015-03-26 01:12:49 UpdateTip: new best=00000000000000094943a4f8db9e6e3c7693fda19a87e0c6311cbff6af5e30ed  height=256241  log2_work=71.682609  tx=23304712  date=2013-09-05 11:31:46 progress=0.164596  cache=54188\r\n2015-03-26 01:12:49 UpdateTip: new best=00000000000000240151486223bec38ac2efd88b06358ed808b7650ca2d4e7b9  height=256242  log2_work=71.682751  tx=23305195  date=2013-09-05 11:53:06 progress=0.164599  cache=54500\r\n2015-03-26 01:12:49 UpdateTip: new best=000000000000000b204f319b88cb7ada312006cff24259767ce543590376916b  height=256243  log2_work=71.682893  tx=23305205  date=2013-09-05 11:53:17 progress=0.164599  cache=54510\r\n2015-03-26 01:12:49 UpdateTip: new best=000000000000002fe406df0a623d0552973f7455aff2866b400492e7b964905d  height=256244  log2_work=71.683035  tx=23305255  date=2013-09-05 11:54:08 progress=0.164600  cache=54530\r\n2015-03-26 01:12:49 UpdateTip: new best=0000000000000004760b054428b39113e0a27e08cce9a98cd27c4dbee3ea3f05  height=256245  log2_work=71.683178  tx=23305450  date=2013-09-05 12:00:16 progress=0.164601  cache=54716\r\n2015-03-26 01:12:50 UpdateTip: new best=000000000000000c5a4a7971338e3b2226b4697035455b1f10c8db8806241ecd  height=256246  log2_work=71.68332  tx=23306018  date=2013-09-05 12:08:59 progress=0.164605  cache=55351\r\n2015-03-26 01:12:50 UpdateTip: new best=000000000000001bb68eb99892b94fa8b33da6be1e52afe17920e05bea0528b0  height=256247  log2_work=71.683462  tx=23307265  date=2013-09-05 12:33:09 progress=0.164614  cache=56346\r\n2015-03-26 01:12:51 UpdateTip: new best=00000000000000178f4cf7cef8941844bd72d1435f4cf5e61cfe066311f7807a  height=256248  log2_work=71.683604  tx=23307913  date=2013-09-05 12:45:14 progress=0.164619  cache=56992\r\n2015-03-26 01:12:51 UpdateTip: new best=00000000000000176e15e4fb8f59e2b65407afa87af9af2f2a3ad31a215b5049  height=256249  log2_work=71.683746  tx=23308112  date=2013-09-05 12:48:01 progress=0.164620  cache=57097\r\n2015-03-26 01:12:51 UpdateTip: new best=000000000000001f1d84edf1d8901ed8a3b4415c0ae71faea14902a0cb12eb2c  height=256250  log2_work=71.683888  tx=23308762  date=2013-09-05 13:07:00 progress=0.164625  cache=57724\r\n2015-03-26 01:12:51 UpdateTip: new best=0000000000000021843eb11fc9e41c9f6b8403166d485259acd04f6349a15368  height=256251  log2_work=71.68403  tx=23309579  date=2013-09-05 13:35:58 progress=0.164630  cache=58350\r\n2015-03-26 01:12:52 UpdateTip: new best=000000000000001be38f4d3d802a0c4f53aa250ade35ef562858df8f4459143a  height=256252  log2_work=71.684172  tx=23310617  date=2013-09-05 13:44:30 progress=0.164638  cache=59410\r\n2015-03-26 01:12:52 UpdateTip: new best=0000000000000016f9e206d675a4806a56889b4dad5bc8101458a67caae8fec5  height=256253  log2_work=71.684314  tx=23310937  date=2013-09-05 13:53:32 progress=0.164640  cache=59760\r\n2015-03-26 01:12:53 UpdateTip: new best=00000000000000167d0798f1c90a8b032608b2bfec24e9338046f0458f889050  height=256254  log2_work=71.684456  tx=23311912  date=2013-09-05 14:11:04 progress=0.164647  cache=60417\r\n2015-03-26 01:12:53 UpdateTip: new best=000000000000002c615c4e75ed0e3cd5fdf8c784ed70f994f6b8dd170491052b  height=256255  log2_work=71.684598  tx=23312598  date=2013-09-05 14:25:07 progress=0.164652  cache=61044\r\n2015-03-26 01:12:53 UpdateTip: new best=00000000000000294c1570b253f58ae84bb3436f27dc341e01ec98b12ffb4457  height=256256  log2_work=71.68474  tx=23312983  date=2013-09-05 14:38:18 progress=0.164654  cache=61382\r\n2015-03-26 01:12:53 UpdateTip: new best=0000000000000013ef06f2beede29fc3544553f88da16e56be374b98bf8378cc  height=256257  log2_work=71.684882  tx=23313815  date=2013-09-05 14:51:12 progress=0.164660  cache=61964\r\n2015-03-26 01:12:54 UpdateTip: new best=000000000000000120c0962bfabb16f454d619b081dabd5f593bdec041fdb04c  height=256258  log2_work=71.685023  tx=23314011  date=2013-09-05 14:53:04 progress=0.164662  cache=62117\r\n2015-03-26 01:12:54 UpdateTip: new best=0000000000000030465e2521d48854fd32e22fb56a4d23383215eeef5cec71ad  height=256259  log2_work=71.685165  tx=23314390  date=2013-09-05 14:59:37 progress=0.164664  cache=62420\r\n2015-03-26 01:12:54 UpdateTip: new best=0000000000000015f00b818ec4d3cd84c7efe492c19042e8d41aa1d88220fcca  height=256260  log2_work=71.685307  tx=23314668  date=2013-09-05 15:03:44 progress=0.164666  cache=62627\r\n2015-03-26 01:12:54 UpdateTip: new best=0000000000000021f9c19ee0a908e5e8467a3135ca017778fa0b6fe205858e86  height=256261  log2_work=71.685449  tx=23315249  date=2013-09-05 15:17:30 progress=0.164670  cache=63094\r\n2015-03-26 01:12:54 UpdateTip: new best=0000000000000004106d02bd030be7b11b09dc29bd1b814d82230a3602d71cbf  height=256262  log2_work=71.685591  tx=23315921  date=2013-09-05 15:39:25 progress=0.164675  cache=63618\r\n2015-03-26 01:12:55 Pre-allocating up to position 0x900000 in rev00079.dat\r\n2015-03-26 01:12:55 UpdateTip: new best=00000000000000152c20907e5fc32b0a5699cd6b3bdfdc54541068acc40c9001  height=256263  log2_work=71.685733  tx=23316369  date=2013-09-05 15:42:00 progress=0.164678  cache=63845\r\n2015-03-26 01:12:55 UpdateTip: new best=0000000000000017393b8866299590a0cccb9fc3ec77d78f95ad1c8dad019ba5  height=256264  log2_work=71.685875  tx=23316635  date=2013-09-05 15:44:52 progress=0.164680  cache=64044\r\n2015-03-26 01:12:55 UpdateTip: new best=0000000000000029669d094d8730098533dace24b5ebbf53b2a289feb034444e  height=256265  log2_work=71.686016  tx=23316846  date=2013-09-05 15:48:59 progress=0.164682  cache=64209\r\n2015-03-26 01:12:55 UpdateTip: new best=0000000000000024de7285b3c2414f0a16183de523ea34b0e761a4111f693051  height=256266  log2_work=71.686158  tx=23317071  date=2013-09-05 15:54:51 progress=0.164683  cache=64449\r\n2015-03-26 01:12:55 UpdateTip: new best=00000000000000165eab046aa4a026bc181b82d951936924c5aeb71ca394161a  height=256267  log2_work=71.6863  tx=23317372  date=2013-09-05 15:58:28 progress=0.164685  cache=64676\r\n2015-03-26 01:12:55 UpdateTip: new best=0000000000000030064bb7a58f10d456eaa8ed4b1b5d302c0ef7beee89165195  height=256268  log2_work=71.686442  tx=23317436  date=2013-09-05 15:59:52 progress=0.164686  cache=64706\r\n2015-03-26 01:12:55 UpdateTip: new best=0000000000000028115e14c9c3ff53915c178d7e00483ea1d49e89e3a2f8ea1a  height=256269  log2_work=71.686584  tx=23317684  date=2013-09-05 16:05:53 progress=0.164688  cache=64910\r\n2015-03-26 01:12:55 UpdateTip: new best=000000000000002d8e2f9179ed9f8cf3d9651d7ba23e1df5045fd53a7efb7e9f  height=256270  log2_work=71.686725  tx=23317794  date=2013-09-05 16:08:09 progress=0.164688  cache=64989\r\n2015-03-26 01:12:55 UpdateTip: new best=000000000000000455fe9a0f779024be6ffb8d66e3983fbb9daf563cc2720dc1  height=256271  log2_work=71.686867  tx=23318058  date=2013-09-05 16:11:30 progress=0.164690  cache=65240\r\n2015-03-26 01:12:56 UpdateTip: new best=0000000000000008ba72a286f0c0d7cc9f76404d6d03b1ecbceb957a896169ef  height=256272  log2_work=71.687009  tx=23319210  date=2013-09-05 16:33:00 progress=0.164698  cache=66056\r\n2015-03-26 01:12:56 UpdateTip: new best=000000000000001e54d7eb160c15019da95f2bf0e4a55a75339c2be02953c314  height=256273  log2_work=71.68715  tx=23319463  date=2013-09-05 16:38:52 progress=0.164700  cache=66267\r\n2015-03-26 01:12:56 UpdateTip: new best=000000000000002665aa9b70dc61c3e3a21b14254d025f247fcd0ee7988556dc  height=256274  log2_work=71.687292  tx=23319761  date=2013-09-05 16:45:01 progress=0.164702  cache=66495\r\n2015-03-26 01:12:56 UpdateTip: new best=000000000000001452940962883c497d7bfe87508813529d924c3555ca524b6e  height=256275  log2_work=71.687434  tx=23319801  date=2013-09-05 16:46:11 progress=0.164702  cache=66522\r\n2015-03-26 01:12:56 UpdateTip: new best=000000000000002b0e29289255b11ea377d03f02d6e2013c9c4500879f17aa79  height=256276  log2_work=71.687575  tx=23320487  date=2013-09-05 17:02:48 progress=0.164707  cache=67014\r\n2015-03-26 01:12:56 UpdateTip: new best=000000000000002d054be1e77c50aafcabf5ad9466560117bd8fd9706e08a472  height=256277  log2_work=71.687717  tx=23320591  date=2013-09-05 17:06:30 progress=0.164708  cache=67099\r\n2015-03-26 01:12:57 UpdateTip: new best=000000000000002dc13bc14c9e999f56fa19ce4e0ae0c4f203197f1c6f269a26  height=256278  log2_work=71.687859  tx=23321470  date=2013-09-05 17:32:00 progress=0.164714  cache=67893\r\n2015-03-26 01:12:57 UpdateTip: new best=000000000000000f7125b930e8fd8e239a4c63c0f2d55bb5e63ba9fc4e0109a8  height=256279  log2_work=71.688  tx=23322078  date=2013-09-05 17:35:07 progress=0.164719  cache=68269\r\n2015-03-26 01:12:57 UpdateTip: new best=000000000000001a92af8fe69ff4aa1e1f02642f9a93587143e9d5d7f1ffba6c  height=256280  log2_work=71.688142  tx=23322632  date=2013-09-05 17:40:49 progress=0.164722  cache=68537\r\n2015-03-26 01:12:57 UpdateTip: new best=000000000000000159f4bd54cf3c54c2df34ddd6ff51c680e1b7d0622f5c8b43  height=256281  log2_work=71.688283  tx=23323215  date=2013-09-05 17:51:32 progress=0.164727  cache=68947\r\n2015-03-26 01:12:58 UpdateTip: new best=00000000000000247fe2e1f11a489c118ffb6792d6ba11121279cf12a62453eb  height=256282  log2_work=71.688425  tx=23323753  date=2013-09-05 18:02:21 progress=0.164730  cache=69359\r\n2015-03-26 01:12:58 UpdateTip: new best=0000000000000014813cffe67140e7dbfb5a7773d274941c2edb1a11d0edd0b7  height=256283  log2_work=71.688567  tx=23324401  date=2013-09-05 18:17:30 progress=0.164735  cache=69837\r\n2015-03-26 01:12:58 UpdateTip: new best=000000000000000a41919e5ba9bf94590307957438df8957b2d8e055d196b073  height=256284  log2_work=71.688708  tx=23324549  date=2013-09-05 18:17:40 progress=0.164736  cache=69925\r\n2015-03-26 01:12:58 UpdateTip: new best=000000000000000da78b890167754320fcd7844a8333cf2e7eaa27e6eb66beef  height=256285  log2_work=71.68885  tx=23324674  date=2013-09-05 18:19:50 progress=0.164737  cache=70080\r\n2015-03-26 01:12:58 UpdateTip: new best=000000000000000a11b83ec67046bd1c3742d37c1fd19eb60993dd4142832587  height=256286  log2_work=71.688991  tx=23325155  date=2013-09-05 18:29:23 progress=0.164740  cache=70487\r\n2015-03-26 01:12:58 UpdateTip: new best=0000000000000030b9133b269aa99ef3ff0720207add7d6cda4ee4b3682293c5  height=256287  log2_work=71.689133  tx=23325253  date=2013-09-05 18:30:04 progress=0.164741  cache=70561\r\n2015-03-26 01:12:59 UpdateTip: new best=000000000000001ad1c72f89e3e477dad1a4f31fa259dcc36347e95df771beb3  height=256288  log2_work=71.689274  tx=23325512  date=2013-09-05 18:35:01 progress=0.164743  cache=70724\r\n2015-03-26 01:12:59 UpdateTip: new best=000000000000001eb25e185d9b67d1395f90134039a94141aec1d1405ae6ed3e  height=256289  log2_work=71.689416  tx=23325535  date=2013-09-05 18:35:15 progress=0.164743  cache=70777\r\n2015-03-26 01:12:59 UpdateTip: new best=00000000000000021f594b3f66f4caa4251d538e4450bd3f03106d0008845d00  height=256290  log2_work=71.689557  tx=23325632  date=2013-09-05 18:36:45 progress=0.164744  cache=70928\r\n2015-03-26 01:12:59 UpdateTip: new best=000000000000000eff0b9ad6c63cae18b2c3ca434f62083a77e09a5c254b9240  height=256291  log2_work=71.689699  tx=23326314  date=2013-09-05 18:58:29 progress=0.164748  cache=71546\r\n2015-03-26 01:13:00 UpdateTip: new best=000000000000001857b4bcda0878dd5a25ffb28add7b9ce33ccaf2f6024e42f8  height=256292  log2_work=71.68984  tx=23326874  date=2013-09-05 19:00:16 progress=0.164752  cache=72269\r\n2015-03-26 01:13:00 UpdateTip: new best=00000000000000003141cfb167866059105db3bb1cf035f6bc85b53ef85b92ae  height=256293  log2_work=71.689981  tx=23326941  date=2013-09-05 19:00:35 progress=0.164753  cache=72342\r\n2015-03-26 01:13:00 UpdateTip: new best=0000000000000020bb674a462e0c4a656dce0cd89a96d32beba275afc66512c6  height=256294  log2_work=71.690123  tx=23327139  date=2013-09-05 19:04:22 progress=0.164754  cache=72474\r\n2015-03-26 01:13:00 UpdateTip: new best=000000000000000f1fd8011fb66ce8df84fb0f2f1b963e0e3cdbb3617f59b7c7  height=256295  log2_work=71.690264  tx=23327734  date=2013-09-05 19:23:20 progress=0.164759  cache=72917\r\n2015-03-26 01:13:00 UpdateTip: new best=000000000000002a6947553bbcfb982ca718cf2a4cac7dd1b08b035be2964f7e  height=256296  log2_work=71.690406  tx=23327990  date=2013-09-05 19:28:00 progress=0.164760  cache=73191\r\n2015-03-26 01:13:01 UpdateTip: new best=000000000000000a5ad1f21d83c1432c8562d8dae8ba6b225a3b1ba85acce7f6  height=256297  log2_work=71.690547  tx=23328170  date=2013-09-05 19:28:25 progress=0.164762  cache=73281\r\n2015-03-26 01:13:01 UpdateTip: new best=00000000000000105bd14a20434bdcd0ee740134893cf84a88421fd3e33ab983  height=256298  log2_work=71.690688  tx=23328497  date=2013-09-05 19:33:39 progress=0.164764  cache=73674\r\n2015-03-26 01:13:01 UpdateTip: new best=000000000000000e31ee80d1bfb86f6afda5f01cc7fbde2fe4ad6b9ea5c64ce0  height=256299  log2_work=71.69083  tx=23328847  date=2013-09-05 19:41:38 progress=0.164766  cache=73966\r\n2015-03-26 01:13:01 UpdateTip: new best=000000000000001b0326c319e92c6b9da767ef4afd124363307a6da3d902fa0a  height=256300  log2_work=71.690971  tx=23329181  date=2013-09-05 19:47:54 progress=0.164769  cache=74273\r\n2015-03-26 01:13:01 UpdateTip: new best=00000000000000119a3ce9b6ba7951f3d377b3218bb1be68e48434b5f8a5a9d5  height=256301  log2_work=71.691112  tx=23329436  date=2013-09-05 19:53:33 progress=0.164771  cache=74449\r\n2015-03-26 01:13:02 UpdateTip: new best=000000000000003083e3e983f998ad82a3dee8678d718c50947dcb1ba95f492b  height=256302  log2_work=71.691254  tx=23329988  date=2013-09-05 20:07:37 progress=0.164774  cache=74884\r\n2015-03-26 01:13:02 UpdateTip: new best=00000000000000232c0aa351c33716d7763d6ed2fd31cac929d03711dea15557  height=256303  log2_work=71.691395  tx=23330089  date=2013-09-05 20:09:47 progress=0.164775  cache=74968\r\n2015-03-26 01:13:02 UpdateTip: new best=00000000000000312aac75a02b0a1a704c80d00943284d98b7b290a150936718  height=256304  log2_work=71.691536  tx=23330274  date=2013-09-05 20:12:43 progress=0.164776  cache=75085\r\n2015-03-26 01:13:02 UpdateTip: new best=000000000000001a1be9fab4bc79a801932b364716ced96ef324de80b158a67c  height=256305  log2_work=71.691677  tx=23330498  date=2013-09-05 20:17:57 progress=0.164778  cache=75258\r\n2015-03-26 01:13:02 UpdateTip: new best=000000000000000d884a8219f18d692d9a289bed1ade63ea2fe458681de87d93  height=256306  log2_work=71.691819  tx=23330904  date=2013-09-05 20:23:36 progress=0.164781  cache=75535\r\n2015-03-26 01:13:02 UpdateTip: new best=0000000000000017771fa7ee6475fb0214c27f4bf9d05add8f0ac7d61d03b469  height=256307  log2_work=71.69196  tx=23330920  date=2013-09-05 20:24:55 progress=0.164781  cache=75547\r\n2015-03-26 01:13:02 UpdateTip: new best=000000000000000696591811eb1df654a2ee33056bb8bfaea7024a6e1ff46ae3  height=256308  log2_work=71.692101  tx=23331408  date=2013-09-05 20:34:22 progress=0.164784  cache=75854\r\n2015-03-26 01:13:02 UpdateTip: new best=000000000000000a00fd2b77b9808adce5a65a7ef665f9a1e537453548dabcf1  height=256309  log2_work=71.692242  tx=23332064  date=2013-09-05 20:46:32 progress=0.164789  cache=76332\r\n2015-03-26 01:13:02 UpdateTip: new best=00000000000000019d219483d1b58abc6e6e4d2a147eaa9dd872f17be08b20ea  height=256310  log2_work=71.692383  tx=23332098  date=2013-09-05 20:45:30 progress=0.164789  cache=76359\r\n2015-03-26 01:13:03 UpdateTip: new best=000000000000000c10150feb7fca04dac4ffe51fd1b65cb786a28394e4f15a9a  height=256311  log2_work=71.692525  tx=23332413  date=2013-09-05 20:52:20 progress=0.164792  cache=76578\r\n2015-03-26 01:13:03 UpdateTip: new best=000000000000002132822bd27a89b73a722db1882a93ee3fb955fc90e185bc5e  height=256312  log2_work=71.692666  tx=23332670  date=2013-09-05 20:57:32 progress=0.164793  cache=76730\r\n2015-03-26 01:13:03 UpdateTip: new best=00000000000000049b4273b34759a18d1790a898f51946aa9479d2c6a4cccfa9  height=256313  log2_work=71.692807  tx=23332803  date=2013-09-05 20:59:25 progress=0.164794  cache=76717\r\n2015-03-26 01:13:03 UpdateTip: new best=0000000000000013325dd0dea18664e71740f935c7d7330368c9fd79ce44220a  height=256314  log2_work=71.692948  tx=23333358  date=2013-09-05 21:10:26 progress=0.164798  cache=77114\r\n2015-03-26 01:13:03 UpdateTip: new best=000000000000002270d84d64b2d9738a39566a9614d037bda5df147ebaa8f7ee  height=256315  log2_work=71.693089  tx=23333392  date=2013-09-05 21:10:35 progress=0.164798  cache=77139\r\n2015-03-26 01:13:03 UpdateTip: new best=000000000000001a5005494e32ee1d0cef03424b64a51c26f0763c2cd4ed280b  height=256316  log2_work=71.69323  tx=23334155  date=2013-09-05 21:26:59 progress=0.164804  cache=77683\r\n2015-03-26 01:13:04 UpdateTip: new best=0000000000000021092a76cf2a89cdf3d936524f7d9e421e851bdc1cc2ed892e  height=256317  log2_work=71.693371  tx=23334457  date=2013-09-05 21:37:35 progress=0.164806  cache=77961\r\n2015-03-26 01:13:04 UpdateTip: new best=000000000000001e7e4c0d7928ba3ca327d3dcb2b22ab1120646d426f1e2db34  height=256318  log2_work=71.693512  tx=23334921  date=2013-09-05 21:46:23 progress=0.164809  cache=78139\r\n2015-03-26 01:13:11 Autoprune: PruneOneBlockFile deleted blk/rev (00073)\r\n2015-03-26 01:13:11 Pre-allocating up to position 0xa00000 in rev00079.dat\r\n",
      "created_at" : "2015-03-26T01:45:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86289804",
      "id" : 86289804,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T01:45:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86289804",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "Do you have the head of this log where it prints the version string?   core\nfile/backtrace?\nOn Mar 25, 2015 9:45 PM, \"Rusty Russell\" <notifications@github.com> wrote:\n\n> Neither. git describe uses the previous tag it knows about. For some\n> reason it doesn't know about more recent tags. But I'm on commit 40ba177\n> <https://github.com/bitcoin/bitcoin/commit/40ba177537a6cb032a03648208add12695c635e8>\n> .\n>\n> The good news: it happened again! bitcoind: coins.cpp:150: virtual bool\n> CCoinsViewCache::BatchWrite(CCoinsMap&, const uint256&): Assertion\n> `it->second.flags & CCoinsCacheEntry::FRESH' failed.\n>\n> Here's the last 100 lines of debug.log (can't figure out how to attach the\n> whole thing):\n>\n> 2015-03-26 01:12:46 UpdateTip: new\n> best=000000000000002a45bf369333c2daa0555e8e6f064cbd6bd1ff1a5d06980d82\n> height=256222 log2_work=71.679906 tx=23298335 date=2013-09-05 08:23:11\n> progress=0.164551 cache=48753\n> 2015-03-26 01:12:46 UpdateTip: new\n> best=000000000000000753309260f94ad504e02cfc39bbd27864572d935b1aea715d\n> height=256223 log2_work=71.680048 tx=23298379 date=2013-09-05 08:24:21\n> progress=0.164551 cache=48814\n> 2015-03-26 01:12:46 UpdateTip: new\n> best=0000000000000022474ef8062a2b3ffac71dba34f4713e4320cb03ab2a8b4f27\n> height=256224 log2_work=71.680191 tx=23298647 date=2013-09-05 08:31:51\n> progress=0.164553 cache=49002\n> 2015-03-26 01:12:46 UpdateTip: new\n> best=000000000000000d93e092f11fbffe4cf51b3230b85429126fd59fdc4a658711\n> height=256225 log2_work=71.680333 tx=23298903 date=2013-09-05 09:02:55\n> progress=0.164555 cache=49232\n> 2015-03-26 01:12:46 UpdateTip: new\n> best=000000000000000b82f040c3342eb73532a6124efc40b024fdad513e05fd0bd5\n> height=256226 log2_work=71.680475 tx=23299531 date=2013-09-05 09:10:09\n> progress=0.164559 cache=49832\n> 2015-03-26 01:12:46 UpdateTip: new\n> best=000000000000002a6ecdbe7fbfa95c3506f1453577a683a79da81098e7905584\n> height=256227 log2_work=71.680618 tx=23300084 date=2013-09-05 09:16:24\n> progress=0.164563 cache=50243\n> 2015-03-26 01:12:46 UpdateTip: new\n> best=000000000000002c6fa89ede90bbc722936a218850ce5f6376edb2ea00a7fa05\n> height=256228 log2_work=71.68076 tx=23300099 date=2013-09-05 09:16:32\n> progress=0.164563 cache=50271\n> 2015-03-26 01:12:47 UpdateTip: new\n> best=00000000000000101ce20a35d1ddcae106b960d6e785104426f8d0bdd2017bf2\n> height=256229 log2_work=71.680902 tx=23300780 date=2013-09-05 09:35:11\n> progress=0.164568 cache=50989\n> 2015-03-26 01:12:47 UpdateTip: new\n> best=0000000000000020c9620a098f464ca259dfb49e0d58ac6e8072fb9ebf01aa22\n> height=256230 log2_work=71.681045 tx=23301155 date=2013-09-05 09:43:39\n> progress=0.164571 cache=51343\n> 2015-03-26 01:12:47 UpdateTip: new\n> best=000000000000002ff0c69115a9a7ec287f2eb1e7aaf5fcd8e570523c6d0e35da\n> height=256231 log2_work=71.681187 tx=23301803 date=2013-09-05 10:08:04\n> progress=0.164575 cache=51839\n> 2015-03-26 01:12:48 UpdateTip: new\n> best=0000000000000012934a060e2f39186df3576919488f578142ac0b39f40eb016\n> height=256232 log2_work=71.681329 tx=23302097 date=2013-09-05 10:11:37\n> progress=0.164577 cache=52213\n> 2015-03-26 01:12:48 UpdateTip: new\n> best=0000000000000001fd0e62b6be598ed76515a2044941efdffaa6cffbaedf6be9\n> height=256233 log2_work=71.681472 tx=23302512 date=2013-09-05 10:23:50\n> progress=0.164580 cache=52519\n> 2015-03-26 01:12:48 UpdateTip: new\n> best=000000000000003040c350eb9968ddd8d465c02d3b8c08a57092d648d84e81fb\n> height=256234 log2_work=71.681614 tx=23303160 date=2013-09-05 10:56:06\n> progress=0.164585 cache=53021\n> 2015-03-26 01:12:48 UpdateTip: new\n> best=0000000000000004e00a510cb0eb701049eab4ffa7f5ae0cb35166012f206735\n> height=256235 log2_work=71.681756 tx=23303555 date=2013-09-05 10:58:04\n> progress=0.164588 cache=53195\n> 2015-03-26 01:12:48 UpdateTip: new\n> best=0000000000000001d5cb5a162b017593ea700796346fc4ad2878317f88639558\n> height=256236 log2_work=71.681898 tx=23303687 date=2013-09-05 10:59:25\n> progress=0.164589 cache=53329\n> 2015-03-26 01:12:49 UpdateTip: new\n> best=00000000000000132059570a30473e9a66082f15a3587f46674e2868e42c1717\n> height=256237 log2_work=71.68204 tx=23304007 date=2013-09-05 11:07:52\n> progress=0.164591 cache=53593\n> 2015-03-26 01:12:49 UpdateTip: new\n> best=0000000000000022e8d500382e2890c4188afbac95bd96b28badeb40535a2d62\n> height=256238 log2_work=71.682183 tx=23304182 date=2013-09-05 11:13:55\n> progress=0.164592 cache=53742\n> 2015-03-26 01:12:49 UpdateTip: new\n> best=00000000000000153e89df838e32e1d69f44352582b7e916779a4c81f5c87fc8\n> height=256239 log2_work=71.682325 tx=23304295 date=2013-09-05 11:16:07\n> progress=0.164593 cache=53864\n> 2015-03-26 01:12:49 UpdateTip: new\n> best=000000000000001c4c2ae705ca273cabbb7881587eee17d65e97872f6d32e3dd\n> height=256240 log2_work=71.682467 tx=23304658 date=2013-09-05 11:30:15\n> progress=0.164596 cache=54138\n> 2015-03-26 01:12:49 UpdateTip: new\n> best=00000000000000094943a4f8db9e6e3c7693fda19a87e0c6311cbff6af5e30ed\n> height=256241 log2_work=71.682609 tx=23304712 date=2013-09-05 11:31:46\n> progress=0.164596 cache=54188\n> 2015-03-26 01:12:49 UpdateTip: new\n> best=00000000000000240151486223bec38ac2efd88b06358ed808b7650ca2d4e7b9\n> height=256242 log2_work=71.682751 tx=23305195 date=2013-09-05 11:53:06\n> progress=0.164599 cache=54500\n> 2015-03-26 01:12:49 UpdateTip: new\n> best=000000000000000b204f319b88cb7ada312006cff24259767ce543590376916b\n> height=256243 log2_work=71.682893 tx=23305205 date=2013-09-05 11:53:17\n> progress=0.164599 cache=54510\n> 2015-03-26 01:12:49 UpdateTip: new\n> best=000000000000002fe406df0a623d0552973f7455aff2866b400492e7b964905d\n> height=256244 log2_work=71.683035 tx=23305255 date=2013-09-05 11:54:08\n> progress=0.164600 cache=54530\n> 2015-03-26 01:12:49 UpdateTip: new\n> best=0000000000000004760b054428b39113e0a27e08cce9a98cd27c4dbee3ea3f05\n> height=256245 log2_work=71.683178 tx=23305450 date=2013-09-05 12:00:16\n> progress=0.164601 cache=54716\n> 2015-03-26 01:12:50 UpdateTip: new\n> best=000000000000000c5a4a7971338e3b2226b4697035455b1f10c8db8806241ecd\n> height=256246 log2_work=71.68332 tx=23306018 date=2013-09-05 12:08:59\n> progress=0.164605 cache=55351\n> 2015-03-26 01:12:50 UpdateTip: new\n> best=000000000000001bb68eb99892b94fa8b33da6be1e52afe17920e05bea0528b0\n> height=256247 log2_work=71.683462 tx=23307265 date=2013-09-05 12:33:09\n> progress=0.164614 cache=56346\n> 2015-03-26 01:12:51 UpdateTip: new\n> best=00000000000000178f4cf7cef8941844bd72d1435f4cf5e61cfe066311f7807a\n> height=256248 log2_work=71.683604 tx=23307913 date=2013-09-05 12:45:14\n> progress=0.164619 cache=56992\n> 2015-03-26 01:12:51 UpdateTip: new\n> best=00000000000000176e15e4fb8f59e2b65407afa87af9af2f2a3ad31a215b5049\n> height=256249 log2_work=71.683746 tx=23308112 date=2013-09-05 12:48:01\n> progress=0.164620 cache=57097\n> 2015-03-26 01:12:51 UpdateTip: new\n> best=000000000000001f1d84edf1d8901ed8a3b4415c0ae71faea14902a0cb12eb2c\n> height=256250 log2_work=71.683888 tx=23308762 date=2013-09-05 13:07:00\n> progress=0.164625 cache=57724\n> 2015-03-26 01:12:51 UpdateTip: new\n> best=0000000000000021843eb11fc9e41c9f6b8403166d485259acd04f6349a15368\n> height=256251 log2_work=71.68403 tx=23309579 date=2013-09-05 13:35:58\n> progress=0.164630 cache=58350\n> 2015-03-26 01:12:52 UpdateTip: new\n> best=000000000000001be38f4d3d802a0c4f53aa250ade35ef562858df8f4459143a\n> height=256252 log2_work=71.684172 tx=23310617 date=2013-09-05 13:44:30\n> progress=0.164638 cache=59410\n> 2015-03-26 01:12:52 UpdateTip: new\n> best=0000000000000016f9e206d675a4806a56889b4dad5bc8101458a67caae8fec5\n> height=256253 log2_work=71.684314 tx=23310937 date=2013-09-05 13:53:32\n> progress=0.164640 cache=59760\n> 2015-03-26 01:12:53 UpdateTip: new\n> best=00000000000000167d0798f1c90a8b032608b2bfec24e9338046f0458f889050\n> height=256254 log2_work=71.684456 tx=23311912 date=2013-09-05 14:11:04\n> progress=0.164647 cache=60417\n> 2015-03-26 01:12:53 UpdateTip: new\n> best=000000000000002c615c4e75ed0e3cd5fdf8c784ed70f994f6b8dd170491052b\n> height=256255 log2_work=71.684598 tx=23312598 date=2013-09-05 14:25:07\n> progress=0.164652 cache=61044\n> 2015-03-26 01:12:53 UpdateTip: new\n> best=00000000000000294c1570b253f58ae84bb3436f27dc341e01ec98b12ffb4457\n> height=256256 log2_work=71.68474 tx=23312983 date=2013-09-05 14:38:18\n> progress=0.164654 cache=61382\n> 2015-03-26 01:12:53 UpdateTip: new\n> best=0000000000000013ef06f2beede29fc3544553f88da16e56be374b98bf8378cc\n> height=256257 log2_work=71.684882 tx=23313815 date=2013-09-05 14:51:12\n> progress=0.164660 cache=61964\n> 2015-03-26 01:12:54 UpdateTip: new\n> best=000000000000000120c0962bfabb16f454d619b081dabd5f593bdec041fdb04c\n> height=256258 log2_work=71.685023 tx=23314011 date=2013-09-05 14:53:04\n> progress=0.164662 cache=62117\n> 2015-03-26 01:12:54 UpdateTip: new\n> best=0000000000000030465e2521d48854fd32e22fb56a4d23383215eeef5cec71ad\n> height=256259 log2_work=71.685165 tx=23314390 date=2013-09-05 14:59:37\n> progress=0.164664 cache=62420\n> 2015-03-26 01:12:54 UpdateTip: new\n> best=0000000000000015f00b818ec4d3cd84c7efe492c19042e8d41aa1d88220fcca\n> height=256260 log2_work=71.685307 tx=23314668 date=2013-09-05 15:03:44\n> progress=0.164666 cache=62627\n> 2015-03-26 01:12:54 UpdateTip: new\n> best=0000000000000021f9c19ee0a908e5e8467a3135ca017778fa0b6fe205858e86\n> height=256261 log2_work=71.685449 tx=23315249 date=2013-09-05 15:17:30\n> progress=0.164670 cache=63094\n> 2015-03-26 01:12:54 UpdateTip: new\n> best=0000000000000004106d02bd030be7b11b09dc29bd1b814d82230a3602d71cbf\n> height=256262 log2_work=71.685591 tx=23315921 date=2013-09-05 15:39:25\n> progress=0.164675 cache=63618\n> 2015-03-26 01:12:55 Pre-allocating up to position 0x900000 in rev00079.dat\n> 2015-03-26 01:12:55 UpdateTip: new\n> best=00000000000000152c20907e5fc32b0a5699cd6b3bdfdc54541068acc40c9001\n> height=256263 log2_work=71.685733 tx=23316369 date=2013-09-05 15:42:00\n> progress=0.164678 cache=63845\n> 2015-03-26 01:12:55 UpdateTip: new\n> best=0000000000000017393b8866299590a0cccb9fc3ec77d78f95ad1c8dad019ba5\n> height=256264 log2_work=71.685875 tx=23316635 date=2013-09-05 15:44:52\n> progress=0.164680 cache=64044\n> 2015-03-26 01:12:55 UpdateTip: new\n> best=0000000000000029669d094d8730098533dace24b5ebbf53b2a289feb034444e\n> height=256265 log2_work=71.686016 tx=23316846 date=2013-09-05 15:48:59\n> progress=0.164682 cache=64209\n> 2015-03-26 01:12:55 UpdateTip: new\n> best=0000000000000024de7285b3c2414f0a16183de523ea34b0e761a4111f693051\n> height=256266 log2_work=71.686158 tx=23317071 date=2013-09-05 15:54:51\n> progress=0.164683 cache=64449\n> 2015-03-26 01:12:55 UpdateTip: new\n> best=00000000000000165eab046aa4a026bc181b82d951936924c5aeb71ca394161a\n> height=256267 log2_work=71.6863 tx=23317372 date=2013-09-05 15:58:28\n> progress=0.164685 cache=64676\n> 2015-03-26 01:12:55 UpdateTip: new\n> best=0000000000000030064bb7a58f10d456eaa8ed4b1b5d302c0ef7beee89165195\n> height=256268 log2_work=71.686442 tx=23317436 date=2013-09-05 15:59:52\n> progress=0.164686 cache=64706\n> 2015-03-26 01:12:55 UpdateTip: new\n> best=0000000000000028115e14c9c3ff53915c178d7e00483ea1d49e89e3a2f8ea1a\n> height=256269 log2_work=71.686584 tx=23317684 date=2013-09-05 16:05:53\n> progress=0.164688 cache=64910\n> 2015-03-26 01:12:55 UpdateTip: new\n> best=000000000000002d8e2f9179ed9f8cf3d9651d7ba23e1df5045fd53a7efb7e9f\n> height=256270 log2_work=71.686725 tx=23317794 date=2013-09-05 16:08:09\n> progress=0.164688 cache=64989\n> 2015-03-26 01:12:55 UpdateTip: new\n> best=000000000000000455fe9a0f779024be6ffb8d66e3983fbb9daf563cc2720dc1\n> height=256271 log2_work=71.686867 tx=23318058 date=2013-09-05 16:11:30\n> progress=0.164690 cache=65240\n> 2015-03-26 01:12:56 UpdateTip: new\n> best=0000000000000008ba72a286f0c0d7cc9f76404d6d03b1ecbceb957a896169ef\n> height=256272 log2_work=71.687009 tx=23319210 date=2013-09-05 16:33:00\n> progress=0.164698 cache=66056\n> 2015-03-26 01:12:56 UpdateTip: new\n> best=000000000000001e54d7eb160c15019da95f2bf0e4a55a75339c2be02953c314\n> height=256273 log2_work=71.68715 tx=23319463 date=2013-09-05 16:38:52\n> progress=0.164700 cache=66267\n> 2015-03-26 01:12:56 UpdateTip: new\n> best=000000000000002665aa9b70dc61c3e3a21b14254d025f247fcd0ee7988556dc\n> height=256274 log2_work=71.687292 tx=23319761 date=2013-09-05 16:45:01\n> progress=0.164702 cache=66495\n> 2015-03-26 01:12:56 UpdateTip: new\n> best=000000000000001452940962883c497d7bfe87508813529d924c3555ca524b6e\n> height=256275 log2_work=71.687434 tx=23319801 date=2013-09-05 16:46:11\n> progress=0.164702 cache=66522\n> 2015-03-26 01:12:56 UpdateTip: new\n> best=000000000000002b0e29289255b11ea377d03f02d6e2013c9c4500879f17aa79\n> height=256276 log2_work=71.687575 tx=23320487 date=2013-09-05 17:02:48\n> progress=0.164707 cache=67014\n> 2015-03-26 01:12:56 UpdateTip: new\n> best=000000000000002d054be1e77c50aafcabf5ad9466560117bd8fd9706e08a472\n> height=256277 log2_work=71.687717 tx=23320591 date=2013-09-05 17:06:30\n> progress=0.164708 cache=67099\n> 2015-03-26 01:12:57 UpdateTip: new\n> best=000000000000002dc13bc14c9e999f56fa19ce4e0ae0c4f203197f1c6f269a26\n> height=256278 log2_work=71.687859 tx=23321470 date=2013-09-05 17:32:00\n> progress=0.164714 cache=67893\n> 2015-03-26 01:12:57 UpdateTip: new\n> best=000000000000000f7125b930e8fd8e239a4c63c0f2d55bb5e63ba9fc4e0109a8\n> height=256279 log2_work=71.688 tx=23322078 date=2013-09-05 17:35:07\n> progress=0.164719 cache=68269\n> 2015-03-26 01:12:57 UpdateTip: new\n> best=000000000000001a92af8fe69ff4aa1e1f02642f9a93587143e9d5d7f1ffba6c\n> height=256280 log2_work=71.688142 tx=23322632 date=2013-09-05 17:40:49\n> progress=0.164722 cache=68537\n> 2015-03-26 01:12:57 UpdateTip: new\n> best=000000000000000159f4bd54cf3c54c2df34ddd6ff51c680e1b7d0622f5c8b43\n> height=256281 log2_work=71.688283 tx=23323215 date=2013-09-05 17:51:32\n> progress=0.164727 cache=68947\n> 2015-03-26 01:12:58 UpdateTip: new\n> best=00000000000000247fe2e1f11a489c118ffb6792d6ba11121279cf12a62453eb\n> height=256282 log2_work=71.688425 tx=23323753 date=2013-09-05 18:02:21\n> progress=0.164730 cache=69359\n> 2015-03-26 01:12:58 UpdateTip: new\n> best=0000000000000014813cffe67140e7dbfb5a7773d274941c2edb1a11d0edd0b7\n> height=256283 log2_work=71.688567 tx=23324401 date=2013-09-05 18:17:30\n> progress=0.164735 cache=69837\n> 2015-03-26 01:12:58 UpdateTip: new\n> best=000000000000000a41919e5ba9bf94590307957438df8957b2d8e055d196b073\n> height=256284 log2_work=71.688708 tx=23324549 date=2013-09-05 18:17:40\n> progress=0.164736 cache=69925\n> 2015-03-26 01:12:58 UpdateTip: new\n> best=000000000000000da78b890167754320fcd7844a8333cf2e7eaa27e6eb66beef\n> height=256285 log2_work=71.68885 tx=23324674 date=2013-09-05 18:19:50\n> progress=0.164737 cache=70080\n> 2015-03-26 01:12:58 UpdateTip: new\n> best=000000000000000a11b83ec67046bd1c3742d37c1fd19eb60993dd4142832587\n> height=256286 log2_work=71.688991 tx=23325155 date=2013-09-05 18:29:23\n> progress=0.164740 cache=70487\n> 2015-03-26 01:12:58 UpdateTip: new\n> best=0000000000000030b9133b269aa99ef3ff0720207add7d6cda4ee4b3682293c5\n> height=256287 log2_work=71.689133 tx=23325253 date=2013-09-05 18:30:04\n> progress=0.164741 cache=70561\n> 2015-03-26 01:12:59 UpdateTip: new\n> best=000000000000001ad1c72f89e3e477dad1a4f31fa259dcc36347e95df771beb3\n> height=256288 log2_work=71.689274 tx=23325512 date=2013-09-05 18:35:01\n> progress=0.164743 cache=70724\n> 2015-03-26 01:12:59 UpdateTip: new\n> best=000000000000001eb25e185d9b67d1395f90134039a94141aec1d1405ae6ed3e\n> height=256289 log2_work=71.689416 tx=23325535 date=2013-09-05 18:35:15\n> progress=0.164743 cache=70777\n> 2015-03-26 01:12:59 UpdateTip: new\n> best=00000000000000021f594b3f66f4caa4251d538e4450bd3f03106d0008845d00\n> height=256290 log2_work=71.689557 tx=23325632 date=2013-09-05 18:36:45\n> progress=0.164744 cache=70928\n> 2015-03-26 01:12:59 UpdateTip: new\n> best=000000000000000eff0b9ad6c63cae18b2c3ca434f62083a77e09a5c254b9240\n> height=256291 log2_work=71.689699 tx=23326314 date=2013-09-05 18:58:29\n> progress=0.164748 cache=71546\n> 2015-03-26 01:13:00 UpdateTip: new\n> best=000000000000001857b4bcda0878dd5a25ffb28add7b9ce33ccaf2f6024e42f8\n> height=256292 log2_work=71.68984 tx=23326874 date=2013-09-05 19:00:16\n> progress=0.164752 cache=72269\n> 2015-03-26 01:13:00 UpdateTip: new\n> best=00000000000000003141cfb167866059105db3bb1cf035f6bc85b53ef85b92ae\n> height=256293 log2_work=71.689981 tx=23326941 date=2013-09-05 19:00:35\n> progress=0.164753 cache=72342\n> 2015-03-26 01:13:00 UpdateTip: new\n> best=0000000000000020bb674a462e0c4a656dce0cd89a96d32beba275afc66512c6\n> height=256294 log2_work=71.690123 tx=23327139 date=2013-09-05 19:04:22\n> progress=0.164754 cache=72474\n> 2015-03-26 01:13:00 UpdateTip: new\n> best=000000000000000f1fd8011fb66ce8df84fb0f2f1b963e0e3cdbb3617f59b7c7\n> height=256295 log2_work=71.690264 tx=23327734 date=2013-09-05 19:23:20\n> progress=0.164759 cache=72917\n> 2015-03-26 01:13:00 UpdateTip: new\n> best=000000000000002a6947553bbcfb982ca718cf2a4cac7dd1b08b035be2964f7e\n> height=256296 log2_work=71.690406 tx=23327990 date=2013-09-05 19:28:00\n> progress=0.164760 cache=73191\n> 2015-03-26 01:13:01 UpdateTip: new\n> best=000000000000000a5ad1f21d83c1432c8562d8dae8ba6b225a3b1ba85acce7f6\n> height=256297 log2_work=71.690547 tx=23328170 date=2013-09-05 19:28:25\n> progress=0.164762 cache=73281\n> 2015-03-26 01:13:01 UpdateTip: new\n> best=00000000000000105bd14a20434bdcd0ee740134893cf84a88421fd3e33ab983\n> height=256298 log2_work=71.690688 tx=23328497 date=2013-09-05 19:33:39\n> progress=0.164764 cache=73674\n> 2015-03-26 01:13:01 UpdateTip: new\n> best=000000000000000e31ee80d1bfb86f6afda5f01cc7fbde2fe4ad6b9ea5c64ce0\n> height=256299 log2_work=71.69083 tx=23328847 date=2013-09-05 19:41:38\n> progress=0.164766 cache=73966\n> 2015-03-26 01:13:01 UpdateTip: new\n> best=000000000000001b0326c319e92c6b9da767ef4afd124363307a6da3d902fa0a\n> height=256300 log2_work=71.690971 tx=23329181 date=2013-09-05 19:47:54\n> progress=0.164769 cache=74273\n> 2015-03-26 01:13:01 UpdateTip: new\n> best=00000000000000119a3ce9b6ba7951f3d377b3218bb1be68e48434b5f8a5a9d5\n> height=256301 log2_work=71.691112 tx=23329436 date=2013-09-05 19:53:33\n> progress=0.164771 cache=74449\n> 2015-03-26 01:13:02 UpdateTip: new\n> best=000000000000003083e3e983f998ad82a3dee8678d718c50947dcb1ba95f492b\n> height=256302 log2_work=71.691254 tx=23329988 date=2013-09-05 20:07:37\n> progress=0.164774 cache=74884\n> 2015-03-26 01:13:02 UpdateTip: new\n> best=00000000000000232c0aa351c33716d7763d6ed2fd31cac929d03711dea15557\n> height=256303 log2_work=71.691395 tx=23330089 date=2013-09-05 20:09:47\n> progress=0.164775 cache=74968\n> 2015-03-26 01:13:02 UpdateTip: new\n> best=00000000000000312aac75a02b0a1a704c80d00943284d98b7b290a150936718\n> height=256304 log2_work=71.691536 tx=23330274 date=2013-09-05 20:12:43\n> progress=0.164776 cache=75085\n> 2015-03-26 01:13:02 UpdateTip: new\n> best=000000000000001a1be9fab4bc79a801932b364716ced96ef324de80b158a67c\n> height=256305 log2_work=71.691677 tx=23330498 date=2013-09-05 20:17:57\n> progress=0.164778 cache=75258\n> 2015-03-26 01:13:02 UpdateTip: new\n> best=000000000000000d884a8219f18d692d9a289bed1ade63ea2fe458681de87d93\n> height=256306 log2_work=71.691819 tx=23330904 date=2013-09-05 20:23:36\n> progress=0.164781 cache=75535\n> 2015-03-26 01:13:02 UpdateTip: new\n> best=0000000000000017771fa7ee6475fb0214c27f4bf9d05add8f0ac7d61d03b469\n> height=256307 log2_work=71.69196 tx=23330920 date=2013-09-05 20:24:55\n> progress=0.164781 cache=75547\n> 2015-03-26 01:13:02 UpdateTip: new\n> best=000000000000000696591811eb1df654a2ee33056bb8bfaea7024a6e1ff46ae3\n> height=256308 log2_work=71.692101 tx=23331408 date=2013-09-05 20:34:22\n> progress=0.164784 cache=75854\n> 2015-03-26 01:13:02 UpdateTip: new\n> best=000000000000000a00fd2b77b9808adce5a65a7ef665f9a1e537453548dabcf1\n> height=256309 log2_work=71.692242 tx=23332064 date=2013-09-05 20:46:32\n> progress=0.164789 cache=76332\n> 2015-03-26 01:13:02 UpdateTip: new\n> best=00000000000000019d219483d1b58abc6e6e4d2a147eaa9dd872f17be08b20ea\n> height=256310 log2_work=71.692383 tx=23332098 date=2013-09-05 20:45:30\n> progress=0.164789 cache=76359\n> 2015-03-26 01:13:03 UpdateTip: new\n> best=000000000000000c10150feb7fca04dac4ffe51fd1b65cb786a28394e4f15a9a\n> height=256311 log2_work=71.692525 tx=23332413 date=2013-09-05 20:52:20\n> progress=0.164792 cache=76578\n> 2015-03-26 01:13:03 UpdateTip: new\n> best=000000000000002132822bd27a89b73a722db1882a93ee3fb955fc90e185bc5e\n> height=256312 log2_work=71.692666 tx=23332670 date=2013-09-05 20:57:32\n> progress=0.164793 cache=76730\n> 2015-03-26 01:13:03 UpdateTip: new\n> best=00000000000000049b4273b34759a18d1790a898f51946aa9479d2c6a4cccfa9\n> height=256313 log2_work=71.692807 tx=23332803 date=2013-09-05 20:59:25\n> progress=0.164794 cache=76717\n> 2015-03-26 01:13:03 UpdateTip: new\n> best=0000000000000013325dd0dea18664e71740f935c7d7330368c9fd79ce44220a\n> height=256314 log2_work=71.692948 tx=23333358 date=2013-09-05 21:10:26\n> progress=0.164798 cache=77114\n> 2015-03-26 01:13:03 UpdateTip: new\n> best=000000000000002270d84d64b2d9738a39566a9614d037bda5df147ebaa8f7ee\n> height=256315 log2_work=71.693089 tx=23333392 date=2013-09-05 21:10:35\n> progress=0.164798 cache=77139\n> 2015-03-26 01:13:03 UpdateTip: new\n> best=000000000000001a5005494e32ee1d0cef03424b64a51c26f0763c2cd4ed280b\n> height=256316 log2_work=71.69323 tx=23334155 date=2013-09-05 21:26:59\n> progress=0.164804 cache=77683\n> 2015-03-26 01:13:04 UpdateTip: new\n> best=0000000000000021092a76cf2a89cdf3d936524f7d9e421e851bdc1cc2ed892e\n> height=256317 log2_work=71.693371 tx=23334457 date=2013-09-05 21:37:35\n> progress=0.164806 cache=77961\n> 2015-03-26 01:13:04 UpdateTip: new\n> best=000000000000001e7e4c0d7928ba3ca327d3dcb2b22ab1120646d426f1e2db34\n> height=256318 log2_work=71.693512 tx=23334921 date=2013-09-05 21:46:23\n> progress=0.164809 cache=78139\n> 2015-03-26 01:13:11 Autoprune: PruneOneBlockFile deleted blk/rev (00073)\n> 2015-03-26 01:13:11 Pre-allocating up to position 0xa00000 in rev00079.dat\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86289804>.\n>\n",
      "created_at" : "2015-03-26T02:06:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86293036",
      "id" : 86293036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T02:06:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86293036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "Also, my idea of a \"canonical environment\" is a commodity x86_64 based PC\nmade in the last few years with 4-8gb of ram running a recent version of\nDebian or Ubuntu with bitcoind being run in the bare environment with no\ncontainers or VMs.  Can you please describe in detail how your environment\ndiffers?  (ie; if it's cloud, who and what region.  if it's aws; magnetic\nor ssd, enhanced ebs or no...).   When you've listed sufficient detail such\nthat you think it's getting absurd, that's just right.\n\nAlso, as mentioned before, core files, backtraces and full debug logs are\nmost welcome.\n\nThanks!\nOn Mar 25, 2015 10:06 PM, \"Adam Weiss\" <adam@signal11.com> wrote:\n\n> Do you have the head of this log where it prints the version string?\n> core file/backtrace?\n> On Mar 25, 2015 9:45 PM, \"Rusty Russell\" <notifications@github.com> wrote:\n>\n>> Neither. git describe uses the previous tag it knows about. For some\n>> reason it doesn't know about more recent tags. But I'm on commit 40ba177\n>> <https://github.com/bitcoin/bitcoin/commit/40ba177537a6cb032a03648208add12695c635e8>\n>> .\n>>\n>> The good news: it happened again! bitcoind: coins.cpp:150: virtual bool\n>> CCoinsViewCache::BatchWrite(CCoinsMap&, const uint256&): Assertion\n>> `it->second.flags & CCoinsCacheEntry::FRESH' failed.\n>>\n>> Here's the last 100 lines of debug.log (can't figure out how to attach\n>> the whole thing):\n>>\n>> 2015-03-26 01:12:46 UpdateTip: new\n>> best=000000000000002a45bf369333c2daa0555e8e6f064cbd6bd1ff1a5d06980d82\n>> height=256222 log2_work=71.679906 tx=23298335 date=2013-09-05 08:23:11\n>> progress=0.164551 cache=48753\n>> 2015-03-26 01:12:46 UpdateTip: new\n>> best=000000000000000753309260f94ad504e02cfc39bbd27864572d935b1aea715d\n>> height=256223 log2_work=71.680048 tx=23298379 date=2013-09-05 08:24:21\n>> progress=0.164551 cache=48814\n>> 2015-03-26 01:12:46 UpdateTip: new\n>> best=0000000000000022474ef8062a2b3ffac71dba34f4713e4320cb03ab2a8b4f27\n>> height=256224 log2_work=71.680191 tx=23298647 date=2013-09-05 08:31:51\n>> progress=0.164553 cache=49002\n>> 2015-03-26 01:12:46 UpdateTip: new\n>> best=000000000000000d93e092f11fbffe4cf51b3230b85429126fd59fdc4a658711\n>> height=256225 log2_work=71.680333 tx=23298903 date=2013-09-05 09:02:55\n>> progress=0.164555 cache=49232\n>> 2015-03-26 01:12:46 UpdateTip: new\n>> best=000000000000000b82f040c3342eb73532a6124efc40b024fdad513e05fd0bd5\n>> height=256226 log2_work=71.680475 tx=23299531 date=2013-09-05 09:10:09\n>> progress=0.164559 cache=49832\n>> 2015-03-26 01:12:46 UpdateTip: new\n>> best=000000000000002a6ecdbe7fbfa95c3506f1453577a683a79da81098e7905584\n>> height=256227 log2_work=71.680618 tx=23300084 date=2013-09-05 09:16:24\n>> progress=0.164563 cache=50243\n>> 2015-03-26 01:12:46 UpdateTip: new\n>> best=000000000000002c6fa89ede90bbc722936a218850ce5f6376edb2ea00a7fa05\n>> height=256228 log2_work=71.68076 tx=23300099 date=2013-09-05 09:16:32\n>> progress=0.164563 cache=50271\n>> 2015-03-26 01:12:47 UpdateTip: new\n>> best=00000000000000101ce20a35d1ddcae106b960d6e785104426f8d0bdd2017bf2\n>> height=256229 log2_work=71.680902 tx=23300780 date=2013-09-05 09:35:11\n>> progress=0.164568 cache=50989\n>> 2015-03-26 01:12:47 UpdateTip: new\n>> best=0000000000000020c9620a098f464ca259dfb49e0d58ac6e8072fb9ebf01aa22\n>> height=256230 log2_work=71.681045 tx=23301155 date=2013-09-05 09:43:39\n>> progress=0.164571 cache=51343\n>> 2015-03-26 01:12:47 UpdateTip: new\n>> best=000000000000002ff0c69115a9a7ec287f2eb1e7aaf5fcd8e570523c6d0e35da\n>> height=256231 log2_work=71.681187 tx=23301803 date=2013-09-05 10:08:04\n>> progress=0.164575 cache=51839\n>> 2015-03-26 01:12:48 UpdateTip: new\n>> best=0000000000000012934a060e2f39186df3576919488f578142ac0b39f40eb016\n>> height=256232 log2_work=71.681329 tx=23302097 date=2013-09-05 10:11:37\n>> progress=0.164577 cache=52213\n>> 2015-03-26 01:12:48 UpdateTip: new\n>> best=0000000000000001fd0e62b6be598ed76515a2044941efdffaa6cffbaedf6be9\n>> height=256233 log2_work=71.681472 tx=23302512 date=2013-09-05 10:23:50\n>> progress=0.164580 cache=52519\n>> 2015-03-26 01:12:48 UpdateTip: new\n>> best=000000000000003040c350eb9968ddd8d465c02d3b8c08a57092d648d84e81fb\n>> height=256234 log2_work=71.681614 tx=23303160 date=2013-09-05 10:56:06\n>> progress=0.164585 cache=53021\n>> 2015-03-26 01:12:48 UpdateTip: new\n>> best=0000000000000004e00a510cb0eb701049eab4ffa7f5ae0cb35166012f206735\n>> height=256235 log2_work=71.681756 tx=23303555 date=2013-09-05 10:58:04\n>> progress=0.164588 cache=53195\n>> 2015-03-26 01:12:48 UpdateTip: new\n>> best=0000000000000001d5cb5a162b017593ea700796346fc4ad2878317f88639558\n>> height=256236 log2_work=71.681898 tx=23303687 date=2013-09-05 10:59:25\n>> progress=0.164589 cache=53329\n>> 2015-03-26 01:12:49 UpdateTip: new\n>> best=00000000000000132059570a30473e9a66082f15a3587f46674e2868e42c1717\n>> height=256237 log2_work=71.68204 tx=23304007 date=2013-09-05 11:07:52\n>> progress=0.164591 cache=53593\n>> 2015-03-26 01:12:49 UpdateTip: new\n>> best=0000000000000022e8d500382e2890c4188afbac95bd96b28badeb40535a2d62\n>> height=256238 log2_work=71.682183 tx=23304182 date=2013-09-05 11:13:55\n>> progress=0.164592 cache=53742\n>> 2015-03-26 01:12:49 UpdateTip: new\n>> best=00000000000000153e89df838e32e1d69f44352582b7e916779a4c81f5c87fc8\n>> height=256239 log2_work=71.682325 tx=23304295 date=2013-09-05 11:16:07\n>> progress=0.164593 cache=53864\n>> 2015-03-26 01:12:49 UpdateTip: new\n>> best=000000000000001c4c2ae705ca273cabbb7881587eee17d65e97872f6d32e3dd\n>> height=256240 log2_work=71.682467 tx=23304658 date=2013-09-05 11:30:15\n>> progress=0.164596 cache=54138\n>> 2015-03-26 01:12:49 UpdateTip: new\n>> best=00000000000000094943a4f8db9e6e3c7693fda19a87e0c6311cbff6af5e30ed\n>> height=256241 log2_work=71.682609 tx=23304712 date=2013-09-05 11:31:46\n>> progress=0.164596 cache=54188\n>> 2015-03-26 01:12:49 UpdateTip: new\n>> best=00000000000000240151486223bec38ac2efd88b06358ed808b7650ca2d4e7b9\n>> height=256242 log2_work=71.682751 tx=23305195 date=2013-09-05 11:53:06\n>> progress=0.164599 cache=54500\n>> 2015-03-26 01:12:49 UpdateTip: new\n>> best=000000000000000b204f319b88cb7ada312006cff24259767ce543590376916b\n>> height=256243 log2_work=71.682893 tx=23305205 date=2013-09-05 11:53:17\n>> progress=0.164599 cache=54510\n>> 2015-03-26 01:12:49 UpdateTip: new\n>> best=000000000000002fe406df0a623d0552973f7455aff2866b400492e7b964905d\n>> height=256244 log2_work=71.683035 tx=23305255 date=2013-09-05 11:54:08\n>> progress=0.164600 cache=54530\n>> 2015-03-26 01:12:49 UpdateTip: new\n>> best=0000000000000004760b054428b39113e0a27e08cce9a98cd27c4dbee3ea3f05\n>> height=256245 log2_work=71.683178 tx=23305450 date=2013-09-05 12:00:16\n>> progress=0.164601 cache=54716\n>> 2015-03-26 01:12:50 UpdateTip: new\n>> best=000000000000000c5a4a7971338e3b2226b4697035455b1f10c8db8806241ecd\n>> height=256246 log2_work=71.68332 tx=23306018 date=2013-09-05 12:08:59\n>> progress=0.164605 cache=55351\n>> 2015-03-26 01:12:50 UpdateTip: new\n>> best=000000000000001bb68eb99892b94fa8b33da6be1e52afe17920e05bea0528b0\n>> height=256247 log2_work=71.683462 tx=23307265 date=2013-09-05 12:33:09\n>> progress=0.164614 cache=56346\n>> 2015-03-26 01:12:51 UpdateTip: new\n>> best=00000000000000178f4cf7cef8941844bd72d1435f4cf5e61cfe066311f7807a\n>> height=256248 log2_work=71.683604 tx=23307913 date=2013-09-05 12:45:14\n>> progress=0.164619 cache=56992\n>> 2015-03-26 01:12:51 UpdateTip: new\n>> best=00000000000000176e15e4fb8f59e2b65407afa87af9af2f2a3ad31a215b5049\n>> height=256249 log2_work=71.683746 tx=23308112 date=2013-09-05 12:48:01\n>> progress=0.164620 cache=57097\n>> 2015-03-26 01:12:51 UpdateTip: new\n>> best=000000000000001f1d84edf1d8901ed8a3b4415c0ae71faea14902a0cb12eb2c\n>> height=256250 log2_work=71.683888 tx=23308762 date=2013-09-05 13:07:00\n>> progress=0.164625 cache=57724\n>> 2015-03-26 01:12:51 UpdateTip: new\n>> best=0000000000000021843eb11fc9e41c9f6b8403166d485259acd04f6349a15368\n>> height=256251 log2_work=71.68403 tx=23309579 date=2013-09-05 13:35:58\n>> progress=0.164630 cache=58350\n>> 2015-03-26 01:12:52 UpdateTip: new\n>> best=000000000000001be38f4d3d802a0c4f53aa250ade35ef562858df8f4459143a\n>> height=256252 log2_work=71.684172 tx=23310617 date=2013-09-05 13:44:30\n>> progress=0.164638 cache=59410\n>> 2015-03-26 01:12:52 UpdateTip: new\n>> best=0000000000000016f9e206d675a4806a56889b4dad5bc8101458a67caae8fec5\n>> height=256253 log2_work=71.684314 tx=23310937 date=2013-09-05 13:53:32\n>> progress=0.164640 cache=59760\n>> 2015-03-26 01:12:53 UpdateTip: new\n>> best=00000000000000167d0798f1c90a8b032608b2bfec24e9338046f0458f889050\n>> height=256254 log2_work=71.684456 tx=23311912 date=2013-09-05 14:11:04\n>> progress=0.164647 cache=60417\n>> 2015-03-26 01:12:53 UpdateTip: new\n>> best=000000000000002c615c4e75ed0e3cd5fdf8c784ed70f994f6b8dd170491052b\n>> height=256255 log2_work=71.684598 tx=23312598 date=2013-09-05 14:25:07\n>> progress=0.164652 cache=61044\n>> 2015-03-26 01:12:53 UpdateTip: new\n>> best=00000000000000294c1570b253f58ae84bb3436f27dc341e01ec98b12ffb4457\n>> height=256256 log2_work=71.68474 tx=23312983 date=2013-09-05 14:38:18\n>> progress=0.164654 cache=61382\n>> 2015-03-26 01:12:53 UpdateTip: new\n>> best=0000000000000013ef06f2beede29fc3544553f88da16e56be374b98bf8378cc\n>> height=256257 log2_work=71.684882 tx=23313815 date=2013-09-05 14:51:12\n>> progress=0.164660 cache=61964\n>> 2015-03-26 01:12:54 UpdateTip: new\n>> best=000000000000000120c0962bfabb16f454d619b081dabd5f593bdec041fdb04c\n>> height=256258 log2_work=71.685023 tx=23314011 date=2013-09-05 14:53:04\n>> progress=0.164662 cache=62117\n>> 2015-03-26 01:12:54 UpdateTip: new\n>> best=0000000000000030465e2521d48854fd32e22fb56a4d23383215eeef5cec71ad\n>> height=256259 log2_work=71.685165 tx=23314390 date=2013-09-05 14:59:37\n>> progress=0.164664 cache=62420\n>> 2015-03-26 01:12:54 UpdateTip: new\n>> best=0000000000000015f00b818ec4d3cd84c7efe492c19042e8d41aa1d88220fcca\n>> height=256260 log2_work=71.685307 tx=23314668 date=2013-09-05 15:03:44\n>> progress=0.164666 cache=62627\n>> 2015-03-26 01:12:54 UpdateTip: new\n>> best=0000000000000021f9c19ee0a908e5e8467a3135ca017778fa0b6fe205858e86\n>> height=256261 log2_work=71.685449 tx=23315249 date=2013-09-05 15:17:30\n>> progress=0.164670 cache=63094\n>> 2015-03-26 01:12:54 UpdateTip: new\n>> best=0000000000000004106d02bd030be7b11b09dc29bd1b814d82230a3602d71cbf\n>> height=256262 log2_work=71.685591 tx=23315921 date=2013-09-05 15:39:25\n>> progress=0.164675 cache=63618\n>> 2015-03-26 01:12:55 Pre-allocating up to position 0x900000 in rev00079.dat\n>> 2015-03-26 01:12:55 UpdateTip: new\n>> best=00000000000000152c20907e5fc32b0a5699cd6b3bdfdc54541068acc40c9001\n>> height=256263 log2_work=71.685733 tx=23316369 date=2013-09-05 15:42:00\n>> progress=0.164678 cache=63845\n>> 2015-03-26 01:12:55 UpdateTip: new\n>> best=0000000000000017393b8866299590a0cccb9fc3ec77d78f95ad1c8dad019ba5\n>> height=256264 log2_work=71.685875 tx=23316635 date=2013-09-05 15:44:52\n>> progress=0.164680 cache=64044\n>> 2015-03-26 01:12:55 UpdateTip: new\n>> best=0000000000000029669d094d8730098533dace24b5ebbf53b2a289feb034444e\n>> height=256265 log2_work=71.686016 tx=23316846 date=2013-09-05 15:48:59\n>> progress=0.164682 cache=64209\n>> 2015-03-26 01:12:55 UpdateTip: new\n>> best=0000000000000024de7285b3c2414f0a16183de523ea34b0e761a4111f693051\n>> height=256266 log2_work=71.686158 tx=23317071 date=2013-09-05 15:54:51\n>> progress=0.164683 cache=64449\n>> 2015-03-26 01:12:55 UpdateTip: new\n>> best=00000000000000165eab046aa4a026bc181b82d951936924c5aeb71ca394161a\n>> height=256267 log2_work=71.6863 tx=23317372 date=2013-09-05 15:58:28\n>> progress=0.164685 cache=64676\n>> 2015-03-26 01:12:55 UpdateTip: new\n>> best=0000000000000030064bb7a58f10d456eaa8ed4b1b5d302c0ef7beee89165195\n>> height=256268 log2_work=71.686442 tx=23317436 date=2013-09-05 15:59:52\n>> progress=0.164686 cache=64706\n>> 2015-03-26 01:12:55 UpdateTip: new\n>> best=0000000000000028115e14c9c3ff53915c178d7e00483ea1d49e89e3a2f8ea1a\n>> height=256269 log2_work=71.686584 tx=23317684 date=2013-09-05 16:05:53\n>> progress=0.164688 cache=64910\n>> 2015-03-26 01:12:55 UpdateTip: new\n>> best=000000000000002d8e2f9179ed9f8cf3d9651d7ba23e1df5045fd53a7efb7e9f\n>> height=256270 log2_work=71.686725 tx=23317794 date=2013-09-05 16:08:09\n>> progress=0.164688 cache=64989\n>> 2015-03-26 01:12:55 UpdateTip: new\n>> best=000000000000000455fe9a0f779024be6ffb8d66e3983fbb9daf563cc2720dc1\n>> height=256271 log2_work=71.686867 tx=23318058 date=2013-09-05 16:11:30\n>> progress=0.164690 cache=65240\n>> 2015-03-26 01:12:56 UpdateTip: new\n>> best=0000000000000008ba72a286f0c0d7cc9f76404d6d03b1ecbceb957a896169ef\n>> height=256272 log2_work=71.687009 tx=23319210 date=2013-09-05 16:33:00\n>> progress=0.164698 cache=66056\n>> 2015-03-26 01:12:56 UpdateTip: new\n>> best=000000000000001e54d7eb160c15019da95f2bf0e4a55a75339c2be02953c314\n>> height=256273 log2_work=71.68715 tx=23319463 date=2013-09-05 16:38:52\n>> progress=0.164700 cache=66267\n>> 2015-03-26 01:12:56 UpdateTip: new\n>> best=000000000000002665aa9b70dc61c3e3a21b14254d025f247fcd0ee7988556dc\n>> height=256274 log2_work=71.687292 tx=23319761 date=2013-09-05 16:45:01\n>> progress=0.164702 cache=66495\n>> 2015-03-26 01:12:56 UpdateTip: new\n>> best=000000000000001452940962883c497d7bfe87508813529d924c3555ca524b6e\n>> height=256275 log2_work=71.687434 tx=23319801 date=2013-09-05 16:46:11\n>> progress=0.164702 cache=66522\n>> 2015-03-26 01:12:56 UpdateTip: new\n>> best=000000000000002b0e29289255b11ea377d03f02d6e2013c9c4500879f17aa79\n>> height=256276 log2_work=71.687575 tx=23320487 date=2013-09-05 17:02:48\n>> progress=0.164707 cache=67014\n>> 2015-03-26 01:12:56 UpdateTip: new\n>> best=000000000000002d054be1e77c50aafcabf5ad9466560117bd8fd9706e08a472\n>> height=256277 log2_work=71.687717 tx=23320591 date=2013-09-05 17:06:30\n>> progress=0.164708 cache=67099\n>> 2015-03-26 01:12:57 UpdateTip: new\n>> best=000000000000002dc13bc14c9e999f56fa19ce4e0ae0c4f203197f1c6f269a26\n>> height=256278 log2_work=71.687859 tx=23321470 date=2013-09-05 17:32:00\n>> progress=0.164714 cache=67893\n>> 2015-03-26 01:12:57 UpdateTip: new\n>> best=000000000000000f7125b930e8fd8e239a4c63c0f2d55bb5e63ba9fc4e0109a8\n>> height=256279 log2_work=71.688 tx=23322078 date=2013-09-05 17:35:07\n>> progress=0.164719 cache=68269\n>> 2015-03-26 01:12:57 UpdateTip: new\n>> best=000000000000001a92af8fe69ff4aa1e1f02642f9a93587143e9d5d7f1ffba6c\n>> height=256280 log2_work=71.688142 tx=23322632 date=2013-09-05 17:40:49\n>> progress=0.164722 cache=68537\n>> 2015-03-26 01:12:57 UpdateTip: new\n>> best=000000000000000159f4bd54cf3c54c2df34ddd6ff51c680e1b7d0622f5c8b43\n>> height=256281 log2_work=71.688283 tx=23323215 date=2013-09-05 17:51:32\n>> progress=0.164727 cache=68947\n>> 2015-03-26 01:12:58 UpdateTip: new\n>> best=00000000000000247fe2e1f11a489c118ffb6792d6ba11121279cf12a62453eb\n>> height=256282 log2_work=71.688425 tx=23323753 date=2013-09-05 18:02:21\n>> progress=0.164730 cache=69359\n>> 2015-03-26 01:12:58 UpdateTip: new\n>> best=0000000000000014813cffe67140e7dbfb5a7773d274941c2edb1a11d0edd0b7\n>> height=256283 log2_work=71.688567 tx=23324401 date=2013-09-05 18:17:30\n>> progress=0.164735 cache=69837\n>> 2015-03-26 01:12:58 UpdateTip: new\n>> best=000000000000000a41919e5ba9bf94590307957438df8957b2d8e055d196b073\n>> height=256284 log2_work=71.688708 tx=23324549 date=2013-09-05 18:17:40\n>> progress=0.164736 cache=69925\n>> 2015-03-26 01:12:58 UpdateTip: new\n>> best=000000000000000da78b890167754320fcd7844a8333cf2e7eaa27e6eb66beef\n>> height=256285 log2_work=71.68885 tx=23324674 date=2013-09-05 18:19:50\n>> progress=0.164737 cache=70080\n>> 2015-03-26 01:12:58 UpdateTip: new\n>> best=000000000000000a11b83ec67046bd1c3742d37c1fd19eb60993dd4142832587\n>> height=256286 log2_work=71.688991 tx=23325155 date=2013-09-05 18:29:23\n>> progress=0.164740 cache=70487\n>> 2015-03-26 01:12:58 UpdateTip: new\n>> best=0000000000000030b9133b269aa99ef3ff0720207add7d6cda4ee4b3682293c5\n>> height=256287 log2_work=71.689133 tx=23325253 date=2013-09-05 18:30:04\n>> progress=0.164741 cache=70561\n>> 2015-03-26 01:12:59 UpdateTip: new\n>> best=000000000000001ad1c72f89e3e477dad1a4f31fa259dcc36347e95df771beb3\n>> height=256288 log2_work=71.689274 tx=23325512 date=2013-09-05 18:35:01\n>> progress=0.164743 cache=70724\n>> 2015-03-26 01:12:59 UpdateTip: new\n>> best=000000000000001eb25e185d9b67d1395f90134039a94141aec1d1405ae6ed3e\n>> height=256289 log2_work=71.689416 tx=23325535 date=2013-09-05 18:35:15\n>> progress=0.164743 cache=70777\n>> 2015-03-26 01:12:59 UpdateTip: new\n>> best=00000000000000021f594b3f66f4caa4251d538e4450bd3f03106d0008845d00\n>> height=256290 log2_work=71.689557 tx=23325632 date=2013-09-05 18:36:45\n>> progress=0.164744 cache=70928\n>> 2015-03-26 01:12:59 UpdateTip: new\n>> best=000000000000000eff0b9ad6c63cae18b2c3ca434f62083a77e09a5c254b9240\n>> height=256291 log2_work=71.689699 tx=23326314 date=2013-09-05 18:58:29\n>> progress=0.164748 cache=71546\n>> 2015-03-26 01:13:00 UpdateTip: new\n>> best=000000000000001857b4bcda0878dd5a25ffb28add7b9ce33ccaf2f6024e42f8\n>> height=256292 log2_work=71.68984 tx=23326874 date=2013-09-05 19:00:16\n>> progress=0.164752 cache=72269\n>> 2015-03-26 01:13:00 UpdateTip: new\n>> best=00000000000000003141cfb167866059105db3bb1cf035f6bc85b53ef85b92ae\n>> height=256293 log2_work=71.689981 tx=23326941 date=2013-09-05 19:00:35\n>> progress=0.164753 cache=72342\n>> 2015-03-26 01:13:00 UpdateTip: new\n>> best=0000000000000020bb674a462e0c4a656dce0cd89a96d32beba275afc66512c6\n>> height=256294 log2_work=71.690123 tx=23327139 date=2013-09-05 19:04:22\n>> progress=0.164754 cache=72474\n>> 2015-03-26 01:13:00 UpdateTip: new\n>> best=000000000000000f1fd8011fb66ce8df84fb0f2f1b963e0e3cdbb3617f59b7c7\n>> height=256295 log2_work=71.690264 tx=23327734 date=2013-09-05 19:23:20\n>> progress=0.164759 cache=72917\n>> 2015-03-26 01:13:00 UpdateTip: new\n>> best=000000000000002a6947553bbcfb982ca718cf2a4cac7dd1b08b035be2964f7e\n>> height=256296 log2_work=71.690406 tx=23327990 date=2013-09-05 19:28:00\n>> progress=0.164760 cache=73191\n>> 2015-03-26 01:13:01 UpdateTip: new\n>> best=000000000000000a5ad1f21d83c1432c8562d8dae8ba6b225a3b1ba85acce7f6\n>> height=256297 log2_work=71.690547 tx=23328170 date=2013-09-05 19:28:25\n>> progress=0.164762 cache=73281\n>> 2015-03-26 01:13:01 UpdateTip: new\n>> best=00000000000000105bd14a20434bdcd0ee740134893cf84a88421fd3e33ab983\n>> height=256298 log2_work=71.690688 tx=23328497 date=2013-09-05 19:33:39\n>> progress=0.164764 cache=73674\n>> 2015-03-26 01:13:01 UpdateTip: new\n>> best=000000000000000e31ee80d1bfb86f6afda5f01cc7fbde2fe4ad6b9ea5c64ce0\n>> height=256299 log2_work=71.69083 tx=23328847 date=2013-09-05 19:41:38\n>> progress=0.164766 cache=73966\n>> 2015-03-26 01:13:01 UpdateTip: new\n>> best=000000000000001b0326c319e92c6b9da767ef4afd124363307a6da3d902fa0a\n>> height=256300 log2_work=71.690971 tx=23329181 date=2013-09-05 19:47:54\n>> progress=0.164769 cache=74273\n>> 2015-03-26 01:13:01 UpdateTip: new\n>> best=00000000000000119a3ce9b6ba7951f3d377b3218bb1be68e48434b5f8a5a9d5\n>> height=256301 log2_work=71.691112 tx=23329436 date=2013-09-05 19:53:33\n>> progress=0.164771 cache=74449\n>> 2015-03-26 01:13:02 UpdateTip: new\n>> best=000000000000003083e3e983f998ad82a3dee8678d718c50947dcb1ba95f492b\n>> height=256302 log2_work=71.691254 tx=23329988 date=2013-09-05 20:07:37\n>> progress=0.164774 cache=74884\n>> 2015-03-26 01:13:02 UpdateTip: new\n>> best=00000000000000232c0aa351c33716d7763d6ed2fd31cac929d03711dea15557\n>> height=256303 log2_work=71.691395 tx=23330089 date=2013-09-05 20:09:47\n>> progress=0.164775 cache=74968\n>> 2015-03-26 01:13:02 UpdateTip: new\n>> best=00000000000000312aac75a02b0a1a704c80d00943284d98b7b290a150936718\n>> height=256304 log2_work=71.691536 tx=23330274 date=2013-09-05 20:12:43\n>> progress=0.164776 cache=75085\n>> 2015-03-26 01:13:02 UpdateTip: new\n>> best=000000000000001a1be9fab4bc79a801932b364716ced96ef324de80b158a67c\n>> height=256305 log2_work=71.691677 tx=23330498 date=2013-09-05 20:17:57\n>> progress=0.164778 cache=75258\n>> 2015-03-26 01:13:02 UpdateTip: new\n>> best=000000000000000d884a8219f18d692d9a289bed1ade63ea2fe458681de87d93\n>> height=256306 log2_work=71.691819 tx=23330904 date=2013-09-05 20:23:36\n>> progress=0.164781 cache=75535\n>> 2015-03-26 01:13:02 UpdateTip: new\n>> best=0000000000000017771fa7ee6475fb0214c27f4bf9d05add8f0ac7d61d03b469\n>> height=256307 log2_work=71.69196 tx=23330920 date=2013-09-05 20:24:55\n>> progress=0.164781 cache=75547\n>> 2015-03-26 01:13:02 UpdateTip: new\n>> best=000000000000000696591811eb1df654a2ee33056bb8bfaea7024a6e1ff46ae3\n>> height=256308 log2_work=71.692101 tx=23331408 date=2013-09-05 20:34:22\n>> progress=0.164784 cache=75854\n>> 2015-03-26 01:13:02 UpdateTip: new\n>> best=000000000000000a00fd2b77b9808adce5a65a7ef665f9a1e537453548dabcf1\n>> height=256309 log2_work=71.692242 tx=23332064 date=2013-09-05 20:46:32\n>> progress=0.164789 cache=76332\n>> 2015-03-26 01:13:02 UpdateTip: new\n>> best=00000000000000019d219483d1b58abc6e6e4d2a147eaa9dd872f17be08b20ea\n>> height=256310 log2_work=71.692383 tx=23332098 date=2013-09-05 20:45:30\n>> progress=0.164789 cache=76359\n>> 2015-03-26 01:13:03 UpdateTip: new\n>> best=000000000000000c10150feb7fca04dac4ffe51fd1b65cb786a28394e4f15a9a\n>> height=256311 log2_work=71.692525 tx=23332413 date=2013-09-05 20:52:20\n>> progress=0.164792 cache=76578\n>> 2015-03-26 01:13:03 UpdateTip: new\n>> best=000000000000002132822bd27a89b73a722db1882a93ee3fb955fc90e185bc5e\n>> height=256312 log2_work=71.692666 tx=23332670 date=2013-09-05 20:57:32\n>> progress=0.164793 cache=76730\n>> 2015-03-26 01:13:03 UpdateTip: new\n>> best=00000000000000049b4273b34759a18d1790a898f51946aa9479d2c6a4cccfa9\n>> height=256313 log2_work=71.692807 tx=23332803 date=2013-09-05 20:59:25\n>> progress=0.164794 cache=76717\n>> 2015-03-26 01:13:03 UpdateTip: new\n>> best=0000000000000013325dd0dea18664e71740f935c7d7330368c9fd79ce44220a\n>> height=256314 log2_work=71.692948 tx=23333358 date=2013-09-05 21:10:26\n>> progress=0.164798 cache=77114\n>> 2015-03-26 01:13:03 UpdateTip: new\n>> best=000000000000002270d84d64b2d9738a39566a9614d037bda5df147ebaa8f7ee\n>> height=256315 log2_work=71.693089 tx=23333392 date=2013-09-05 21:10:35\n>> progress=0.164798 cache=77139\n>> 2015-03-26 01:13:03 UpdateTip: new\n>> best=000000000000001a5005494e32ee1d0cef03424b64a51c26f0763c2cd4ed280b\n>> height=256316 log2_work=71.69323 tx=23334155 date=2013-09-05 21:26:59\n>> progress=0.164804 cache=77683\n>> 2015-03-26 01:13:04 UpdateTip: new\n>> best=0000000000000021092a76cf2a89cdf3d936524f7d9e421e851bdc1cc2ed892e\n>> height=256317 log2_work=71.693371 tx=23334457 date=2013-09-05 21:37:35\n>> progress=0.164806 cache=77961\n>> 2015-03-26 01:13:04 UpdateTip: new\n>> best=000000000000001e7e4c0d7928ba3ca327d3dcb2b22ab1120646d426f1e2db34\n>> height=256318 log2_work=71.693512 tx=23334921 date=2013-09-05 21:46:23\n>> progress=0.164809 cache=78139\n>> 2015-03-26 01:13:11 Autoprune: PruneOneBlockFile deleted blk/rev (00073)\n>> 2015-03-26 01:13:11 Pre-allocating up to position 0xa00000 in rev00079.dat\n>>\n>> Ã¢ÂÂ\n>> Reply to this email directly or view it on GitHub\n>> <https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86289804>.\n>>\n>\n",
      "created_at" : "2015-03-26T02:48:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86309604",
      "id" : 86309604,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T02:48:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86309604",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "Got a core file, but backtrace was useless without debugging info :(  So I've reconfigured with --enable-debug (and --disable-wallet). Seems repeatable, so I'll expect something soon.  If not, I'll erase the blockchain and try again.\r\n\r\nHardware:\r\n   I'm running this on a minimal digital ocean droplet, so 512M ram, 1.5G swap, 20GB total hdd.  Hence the desire to test pruning.\r\n\r\nSetup:\r\n$ cat .bitcoin/bitcoin.conf \r\nserver=1\r\ngen=0\r\nprune=1000\r\nrpcuser=bitcoinrpc\r\nrpcpassword=.....\r\n$ bitcoind > bitcoind-out-4 2>&1\r\n$ watch bitcoin-cli getinfo\r\n\r\nThe following diff *was* applied, but I've now unapplied it to make doubly-sure:\r\n\r\n```diff\r\ndiff --git a/src/txmempool.cpp b/src/txmempool.cpp\r\nindex 6e0f7e9..2645baf 100644\r\n--- a/src/txmempool.cpp\r\n+++ b/src/txmempool.cpp\r\n@@ -523,14 +523,29 @@ void CTxMemPool::removeForBlock(const std::vector<CTransaction>& vtx, unsigned i\r\n     BOOST_FOREACH(const CTransaction& tx, vtx)\r\n     {\r\n         uint256 hash = tx.GetHash();\r\n-        if (mapTx.count(hash))\r\n+        if (mapTx.count(hash)) {\r\n+\t\t\t// Record a TX we already knew.\r\n+\t\t\tstd::cerr << nBlockHeight << \":mutual:\" << tx.GetHash().ToString() << endl;\r\n             entries.push_back(mapTx[hash]);\r\n+\t\t} else {\r\n+\t\t\tstd::cerr << nBlockHeight << \":new:\" << tx.GetHash().ToString() << endl;\r\n+\t\t}\r\n     }\r\n     minerPolicyEstimator->seenBlock(entries, nBlockHeight, minRelayFee);\r\n     BOOST_FOREACH(const CTransaction& tx, vtx)\r\n     {\r\n         std::list<CTransaction> dummy;\r\n         remove(tx, dummy, false);\r\n+    }\r\n+\r\n+\ttypedef std::map<uint256, CTxMemPoolEntry> maptx_type;\r\n+\tBOOST_FOREACH(const maptx_type::value_type& txpair, mapTx)\r\n+\t{\r\n+\t\tstd::cerr << nBlockHeight << \":mempool-only:\" << txpair.first.ToString() << endl;\r\n+\t}\r\n+\r\n+    BOOST_FOREACH(const CTransaction& tx, vtx)\r\n+    {\r\n         removeConflicts(tx, conflicts);\r\n         ClearPrioritisation(tx.GetHash());\r\n     }\r\n```",
      "created_at" : "2015-03-26T03:00:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86314941",
      "id" : 86314941,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T03:02:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86314941",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "```\r\n$ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tDebian\r\nDescription:\tDebian GNU/Linux 7.7 (wheezy)\r\nRelease:\t7.7\r\nCodename:\twheezy\r\n$ uname -a\r\nLinux Petty1 3.2.0-4-686-pae #1 SMP Debian 3.2.54-2 i686 GNU/Linux\r\n$ bitcoind --version\r\nBitcoin Core Daemon version v0.10.99.0-40ba177\r\nCopyright (C) 2009-2015 The Bitcoin Core Developers\r\n\r\nThis is experimental software.\r\n\r\nDistributed under the MIT software license, see the accompanying file COPYING\r\nor <http://www.opensource.org/licenses/mit-license.php>.\r\n\r\nThis product includes software developed by the OpenSSL Project for use in the\r\nOpenSSL Toolkit <https://www.openssl.org/> and cryptographic software written\r\nby Eric Young and UPnP software written by Thomas Bernard.\r\n```",
      "created_at" : "2015-03-26T03:11:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86319737",
      "id" : 86319737,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T03:11:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86319737",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "I don't see any immediate problems with the diff, but I agree, better safe\nthan sorry.  Hopefully you'll get a backtrace, and if it's not obvious,\ndon't forget to mind the threads.\n\nThanks a lot!\nOn Mar 25, 2015 11:00 PM, \"Rusty Russell\" <notifications@github.com> wrote:\n\n> Reconfigured with --enable-debug (and --disable-wallet) as before. Got a\n> core file, but backtrace was useless without debugging info :( Seems\n> repeatable, so I'll expect something soon. If not, I'll erase the\n> blockchain and try again.\n>\n> Hardware:\n> I'm running this on a minimal digital ocean droplet, so 512M ram, 1.5G\n> swap, 20GB total hdd. Hence the desire to test pruning.\n>\n> Setup:\n> $ cat .bitcoin/bitcoin.conf\n> server=1\n> gen=0\n> prune=1000\n> rpcuser=bitcoinrpc\n> rpcpassword=.....\n> $ bitcoind > bitcoind-out-4 2>&1\n> $ watch bitcoin-cli getinfo\n>\n> The following diff *was* applied, but I've now unapplied it to make\n> doubly-sure:\n>\n> diff --git a/src/txmempool.cpp b/src/txmempool.cpp\n> index 6e0f7e9..2645baf 100644--- a/src/txmempool.cpp+++ b/src/txmempool.cpp@@ -523,14 +523,29 @@ void CTxMemPool::removeForBlock(const std::vector<CTransaction>& vtx, unsigned i\n>      BOOST_FOREACH(const CTransaction& tx, vtx)\n>      {\n>          uint256 hash = tx.GetHash();-        if (mapTx.count(hash))+        if (mapTx.count(hash)) {+           // Record a TX we already knew.+           std::cerr << nBlockHeight << \":mutual:\" << tx.GetHash().ToString() << endl;\n>              entries.push_back(mapTx[hash]);+       } else {+           std::cerr << nBlockHeight << \":new:\" << tx.GetHash().ToString() << endl;+       }\n>      }\n>      minerPolicyEstimator->seenBlock(entries, nBlockHeight, minRelayFee);\n>      BOOST_FOREACH(const CTransaction& tx, vtx)\n>      {\n>          std::list<CTransaction> dummy;\n>          remove(tx, dummy, false);+    }++   typedef std::map<uint256, CTxMemPoolEntry> maptx_type;+   BOOST_FOREACH(const maptx_type::value_type& txpair, mapTx)+   {+       std::cerr << nBlockHeight << \":mempool-only:\" << txpair.first.ToString() << endl;+   }++    BOOST_FOREACH(const CTransaction& tx, vtx)+    {\n>          removeConflicts(tx, conflicts);\n>          ClearPrioritisation(tx.GetHash());\n>      }\n>\n> Ã¢ÂÂ\n> Reply to this email directly or view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86314941>.\n>\n",
      "created_at" : "2015-03-26T03:11:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86319752",
      "id" : 86319752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T03:11:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86319752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/430315?v=3",
         "events_url" : "https://api.github.com/users/ajweiss/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajweiss/followers",
         "following_url" : "https://api.github.com/users/ajweiss/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajweiss/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajweiss",
         "id" : 430315,
         "login" : "ajweiss",
         "organizations_url" : "https://api.github.com/users/ajweiss/orgs",
         "received_events_url" : "https://api.github.com/users/ajweiss/received_events",
         "repos_url" : "https://api.github.com/users/ajweiss/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajweiss/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajweiss"
      }
   },
   {
      "body" : "Can this be rebased?",
      "created_at" : "2015-03-26T06:22:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86358281",
      "id" : 86358281,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T06:22:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86358281",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=3",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "body" : "$ tail bitcoind-out-4 \r\nbitcoind: coins.cpp:150: virtual bool CCoinsViewCache::BatchWrite(CCoinsMap&, const uint256&): Assertion `it->second.flags & CCoinsCacheEntry::FRESH' failed.\r\n$ gdb bitcoin/src/bitcoind core\r\n(gdb) thread apply all bt\r\n\r\nThread 11 (Thread 0xaef05b70 (LWP 31697)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n#1  0xb6c2423a in __pthread_cond_wait (cond=0xbfb8f740, mutex=0xbfb8f728)\r\n    at pthread_cond_wait.c:153\r\n#2  0xb7083f4d in boost::condition_variable::wait (this=0xbfb8f728, m=...)\r\n    at /usr/include/boost/thread/pthread/condition_variable.hpp:56\r\n#3  0xb722317d in CSemaphore::wait (this=0xbfb8f728) at sync.h:200\r\n#4  0xb7223321 in CSemaphoreGrant::Acquire (this=0xaef0515c) at sync.h:236\r\n#5  0xb7223522 in CSemaphoreGrant::CSemaphoreGrant (this=0xaef0515c, sema=..., \r\n    fTry=false) at sync.h:271\r\n#6  0xb7218d06 in ThreadOpenConnections () at net.cpp:1181\r\n#7  0xb722ae48 in TraceThread<void (*)()> (name=0xb74ef9c2 \"opencon\", \r\n    func=0xb72187d2 <ThreadOpenConnections()>) at util.h:214\r\n#8  0xb7265027 in boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> >::operator()<void (*)(char const*, void (*)()), boost::_bi::list0> (this=0xb211cc80, \r\n    f=@0xb211cc7c: 0xb722adca <TraceThread<void (*)()>(char const*, void (*)())>, a=...) at /usr/include/boost/bind/bind.hpp:313\r\n#9  0xb7264b23 in boost::_bi::bind_t<void, void (*)(char const*, void (*)()), boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> > >::operator() (this=0xb211cc7c) at /usr/include/boost/bind/bind_template.hpp:20\r\n#10 0xb72644b1 in boost::detail::thread_data<boost::_bi::bind_t<void, void (*)(c---Type <return> to continue, or q <return> to quit---\r\nhar const*, void (*)()), boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> > > >::run (this=0xb211cb78)\r\n    at /usr/include/boost/thread/detail/thread.hpp:62\r\n#11 0xb6f9342c in ?? () from /usr/lib/libboost_thread.so.1.49.0\r\n#12 0xb6c1fc39 in start_thread (arg=0xaef05b70) at pthread_create.c:304\r\n#13 0xb6b8b9fe in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130\r\n\r\nThread 10 (Thread 0xb611bb70 (LWP 31657)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n#1  0xb6c2423a in __pthread_cond_wait (cond=0xb611b1a8, mutex=0xb83d5900)\r\n    at pthread_cond_wait.c:153\r\n#2  0xb7281848 in boost::asio::detail::posix_event::wait<boost::asio::detail::scoped_lock<boost::asio::detail::posix_mutex> > (this=0xb611b1a8, lock=...)\r\n    at /usr/include/boost/asio/detail/posix_event.hpp:80\r\n#3  0xb7277e33 in boost::asio::detail::task_io_service::do_run_one (\r\n    this=0xb83d58e8, lock=..., this_thread=..., private_op_queue=..., ec=...)\r\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:380\r\n#4  0xb727784b in boost::asio::detail::task_io_service::run (this=0xb83d58e8, \r\n    ec=...) at /usr/include/boost/asio/detail/impl/task_io_service.ipp:146\r\n#5  0xb72782c1 in boost::asio::io_service::run (this=0xb83d5340)\r\n    at /usr/include/boost/asio/impl/io_service.ipp:59\r\n#6  0xb72e9911 in boost::_mfi::mf0<unsigned int, boost::asio::io_service>::operator() (this=0xb842634c, p=0xb83d5340)\r\n---Type <return> to continue, or q <return> to quit---\r\n    at /usr/include/boost/bind/mem_fn_template.hpp:49\r\n#7  0xb72e7f0a in boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> >::operator()<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list0> (this=0xb8426354, f=..., a=...)\r\n    at /usr/include/boost/bind/bind.hpp:243\r\n#8  0xb72e679d in boost::_bi::bind_t<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> > >::operator() (this=0xb842634c)\r\n    at /usr/include/boost/bind/bind_template.hpp:20\r\n#9  0xb72e4b31 in boost::detail::thread_data<boost::_bi::bind_t<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> > > >::run (this=0xb8426248)\r\n    at /usr/include/boost/thread/detail/thread.hpp:62\r\n#10 0xb6f9342c in ?? () from /usr/lib/libboost_thread.so.1.49.0\r\n#11 0xb6c1fc39 in start_thread (arg=0xb611bb70) at pthread_create.c:304\r\n#12 0xb6b8b9fe in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130\r\n\r\nThread 9 (Thread 0xb466ab70 (LWP 31663)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n#1  0xb6c27e7b in do_pread64 (offset=<optimized out>, count=<optimized out>, \r\n    buf=<optimized out>, fd=<optimized out>)\r\n    at ../sysdeps/unix/sysv/linux/pread64.c:54\r\n#2  __libc_pread64 (fd=109, buf=0xb15d3d58, count=31295, offset=4234304)\r\n---Type <return> to continue, or q <return> to quit---\r\n    at ../sysdeps/unix/sysv/linux/pread64.c:77\r\n#3  0xb74810d1 in leveldb::(anonymous namespace)::PosixRandomAccessFile::Read (\r\n    this=0xb893bee0, offset=4217300, n=31295, result=0xb4669cf4, \r\n    scratch=0xb15d3d58 \"\") at util/env_posix.cc:83\r\n#4  0xb748dc60 in leveldb::ReadBlock (file=0xb893bee0, options=..., \r\n    handle=..., result=0xb4669da0) at table/format.cc:79\r\n#5  0xb747a1da in leveldb::Table::BlockReader (arg=0xb87c23e8, options=..., \r\n    index_value=...) at table/table.cc:189\r\n#6  0xb747b742 in leveldb::(anonymous namespace)::TwoLevelIterator::InitDataBlock (this=0xb1e55eb0) at table/two_level_iterator.cc:165\r\n#7  0xb747b448 in leveldb::(anonymous namespace)::TwoLevelIterator::SkipEmptyDataBlocksForward (this=0xb1e55eb0) at table/two_level_iterator.cc:133\r\n#8  0xb747b334 in leveldb::(anonymous namespace)::TwoLevelIterator::Next (\r\n    this=0xb1e55eb0) at table/two_level_iterator.cc:115\r\n#9  0xb747769a in leveldb::IteratorWrapper::Next (this=0xb227b6f8)\r\n    at ./table/iterator_wrapper.h:42\r\n#10 0xb747b329 in leveldb::(anonymous namespace)::TwoLevelIterator::Next (\r\n    this=0xb227b6c0) at table/two_level_iterator.cc:114\r\n#11 0xb747769a in leveldb::IteratorWrapper::Next (this=0xb1b16384)\r\n    at ./table/iterator_wrapper.h:42\r\n#12 0xb7476c82 in leveldb::(anonymous namespace)::MergingIterator::Next (\r\n    this=0xbdc6c858) at table/merger.cc:81\r\n#13 0xb744cf6e in leveldb::DBImpl::DoCompactionWork (this=0xb8433448, \r\n---Type <return> to continue, or q <return> to quit---\r\n    compact=0xbfd4fff0) at db/db_impl.cc:975\r\n#14 0xb744ba72 in leveldb::DBImpl::BackgroundCompaction (this=0xb8433448)\r\n    at db/db_impl.cc:706\r\n#15 0xb744b3c0 in leveldb::DBImpl::BackgroundCall (this=0xb8433448)\r\n    at db/db_impl.cc:644\r\n#16 0xb744b302 in leveldb::DBImpl::BGWork (db=0xb8433448) at db/db_impl.cc:633\r\n#17 0xb7483a86 in leveldb::(anonymous namespace)::PosixEnv::BGThread (\r\n    this=0xb8426db8) at util/env_posix.cc:569\r\n#18 0xb748365f in leveldb::(anonymous namespace)::PosixEnv::BGThreadWrapper (\r\n    arg=0xb8426db8) at util/env_posix.cc:508\r\n#19 0xb6c1fc39 in start_thread (arg=0xb466ab70) at pthread_create.c:304\r\n#20 0xb6b8b9fe in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130\r\n\r\nThread 8 (Thread 0xadf03b70 (LWP 31699)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n\r\n#1  0xb6c24733 in pthread_cond_timedwait@@GLIBC_2.3.2 ()\r\n    at ../nptl/sysdeps/unix/sysv/linux/i386/i686/../i486/pthread_cond_timedwait.S:236\r\n#2  0xb7372570 in boost::condition_variable::timed_wait (this=0xbcc8c6b0, \r\n    m=..., wait_until=...)\r\n    at /usr/include/boost/thread/pthread/condition_variable.hpp:74\r\n#3  0xb6f95a58 in boost::this_thread::sleep(boost::posix_time::ptime const&) ()\r\n   from /usr/lib/libboost_thread.so.1.49.0\r\n---Type <return> to continue, or q <return> to quit---\r\n#4  0xb742f85e in boost::this_thread::sleep<boost::date_time::subsecond_duration<boost::posix_time::time_duration, 1000ll> > (rel_time=...)\r\n    at /usr/include/boost/thread/pthread/thread_data.hpp:149\r\n#5  0xb742db6e in MilliSleep (n=900000) at utiltime.cpp:54\r\n#6  0xb722b1c3 in LoopForever<void (*)()> (name=0xb74ef9d2 \"dumpaddr\", \r\n    func=0xb7218522 <DumpAddresses()>, msecs=900000) at util.h:185\r\n#7  0xb7264f87 in boost::_bi::list3<boost::_bi::value<char const*>, boost::_bi::value<void (*)()>, boost::_bi::value<int> >::operator()<void (*)(char const*, void (*)(), long long), boost::_bi::list0> (this=0xbcc8c728, \r\n    f=@0xbcc8c724: 0xb722b12c <LoopForever<void (*)()>(char const*, void (*)(), long long)>, a=...) at /usr/include/boost/bind/bind.hpp:392\r\n#8  0xb7264aa7 in boost::_bi::bind_t<void, void (*)(char const*, void (*)(), long long), boost::_bi::list3<boost::_bi::value<char const*>, boost::_bi::value<void (*)()>, boost::_bi::value<int> > >::operator() (this=0xbcc8c724)\r\n    at /usr/include/boost/bind/bind_template.hpp:20\r\n#9  0xb7264467 in boost::detail::thread_data<boost::_bi::bind_t<void, void (*)(char const*, void (*)(), long long), boost::_bi::list3<boost::_bi::value<char const*>, boost::_bi::value<void (*)()>, boost::_bi::value<int> > > >::run (\r\n    this=0xbcc8c620) at /usr/include/boost/thread/detail/thread.hpp:62\r\n#10 0xb6f9342c in ?? () from /usr/lib/libboost_thread.so.1.49.0\r\n#11 0xb6c1fc39 in start_thread (arg=0xadf03b70) at pthread_create.c:304\r\n#12 0xb6b8b9fe in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130\r\n\r\n---Type <return> to continue, or q <return> to quit---\r\nThread 7 (Thread 0xb5119b70 (LWP 31659)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n#1  0xb6c2423a in __pthread_cond_wait (cond=0xb51191a8, mutex=0xb83d5900)\r\n    at pthread_cond_wait.c:153\r\n#2  0xb7281848 in boost::asio::detail::posix_event::wait<boost::asio::detail::scoped_lock<boost::asio::detail::posix_mutex> > (this=0xb51191a8, lock=...)\r\n    at /usr/include/boost/asio/detail/posix_event.hpp:80\r\n#3  0xb7277e33 in boost::asio::detail::task_io_service::do_run_one (\r\n    this=0xb83d58e8, lock=..., this_thread=..., private_op_queue=..., ec=...)\r\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:380\r\n#4  0xb727784b in boost::asio::detail::task_io_service::run (this=0xb83d58e8, \r\n    ec=...) at /usr/include/boost/asio/detail/impl/task_io_service.ipp:146\r\n#5  0xb72782c1 in boost::asio::io_service::run (this=0xb83d5340)\r\n    at /usr/include/boost/asio/impl/io_service.ipp:59\r\n#6  0xb72e9911 in boost::_mfi::mf0<unsigned int, boost::asio::io_service>::operator() (this=0xb842657c, p=0xb83d5340)\r\n    at /usr/include/boost/bind/mem_fn_template.hpp:49\r\n#7  0xb72e7f0a in boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> >::operator()<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list0> (this=0xb8426584, f=..., a=...)\r\n    at /usr/include/boost/bind/bind.hpp:243\r\n#8  0xb72e679d in boost::_bi::bind_t<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list1<boost::_bi::value<boost::asio::io_---Type <return> to continue, or q <return> to quit---\r\nservice*> > >::operator() (this=0xb842657c)\r\n    at /usr/include/boost/bind/bind_template.hpp:20\r\n#9  0xb72e4b31 in boost::detail::thread_data<boost::_bi::bind_t<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> > > >::run (this=0xb8426478)\r\n    at /usr/include/boost/thread/detail/thread.hpp:62\r\n#10 0xb6f9342c in ?? () from /usr/lib/libboost_thread.so.1.49.0\r\n#11 0xb6c1fc39 in start_thread (arg=0xb5119b70) at pthread_create.c:304\r\n#12 0xb6b8b9fe in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130\r\n\r\nThread 6 (Thread 0xaf706b70 (LWP 31696)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n#1  0xb6c24733 in pthread_cond_timedwait@@GLIBC_2.3.2 ()\r\n    at ../nptl/sysdeps/unix/sysv/linux/i386/i686/../i486/pthread_cond_timedwait.S:236\r\n#2  0xb7372570 in boost::condition_variable::timed_wait (this=0xbf8cadf8, \r\n    m=..., wait_until=...)\r\n    at /usr/include/boost/thread/pthread/condition_variable.hpp:74\r\n#3  0xb6f95a58 in boost::this_thread::sleep(boost::posix_time::ptime const&) ()\r\n   from /usr/lib/libboost_thread.so.1.49.0\r\n#4  0xb742f85e in boost::this_thread::sleep<boost::date_time::subsecond_duration<boost::posix_time::time_duration, 1000ll> > (rel_time=...)\r\n    at /usr/include/boost/thread/pthread/thread_data.hpp:149\r\n---Type <return> to continue, or q <return> to quit---\r\n#5  0xb742db6e in MilliSleep (n=120000) at utiltime.cpp:54\r\n#6  0xb721abaf in ThreadOpenAddedConnections () at net.cpp:1320\r\n#7  0xb722ae48 in TraceThread<void (*)()> (name=0xb74ef9bb \"addcon\", \r\n    func=0xb7219453 <ThreadOpenAddedConnections()>) at util.h:214\r\n#8  0xb7265027 in boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> >::operator()<void (*)(char const*, void (*)()), boost::_bi::list0> (this=0xbf8cae70, \r\n    f=@0xbf8cae6c: 0xb722adca <TraceThread<void (*)()>(char const*, void (*)())>, a=...) at /usr/include/boost/bind/bind.hpp:313\r\n#9  0xb7264b23 in boost::_bi::bind_t<void, void (*)(char const*, void (*)()), boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> > >::operator() (this=0xbf8cae6c) at /usr/include/boost/bind/bind_template.hpp:20\r\n#10 0xb72644b1 in boost::detail::thread_data<boost::_bi::bind_t<void, void (*)(char const*, void (*)()), boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> > > >::run (this=0xbf8cad68)\r\n    at /usr/include/boost/thread/detail/thread.hpp:62\r\n#11 0xb6f9342c in ?? () from /usr/lib/libboost_thread.so.1.49.0\r\n#12 0xb6c1fc39 in start_thread (arg=0xaf706b70) at pthread_create.c:304\r\n#13 0xb6b8b9fe in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130\r\n\r\nThread 5 (Thread 0xaff07b70 (LWP 31695)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n#1  0xb6b84d01 in select () at ../sysdeps/unix/syscall-template.S:82\r\n---Type <return> to continue, or q <return> to quit---\r\n#2  0xb7216197 in ThreadSocketHandler () at net.cpp:770\r\n#3  0xb722ae48 in TraceThread<void (*)()> (name=0xb74ef34f \"net\", \r\n    func=0xb7215069 <ThreadSocketHandler()>) at util.h:214\r\n#4  0xb7265027 in boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> >::operator()<void (*)(char const*, void (*)()), boost::_bi::list0> (this=0xbdd72f60, \r\n    f=@0xbdd72f5c: 0xb722adca <TraceThread<void (*)()>(char const*, void (*)())>, a=...) at /usr/include/boost/bind/bind.hpp:313\r\n#5  0xb7264b23 in boost::_bi::bind_t<void, void (*)(char const*, void (*)()), boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> > >::operator() (this=0xbdd72f5c) at /usr/include/boost/bind/bind_template.hpp:20\r\n#6  0xb72644b1 in boost::detail::thread_data<boost::_bi::bind_t<void, void (*)(char const*, void (*)()), boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> > > >::run (this=0xbdd72e58)\r\n    at /usr/include/boost/thread/detail/thread.hpp:62\r\n#7  0xb6f9342c in ?? () from /usr/lib/libboost_thread.so.1.49.0\r\n#8  0xb6c1fc39 in start_thread (arg=0xaff07b70) at pthread_create.c:304\r\n#9  0xb6b8b9fe in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130\r\n\r\nThread 4 (Thread 0xb591ab70 (LWP 31658)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n#1  0xb6b8c466 in epoll_wait () at ../sysdeps/unix/syscall-template.S:82\r\n#2  0xb7276709 in boost::asio::detail::epoll_reactor::run (this=0xb83bda80, \r\n---Type <return> to continue, or q <return> to quit---\r\n    block=true, ops=...)\r\n    at /usr/include/boost/asio/detail/impl/epoll_reactor.ipp:366\r\n#3  0xb7277d5b in boost::asio::detail::task_io_service::do_run_one (\r\n    this=0xb83d58e8, lock=..., this_thread=..., private_op_queue=..., ec=...)\r\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:353\r\n#4  0xb727784b in boost::asio::detail::task_io_service::run (this=0xb83d58e8, \r\n    ec=...) at /usr/include/boost/asio/detail/impl/task_io_service.ipp:146\r\n#5  0xb72782c1 in boost::asio::io_service::run (this=0xb83d5340)\r\n    at /usr/include/boost/asio/impl/io_service.ipp:59\r\n#6  0xb72e9911 in boost::_mfi::mf0<unsigned int, boost::asio::io_service>::operator() (this=0xb8426464, p=0xb83d5340)\r\n    at /usr/include/boost/bind/mem_fn_template.hpp:49\r\n#7  0xb72e7f0a in boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> >::operator()<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list0> (this=0xb842646c, f=..., a=...)\r\n    at /usr/include/boost/bind/bind.hpp:243\r\n#8  0xb72e679d in boost::_bi::bind_t<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> > >::operator() (this=0xb8426464)\r\n    at /usr/include/boost/bind/bind_template.hpp:20\r\n#9  0xb72e4b31 in boost::detail::thread_data<boost::_bi::bind_t<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> > > >::run (this=0xb8426360)\r\n---Type <return> to continue, or q <return> to quit---\r\n    at /usr/include/boost/thread/detail/thread.hpp:62\r\n#10 0xb6f9342c in ?? () from /usr/lib/libboost_thread.so.1.49.0\r\n#11 0xb6c1fc39 in start_thread (arg=0xb591ab70) at pthread_create.c:304\r\n#12 0xb6b8b9fe in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130\r\n\r\nThread 3 (Thread 0xb691cb70 (LWP 31656)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n#1  0xb6c2423a in __pthread_cond_wait (cond=0xb691c1a8, mutex=0xb83d5900)\r\n    at pthread_cond_wait.c:153\r\n#2  0xb7281848 in boost::asio::detail::posix_event::wait<boost::asio::detail::scoped_lock<boost::asio::detail::posix_mutex> > (this=0xb691c1a8, lock=...)\r\n    at /usr/include/boost/asio/detail/posix_event.hpp:80\r\n#3  0xb7277e33 in boost::asio::detail::task_io_service::do_run_one (\r\n    this=0xb83d58e8, lock=..., this_thread=..., private_op_queue=..., ec=...)\r\n    at /usr/include/boost/asio/detail/impl/task_io_service.ipp:380\r\n#4  0xb727784b in boost::asio::detail::task_io_service::run (this=0xb83d58e8, \r\n    ec=...) at /usr/include/boost/asio/detail/impl/task_io_service.ipp:146\r\n#5  0xb72782c1 in boost::asio::io_service::run (this=0xb83d5340)\r\n    at /usr/include/boost/asio/impl/io_service.ipp:59\r\n#6  0xb72e9911 in boost::_mfi::mf0<unsigned int, boost::asio::io_service>::operator() (this=0xb83c73f4, p=0xb83d5340)\r\n    at /usr/include/boost/bind/mem_fn_template.hpp:49\r\n#7  0xb72e7f0a in boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> ---Type <return> to continue, or q <return> to quit---\r\n>::operator()<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list0> (this=0xb83c73fc, f=..., a=...)\r\n    at /usr/include/boost/bind/bind.hpp:243\r\n#8  0xb72e679d in boost::_bi::bind_t<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> > >::operator() (this=0xb83c73f4)\r\n    at /usr/include/boost/bind/bind_template.hpp:20\r\n#9  0xb72e4b31 in boost::detail::thread_data<boost::_bi::bind_t<unsigned int, boost::_mfi::mf0<unsigned int, boost::asio::io_service>, boost::_bi::list1<boost::_bi::value<boost::asio::io_service*> > > >::run (this=0xb83c72f0)\r\n    at /usr/include/boost/thread/detail/thread.hpp:62\r\n#10 0xb6f9342c in ?? () from /usr/lib/libboost_thread.so.1.49.0\r\n#11 0xb6c1fc39 in start_thread (arg=0xb691cb70) at pthread_create.c:304\r\n#12 0xb6b8b9fe in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130\r\n\r\nThread 2 (Thread 0xb6a956d0 (LWP 31655)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n#1  0xb6c27b46 in nanosleep () at ../sysdeps/unix/syscall-template.S:82\r\n#2  0xb6f95b6c in boost::this_thread::sleep(boost::posix_time::ptime const&) ()\r\n   from /usr/lib/libboost_thread.so.1.49.0\r\n#3  0xb742f85e in boost::this_thread::sleep<boost::date_time::subsecond_duration<boost::posix_time::time_duration, 1000ll> > (rel_time=...)\r\n    at /usr/include/boost/thread/pthread/thread_data.hpp:149\r\n---Type <return> to continue, or q <return> to quit---\r\n#4  0xb742db6e in MilliSleep (n=200) at utiltime.cpp:54\r\n#5  0xb707e461 in WaitForShutdown (threadGroup=0xbff7b9fc) at bitcoind.cpp:42\r\n#6  0xb707ef0d in AppInit (argc=1, argv=0xbff7bc04) at bitcoind.cpp:161\r\n#7  0xb707f3da in main (argc=1, argv=0xbff7bc04) at bitcoind.cpp:175\r\n\r\nThread 1 (Thread 0xae704b70 (LWP 31698)):\r\n#0  0xb702a424 in __kernel_vsyscall ()\r\n#1  0xb6ade661 in *__GI_raise (sig=6)\r\n    at ../nptl/sysdeps/unix/sysv/linux/raise.c:64\r\n#2  0xb6ae1a92 in *__GI_abort () at abort.c:92\r\n#3  0xb6ad7878 in *__GI___assert_fail (\r\n    assertion=0xb758a6d8 \"it->second.flags & CCoinsCacheEntry::FRESH\", \r\n    file=0xb758a6c0 \"coins.cpp\", line=150, \r\n    function=0xb758ada0 \"virtual bool CCoinsViewCache::BatchWrite(CCoinsMap&, const uint256&)\") at assert.c:81\r\n#4  0xb73d4c8a in CCoinsViewCache::BatchWrite (this=0xb84ec518, mapCoins=..., \r\n    hashBlockIn=...) at coins.cpp:150\r\n#5  0xb73d4eb4 in CCoinsViewCache::Flush (this=0xae703438) at coins.cpp:176\r\n#6  0xb710f86e in ConnectTip (state=..., pindexNew=0xb9de2490, \r\n    pblock=0xae7033d0) at main.cpp:2088\r\n#7  0xb71109d6 in ActivateBestChainStep (state=..., pindexMostWork=0xb8f40680, \r\n    pblock=0x0) at main.cpp:2223\r\n#8  0xb7110d0f in ActivateBestChain (state=..., pblock=0xae703b48)\r\n---Type <return> to continue, or q <return> to quit---\r\n    at main.cpp:2276\r\n#9  0xb71149c7 in ProcessNewBlock (state=..., pfrom=0xb1eaff30, \r\n    pblock=0xae703b48, dbp=0x0) at main.cpp:2823\r\n#10 0xb711e6e8 in ProcessMessage (pfrom=0xb1eaff30, strCommand=..., vRecv=..., \r\n    nTimeReceived=1427349299020461) at main.cpp:4175\r\n#11 0xb7120ae1 in ProcessMessages (pfrom=0xb1eaff30) at main.cpp:4499\r\n#12 0xb71da520 in boost::detail::function::function_invoker1<bool (*)(CNode*), bool, CNode*>::invoke (function_ptr=..., a0=0xb1eaff30)\r\n    at /usr/include/boost/function/function_template.hpp:95\r\n#13 0xb7262937 in boost::function1<bool, CNode*>::operator() (this=0xb8426644, \r\n    a0=0xb1eaff30) at /usr/include/boost/function/function_template.hpp:760\r\n#14 0xb7261c4b in boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker::m_invoke(boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > const&, ...) const (this=0xae704100, \r\n    connectionBody=...)\r\n    at /usr/include/boost/signals2/detail/signal_template.hpp:368\r\n#15 0xb7260437 in boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost---Type <return> to continue, or q <return> to quit---\r\n::signals2::mutex>::slot_invoker::operator()(boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > const&) const (this=0xae704100, \r\n    connectionBody=...)\r\n    at /usr/include/boost/signals2/detail/signal_template.hpp:345\r\n#16 0xb725d69d in boost::signals2::detail::slot_call_iterator_t<boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker, std::_List_iterator<boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > >, boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> >::dereference() const (this=0xae703f28)\r\n    at /usr/include/boost/signals2/detail/slot_call_iterator.hpp:82\r\n#17 0xb7258d9b in boost::iterator_core_access::dereference<boost::signals2::detail::slot_call_iterator_t<boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker, std::_List_iterator<boost::shared_ptr<b---Type <return> to continue, or q <return> to quit---\r\noost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > >, boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > >(boost::signals2::detail::slot_call_iterator_t<boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker, std::_List_iterator<boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > >, boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > const&) (f=...) at /usr/include/boost/iterator/iterator_facade.hpp:517\r\n#18 0xb72534dc in boost::iterator_facade<boost::signals2::detail::slot_call_iterator_t<boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker, std::_List_iterator<boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNo---Type <return> to continue, or q <return> to quit---\r\nde*)> >, boost::signals2::mutex> > >, boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> >, bool, boost::single_pass_traversal_tag, bool const&, int>::operator*() const (this=0xae703f28)\r\n    at /usr/include/boost/iterator/iterator_facade.hpp:643\r\n#19 0xb724b840 in boost::signals2::optional_last_value<bool>::operator()<boost::signals2::detail::slot_call_iterator_t<boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker, std::_List_iterator<boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > >, boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > >(boost::signals2::detail::slot_call_iterator_t<boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker, std::_List_iterator<boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool---Type <return> to continue, or q <return> to quit---\r\n (CNode*)> >, boost::signals2::mutex> > >, boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> >, boost::signals2::detail::slot_call_iterator_t<boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker, std::_List_iterator<boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > >, boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> >) const (\r\n    this=0xb83bb0c8, first=..., last=...)\r\n    at /usr/include/boost/signals2/optional_last_value.hpp:34\r\n#20 0xb72413d3 in boost::signals2::detail::combiner_invoker<boost::optional<bool> >::operator()<boost::signals2::optional_last_value<bool>, boost::signals2::detail::slot_call_iterator_t<boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker, std::_List_iterator<boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost:---Type <return> to continue, or q <return> to quit---\r\n:function<bool (CNode*)> >, boost::signals2::mutex> > >, boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > >(boost::signals2::optional_last_value<bool>&, boost::signals2::detail::slot_call_iterator_t<boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker, std::_List_iterator<boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > >, boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> >, boost::signals2::detail::slot_call_iterator_t<boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::slot_invoker, std::_List_iterator<boost::shared_ptr<boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost::signals2::mutex> > >, boost::signals2::detail::connection_body<std::pair<boost::signals2::detail::slot_meta_group, boost::optional<int> >, boost::signals2::slot1<bool, CNode*, boost::function<bool (CNode*)> >, boost---Type <return> to continue, or q <return> to quit---\r\n::signals2::mutex> >) const (this=0xae70402b, combiner=..., first=..., \r\n    last=...) at /usr/include/boost/signals2/detail/result_type_wrapper.hpp:53\r\n#21 0xb7235f23 in boost::signals2::detail::signal1_impl<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::operator()(CNode*) (this=0xb83bb048, arg1=0xb1eaff30)\r\n    at /usr/include/boost/signals2/detail/signal_template.hpp:246\r\n#22 0xb722abdd in boost::signals2::signal1<bool, CNode*, boost::signals2::optional_last_value<bool>, int, std::less<int>, boost::function<bool (CNode*)>, boost::function<bool (boost::signals2::connection const&, CNode*)>, boost::signals2::mutex>::operator()(CNode*) (this=0xb774230c, arg1=0xb1eaff30)\r\n    at /usr/include/boost/signals2/detail/signal_template.hpp:695\r\n#23 0xb721b505 in ThreadMessageHandler () at net.cpp:1385\r\n#24 0xb722ae48 in TraceThread<void (*)()> (name=0xb74ef9ca \"msghand\", \r\n    func=0xb721b025 <ThreadMessageHandler()>) at util.h:214\r\n#25 0xb7265027 in boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> >::operator()<void (*)(char const*, void (*)()), boost::_bi::list0> (this=0xb211ce30, \r\n    f=@0xb211ce2c: 0xb722adca <TraceThread<void (*)()>(char const*, void (*)())>, a=...) at /usr/include/boost/bind/bind.hpp:313\r\n#26 0xb7264b23 in boost::_bi::bind_t<void, void (*)(char const*, void (*)()), boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> > >::operator() (this=0xb211ce2c) at /usr/include/boost/bind/bind_template.hpp:20\r\n---Type <return> to continue, or q <return> to quit---\r\n#27 0xb72644b1 in boost::detail::thread_data<boost::_bi::bind_t<void, void (*)(char const*, void (*)()), boost::_bi::list2<boost::_bi::value<char const*>, boost::_bi::value<void (*)()> > > >::run (this=0xb211cd28)\r\n    at /usr/include/boost/thread/detail/thread.hpp:62\r\n#28 0xb6f9342c in ?? () from /usr/lib/libboost_thread.so.1.49.0\r\n#29 0xb6c1fc39 in start_thread (arg=0xae704b70) at pthread_create.c:304\r\n#30 0xb6b8b9fe in clone () at ../sysdeps/unix/sysv/linux/i386/clone.S:130\r\n",
      "created_at" : "2015-03-26T10:04:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86432901",
      "id" : 86432901,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T10:04:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86432901",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "Thanks a lot for your debugging help.  I think we found the problem.  If we prune inside ConnectBlock (as undo files allocate more space) then we flush pcoinsTip, which breaks the assumptions made inside flushing the child cache after ConnectBlock is finished.  Will work on a solution.",
      "created_at" : "2015-03-26T15:26:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86568450",
      "id" : 86568450,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-26T15:26:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86568450",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r27223454"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/27223454"
         }
      },
      "body" : "In the meantime, you could try commenting out this call to Autoprune.  It should still keep you very close to the target and ought to fix the problem.",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-03-26T15:30:12Z",
      "diff_hunk" : "@@ -2493,6 +2525,12 @@ bool FindUndoPos(CValidationState &state, int nFile, CDiskBlockPos &pos, unsigne\n     unsigned int nOldChunks = (pos.nPos + UNDOFILE_CHUNK_SIZE - 1) / UNDOFILE_CHUNK_SIZE;\n     unsigned int nNewChunks = (nNewSize + UNDOFILE_CHUNK_SIZE - 1) / UNDOFILE_CHUNK_SIZE;\n     if (nNewChunks > nOldChunks) {\n+        if (fPruneMode) {\n+            // nUndoSize has already been incremented, so passing in pos.nPos\n+            // would cause Autoprune to overstate disk usage (see related\n+            // comment in FindBlockPos).\n+            Autoprune(nNewChunks * UNDOFILE_CHUNK_SIZE - vinfoBlockFile[nFile].nUndoSize);\n+        }",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r27223454",
      "id" : 27223454,
      "original_commit_id" : "40ba177537a6cb032a03648208add12695c635e8",
      "original_position" : 132,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/27223454",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "Thanks, have commented that out and re-running now.",
      "created_at" : "2015-03-27T03:24:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-86806402",
      "id" : 86806402,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-27T03:24:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/86806402",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "Sorry for delayed update.  It's still running fine, commenting out that line seems to have fixed it.  Thanks!\r\n\r\nIt's within 15% of the target, too (1000M):\r\n\r\ndu -sk .bitcoin/blocks\r\n1137288\t.bitcoin/blocks",
      "created_at" : "2015-03-30T03:02:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-87524367",
      "id" : 87524367,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-03-30T03:02:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/87524367",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "We've updated this pull:\r\n- rebased off of #5959 \r\n- squashed all the commits that have been previously pushed\r\n- adds a commit that changes the tests in CheckBlockIndex (and adds a couple) to be consistent with how the data structures are used when pruning.  This also fixes a bug we introduced in LoadBlockIndexDB.  Ultimately we'd squash this, but we've left this as a separate commit to try to make it easier to see the assumptions that are changing.\r\n\r\nWe've got a fix in progress for the bug @rustyrussell found, which refactors the code to avoid calling FlushStateToDisk when we shouldn't.  (Separately, #5967 should also fix that bug.)",
      "created_at" : "2015-04-03T21:10:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-89421073",
      "id" : 89421073,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-03T21:10:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/89421073",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "OK here are 3 more commits:\r\n- tiny optimization to be squashed\r\n- A change to where pruning occurs so we're no longer flushing pcoinsTip from underneath child caches\r\n- A renaming of functions\r\n\r\nSorry for the annoying 3rd commit, but it seemed like the Autoprune function call was no longer the right name.  The functionality has now changed a bit with the 2nd commit.  We only check for pruning inside of FlushStateToDisk.  We've added an extra call to FlushStateToDisk inside of AcceptBlock so that we're covered after we might have allocated space for block files.  However now pruning doesn't happen until after allocation so its possible to exceed the target for that reason.  We build in a small buffer to help prevent that.  @rustyrussell if you wouldn't mind testing again, that would be great.\r\n\r\n",
      "created_at" : "2015-04-03T23:22:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-89450053",
      "id" : 89450053,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-03T23:22:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/89450053",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "and a bug fix...",
      "created_at" : "2015-04-04T00:07:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-89468258",
      "id" : 89468258,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-04T00:07:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/89468258",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "How close is this to being mergeable? Any known issues or regressions left?\r\n",
      "created_at" : "2015-04-13T13:35:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-92353499",
      "id" : 92353499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-13T13:35:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/92353499",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I downloaded master, merged this pull, compiled, started. \r\n\r\nSeems, it works. But works differently than I expected. I expected, that it will actually \"prune\" blocks, not simply erase them. So i expected, that genesis block remains untouched, because its coinbase transaction was never spent. \r\n\r\nhttps://blockchain.info/block/00000000839a8e6886ab5951d76f411475428afc90947ee320161bbf18eb6048\r\n\r\nApparently, bitcoind keeps UTXO-DB elsewhere, .. it should be kept for validation of new blocks (sorry, I don't have details about how bitcoin-core exactly works). Main benefit from pruning is that UTXO is still available and valid. Is there any way, how to access these transactions?",
      "created_at" : "2015-04-13T14:00:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-92366072",
      "id" : 92366072,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-13T14:00:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/92366072",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9439234?v=3",
         "events_url" : "https://api.github.com/users/ondra-novak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ondra-novak/followers",
         "following_url" : "https://api.github.com/users/ondra-novak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ondra-novak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ondra-novak",
         "id" : 9439234,
         "login" : "ondra-novak",
         "organizations_url" : "https://api.github.com/users/ondra-novak/orgs",
         "received_events_url" : "https://api.github.com/users/ondra-novak/received_events",
         "repos_url" : "https://api.github.com/users/ondra-novak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ondra-novak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ondra-novak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ondra-novak"
      }
   },
   {
      "body" : "There is one minor bug that came up recently which we'll be fixing today (an edge case when a block is re-processed).  A few things that I think should happen before merging:\r\n\r\n1) I don't think anyone has re-ACK'ed after we rebased and pushed up more commits a couple weeks ago.  In particular, it would be nice if someone could review the changes to CheckBlockIndex and maybe also the refactoring of the calls to pruning (which now happen inside FlushStateToDisk, to avoid the inconsistency we ran into by flushing pcoinsTip while a child cache was still outstanding).  \r\n\r\n2) I think we'd need to squash commits before merging (will do after people are done reviewing).\r\n\r\n3) There's an open pull somewhat related to autoprune (#5875) that would be nice to consider; if we don't accept #5875 or something like it, then we may need a different solution so that autoprune nodes deal better with duplicate blocks.  (Looks like that pull needs to be rebased, so I will do that today as well.)\r\n\r\n4) This code needs more testing by users, but that would probably be helped by merging.\r\n\r\n@ondra-novak  Please note that all nodes already prune the UTXO set.  However, nodes currently also keep all historical blocks, even though once a block is processed, it is no longer needed to validate new transactions (it's only needed to process a reorg).  Pruning nodes will delete old block files to save disk space, but this pull request has no effect on the way the UTXO set is stored on disk, which is separate from the block files.",
      "created_at" : "2015-04-13T14:53:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-92388235",
      "id" : 92388235,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-13T14:53:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/92388235",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "@sdaftuar OK, thanks for the information. The reason I'm asking is that I'd like to avoid this slipping to the last minute of the merge window, as it did for 0.10. Having the code simmer in master for a while before the release ensures more testing. So let's try to get this merged by the end of April.\r\n\r\n@ondra-novak Pruning of the UTXO set (\"ultraprune\") was implemented by @sipa a long time ago. The storage format is very efficient, and does not retain the full transactions just the necessary information: their unspent outputs. \r\n\r\nThis pull is unrelated to that. It affects the archived block chain, which is completely unnecessary for validation. I do agree 'pruning' may be a bit confusing name, but I wouldn't know any better one.\r\n",
      "created_at" : "2015-04-13T15:19:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-92398850",
      "id" : 92398850,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-13T18:05:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/92398850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "FWIW, I've been running 386039510b56ba7a224d009e5deb53f0f5b12274 with no problems on multiple nodes for a while.",
      "created_at" : "2015-04-14T02:19:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-92563113",
      "id" : 92563113,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-14T02:19:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/92563113",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/775844?v=3",
         "events_url" : "https://api.github.com/users/rustyrussell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rustyrussell/followers",
         "following_url" : "https://api.github.com/users/rustyrussell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rustyrussell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rustyrussell",
         "id" : 775844,
         "login" : "rustyrussell",
         "organizations_url" : "https://api.github.com/users/rustyrussell/orgs",
         "received_events_url" : "https://api.github.com/users/rustyrussell/received_events",
         "repos_url" : "https://api.github.com/users/rustyrussell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rustyrussell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rustyrussell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rustyrussell"
      }
   },
   {
      "body" : "@laanwj Thank you for clarification. Now I understand why there are some limitations in this solution. I mean for example why the wallet is disabled while prune is active (the wallet need to access to those files to reconstruct the transaction history, but theoretically the wallet still should be able to run above the valid UTXO-DB).\r\n\r\nUnfortunately it seems, that this solution solves one problem (disk space) but creates another problem (no longer access to unspent transactions through the API and apparently not just API only ). I will try to describe this problem in a new issue.",
      "created_at" : "2015-04-14T08:09:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-92687224",
      "id" : 92687224,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-14T08:09:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/92687224",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9439234?v=3",
         "events_url" : "https://api.github.com/users/ondra-novak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ondra-novak/followers",
         "following_url" : "https://api.github.com/users/ondra-novak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ondra-novak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ondra-novak",
         "id" : 9439234,
         "login" : "ondra-novak",
         "organizations_url" : "https://api.github.com/users/ondra-novak/orgs",
         "received_events_url" : "https://api.github.com/users/ondra-novak/received_events",
         "repos_url" : "https://api.github.com/users/ondra-novak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ondra-novak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ondra-novak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ondra-novak"
      }
   },
   {
      "body" : "@ondra-novak In theory, the Bitcoin Core wallet can function perfectly on top of a pruned block chain. It just can't rescan missing transactions from pruned history. That means being unable to import a new key or wallet into the software, unless one knows it has no incoming payments. But working as a normal wallet, with locally-generated keys should be possible. A pruned Bitcoin Core instance still downloads and verifies and processes all blocks - we just don't keep them around forever in full anymore.\r\n\r\nI said in theory, but in practice, that functionality is just not implemented, and the Bitcoin Core wallet does not get much development attention (though it seems to be increasing, recently!), so we're conservative and try to get the most important functionality in - other parts can go later.\r\n\r\nNote that it's perfectly possible to run a more lightweight wallet solution (Bitcoin Wallet for Android, Electrum, Multibit, ...), and even connect it directly to a trusted Bitcoin Core implementation, to get the best of both worlds.",
      "created_at" : "2015-04-14T08:18:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-92690801",
      "id" : 92690801,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-14T08:31:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/92690801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa \"That means being unable to import a new key or wallet into the software, unless one knows it has no incoming payment\" Are you sure about this? If you have database of ALL unspent outputs, you can simply search it for outputs owned by the imported address and find balance and all incoming payments (not outgoing of course)",
      "created_at" : "2015-04-14T08:38:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-92696153",
      "id" : 92696153,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-14T08:38:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/92696153",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9439234?v=3",
         "events_url" : "https://api.github.com/users/ondra-novak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ondra-novak/followers",
         "following_url" : "https://api.github.com/users/ondra-novak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ondra-novak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ondra-novak",
         "id" : 9439234,
         "login" : "ondra-novak",
         "organizations_url" : "https://api.github.com/users/ondra-novak/orgs",
         "received_events_url" : "https://api.github.com/users/ondra-novak/received_events",
         "repos_url" : "https://api.github.com/users/ondra-novak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ondra-novak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ondra-novak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ondra-novak"
      }
   },
   {
      "body" : "With the UTXO set you can indeed find the currently spendable coins. That\nis not how the Bitcoin Core wallet works, however. It uses a ledger-based\napproach that lists all historical transactions.\n\nYou're better off using a different wallet which supports that model if you\nwant it. As I said, that is perfectly possible, and remains possible after\npruning.\n",
      "created_at" : "2015-04-14T08:45:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-92698606",
      "id" : 92698606,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-14T08:45:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/92698606",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "To follow up on my earlier comment, after further review we decided that no additional bug fix was needed to handle re-processing blocks.  Also, #5875 would be nice, but isn't a blocker, as only pruning nodes are affected; this pull shouldn't introduce any issues for non-pruning nodes' ability to deal with duplicate blocks.\r\n\r\nWe added comments to the rpc test, squashed all our commits down, and rebased off master, so this should be mergeable.  At this point I think we just need some review/ACKs.",
      "created_at" : "2015-04-16T20:06:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-93828024",
      "id" : 93828024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-16T20:06:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/93828024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "Just started running a mainnet node (with this PR on top) with a fresh datadir. Will report.\r\n\r\nSome minor things:\r\n* would it make sense to add `prune.py` to `qa/pull-tester/rpc-test.sh` and disable it when running all tests (should only start with `qa/pull-tester/rpc-tests.sh pruning`)\r\n* `/rest/tx` and `/rest/block` should be disabled when pruning is on. `/rest/chaininfos` and upcoming mempool calls could make sense even in pruned mode.\r\n* IMO it would be nice if cmd arg `-prune` (without value) would enable pruning and use a preferred (550MB?) limit.",
      "created_at" : "2015-04-16T20:26:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-93831811",
      "id" : 93831811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-16T20:26:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/93831811",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "The prune.py test did fail: https://gist.github.com/jonasschnelli/13b077c7215f012fe44d (didn't analyzed it).\r\n\r\nYesterday i started a fresh node and it took around 6h to catch up. Everything worked as expected. I did some RPC and REST calls and found out, that it might be enough to just inform the users when tx or block hash was not found that autoprune is enabled. On the other hand this reveals the nodes behavior and could therefore harm privacy or security (again possible over browsers/webpages accessing 127.0.0.1 on the same machine).\r\n```\r\n~/.bitcoin$ du -sh ~/.bitcoin\r\n1.3G\t~/.bitcoin\r\n```\r\n\r\nWhat about adding a state information (\"autoprune\":true) in the RPC `getinfo` call?\r\nCurrently it looks like:\r\n\r\n```\r\n{\r\n    \"version\" : 109900,\r\n    \"protocolversion\" : 70002,\r\n    \"blocks\" : 352482,\r\n    \"timeoffset\" : 0,\r\n    \"connections\" : 13,\r\n    \"proxy\" : \"\",\r\n    \"difficulty\" : 49446390688.24143982,\r\n    \"testnet\" : false,\r\n    \"paytxfee\" : 0.00000000,\r\n    \"relayfee\" : 0.00001000,\r\n    \"errors\" : \"This is a pre-release test build - use at your own risk - do not use for mining or merchant applications\"\r\n}\r\n```",
      "created_at" : "2015-04-17T11:47:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-93970863",
      "id" : 93970863,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-17T11:47:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/93970863",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28587528"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28587528"
         }
      },
      "body" : "little nit: missing indent.",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-04-17T11:55:24Z",
      "diff_hunk" : "@@ -275,7 +275,12 @@ std::string HelpMessage(HelpMessageMode mode)\n #ifndef WIN32\n     strUsage += HelpMessageOpt(\"-pid=<file>\", strprintf(_(\"Specify pid file (default: %s)\"), \"bitcoind.pid\"));\n #endif\n-    strUsage += HelpMessageOpt(\"-reindex\", _(\"Rebuild block chain index from current blk000??.dat files\") + \" \" + _(\"on startup\"));\n+    strUsage += HelpMessageOpt(\"-prune=<n>\", _(\"Reduce storage requirements by pruning (deleting) old blocks. This mode disables wallet support and is incompatible with -txindex.\") + \" \" +\n+            _(\"Warning: Reverting this setting requires re-downloading the entire blockchain.\") + \" \" +\n+            _(\"(default: 0 = disable pruning blocks,\") + \" \" +\n+            strprintf(_(\">%u = target size in MiB to use for block files)\"), MIN_DISK_SPACE_FOR_BLOCK_FILES / 1024 / 1024));\n+strUsage += HelpMessageOpt(\"-reindex\", _(\"Rebuild block chain index from current blk000??.dat files\") + \" \" + _(\"on startup\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28587528",
      "id" : 28587528,
      "original_commit_id" : "1790bcb4017fade8269741c6db22413a8ed72392",
      "original_position" : 9,
      "path" : "src/init.cpp",
      "position" : 9,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28587528",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli I don't think we should be adding stuff to getinfo - the call is already very overloaded, and needs access to pretty every piece of data (mempool, blockchain, database, wallet, network). If you want to add something, add it to getblockchaininfo or something.",
      "created_at" : "2015-04-17T11:55:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-93972083",
      "id" : 93972083,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-17T11:55:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/93972083",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28587682"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28587682"
         }
      },
      "body" : "If testnet is reset, it will just be a separate network (testnet4?), so that shouldn't be a concern.",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-04-17T11:57:30Z",
      "diff_hunk" : "@@ -198,6 +199,7 @@ class CTestNetParams : public CMainParams {\n         vAlertPubKey = ParseHex(\"04302390343f91cc401d56d68b123028bf52e5fca1939df127f63c6467cdf9c8e2c14b61104cf817d0b780da337893ecc4aaff1309e536162dabbdb45200ca2b0a\");\n         nDefaultPort = 18333;\n         nMinerThreads = 0;\n+        nPruneAfterHeight = 1000; //! low since testnet can be reset in future",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28587682",
      "id" : 28587682,
      "original_commit_id" : "1790bcb4017fade8269741c6db22413a8ed72392",
      "original_position" : 12,
      "path" : "src/chainparams.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28587682",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28587833"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28587833"
         }
      },
      "body" : "This doesn't seem to be what \"reindexing\" means, so I think this may be against user expectations. Perhaps introduce a new option (\"-reset\" ?), which wipes everything. Then you can just say that reindexing is not compatible with pruned mode.",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-04-17T12:00:28Z",
      "diff_hunk" : "@@ -1029,8 +1079,12 @@ bool AppInit2(boost::thread_group& threadGroup)\n                 pcoinscatcher = new CCoinsViewErrorCatcher(pcoinsdbview);\n                 pcoinsTip = new CCoinsViewCache(pcoinscatcher);\n \n-                if (fReindex)\n+                if (fReindex) {\n                     pblocktree->WriteReindexing(true);\n+                    //If we're reindexing in prune mode, wipe away all our block and undo data files",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28587833",
      "id" : 28587833,
      "original_commit_id" : "1790bcb4017fade8269741c6db22413a8ed72392",
      "original_position" : 101,
      "path" : "src/init.cpp",
      "position" : 109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28587833",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28587889"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28587889"
         }
      },
      "body" : "Agreed. I just wiped my 6h sync by trying to see what -reindex does in pruned mode. :)",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-04-17T12:02:09Z",
      "diff_hunk" : "@@ -1029,8 +1079,12 @@ bool AppInit2(boost::thread_group& threadGroup)\n                 pcoinscatcher = new CCoinsViewErrorCatcher(pcoinsdbview);\n                 pcoinsTip = new CCoinsViewCache(pcoinscatcher);\n \n-                if (fReindex)\n+                if (fReindex) {\n                     pblocktree->WriteReindexing(true);\n+                    //If we're reindexing in prune mode, wipe away all our block and undo data files",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28587889",
      "id" : 28587889,
      "original_commit_id" : "1790bcb4017fade8269741c6db22413a8ed72392",
      "original_position" : 101,
      "path" : "src/init.cpp",
      "position" : 109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28587889",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28588444"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28588444"
         }
      },
      "body" : "This is painful to see, but I see no better way for now.",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-04-17T12:13:29Z",
      "diff_hunk" : "@@ -2785,6 +2848,113 @@ bool AbortNode(const std::string &strMessage, const std::string &userMessage) {\n     return false;\n }\n \n+\n+/**\n+ * BLOCK PRUNING CODE\n+ */\n+\n+/* Calculate the amount of disk space the block & undo files currently use */\n+uint64_t CalculateCurrentUsage()\n+{\n+    uint64_t retval = 0;\n+    BOOST_FOREACH(const CBlockFileInfo &file, vinfoBlockFile) {\n+        retval += file.nSize + file.nUndoSize;\n+    }\n+    return retval;\n+}\n+\n+/* Prune a block file (modify associated database entries)*/\n+void PruneOneBlockFile(const int fileNumber)\n+{\n+    for (BlockMap::iterator it = mapBlockIndex.begin(); it != mapBlockIndex.end(); ++it) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28588444",
      "id" : 28588444,
      "original_commit_id" : "1790bcb4017fade8269741c6db22413a8ed72392",
      "original_position" : 221,
      "path" : "src/main.cpp",
      "position" : 223,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28588444",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28588484"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28588484"
         }
      },
      "body" : "We can do that, but we didn't really change the behavior of reindex.  All we did was delete the old data files which wouldn't have been found or used anyway and would just have gotten in the way of the new files being written.  \r\n",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-04-17T12:14:17Z",
      "diff_hunk" : "@@ -1029,8 +1079,12 @@ bool AppInit2(boost::thread_group& threadGroup)\n                 pcoinscatcher = new CCoinsViewErrorCatcher(pcoinsdbview);\n                 pcoinsTip = new CCoinsViewCache(pcoinscatcher);\n \n-                if (fReindex)\n+                if (fReindex) {\n                     pblocktree->WriteReindexing(true);\n+                    //If we're reindexing in prune mode, wipe away all our block and undo data files",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28588484",
      "id" : 28588484,
      "original_commit_id" : "1790bcb4017fade8269741c6db22413a8ed72392",
      "original_position" : 101,
      "path" : "src/init.cpp",
      "position" : 109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28588484",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28588891"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28588891"
         }
      },
      "body" : "I wrote an in-memory reverse lookup, which gets populated on startup.  On my computer the brute force way takes about 20ms, whereas the reverse lookup takes 200us.  The problem is the size of the in-memory structure, it will only get populated if you're in prune mode, but if you're keeping the whole current blockchain for instance, I think its about 10MB.   I decided to punt on the problem for now.",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-04-17T12:21:59Z",
      "diff_hunk" : "@@ -2785,6 +2848,113 @@ bool AbortNode(const std::string &strMessage, const std::string &userMessage) {\n     return false;\n }\n \n+\n+/**\n+ * BLOCK PRUNING CODE\n+ */\n+\n+/* Calculate the amount of disk space the block & undo files currently use */\n+uint64_t CalculateCurrentUsage()\n+{\n+    uint64_t retval = 0;\n+    BOOST_FOREACH(const CBlockFileInfo &file, vinfoBlockFile) {\n+        retval += file.nSize + file.nUndoSize;\n+    }\n+    return retval;\n+}\n+\n+/* Prune a block file (modify associated database entries)*/\n+void PruneOneBlockFile(const int fileNumber)\n+{\n+    for (BlockMap::iterator it = mapBlockIndex.begin(); it != mapBlockIndex.end(); ++it) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28588891",
      "id" : 28588891,
      "original_commit_id" : "1790bcb4017fade8269741c6db22413a8ed72392",
      "original_position" : 221,
      "path" : "src/main.cpp",
      "position" : 223,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28588891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28589209"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28589209"
         }
      },
      "body" : "Would it be possible to just check whether a block entry's file is pruned or not, whenever the block or undo data is requested, and do the updating to mapBlocksUnlinked lazily in that case?",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-04-17T12:27:20Z",
      "diff_hunk" : "@@ -2785,6 +2848,113 @@ bool AbortNode(const std::string &strMessage, const std::string &userMessage) {\n     return false;\n }\n \n+\n+/**\n+ * BLOCK PRUNING CODE\n+ */\n+\n+/* Calculate the amount of disk space the block & undo files currently use */\n+uint64_t CalculateCurrentUsage()\n+{\n+    uint64_t retval = 0;\n+    BOOST_FOREACH(const CBlockFileInfo &file, vinfoBlockFile) {\n+        retval += file.nSize + file.nUndoSize;\n+    }\n+    return retval;\n+}\n+\n+/* Prune a block file (modify associated database entries)*/\n+void PruneOneBlockFile(const int fileNumber)\n+{\n+    for (BlockMap::iterator it = mapBlockIndex.begin(); it != mapBlockIndex.end(); ++it) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28589209",
      "id" : 28589209,
      "original_commit_id" : "1790bcb4017fade8269741c6db22413a8ed72392",
      "original_position" : 221,
      "path" : "src/main.cpp",
      "position" : 223,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28589209",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa, hmm, i do think that until prune mode allows you to have a more regular node such as supporting NODE_NETWORK and a wallet, it might make sense to report that state in the most general place possible, such as getinfo.  we could move it when it becomes a less defining characteristic of your node.",
      "created_at" : "2015-04-17T12:38:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-93977782",
      "id" : 93977782,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-17T12:38:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/93977782",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "20mins leaks detecting during fresh datadir catchup showed no issues. Memory behavior as expected.\r\n![bildschirmfoto 2015-04-17 um 14 43 11](https://cloud.githubusercontent.com/assets/178464/7202189/49ddc73a-e510-11e4-90f7-5e9807fd60c5.png)",
      "created_at" : "2015-04-17T12:45:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-93978740",
      "id" : 93978740,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-17T12:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/93978740",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@jonasschnelli , re: pruning.py failing.  Were you running it on a decently equipped machine?  What happens is the reorg's are so large that they take a long time, and then the rpc calls (such as to getblocks() in this case) time out.  I increased the timeout from 30s to 5min, which gave some buffer on my machine, but perhaps that wasn't enough for general usage.   If you wouldn't mind trying increasing that timewait variable a little bigger and seeing if it completes, it might take a very long time though.  I would say the test is so cumbersome its of questionable value, except we've found it quite useful in recent weeks to test unrelated behavior because it stresses the nodes so much.\r\n\r\nThe test will have to be modified anyway if #5943 gets merged, which could make at least the reorgs faster. ",
      "created_at" : "2015-04-17T12:47:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-93979089",
      "id" : 93979089,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-17T12:47:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/93979089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   },
   {
      "body" : "@morcos The machine should be sufficient: Intel Xeon E31245 3.30GHz, 16GB RAM.\r\nI now increased timewait from 300 to 1000 and started again. Will report.",
      "created_at" : "2015-04-17T12:53:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-93979916",
      "id" : 93979916,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-17T12:53:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/93979916",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@morcos: prune.py test still fails: https://gist.github.com/jonasschnelli/03afc81383ec537eb4d2",
      "created_at" : "2015-04-17T18:34:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-94047254",
      "id" : 94047254,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-17T18:34:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/94047254",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "@morcos: after changing `timewait`to 3000 the `prune.py` test ran successfully (https://gist.github.com/jonasschnelli/90ac6516780607011b26). Took ~1h36'.\r\n\r\nMy fullnode with autoprune mode is running smooth sind 2.5days.\r\nNice work. Hopefully this gets merged soon!\r\nTested ACK.",
      "created_at" : "2015-04-19T18:15:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-94302349",
      "id" : 94302349,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-19T18:15:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/94302349",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Concept ACK. Code review ACK. Only lightly tested, sorry.",
      "created_at" : "2015-04-19T18:18:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-94302594",
      "id" : 94302594,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-19T18:18:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/94302594",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28862466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28862466"
         }
      },
      "body" : "I agree it doesn't effectively change any behaviour of -reindex, but I'd argue that -reindex itself has unexpected behaviour already in case of pruning. Anyway, not a big concern - maybe we can improve this after merge but before release.",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-04-22T11:03:52Z",
      "diff_hunk" : "@@ -1029,8 +1079,12 @@ bool AppInit2(boost::thread_group& threadGroup)\n                 pcoinscatcher = new CCoinsViewErrorCatcher(pcoinsdbview);\n                 pcoinsTip = new CCoinsViewCache(pcoinscatcher);\n \n-                if (fReindex)\n+                if (fReindex) {\n                     pblocktree->WriteReindexing(true);\n+                    //If we're reindexing in prune mode, wipe away all our block and undo data files",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28862466",
      "id" : 28862466,
      "original_commit_id" : "1790bcb4017fade8269741c6db22413a8ed72392",
      "original_position" : 101,
      "path" : "src/init.cpp",
      "position" : 109,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T19:57:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28862466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "This needed to be rebased, so I did so and updated the pull.  I also added a commit to try to reduce surprise in the event that someone uses -reindex and -prune at the same time: now, we only will delete all the block files if block file 0 is missing: in that case, we know that reindex will not find the files anyway, so there is no harm in deleting them (and this way a pruning node isn't tying up space used by old, inaccessible files).",
      "created_at" : "2015-04-22T14:57:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-95221526",
      "id" : 95221526,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-22T14:57:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95221526",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "body" : "Ok, I've run out of nits (see above). I think this is safe to merge - especially in case pruning itself is not enabled.",
      "created_at" : "2015-04-22T16:45:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-95260297",
      "id" : 95260297,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-22T16:45:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95260297",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa Thanks for all the review, I've gone ahead and fixed those nits and squashed everything back down to one commit.",
      "created_at" : "2015-04-22T19:49:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-95315275",
      "id" : 95315275,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-22T19:49:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95315275",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7463573?v=3",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28920432"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28920432"
         }
      },
      "body" : "This variable name is slightly confusing. It's the last height that's allowed to be pruned (the test below using it is correct).",
      "commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "created_at" : "2015-04-22T22:18:19Z",
      "diff_hunk" : "@@ -2785,6 +2850,112 @@ bool AbortNode(const std::string &strMessage, const std::string &userMessage) {\n     return false;\n }\n \n+\n+/**\n+ * BLOCK PRUNING CODE\n+ */\n+\n+/* Calculate the amount of disk space the block & undo files currently use */\n+uint64_t CalculateCurrentUsage()\n+{\n+    uint64_t retval = 0;\n+    BOOST_FOREACH(const CBlockFileInfo &file, vinfoBlockFile) {\n+        retval += file.nSize + file.nUndoSize;\n+    }\n+    return retval;\n+}\n+\n+/* Prune a block file (modify associated database entries)*/\n+void PruneOneBlockFile(const int fileNumber)\n+{\n+    for (BlockMap::iterator it = mapBlockIndex.begin(); it != mapBlockIndex.end(); ++it) {\n+        CBlockIndex* pindex = it->second;\n+        if (pindex->nFile == fileNumber) {\n+            pindex->nStatus &= ~BLOCK_HAVE_DATA;\n+            pindex->nStatus &= ~BLOCK_HAVE_UNDO;\n+            pindex->nFile = 0;\n+            pindex->nDataPos = 0;\n+            pindex->nUndoPos = 0;\n+            setDirtyBlockIndex.insert(pindex);\n+\n+            // Prune from mapBlocksUnlinked -- any block we prune would have\n+            // to be downloaded again in order to consider its chain, at which\n+            // point it would be considered as a candidate for\n+            // mapBlocksUnlinked or setBlockIndexCandidates.\n+            std::pair<std::multimap<CBlockIndex*, CBlockIndex*>::iterator, std::multimap<CBlockIndex*, CBlockIndex*>::iterator> range = mapBlocksUnlinked.equal_range(pindex->pprev);\n+            while (range.first != range.second) {\n+                std::multimap<CBlockIndex *, CBlockIndex *>::iterator it = range.first;\n+                range.first++;\n+                if (it->second == pindex) {\n+                    mapBlocksUnlinked.erase(it);\n+                }\n+            }\n+        }\n+    }\n+\n+    vinfoBlockFile[fileNumber].SetNull();\n+    setDirtyFileInfo.insert(fileNumber);\n+}\n+\n+\n+void UnlinkPrunedFiles(std::set<int>& setFilesToPrune)\n+{\n+    for (set<int>::iterator it = setFilesToPrune.begin(); it != setFilesToPrune.end(); ++it) {\n+        CDiskBlockPos pos(*it, 0);\n+        boost::filesystem::remove(GetBlockPosFilename(pos, \"blk\"));\n+        boost::filesystem::remove(GetBlockPosFilename(pos, \"rev\"));\n+        LogPrintf(\"Prune: %s deleted blk/rev (%05u)\\n\", __func__, *it);\n+    }\n+}\n+\n+/* Calculate the block/rev files that should be deleted to remain under target*/\n+void FindFilesToPrune(std::set<int>& setFilesToPrune)\n+{\n+    LOCK2(cs_main, cs_LastBlockFile);\n+    if (chainActive.Tip() == NULL || nPruneTarget == 0) {\n+        return;\n+    }\n+    if (chainActive.Tip()->nHeight <= Params().PruneAfterHeight()) {\n+        return;\n+    }\n+\n+    unsigned int nLastBlockWeMustKeep = chainActive.Tip()->nHeight - MIN_BLOCKS_TO_KEEP;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#discussion_r28920432",
      "id" : 28920432,
      "original_commit_id" : "f9ec3f0fadb11ee9889af977e16915f5d6e01944",
      "original_position" : 274,
      "path" : "src/main.cpp",
      "position" : 274,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5863",
      "updated_at" : "2015-04-22T22:18:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/28920432",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "ACK",
      "created_at" : "2015-04-22T22:20:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-95355009",
      "id" : 95355009,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-22T22:20:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95355009",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Works for me - did full testnet and mainnet sync, which succeeded, and disk usage remained within the configured bound. Also tried various RPCs on a pruned node and was unable to crash it.\r\n\r\nTested ACK.\r\n",
      "created_at" : "2015-04-24T08:29:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-95851875",
      "id" : 95851875,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-24T08:29:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95851875",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Post-pull ACK; copied my -txindex=1 main net datadir, ran pruned (it told me I had to -reindex, as expected), running pruned nicely on my Mac.\r\n",
      "created_at" : "2015-04-24T14:25:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-95947711",
      "id" : 95947711,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-24T14:25:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95947711",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "I have a question:\r\nNot relaying blocks sounds really bad, couldnt we still announce it, if you know that the other guy has at least all blocks until our prune-threshold?",
      "created_at" : "2015-04-24T16:14:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-95981988",
      "id" : 95981988,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-24T16:14:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95981988",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2814559?v=3",
         "events_url" : "https://api.github.com/users/cozz/events{/privacy}",
         "followers_url" : "https://api.github.com/users/cozz/followers",
         "following_url" : "https://api.github.com/users/cozz/following{/other_user}",
         "gists_url" : "https://api.github.com/users/cozz/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/cozz",
         "id" : 2814559,
         "login" : "cozz",
         "organizations_url" : "https://api.github.com/users/cozz/orgs",
         "received_events_url" : "https://api.github.com/users/cozz/received_events",
         "repos_url" : "https://api.github.com/users/cozz/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/cozz/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/cozz/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/cozz"
      }
   },
   {
      "body" : "We should work on that, yes.\n",
      "created_at" : "2015-04-24T16:21:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-95983860",
      "id" : 95983860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-24T16:21:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/95983860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "o\n\n\n\n---------- PÃÂ¯vodnÃÂ­ zprÃÂ¡va ----------\n\nOd: Pieter Wuille \n\nDatum: 24. 4. 2015 v 18:21:56\n\nPÃÂedmÃÂt: Re: [bitcoin] Add autoprune functionality (#5863)\n\n\n\n\nWe should work on that, yes.\n\n\nÃ¢ÂÂ\n\nReply to this email directly or view it on GitHub\n(https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-95983860). \n\n\n\n\n\n=",
      "created_at" : "2015-04-25T12:10:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-96189400",
      "id" : 96189400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-04-25T12:10:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/96189400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/9439234?v=3",
         "events_url" : "https://api.github.com/users/ondra-novak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ondra-novak/followers",
         "following_url" : "https://api.github.com/users/ondra-novak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ondra-novak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ondra-novak",
         "id" : 9439234,
         "login" : "ondra-novak",
         "organizations_url" : "https://api.github.com/users/ondra-novak/orgs",
         "received_events_url" : "https://api.github.com/users/ondra-novak/received_events",
         "repos_url" : "https://api.github.com/users/ondra-novak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ondra-novak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ondra-novak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ondra-novak"
      }
   },
   {
      "body" : "I have a question also:\r\n\r\nDoes the -prune=N option work from a cold start, or does it require a full sync first?\r\n\r\nI recently installed bitcoind on a 40GB droplet with -prune=30000 and it keeps running out of disk space.\r\n\r\nI have tried with the prune option as a cli argument to bitcoind, and also as an option in the config file.\r\n\r\nCheers",
      "created_at" : "2015-05-12T01:56:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-101097456",
      "id" : 101097456,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-05-12T01:56:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/101097456",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3887682?v=3",
         "events_url" : "https://api.github.com/users/dacox/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dacox/followers",
         "following_url" : "https://api.github.com/users/dacox/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dacox/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dacox",
         "id" : 3887682,
         "login" : "dacox",
         "organizations_url" : "https://api.github.com/users/dacox/orgs",
         "received_events_url" : "https://api.github.com/users/dacox/received_events",
         "repos_url" : "https://api.github.com/users/dacox/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dacox/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dacox/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dacox"
      }
   },
   {
      "body" : "@dacox That should work. `-prune=N` means it will only retain the last N MB of blocks during a full sync. This size does not include the UTXO database, block index, wallet and miscellaneous files so keep some margin. But 30000 MB on a 40000 MB medium should work.\r\nWhat version of bitcoin core are you using? Is `-prune` shown in the `-help` output?",
      "created_at" : "2015-05-12T12:35:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-101259945",
      "id" : 101259945,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-05-12T12:35:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/101259945",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "According to `bitcoind -help` it's Bitcoin Core Daemon version v0.10.1.0-gd8ac901\r\n\r\nI grabbed it from the PPA, and I saw that this PR was merged in before the release was tagged. \r\n\r\nHowever, I do not see a reference to -prune in the help output\r\n\r\nEdit:  I see the problem, the 0.10 branch was branched off of master quite some time before this PR. For some reason I thought it was in 0.10",
      "created_at" : "2015-05-12T16:38:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5863#issuecomment-101343245",
      "id" : 101343245,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5863",
      "updated_at" : "2015-05-12T16:44:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/101343245",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3887682?v=3",
         "events_url" : "https://api.github.com/users/dacox/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dacox/followers",
         "following_url" : "https://api.github.com/users/dacox/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dacox/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dacox",
         "id" : 3887682,
         "login" : "dacox",
         "organizations_url" : "https://api.github.com/users/dacox/orgs",
         "received_events_url" : "https://api.github.com/users/dacox/received_events",
         "repos_url" : "https://api.github.com/users/dacox/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dacox/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dacox/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dacox"
      }
   }
]
