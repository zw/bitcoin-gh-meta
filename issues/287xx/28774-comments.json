[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/28774).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| ACK | [ryanofsky](https://github.com/bitcoin/bitcoin/pull/28774#pullrequestreview-1830531507), [furszy](https://github.com/bitcoin/bitcoin/pull/28774#pullrequestreview-1830559572), [achow101](https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1906815615) |\n| Stale ACK | [jonatack](https://github.com/bitcoin/bitcoin/pull/28774#pullrequestreview-1750822843) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.\n",
      "created_at" : "2023-11-02T13:01:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1790682860",
      "id" : 1790682860,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585qu6bs",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1790682860/reactions"
      },
      "updated_at" : "2024-01-23T19:50:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1790682860",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "https://cirrus-ci.com/task/6687992417353728:\r\n```bash\r\nclang-tidy-17 -p=/ci_container_base/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu -quiet -load=/tidy-build/libbitcoin-tidy.so /ci_container_base/ci/scratch/build/bitcoin-x86_64-pc-linux-gnu/src/common/args.cpp\r\ncommon/args.cpp:281:1: error: return type 'const fs::path' is 'const'-qualified at the top level, which may reduce code readability without improving const correctness [readability-const-return-type,-warnings-as-errors]\r\n  281 | const fs::path ArgsManager::GetBlocksDirPath() const\r\n      | ^~~~~\r\n```",
      "created_at" : "2023-11-02T13:55:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1790785177",
      "id" : 1790785177,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585qvTaZ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1790785177/reactions"
      },
      "updated_at" : "2023-11-02T13:55:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1790785177",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`e13401084f...93cd65566a`: fix https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1790785177, thanks!",
      "created_at" : "2023-11-02T14:14:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1790819342",
      "id" : 1790819342,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585qvbwO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1790819342/reactions"
      },
      "updated_at" : "2023-11-02T14:14:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1790819342",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think a mutex is required for read-only access to a const blob of memory?",
      "created_at" : "2023-11-02T14:37:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1790859091",
      "id" : 1790859091,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585qvldT",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1790859091/reactions"
      },
      "updated_at" : "2023-11-02T14:37:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1790859091",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@maflcko, a mutex is required by readers to avoid writers modifying the blob while the read is happening, resulting in a torn read. The underlying variable is not readonly (ie declared as `const`), I explored converting the variables to `const` and only setting them at the constructor, but that didn't seem viable.",
      "created_at" : "2023-11-03T08:00:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1792011287",
      "id" : 1792011287,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585qz-wX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1792011287/reactions"
      },
      "updated_at" : "2023-11-03T08:00:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1792011287",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "No write will happen to the datadir cache after the first write, and no reader will have the reference before the first write, no? I am trying to say that the current code is fine. Otherwise, it would be good to add steps to reproduce UB.\r\n\r\nNo objection to changing the code, but if this is worth it to change, it should be done for all places in the whole codebase, not just some places.",
      "created_at" : "2023-11-03T08:24:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1792035522",
      "id" : 1792035522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585q0ErC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1792035522/reactions"
      },
      "updated_at" : "2023-11-03T08:24:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1792035522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> No write will happen to the datadir cache after the first write, and no reader will have the reference before the first write, no?\r\n\r\nThat is not obvious to me. `m_cached_blocks_path` can be modified by repeated calls to `ArgsManager::GetBlocksDirPath()` which end up executing:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/9b68c9b85efebfa23daec6471b87e9cbb514a006/src/common/args.cpp#L293\r\n\r\n`ArgsManager::GetBlocksDirPath()` is called by `init.cpp` and by the GUI, so it is not immediately obvious that it cannot be called concurrently. There is also `ArgsManager::ClearPathCache()` which modifies the variable.\r\n\r\n> I am trying to say that the current code is fine. Otherwise, it would be good to add steps to reproduce UB.\r\n\r\nMaybe the current code is fine. I did not dive to the bottom of it to say with certainty whether it is fine or not because what matters is that it is certainly _unsafe_. Unsafe wrt future changes in the same way as if we remove some `GUARDED_BY()` then the current code is fine now, but is unsafe wrt future changes.\r\n \r\n> No objection to changing the code, but if this is worth it to change, it should be done for all places in the whole codebase, not just some places.\r\n\r\nThese are all reported (by clang 18). I see `ArgsManager::GetDataDir()` has the same issue. Maybe it was not detected because of the `?:` operator. I have extended the first commit to cover that too.",
      "created_at" : "2023-11-03T11:31:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1792279588",
      "id" : 1792279588,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585q1AQk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1792279588/reactions"
      },
      "updated_at" : "2023-11-03T11:31:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1792279588",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "There is the argument to not bother silencing compiler warnings from unreleased/development versions of compilers. I somewhat agree with that if it is being done for the sake of silencing a warning. In this case however, the problem is real and the warning is just the messenger. I think this deserves to be fixed even if the warning did not exist.",
      "created_at" : "2023-11-27T07:39:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1827276718",
      "id" : 1827276718,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585s6geu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1827276718/reactions"
      },
      "updated_at" : "2023-11-27T07:39:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1827276718",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> > No objection to changing the code, but if this is worth it to change, it should be done for all places in the whole codebase, not just some places.\r\n> \r\n> These are all reported (by clang 18). I see `ArgsManager::GetDataDir()` has the same issue. Maybe it was not detected because of the `?:` operator. I have extended the first commit to cover that too.\r\n\r\nThanks, I've taken the commit and put it in https://github.com/bitcoin/bitcoin/pull/29040, because it fits into the other fs::path changes. Let me know if I should drop it and you prefer to keep it here.\r\n\r\nThe fs::path should be fine to do, even if it is not needed. (Creating a copy here should be harmless and not cause performance issues).\r\n\r\nI haven't looked at the wallet commit.",
      "created_at" : "2023-12-09T12:29:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1848396710",
      "id" : 1848396710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585uLEum",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1848396710/reactions"
      },
      "updated_at" : "2023-12-09T12:29:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1848396710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/maflcko/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maflcko/followers",
         "following_url" : "https://api.github.com/users/maflcko/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maflcko/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maflcko",
         "id" : 6399679,
         "login" : "maflcko",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/maflcko/orgs",
         "received_events_url" : "https://api.github.com/users/maflcko/received_events",
         "repos_url" : "https://api.github.com/users/maflcko/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maflcko/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maflcko/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maflcko"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Let me know if I should drop it and you prefer to keep it here\r\n\r\nIt is ok. I don't have a preference whether it gets merged via https://github.com/bitcoin/bitcoin/pull/29040 of via this PR. Just that it makes it to `master` ;-) Thanks!",
      "created_at" : "2023-12-11T10:17:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1849743768",
      "id" : 1849743768,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585uQNmY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1849743768/reactions"
      },
      "updated_at" : "2023-12-11T10:17:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1849743768",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > Let me know if I should drop it and you prefer to keep it here\r\n> \r\n> It is ok. I don't have a preference whether it gets merged via #29040 of via this PR. Just that it makes it to `master` ;-) Thanks!\r\n\r\nNeed rebase, following merge of first commit cba94d151757a4e69b6eb684ae09bc6a4ea530d5 in #29040?",
      "created_at" : "2024-01-05T20:40:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1879232002",
      "id" : 1879232002,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585wAs4C",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879232002/reactions"
      },
      "updated_at" : "2024-01-05T20:40:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879232002",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`d4ef700405...7a8e5310e7`: rebase as pointed about above by @jonatack. Thanks!",
      "created_at" : "2024-01-06T16:02:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1879738697",
      "id" : 1879738697,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585wColJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879738697/reactions"
      },
      "updated_at" : "2024-01-06T16:02:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1879738697",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@achow101, this is now solely in the wallet. Maybe you want to take a look?",
      "created_at" : "2024-01-16T14:55:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1893912633",
      "id" : 1893912633,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585w4tA5",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1893912633/reactions"
      },
      "updated_at" : "2024-01-16T14:55:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1893912633",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2024-01-17T16:50:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1896206492",
      "id" : 1896206492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585xBdCc",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1896206492/reactions"
      },
      "updated_at" : "2024-01-17T16:50:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1896206492",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28774#discussion_r1456489383"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1456489383"
         }
      },
      "author_association" : "MEMBER",
      "body" : "These methods doesn't seems to fit inside the `WalletStorage` interface. What do you think about creating a new interface for encrypting/decrypting data, then provide it to each spkm?",
      "commit_id" : "7a8e5310e71752aaba82a31ed036b3543bed6047",
      "created_at" : "2024-01-17T21:10:31Z",
      "diff_hunk" : "@@ -46,7 +46,8 @@ class WalletStorage\n     virtual void UnsetBlankWalletFlag(WalletBatch&) = 0;\n     virtual bool CanSupportFeature(enum WalletFeature) const = 0;\n     virtual void SetMinVersion(enum WalletFeature, WalletBatch* = nullptr) = 0;\n-    virtual const CKeyingMaterial& GetEncryptionKey() const = 0;\n+    virtual bool EncryptSecret(const CKeyingMaterial& plaintext, const uint256& iv, std::vector<unsigned char>& ciphertext) const = 0;\n+    virtual bool DecryptKey(const std::vector<unsigned char>& crypted_secret, const CPubKey& pub_key, CKey& key) const = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#discussion_r1456489383",
      "id" : 1456489383,
      "line" : 50,
      "node_id" : "PRRC_kwDOABII585W0EOn",
      "original_commit_id" : "7a8e5310e71752aaba82a31ed036b3543bed6047",
      "original_line" : 50,
      "original_position" : 6,
      "original_start_line" : 49,
      "path" : "src/wallet/scriptpubkeyman.h",
      "position" : 6,
      "pull_request_review_id" : 1828196602,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1456489383/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 49,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-01-17T21:10:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1456489383",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "`7a8e5310e7...32a9f13cb8`: rebase due to conflicts and change the approach to use a callback, see https://github.com/bitcoin/bitcoin/pull/28774#discussion_r1456489383.",
      "created_at" : "2024-01-18T17:19:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1898900596",
      "id" : 1898900596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585xLux0",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1898900596/reactions"
      },
      "updated_at" : "2024-01-18T17:19:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1898900596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28774#discussion_r1457766636"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1457766636"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Right, those methods were not very natural for the `WalletStorage` interface which contained a method to retrieve the encryption key. Adding a new interface seems a bit too complicated for this. Instead, I changed it to give the key to a callback function instead of returning the key to the caller.",
      "commit_id" : "32a9f13cb805ecf6aebb5cf4e5d92b8a47c4548b",
      "created_at" : "2024-01-18T17:23:09Z",
      "diff_hunk" : "@@ -46,7 +46,8 @@ class WalletStorage\n     virtual void UnsetBlankWalletFlag(WalletBatch&) = 0;\n     virtual bool CanSupportFeature(enum WalletFeature) const = 0;\n     virtual void SetMinVersion(enum WalletFeature, WalletBatch* = nullptr) = 0;\n-    virtual const CKeyingMaterial& GetEncryptionKey() const = 0;\n+    virtual bool EncryptSecret(const CKeyingMaterial& plaintext, const uint256& iv, std::vector<unsigned char>& ciphertext) const = 0;\n+    virtual bool DecryptKey(const std::vector<unsigned char>& crypted_secret, const CPubKey& pub_key, CKey& key) const = 0;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#discussion_r1457766636",
      "id" : 1457766636,
      "in_reply_to_id" : 1456489383,
      "line" : null,
      "node_id" : "PRRC_kwDOABII585W48Ds",
      "original_commit_id" : "7a8e5310e71752aaba82a31ed036b3543bed6047",
      "original_line" : 50,
      "original_position" : 6,
      "original_start_line" : 49,
      "path" : "src/wallet/scriptpubkeyman.h",
      "position" : null,
      "pull_request_review_id" : 1830214637,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1457766636/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-01-18T17:23:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1457766636",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28774#discussion_r1457979323"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1457979323"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit:\r\nCould inline it\r\n```c++\r\nreturn WITH_LOCK(cs_wallet, return cb(vMasterKey));\r\n```\r\nAlso, could pass `cb` as a const ref.",
      "commit_id" : "32a9f13cb805ecf6aebb5cf4e5d92b8a47c4548b",
      "created_at" : "2024-01-18T21:08:55Z",
      "diff_hunk" : "@@ -3513,9 +3513,10 @@ void CWallet::SetupLegacyScriptPubKeyMan()\n     AddScriptPubKeyMan(id, std::move(spk_manager));\n }\n \n-const CKeyingMaterial& CWallet::GetEncryptionKey() const\n+bool CWallet::WithEncryptionKey(std::function<bool (const CKeyingMaterial&)> cb) const\n {\n-    return vMasterKey;\n+    LOCK(cs_wallet);\n+    return cb(vMasterKey);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#discussion_r1457979323",
      "id" : 1457979323,
      "line" : 3519,
      "node_id" : "PRRC_kwDOABII585W5v-7",
      "original_commit_id" : "32a9f13cb805ecf6aebb5cf4e5d92b8a47c4548b",
      "original_line" : 3519,
      "original_position" : 9,
      "original_start_line" : 3518,
      "path" : "src/wallet/wallet.cpp",
      "position" : 9,
      "pull_request_review_id" : 1830559572,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1457979323/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 3518,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-01-18T21:12:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1457979323",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> Would suggest replacing PR title and description with...\r\n\r\nDone. Thanks for the suggestion!",
      "created_at" : "2024-01-19T08:45:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1899991600",
      "id" : 1899991600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585xP5Iw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1899991600/reactions"
      },
      "updated_at" : "2024-01-19T08:45:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1899991600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/28774#discussion_r1458625183"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28774"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1458625183"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Will do if I retouch.",
      "commit_id" : "32a9f13cb805ecf6aebb5cf4e5d92b8a47c4548b",
      "created_at" : "2024-01-19T09:09:28Z",
      "diff_hunk" : "@@ -3513,9 +3513,10 @@ void CWallet::SetupLegacyScriptPubKeyMan()\n     AddScriptPubKeyMan(id, std::move(spk_manager));\n }\n \n-const CKeyingMaterial& CWallet::GetEncryptionKey() const\n+bool CWallet::WithEncryptionKey(std::function<bool (const CKeyingMaterial&)> cb) const\n {\n-    return vMasterKey;\n+    LOCK(cs_wallet);\n+    return cb(vMasterKey);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#discussion_r1458625183",
      "id" : 1458625183,
      "in_reply_to_id" : 1457979323,
      "line" : 3519,
      "node_id" : "PRRC_kwDOABII585W8Nqf",
      "original_commit_id" : "32a9f13cb805ecf6aebb5cf4e5d92b8a47c4548b",
      "original_line" : 3519,
      "original_position" : 9,
      "original_start_line" : 3518,
      "path" : "src/wallet/wallet.cpp",
      "position" : 9,
      "pull_request_review_id" : 1831943358,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28774",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1458625183/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 3518,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2024-01-19T09:09:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1458625183",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "ACK 32a9f13cb805ecf6aebb5cf4e5d92b8a47c4548b",
      "created_at" : "2024-01-23T19:50:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28774#issuecomment-1906815615",
      "id" : 1906815615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28774",
      "node_id" : "IC_kwDOABII585xp7J_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1906815615/reactions"
      },
      "updated_at" : "2024-01-23T19:50:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1906815615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   }
]
