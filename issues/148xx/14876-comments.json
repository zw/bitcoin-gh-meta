[
   {
      "author_association" : "MEMBER",
      "body" : "Have you seen #11614?",
      "created_at" : "2018-12-05T21:48:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-444663017",
      "id" : 444663017,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NDY2MzAxNw==",
      "updated_at" : "2018-12-05T21:48:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/444663017",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag Thanks for showing me that - I hadn't seen it.\r\n\r\nI think the prior discussion is great; I value these changes for the same reasons as @astanway:\r\n\r\n- Swift / Objective-C doesn't have a transaction or block parsing library available; I would like to avoid custom code involving `varint`, etc. This \"portability\" concern will almost certainly appear again.\r\n- I am using @fanquake's CoreRPC for an iOS project. ZMQ is a nice complement, and I can use it to determine the chaintip update event, but would much prefer it in a deserialized format. Assuming I don't want to \"roll my own\" parser:\r\n- No unnecessary roundtrip from an additional RPC call (`getblock`)\r\n\r\nPerhaps there is a bit of bias in the prior discussion, since experts @luke-jr and @dcousens dismissed it as \"easy to implement\". I think there is an important question raised:\r\n\r\n> However, if ease of application development is not a priority for the project, then sure - happy to close.\r\n\r\nThe tradeoffs seem to favor having an option for JSON, since we already serve JSON over RPC.",
      "created_at" : "2018-12-05T22:20:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-444673828",
      "id" : 444673828,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NDY3MzgyOA==",
      "updated_at" : "2018-12-05T22:23:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/444673828",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2287825?v=4",
         "events_url" : "https://api.github.com/users/ch4ot1c/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ch4ot1c/followers",
         "following_url" : "https://api.github.com/users/ch4ot1c/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ch4ot1c/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ch4ot1c",
         "id" : 2287825,
         "login" : "ch4ot1c",
         "node_id" : "MDQ6VXNlcjIyODc4MjU=",
         "organizations_url" : "https://api.github.com/users/ch4ot1c/orgs",
         "received_events_url" : "https://api.github.com/users/ch4ot1c/received_events",
         "repos_url" : "https://api.github.com/users/ch4ot1c/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ch4ot1c/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ch4ot1c/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ch4ot1c"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I don't think JSON and ZMQ is a good combination. The formatting overhead for JSON kind of defeats the purpose of a low-latency networking system like ZMQ.\r\n\r\nI don't disagree it could be useful for some cases though.",
      "created_at" : "2018-12-06T14:27:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-444888216",
      "id" : 444888216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NDg4ODIxNg==",
      "updated_at" : "2018-12-06T14:28:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/444888216",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@laanwj That was also my thought on seeing the PR title.",
      "created_at" : "2018-12-09T14:50:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445544041",
      "id" : 445544041,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTU0NDA0MQ==",
      "updated_at" : "2018-12-09T14:50:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445544041",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/858454?v=4",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "node_id" : "MDQ6VXNlcjg1ODQ1NA==",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "I hear the response - fair enough. What could be done next / instead? Any room for it to be optional or are we marking it 'bad practice'?",
      "created_at" : "2018-12-09T16:38:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445551923",
      "id" : 445551923,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTU1MTkyMw==",
      "updated_at" : "2018-12-09T16:39:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445551923",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2287825?v=4",
         "events_url" : "https://api.github.com/users/ch4ot1c/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ch4ot1c/followers",
         "following_url" : "https://api.github.com/users/ch4ot1c/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ch4ot1c/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ch4ot1c",
         "id" : 2287825,
         "login" : "ch4ot1c",
         "node_id" : "MDQ6VXNlcjIyODc4MjU=",
         "organizations_url" : "https://api.github.com/users/ch4ot1c/orgs",
         "received_events_url" : "https://api.github.com/users/ch4ot1c/received_events",
         "repos_url" : "https://api.github.com/users/ch4ot1c/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ch4ot1c/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ch4ot1c/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ch4ot1c"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> I hear the response - fair enough. What could be done next /  instead? \r\n\r\nIf performance isn't important, otherwise you'd be using a client-side decoding library, but you're using zmq as a notification mechanism, why is the extra roundtrip to call `getblock` or `decoderawtransaction` such a problem?\r\n",
      "created_at" : "2018-12-09T16:43:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445552344",
      "id" : 445552344,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTU1MjM0NA==",
      "updated_at" : "2018-12-09T16:43:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445552344",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "A small performance hit in-transit would cost less and be more reliable than two (1 zmq 1 rpc) networking events, I guess was my reasoning. The duplicate call would mean more transferred data in total than zmq with JSON formatting. I'm only interested in the latest block's stats.\r\n\r\nImplementing parsing on clients makes the most sense, agreed.\r\n\r\n`hashblock` is all I really needed. `hashtx`, `rawtx`, and `decoderawtransaction` got me mixed up in unneeded possibilities.\r\n\r\nThis might sound useless or even confusing, but for symmetry, we could consider `decoderawblock` as an RPC. There is already `submitblock` whose interface seemingly makes more sense for bitcoind, as it checks its existence against the block db unavoidably, but doesn't return a JSON representation of the block.",
      "created_at" : "2018-12-09T20:19:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445567980",
      "id" : 445567980,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTU2Nzk4MA==",
      "updated_at" : "2018-12-09T20:24:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445567980",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2287825?v=4",
         "events_url" : "https://api.github.com/users/ch4ot1c/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ch4ot1c/followers",
         "following_url" : "https://api.github.com/users/ch4ot1c/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ch4ot1c/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ch4ot1c",
         "id" : 2287825,
         "login" : "ch4ot1c",
         "node_id" : "MDQ6VXNlcjIyODc4MjU=",
         "organizations_url" : "https://api.github.com/users/ch4ot1c/orgs",
         "received_events_url" : "https://api.github.com/users/ch4ot1c/received_events",
         "repos_url" : "https://api.github.com/users/ch4ot1c/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ch4ot1c/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ch4ot1c/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ch4ot1c"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "A defensive check could also be added regarding the max expected size of `rawblock` and `rawtx`.",
      "created_at" : "2018-12-09T20:29:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445568792",
      "id" : 445568792,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTU2ODc5Mg==",
      "updated_at" : "2018-12-09T20:29:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445568792",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/2287825?v=4",
         "events_url" : "https://api.github.com/users/ch4ot1c/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ch4ot1c/followers",
         "following_url" : "https://api.github.com/users/ch4ot1c/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ch4ot1c/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ch4ot1c",
         "id" : 2287825,
         "login" : "ch4ot1c",
         "node_id" : "MDQ6VXNlcjIyODc4MjU=",
         "organizations_url" : "https://api.github.com/users/ch4ot1c/orgs",
         "received_events_url" : "https://api.github.com/users/ch4ot1c/received_events",
         "repos_url" : "https://api.github.com/users/ch4ot1c/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ch4ot1c/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ch4ot1c/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ch4ot1c"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I agree with @laanwj about JSON probably not being something we should have in conjunction with ZMQ.\r\n\r\nI think a path for having JSON push notification would be the RPC long polling feature.\r\nA first step could be: https://github.com/bitcoin/bitcoin/pull/13262 (outdated)",
      "created_at" : "2018-12-09T20:50:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/14876#issuecomment-445570455",
      "id" : 445570455,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/14876",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQ0NTU3MDQ1NQ==",
      "updated_at" : "2018-12-09T20:50:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/445570455",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "node_id" : "MDQ6VXNlcjE3ODQ2NA==",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   }
]
