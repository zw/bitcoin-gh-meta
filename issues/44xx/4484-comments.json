[
   {
      "body" : "@gavinandresen Hope you have time to review.",
      "created_at" : "2014-07-08T14:18:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-48342043",
      "id" : 48342043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-08T14:18:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48342043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Code changes look good, I am writing a regression test to help test.",
      "created_at" : "2014-07-08T19:57:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-48392090",
      "id" : 48392090,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-08T19:57:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48392090",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "First cut regression test that just tests the 'ordinary' double-spend case:\r\n  https://github.com/gavinandresen/bitcoin-git/commits/doublespend_tests\r\n\r\nSimulating attack scenarios addressed by this pull as additional tests would be spiffy...",
      "created_at" : "2014-07-09T01:31:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-48420073",
      "id" : 48420073,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-09T01:31:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48420073",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "I'm adding 3 more tests, then will commit doublespendrelay.py. The tests are: no relay same input triple-spend, yes relay with triple spend before, and after, double-spend in input list.\r\n\r\nNo test for not adding invalid tx to bloom filter.  This would require shipping a tool that transmits invalid txes.\r\n",
      "created_at" : "2014-07-11T15:04:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-48741608",
      "id" : 48741608,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-11T15:04:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48741608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "The util.py function stop_node, which is used repeatedly in this test, sometimes hangs due to #4502 (stuck GetExternalIP).\r\n\r\nA successful test can take up to 30 seconds due to propagation waits.",
      "created_at" : "2014-07-11T23:06:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-48792997",
      "id" : 48792997,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-11T23:06:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48792997",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "The changes themselves look OK at quick glance.\r\n\r\nHowever:  Pattern matched :)  In general, waiting a bit for tests to complete should be OK.\r\n\r\nHowever, anything longer than X seconds or minutes tends to impact programmer productivity, by slowing down the compile+test cycle, sometimes leading to the skipping of tests.  The usual solution is a switch between quick tests and comprehensive tests.\r\n\r\nLong term, \"make check\" should really be running pull tester tests locally.  We should not have to push to github to get comprehensive testing, IMO.  My dev boxes are probably more beefy than our pull tester box.\r\n",
      "created_at" : "2014-07-11T23:16:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-48793542",
      "id" : 48793542,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-11T23:16:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48793542",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik Compile with --with-comparison-tool=file.jar",
      "created_at" : "2014-07-11T23:24:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-48794012",
      "id" : 48794012,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-11T23:24:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48794012",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Looks good.",
      "created_at" : "2014-07-12T20:42:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-48823512",
      "id" : 48823512,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-12T20:42:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/48823512",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/251852?v=3",
         "events_url" : "https://api.github.com/users/drak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/drak/followers",
         "following_url" : "https://api.github.com/users/drak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/drak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/drak",
         "id" : 251852,
         "login" : "drak",
         "organizations_url" : "https://api.github.com/users/drak/orgs",
         "received_events_url" : "https://api.github.com/users/drak/received_events",
         "repos_url" : "https://api.github.com/users/drak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/drak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/drak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/drak"
      }
   },
   {
      "body" : "Edited: removed accusation.\r\nA single transaction with 2000 double-spent inputs will be relayed 2000 times, one for each input!\r\n\r\nThe code should be:\r\n   if (pool.mapNextTx.count(outpoint))\r\n          {\r\n       \r\n           respend = true;\r\n\r\n            if ((doubleSpendFilter.contains(outpoint) &&  (!tx.IsEquivalentTo(*pool.mapNextTx[outpoint].ptx)) )   // <<<---- ADDED\r\n              return false;                                           // <<<---- ADDED\r\n\r\n            // Relay only one tx per respent outpoint, but not if tx is equivalent to pool member\r\n            if (!doubleSpendFilter.contains(outpoint) && !tx.IsEquivalentTo(*pool.mapNextTx[outpoint].ptx))\r\n            {\r\n                relayForOutpoint = outpoint;\r\n                break;\r\n            }\r\n        }\r\n\r\nPlease look at my comments in #4450. Don't merge this patch, it's too difficult to make it right.\r\n",
      "created_at" : "2014-07-15T16:17:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49056152",
      "id" : 49056152,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-15T17:57:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49056152",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "@SergioDemianLerner No, please re-read as committed.  And please do provide a concrete example of at least one bug when making such a broad accusation.",
      "created_at" : "2014-07-15T16:43:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49059605",
      "id" : 49059605,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-15T16:52:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49059605",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Dear @dgenr8,\r\n I'm not saying that you made a mistake. Probably I did the mistake. I'm sure you worked very hard in this issue, and I didn't. \r\nWhat I'm saying is that the IDEA of this patch is difficult to implement right, if not impossible. ",
      "created_at" : "2014-07-15T18:00:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49069343",
      "id" : 49069343,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-15T18:00:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49069343",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "@dgenr8 I still see the problem in the code. \r\nSuppose that TX with 1000 double-spend prevout is received, it will be broadcast because of the FIRST double-spend prevout.The remaining prevouts won't be added to the bloom filter.\r\nIf it is received again, it will be broadcast because of the SECOND double-spend prevout.\r\nSo if received 1000 times, it will be broadcast 1000 times, creating a massive DoS loop.",
      "created_at" : "2014-07-15T18:17:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49071533",
      "id" : 49071533,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-15T18:17:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49071533",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "@SergioDemianLerner That is still @petertodd's attack.  Small first spend and huge respend.  Rate limiter.",
      "created_at" : "2014-07-15T19:45:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49082647",
      "id" : 49082647,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-15T19:49:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49082647",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Yup.\r\n\r\n@SergioDemianLerner If you think there's an attack, write up a quick script that demonstrates it. For instance here's one I did for the invalid-due-to-too-many-sigops attack: https://github.com/petertodd/tx-flood-attack\r\n\r\nIt's really useful to have attack code available to do regression testing, as well as test new implementations.",
      "created_at" : "2014-07-15T19:52:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49083518",
      "id" : 49083518,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-15T19:52:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49083518",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Ok. The reason my \"attack\" does not work is because RelayTransaction() does not relay the same transaction twice. And this is because setInventoryKnown is unbounded. But setInventoryKnown should be bounded (and this will be probably corrected in a future version), and so the attack is still possible, but it will require overflowing the setInventoryKnown to force it delete the tx hash. If elements are evicted randomly from setInventoryKnown, then there should be not problem.\r\nBut also there is the problem of malleability:\r\nThe day an attacker finds a bug involving transaction malleability that allows nodes to broadcast a modified tx, he can create infinite number of copies of the same Tx with different hashes, and DoS the network using a single tx, because all of them are going to be relayed by every peer.\r\n\r\nSo from many perspectives I see this patch dangerous.\r\n\r\nThe Bitcoin network is a dynamic feedback system that can oscillate and broadcasting is amplification. Have you seen bridges oscillate?\r\n",
      "created_at" : "2014-07-16T00:43:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49111194",
      "id" : 49111194,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-16T00:43:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49111194",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "For example, using SIGHASH_NONE the attacker can easily create thousands of variants of a single transaction without even computing signatures. Just 2000 double-spend inputs, and a single changing output. So the attacker consumes X bandwidth and each link of the whole network consumes X bandwidth.\r\n\r\nCan't we rise the bloom filter reset value to something like an average 100K hashes?\r\n ",
      "created_at" : "2014-07-16T00:57:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49112010",
      "id" : 49112010,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-16T00:59:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49112010",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "What is the limit Kb/sec of the rate limiter?",
      "created_at" : "2014-07-16T01:06:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49112522",
      "id" : 49112522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-16T01:06:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49112522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "Last I checked the code before merge, it was 50 kB per 10 minutes. Seems it\nwas increased to 1 MB per 10 minutes since...",
      "created_at" : "2014-07-16T03:11:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49119036",
      "id" : 49119036,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-16T03:11:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49119036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Yes, the RR rate limit is currently 100 thousand bytes/min = 1.6Kb/s.  It was increased due to feedback from @sipa and @petertodd.  All of the numerical constants are open to better-reasoned values of course.\r\n\r\n@SergioDemianLerner Was raising the bloom filter size related to your malleability point?  The bloom filter contains outputs, not respend txes.  When attacker controls the outputs we can just assume he has many ways to construct big respend txes.\r\n\r\nBut you hit on something there with signature hash type.  If tx1 (FIRST spend) has any hash type but SIGHASH_ALL, alerts are going to be triggered by third parties just doing what they're allowed to.\r\n\r\nSo IsEquivalent needs to get smarter and take signature hash type into account, always ignoring all the parts a third party could change.  Or, the easy way out is only alert for SIGHASH_ALL.\r\n\r\nIf this is a bug, is it evidence of tacoma narrows style instability?  Or can we just call it progress, collaboration, and enough-eyeballs?\r\n\r\nLooking for input on hash type.\r\n",
      "created_at" : "2014-07-16T03:26:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49119807",
      "id" : 49119807,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-16T03:26:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49119807",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "1.6Kb/s is very low, so the network will never be in danger for normal transactions/blocks, but is also means that the double-spend alert system will be easy to saturate if an attacker wants to.\r\nI have no more arguments, so I leave this to you. It was only my opinion against everyone else's, so you must know better... ",
      "created_at" : "2014-07-16T20:10:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49219902",
      "id" : 49219902,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-16T20:10:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49219902",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "@SergioDemianLerner Targeted saturation with the goal of executing a particular double-spend in the dark is a risk.  But they are all in the dark today.  We would probably see this if unwise merchants accept 0-conf payments for valuable items.  I completely disagree that you are isolated -- and you have contributed a ton to this.  Do you still NACK it?  If so, are there specific changes that would change your mind?",
      "created_at" : "2014-07-16T20:43:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49223966",
      "id" : 49223966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-16T20:47:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49223966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 Yes, I still think it has problems. If we keep the reset constant too low (1000 outputs), then I see that the system could be attacked in this other way:\r\n\r\n1. Fill the memory of a majority of the peers in the whole network bringing Bitcoin to death (not sure that I can, but I think so)\r\n2. Attack SPV battery-powered nodes by draining the battery or using the whole bandwidth.\r\n\r\nLet me first explain 1 with a targeted attack.\r\n \r\nI've have already explained how two transactions can pass though the network by being sent iteratively, but I will explain again if I was not clear:\r\nSuppose I know the Bitcoin address being monitored by a node X in the network. Suppose that an attacker owns 4000 outputs. He creates transactions to spend those 4000 ouputs with zero fees so they have the lowest priority. Then the attacker creates two double-spends Tx, each one double-spending 2000 inputs, he sets SIGHASH_NONE for the signature of the first input (but there are other possibilities to do it without using SIGHASH_NONE) and the rest are SIGHASH_SINGLE. The first output is the victim's address. The remaining outputs are attacker's addresses. Now the attacker sends Tx1, which moves though the network until the victim's node that receives it because it has an output for him. Now the attacker sends Tx2, which also arrives to X, and with high probability resets any double-spend bloom filter of the network. Now the attacker changes the amount of the first output (+1 satoshi) and re-sends Tx1, then the same with Tx2, forever.\r\nAll transactions are received by the X node. \r\nAnd as far as I can see they are stored in the wallet with g_signals.SyncTransaction(tx, NULL) -> CWallet::AddToWallet().  I thought there was prevention for this, but I don't see it now in the code. So the wallet will become huge, probably making the node core dump or maybe corrupting the wallet. The attack can be made in parallel against 4000 nodes by using the 4000 outputs as targets, with the same cost, which is around 400 USD (aprox. fees to create 4000 ouputs)\r\nThe attack can be repeated choosing another 4000 nodes. At the end, the only nodes that will survive are those unattached to any wallet. \r\nIf 2000 inputs/ouputs is too much for a single Tx, the same attack can be made splitting the inputs between multiple txs, which are forwarded in a loop.\r\n\r\nIf the target node is an SPV node, also battery will be drained by full bandwidth usage. \r\n\r\nMy Conclusion:  \r\n1. g_signals.SyncTransaction(tx, NULL) should not be called when relaying a double-spend.\r\n2. MAX_DOUBLESPEND_BLOOM seems to be too low.\r\n3. Is very difficult to do this patch right :)\r\n                     ",
      "created_at" : "2014-07-17T12:57:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49302710",
      "id" : 49302710,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-17T13:00:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49302710",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "@SergioDemianLerner \r\n\r\n> Now the attacker sends Tx2, which also arrives to X, and with high probability resets any\r\n> double-spend bloom filter of the network\r\n\r\nWhy did you go back to assuming that all prevouts re-spent by tx1 or tx2 are simultaneously added to the bloom filter?  That won't happen until MAX_DOUBLESPEND_BLOOM respend txes are relayed (on average).\r\n\r\nYour idea to dispense with the bloom filter in favor of a boolean respendRelayedForMe associated with mempool prevouts could eliminate fears about the bloom filter reset though.\r\n\r\nA conflict tx needs to be added to the wallet, to persistently document the state of the txes it conflicts with.  This approach made alerting on respends in a block work too.  But the bloom filter protects the wallet as well as the network.  You are right that after each bloom filter reset (or wallet restart), one more conflicting tx can get added to the wallet.\r\n",
      "created_at" : "2014-07-17T19:47:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49354774",
      "id" : 49354774,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-17T19:47:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49354774",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@SergioDemianLerner Just to note, overall this attack requires attacker to pay his victim, and the network to accept, but fail to execute, the transaction.\r\n\r\nMAX_DOUBLESPEND_BLOOM increased to 100000.",
      "created_at" : "2014-07-17T20:03:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49357600",
      "id" : 49357600,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-17T20:10:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49357600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 Yes I did erroneously assumed again simultaneously additions of prevouts. \r\nBut we agree that this is unessential to the attack: if the attack is performed with 4000 different transactions each having a single prevout and 500 ouputs (500 simultaneous attack targets) then the same attack is possible. \r\n\r\nThe problem is still g_signals.SyncTransaction(tx, NULL). Have you carefully followed this call when a double-spend is received? I didn't.\r\n \r\nThe thing that you should research is what do nodes do when they receive multiple double-spends. If they store anything in memory, then an attack is possible. Even if the attack takes a week, it's a remote, anonymous attack. And you have to research this for every other Bitcoin implementation. For example BitcoinJ will probably store the double-spend within the wallet, and so it can be made to crash. \r\n\r\nRising MAX_DOUBLESPEND_BLOOM seems good, but you should also analyze the bloom filter size to see how many false positives it will generate when the number of added prevouts reaches MAX_DOUBLESPEND_BLOOM.\r\n\r\nRegarding paying to the victim: my understanding is that the attacker is not. Because all of the tx created by the attacker are double-spends, none of them will be included in a block. In the worse case, just one of them will (and anyway the amount could be only a few satoshis).\r\n\r\n\r\n\r\n",
      "created_at" : "2014-07-17T20:39:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49362337",
      "id" : 49362337,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-17T20:39:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49362337",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1752347?v=3",
         "events_url" : "https://api.github.com/users/SergioDemianLerner/events{/privacy}",
         "followers_url" : "https://api.github.com/users/SergioDemianLerner/followers",
         "following_url" : "https://api.github.com/users/SergioDemianLerner/following{/other_user}",
         "gists_url" : "https://api.github.com/users/SergioDemianLerner/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/SergioDemianLerner",
         "id" : 1752347,
         "login" : "SergioDemianLerner",
         "organizations_url" : "https://api.github.com/users/SergioDemianLerner/orgs",
         "received_events_url" : "https://api.github.com/users/SergioDemianLerner/received_events",
         "repos_url" : "https://api.github.com/users/SergioDemianLerner/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/SergioDemianLerner/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/SergioDemianLerner/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/SergioDemianLerner"
      }
   },
   {
      "body" : "@SergioDemianLerner Got it, you are concerned about a wallet resource exhaustion attack on *double-spend payees*.  Well, those are dropping right on into the wallet.  Aaaand Sergio scores ;)\r\n\r\nAs you say, I think the only thing we can do is not allow a respend relay tx into the wallet at all, unless it conflicts with a tx already in the wallet.  That latter case is needed for the user alert, and limited by the bloom filter.\r\n\r\nRegarding non-core wallets, your attack is already possible today, but if relay results in more double spends on the network, it will be more of a threat.",
      "created_at" : "2014-07-17T23:16:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49378752",
      "id" : 49378752,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-17T23:16:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49378752",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Lerner attack addressed in 389f3ee.",
      "created_at" : "2014-07-18T16:46:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49453092",
      "id" : 49453092,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-18T19:24:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49453092",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "Automatic sanity-testing: FAILED BUILD/TEST, see http://jenkins.bluematt.me/pull-tester/p4484_389f3ee45528dc0c88507b5a6abd78c71942eef4/ for binaries and test log.\n\nThis could happen for one of several reasons:\n1. It chanages paths in makefile.linux-mingw or otherwise changes build scripts in a way that made them incompatible with the automated testing scripts (please tweak those patches in qa/pull-tester)\n2. It adds/modifies tests which test network rules (thanks for doing that), which conflicts with a patch applied at test time\n3. It does not build on either Linux i386 or Win32 (via MinGW cross compile)\n4. The test suite fails on either Linux i386 or Win32\n5. The block test-cases failed (lookup the first bNN identifier which failed in https://github.com/TheBlueMatt/test-scripts/blob/master/FullBlockTestGenerator.java)\n\nIf you believe this to be in error, please ping BlueMatt on freenode or TheBlueMatt here.\n\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-07-18T20:00:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49473476",
      "id" : 49473476,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-18T20:00:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49473476",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Closing, since the now depends on reverted changes.  I'll submit a new cleaned-up pull request.",
      "created_at" : "2014-07-21T18:35:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4484#issuecomment-49646198",
      "id" : 49646198,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4484",
      "updated_at" : "2014-07-21T18:35:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49646198",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   }
]
