[
   {
      "author_association" : "MEMBER",
      "body" : "There's a few problems with this:\r\n- `-sysperms` can no longer be set in the configuration file\r\n- by moving it to `bitcoind.cpp`, it's no longer heeded for the GUI\r\n\r\nTend toward NACK. Better to set the permissions on the data directory once, manually, it's not going to touch them after that.",
      "created_at" : "2018-06-04T15:28:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-394396599",
      "id" : 394396599,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDM5NjU5OQ==",
      "updated_at" : "2018-06-04T15:28:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394396599",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Or, if this is a big issue, maybe do it in both places?",
      "created_at" : "2018-06-04T16:01:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-394408334",
      "id" : 394408334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDQwODMzNA==",
      "updated_at" : "2018-06-04T16:01:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394408334",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Would be nice to know when this regression was introduced. If it never did anything, I guess it can be removed?\r\n\r\nIf it is not going to be removed, this must come with functional tests that verify the behavior.",
      "created_at" : "2018-06-04T16:12:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-394412043",
      "id" : 394412043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDQxMjA0Mw==",
      "updated_at" : "2018-06-04T16:12:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394412043",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Appreciate the feedback, I will look into these later - please let me know if you have any other suggestion as well.  Thank you!",
      "created_at" : "2018-06-04T20:08:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-394482224",
      "id" : 394482224,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDQ4MjIyNA==",
      "updated_at" : "2018-06-04T20:08:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394482224",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1801104?v=4",
         "events_url" : "https://api.github.com/users/n2yen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n2yen/followers",
         "following_url" : "https://api.github.com/users/n2yen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n2yen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n2yen",
         "id" : 1801104,
         "login" : "n2yen",
         "node_id" : "MDQ6VXNlcjE4MDExMDQ=",
         "organizations_url" : "https://api.github.com/users/n2yen/orgs",
         "received_events_url" : "https://api.github.com/users/n2yen/received_events",
         "repos_url" : "https://api.github.com/users/n2yen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n2yen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n2yen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n2yen"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Had a look at the bitcoin-qt as suggested - it looks like if there was a regression it could be because it potentially generates datadir on its own, without calling GetDefaultDataDir(), see comments in the commit above. Tested by running bitcoind, and bitcoin-qt and checking datadir. The existing unit tests, don't appear to rely on either of the above utility function calls - should I still go ahead and add unit tests for this anyway? thanks!",
      "created_at" : "2018-06-05T07:39:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-394612492",
      "id" : 394612492,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDYxMjQ5Mg==",
      "updated_at" : "2018-06-05T07:39:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394612492",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1801104?v=4",
         "events_url" : "https://api.github.com/users/n2yen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n2yen/followers",
         "following_url" : "https://api.github.com/users/n2yen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n2yen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n2yen",
         "id" : 1801104,
         "login" : "n2yen",
         "node_id" : "MDQ6VXNlcjE4MDExMDQ=",
         "organizations_url" : "https://api.github.com/users/n2yen/orgs",
         "received_events_url" : "https://api.github.com/users/n2yen/received_events",
         "repos_url" : "https://api.github.com/users/n2yen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n2yen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n2yen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n2yen"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@n2yen You can add a python script into functional test, it allow you to run a node to test this.",
      "created_at" : "2018-06-05T07:49:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-394615100",
      "id" : 394615100,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDYxNTEwMA==",
      "updated_at" : "2018-06-05T07:49:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394615100",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/11154118?v=4",
         "events_url" : "https://api.github.com/users/ken2812221/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ken2812221/followers",
         "following_url" : "https://api.github.com/users/ken2812221/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ken2812221/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ken2812221",
         "id" : 11154118,
         "login" : "ken2812221",
         "node_id" : "MDQ6VXNlcjExMTU0MTE4",
         "organizations_url" : "https://api.github.com/users/ken2812221/orgs",
         "received_events_url" : "https://api.github.com/users/ken2812221/received_events",
         "repos_url" : "https://api.github.com/users/ken2812221/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ken2812221/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ken2812221/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ken2812221"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> If it is not going to be removed, this must come with functional tests that verify the behavior.\r\n\r\nIt definitely works, but not for the initial directory creation. It works for files created after that, and that's what it's intended for (block file data sharing, basically).",
      "created_at" : "2018-06-05T13:43:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-394713824",
      "id" : 394713824,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDcxMzgyNA==",
      "updated_at" : "2018-06-05T13:43:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394713824",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@Iaanwj can you clarify if we should also leave the old the old code where it was also (in AppInitBasicSetup )? i'm not sure, thank you for your feedback!",
      "created_at" : "2018-06-05T15:48:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-394760814",
      "id" : 394760814,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDc2MDgxNA==",
      "updated_at" : "2018-06-05T15:51:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394760814",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1801104?v=4",
         "events_url" : "https://api.github.com/users/n2yen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n2yen/followers",
         "following_url" : "https://api.github.com/users/n2yen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n2yen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n2yen",
         "id" : 1801104,
         "login" : "n2yen",
         "node_id" : "MDQ6VXNlcjE4MDExMDQ=",
         "organizations_url" : "https://api.github.com/users/n2yen/orgs",
         "received_events_url" : "https://api.github.com/users/n2yen/received_events",
         "repos_url" : "https://api.github.com/users/n2yen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n2yen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n2yen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n2yen"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@n2yen I haven't looked, but according to the issue  #13371 the old code is doing nothing. Having useless code is useless, so please remove if it is useless.",
      "created_at" : "2018-06-05T15:52:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-394762498",
      "id" : 394762498,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NDc2MjQ5OA==",
      "updated_at" : "2018-06-05T15:52:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/394762498",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Oh I get the problem now, it's not `-sysperms` option that's broken, but the default umask setting. It isn't effective yet when the data directory is created, but is by the time when e.g. the wallet is created (as that's later in the init process). **I strongly disagree that it does nothing, though**.\r\n\r\nOK, yes, it should definitely be moved so that the data directory is also created with that umask too.\r\n\r\nI'm still not sure `bitcoind.cpp` is the right place to move it though, because that wouldn't make umask setting apply *at all* to `bitcoin-qt`.\r\n\r\nThere's an inherent chicken-and-egg problem with the `-sysperms` option, because by the time `bitcoin.conf` is read, the data directory is already created.\r\n\r\nAlso agree this needs a test, because apperently this is another initialization issue with strict ordering requirements.\r\n",
      "created_at" : "2018-06-07T06:22:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-395306690",
      "id" : 395306690,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NTMwNjY5MA==",
      "updated_at" : "2018-06-07T06:22:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395306690",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "So to show the current code should not naively be removed (nor applied for `bitcoind` only), this affects wallet default permissions:\r\n```bash\r\n$ src/bitcoind -datadir=/tmp/wallet1 -regtest\r\n$ stat /tmp/wallet1/regtest/wallets/wallet.dat \r\nAccess: (0600/-rw-------)\r\n```\r\nAfter removing the `umask` setting code from `AppInitBasicSetup`:\r\n```bash\r\n$ src/bitcoind -datadir=/tmp/wallet2 -regtest\r\n$ stat /tmp/wallet2/regtest/wallets/wallet.dat\r\nAccess: (0660/-rw-rw----)\r\n```\r\n(wallet is group-readable now, the exact result depends on the umask in the user's environment of course, but this is undesirable)\r\n",
      "created_at" : "2018-06-07T06:31:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-395308501",
      "id" : 395308501,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NTMwODUwMQ==",
      "updated_at" : "2018-06-07T09:18:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395308501",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@Iaanwj ok, so we're in agreement, that the umask in AppInitBasicSetup() may not be early enough.  I agree that the umask cannot just be in bitcoind.cpp, but also in bitcoin-qt or some common code that can be called earlier... I will also be adding tests in the way suggested by @ken2812221. ",
      "created_at" : "2018-06-08T00:07:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-395604024",
      "id" : 395604024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NTYwNDAyNA==",
      "updated_at" : "2018-06-08T00:07:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395604024",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1801104?v=4",
         "events_url" : "https://api.github.com/users/n2yen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n2yen/followers",
         "following_url" : "https://api.github.com/users/n2yen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n2yen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n2yen",
         "id" : 1801104,
         "login" : "n2yen",
         "node_id" : "MDQ6VXNlcjE4MDExMDQ=",
         "organizations_url" : "https://api.github.com/users/n2yen/orgs",
         "received_events_url" : "https://api.github.com/users/n2yen/received_events",
         "repos_url" : "https://api.github.com/users/n2yen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n2yen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n2yen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n2yen"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Updated commit with tests to verify permissions of regtest directory, and umask is set as early as sensible in both bitcoind and bitcoin-qt. @laanwj , @MarcoFalke can I please get your feedback? ",
      "created_at" : "2018-06-09T13:46:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-395970736",
      "id" : 395970736,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NTk3MDczNg==",
      "updated_at" : "2018-06-17T15:37:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395970736",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1801104?v=4",
         "events_url" : "https://api.github.com/users/n2yen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n2yen/followers",
         "following_url" : "https://api.github.com/users/n2yen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n2yen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n2yen",
         "id" : 1801104,
         "login" : "n2yen",
         "node_id" : "MDQ6VXNlcjE4MDExMDQ=",
         "organizations_url" : "https://api.github.com/users/n2yen/orgs",
         "received_events_url" : "https://api.github.com/users/n2yen/received_events",
         "repos_url" : "https://api.github.com/users/n2yen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n2yen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n2yen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n2yen"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #14225 (tests: Reorder tests and move most of extended tests up to normal tests by ken2812221)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2018-07-26T05:02:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-407976949",
      "id" : 407976949,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwNzk3Njk0OQ==",
      "updated_at" : "2018-09-15T14:20:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/407976949",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--5d09a71f8925f3f132321140b44b946d-->The last travis run for this pull request was 50 days ago and is thus outdated. To trigger a fresh travis build, this pull request should be closed and re-opened.",
      "created_at" : "2018-07-29T15:16:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-408684559",
      "id" : 408684559,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwODY4NDU1OQ==",
      "updated_at" : "2018-07-29T15:16:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/408684559",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Rebased on top of:\r\neb2f1bd276108e70aff0f582a407e9b702eb4dd1 - Merge #14189: qa: Fix silent merge conflict in wallet_importmulti...\r\nOn sept 10, 2018\r\n",
      "created_at" : "2018-09-11T07:53:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#issuecomment-420181993",
      "id" : 420181993,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/13389",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQyMDE4MTk5Mw==",
      "updated_at" : "2018-09-11T07:53:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/420181993",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/1801104?v=4",
         "events_url" : "https://api.github.com/users/n2yen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n2yen/followers",
         "following_url" : "https://api.github.com/users/n2yen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n2yen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n2yen",
         "id" : 1801104,
         "login" : "n2yen",
         "node_id" : "MDQ6VXNlcjE4MDExMDQ=",
         "organizations_url" : "https://api.github.com/users/n2yen/orgs",
         "received_events_url" : "https://api.github.com/users/n2yen/received_events",
         "repos_url" : "https://api.github.com/users/n2yen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n2yen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n2yen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n2yen"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13389#discussion_r217762272"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217762272"
         }
      },
      "author_association" : "MEMBER",
      "body" : "```\r\n2018-09-14 14:23:42 flake8(pr=13389): test/functional/feature_nosysperms.py:19:62: E227 missing whitespace around bitwise or shift operator\r\n```",
      "commit_id" : "3b8551d3a86fabb5ca4548c1a8aa29b3261790ac",
      "created_at" : "2018-09-14T16:00:21Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Verify -sysperms=false (default) works as expected.\"\"\"\n+\n+import os\n+import stat\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class NoSyspermsTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+\n+    def check_permissions(self, fullpathname):\n+        self.log.info('{}  {}'.format(stat.filemode(os.stat(fullpathname).st_mode), fullpathname))\n+        return (os.stat(fullpathname).st_mode & (stat.S_IRWXO|stat.S_IRWXG)) == 0",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#discussion_r217762272",
      "id" : 217762272,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNzc2MjI3Mg==",
      "original_commit_id" : "3b8551d3a86fabb5ca4548c1a8aa29b3261790ac",
      "original_position" : 19,
      "path" : "test/functional/feature_nosysperms.py",
      "position" : 19,
      "pull_request_review_id" : 155559773,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13389",
      "updated_at" : "2018-09-14T16:00:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217762272",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/13389#discussion_r217762445"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13389"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217762445"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Remove these two comments :-)",
      "commit_id" : "3b8551d3a86fabb5ca4548c1a8aa29b3261790ac",
      "created_at" : "2018-09-14T16:01:01Z",
      "diff_hunk" : "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Verify -sysperms=false (default) works as expected.\"\"\"\n+\n+import os\n+import stat\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class NoSyspermsTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 1\n+\n+    def check_permissions(self, fullpathname):\n+        self.log.info('{}  {}'.format(stat.filemode(os.stat(fullpathname).st_mode), fullpathname))\n+        return (os.stat(fullpathname).st_mode & (stat.S_IRWXO|stat.S_IRWXG)) == 0\n+\n+    def check_dir_permissions(self, regtest_dirpath):\n+        result = []\n+        for path, dirs, files in os.walk(regtest_dirpath):\n+            for filename in files:\n+                result.append(self.check_permissions(os.path.join(path, filename)))\n+        return result\n+\n+    def run_test(self):\n+        #self.stop_node(0)\n+        #self.start_node(0, ['-regtest'])",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/13389#discussion_r217762445",
      "id" : 217762445,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNzc2MjQ0NQ==",
      "original_commit_id" : "3b8551d3a86fabb5ca4548c1a8aa29b3261790ac",
      "original_position" : 30,
      "path" : "test/functional/feature_nosysperms.py",
      "position" : 30,
      "pull_request_review_id" : 155559998,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/13389",
      "updated_at" : "2018-09-14T16:01:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/217762445",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "node_id" : "MDQ6VXNlcjc4MjY1NjU=",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
