[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11658#discussion_r151173917"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11658"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151173917"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "BTW, why 10%, in IBD could be even more no?",
      "commit_id" : "ac51a26bdc69dc35e1f4f89b62c3134047e93bc1",
      "created_at" : "2017-11-15T16:14:19Z",
      "diff_hunk" : "@@ -3391,6 +3391,15 @@ void FindFilesToPrune(std::set<int>& setFilesToPrune, uint64_t nPruneAfterHeight\n     int count=0;\n \n     if (nCurrentUsage + nBuffer >= nPruneTarget) {\n+        // On a prune event, the chainstate DB is flushed.\n+        // To avoid excessive prune events negating the benefit of high dbcache\n+        // values, we should not prune too rapidly.\n+        // So when pruning in IBD, increase the buffer a bit to avoid a re-prune too soon.\n+        if (IsInitialBlockDownload()) {\n+            // Since this is only relevant during IBD, we use a fixed 10%",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11658#discussion_r151173917",
      "id" : 151173917,
      "original_commit_id" : "ac51a26bdc69dc35e1f4f89b62c3134047e93bc1",
      "original_position" : 9,
      "path" : "src/validation.cpp",
      "position" : 9,
      "pull_request_review_id" : 76839130,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11658",
      "updated_at" : "2017-11-15T16:14:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151173917",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Some [IRC discussion](https://botbot.me/freenode/bitcoin-core-dev/2017-12-07/?msg=94351014&page=2).",
      "created_at" : "2017-12-07T11:29:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11658#issuecomment-349940787",
      "id" : 349940787,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11658",
      "updated_at" : "2017-12-07T11:29:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/349940787",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "tACK ac51a26 (although I rebased it on master).\r\n\r\nThis performs better than master in my tests so far: https://github.com/bitcoin/bitcoin/pull/12404#issuecomment-392099372\r\n\r\n@promag wrote:\r\n> BTW, why 10%, in IBD could be even more no?\r\n\r\nI tried this in #12404 and there seems to be negative side effects that I can't explain. I'd say this PR is a safer choice for now.\r\n\r\n@luke-jr you may want to borrow the release note I added to my PR, though that can be done later.",
      "created_at" : "2018-05-28T11:06:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11658#issuecomment-392495235",
      "id" : 392495235,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11658",
      "updated_at" : "2018-05-28T11:06:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/392495235",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "I'm currently racing two Orange Pi's with 2 GB memory. This PR means cache rarely grows beyond 300 MB, but it's still a bit faster than master; after 5 days it's at 2018-01-27 vs. master is still at 2017-11-25.",
      "created_at" : "2018-06-14T12:06:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11658#issuecomment-397270854",
      "id" : 397270854,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11658",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDM5NzI3MDg1NA==",
      "updated_at" : "2018-06-14T12:08:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397270854",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/10217?v=4",
         "events_url" : "https://api.github.com/users/Sjors/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Sjors/followers",
         "following_url" : "https://api.github.com/users/Sjors/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Sjors/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Sjors",
         "id" : 10217,
         "login" : "Sjors",
         "node_id" : "MDQ6VXNlcjEwMjE3",
         "organizations_url" : "https://api.github.com/users/Sjors/orgs",
         "received_events_url" : "https://api.github.com/users/Sjors/received_events",
         "repos_url" : "https://api.github.com/users/Sjors/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Sjors/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Sjors"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK ac51a26bdc69dc35e1f4f89b62c3134047e93bc1. This should be a safe first improvement. We can later make the overshoot value configurable or smarter, but this should already be a lot better.",
      "created_at" : "2018-07-06T03:05:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11658#issuecomment-402912117",
      "id" : 402912117,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11658",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMjkxMjExNw==",
      "updated_at" : "2018-07-06T03:05:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402912117",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "node_id" : "MDQ6VXNlcjU0ODQ4OA==",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "utACK ac51a26. Improvement looks good.",
      "created_at" : "2018-07-07T22:04:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11658#issuecomment-403245781",
      "id" : 403245781,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11658",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDQwMzI0NTc4MQ==",
      "updated_at" : "2018-07-07T22:04:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403245781",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   }
]
