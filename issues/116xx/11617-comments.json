[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "From what I can tell it's missing only one lock (in `PruneAndFlush`) maybe fix it here too?",
      "created_at" : "2017-11-06T14:52:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342171683",
      "id" : 342171683,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-06T14:52:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342171683",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag Good point. Looks good now now?",
      "created_at" : "2017-11-06T15:28:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342183094",
      "id" : 342183094,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-06T15:28:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342183094",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "In that case reword PR and commit, like `Add missing cs_LastBlockFile locks`",
      "created_at" : "2017-11-06T15:31:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342184070",
      "id" : 342184070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-06T15:31:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342184070",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag Done :-)",
      "created_at" : "2017-11-06T15:44:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342188459",
      "id" : 342188459,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-06T15:44:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342188459",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@promag Had to revert to initial version. Encountered timeouts when adding locking in `PruneAndFlush` as suggested and haven't investigated deeper yet. What is your suggested patch? :-)",
      "created_at" : "2017-11-06T16:23:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342201927",
      "id" : 342201927,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-06T16:24:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342201927",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11617#discussion_r149193086"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11617"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149193086"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems like we could just always call FlushStateToDisk instead? It wont do anything besides check if we need to prune if FLUSH_STATE_NONE is given.",
      "commit_id" : "932dcd49486c6616ee5bfab9588d59fd75c4f0d4",
      "created_at" : "2017-11-06T20:25:06Z",
      "diff_hunk" : "@@ -3232,6 +3232,7 @@ static bool AcceptBlock(const std::shared_ptr<const CBlock>& pblock, CValidation\n         return AbortNode(state, std::string(\"System error: \") + e.what());\n     }\n \n+    LOCK(cs_LastBlockFile);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#discussion_r149193086",
      "id" : 149193086,
      "original_commit_id" : "cc0d685674e1b281d723a508e29718830691a0e2",
      "original_position" : 4,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 74549793,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11617",
      "updated_at" : "2017-11-06T22:16:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149193086",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@TheBlueMatt Even better! PR updated. Please re-review :-)",
      "created_at" : "2017-11-06T20:33:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342277522",
      "id" : 342277522,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-06T20:33:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342277522",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 96ff97c. Please reword PR again.",
      "created_at" : "2017-11-06T20:44:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342280360",
      "id" : 342280360,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-06T20:44:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342280360",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/11617#discussion_r149214339"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11617"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149214339"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Comment now needs updated.",
      "commit_id" : "932dcd49486c6616ee5bfab9588d59fd75c4f0d4",
      "created_at" : "2017-11-06T21:51:43Z",
      "diff_hunk" : "@@ -3232,8 +3232,7 @@ static bool AcceptBlock(const std::shared_ptr<const CBlock>& pblock, CValidation\n         return AbortNode(state, std::string(\"System error: \") + e.what());\n     }\n \n-    if (fCheckForPruning)\n-        FlushStateToDisk(chainparams, state, FLUSH_STATE_NONE); // we just allocated more disk space for block files\n+    FlushStateToDisk(chainparams, state, FLUSH_STATE_NONE); // we just allocated more disk space for block files",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#discussion_r149214339",
      "id" : 149214339,
      "original_commit_id" : "96ff97cc14b483643020df2497ab06511f5d2ae8",
      "original_position" : 6,
      "path" : "src/validation.cpp",
      "position" : null,
      "pull_request_review_id" : 74574531,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11617",
      "updated_at" : "2017-11-06T22:16:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/149214339",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 96ff97cc14b483643020df2497ab06511f5d2ae8 modulo now-incorrect comment.",
      "created_at" : "2017-11-06T21:56:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342300980",
      "id" : 342300980,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-06T21:56:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342300980",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@TheBlueMatt Comment removed :-)",
      "created_at" : "2017-11-06T22:16:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342306282",
      "id" : 342306282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-06T22:16:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342306282",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 932dcd49486c6616ee5bfab9588d59fd75c4f0d4",
      "created_at" : "2017-11-06T23:46:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342326536",
      "id" : 342326536,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-06T23:46:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342326536",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This PR is a bit messy now. Regarding the original intent, I think it should do:\r\n```diff\r\n@@ -2012,6 +2012,7 @@ void FlushStateToDisk() {\r\n }\r\n\r\n void PruneAndFlush() {\r\n+    LOCK2(cs_main, cs_LastBlockFile);\r\n     CValidationState state;\r\n     fCheckForPruning = true;\r\n     const CChainParams& chainparams = Params();\r\n```\r\nAn alternative is to add an argument to `FlushStateToDisk`, like `bool force_check_for_pruning` to avoid touching `fCheckForPruning`.",
      "created_at" : "2017-11-07T00:54:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342339354",
      "id" : 342339354,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-07T00:54:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342339354",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "FlushStateToDisk already checks fCheckForPruning and doesn't do anything if it's not set and NONE is passed as the second argument. Despite the complication in FlushStateToDisk, I do not believe this PR has any effect except resolving the (probably not actually a) missing lock bug.\n\nOn November 6, 2017 7:55:04 PM EST, \"JoÃÂ£o Barbosa\" <notifications@github.com> wrote:\n>This PR is a bit messy now. Regarding the original intent, I think it\n>should do:\n>```diff\n>@@ -2012,6 +2012,7 @@ void FlushStateToDisk() {\n> }\n>\n> void PruneAndFlush() {\n>+    LOCK2(cs_main, cs_LastBlockFile);\n>     CValidationState state;\n>     fCheckForPruning = true;\n>     const CChainParams& chainparams = Params();\n>```\n>An alternative is to add an argument to `FlushStateToDisk`, like `bool\n>force_check_for_pruning` to avoid touching `fCheckForPruning`.\n>\n>-- \n>You are receiving this because you were mentioned.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342339354\n",
      "created_at" : "2017-11-07T00:58:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342339974",
      "id" : 342339974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-07T00:58:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342339974",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@TheBlueMatt IMO the best approach to avoid long/recursive/shared locks is to create a snapshot of the chain and use that downstream. The only lock required is when the chain snapshot is created. A slight more advanced solution is copy-on-write, which compared to shared lock, doesn't make the  writer wait for readers to finish.",
      "created_at" : "2017-11-07T01:00:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342340268",
      "id" : 342340268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-07T01:00:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342340268",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@TheBlueMatt `PruneAndFlush` changes `fCheckForPruning` without the lock.\r\n\r\nWith:\r\n```diff\r\n@@ -2012,6 +2012,7 @@ void FlushStateToDisk() {\r\n }\r\n\r\n void PruneAndFlush() {\r\n+    AssertLockHeld(cs_LastBlockFile);\r\n     CValidationState state;\r\n     fCheckForPruning = true;\r\n     const CChainParams& chainparams = Params();\r\n```\r\nThe following fails:\r\n```\r\n./test/functional/pruning.py\r\n2017-11-07 01:02:25.034000 TestFramework (INFO): Initializing test directory /var/folders/1v/8_69hby54nj2k3n6fywt44x80000gn/T/testgwrg340t\r\nAssertion failed: lock cs_LastBlockFile not held in validation.cpp:2015; locks held:\r\n```\r\nNote `./configure CPPFLAGS=-DDEBUG_LOCKORDER`.",
      "created_at" : "2017-11-07T01:04:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342341040",
      "id" : 342341040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-07T01:04:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342341040",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "PruneAndFlush() would change behavior in an otherwise-simple lock-fix PR, please, no.\n\nThe other part of my context is #10279, in which I want to more clearly separate out the disk operations from validation logic - thus, I'm strongly averse to adding a disk-management lock in validation functions directly.\n\nOn November 6, 2017 8:04:20 PM EST, \"JoÃÂ£o Barbosa\" <notifications@github.com> wrote:\n>@TheBlueMatt `PruneAndFlush` changes `fCheckForPruning` without the\n>lock.\n>\n>With:\n>```diff\n>@@ -2012,6 +2012,7 @@ void FlushStateToDisk() {\n> }\n>\n> void PruneAndFlush() {\n>+    AssertLockHeld(cs_LastBlockFile);\n>     CValidationState state;\n>     fCheckForPruning = true;\n>     const CChainParams& chainparams = Params();\n>```\n>The following fails:\n>```\n>./test/functional/pruning.py\n>2017-11-07 01:02:25.034000 TestFramework (INFO): Initializing test\n>directory /var/folders/1v/8_69hby54nj2k3n6fywt44x80000gn/T/testgwrg340t\n>Assertion failed: lock cs_LastBlockFile not held in\n>validation.cpp:2015; locks held:\n>```\n>Note `./configure CPPFLAGS=-DDEBUG_LOCKORDER`.\n>\n>-- \n>You are receiving this because you were mentioned.\n>Reply to this email directly or view it on GitHub:\n>https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342341040\n",
      "created_at" : "2017-11-07T01:58:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342350889",
      "id" : 342350889,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-07T01:58:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342350889",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "We have one utACK from @TheBlueMatt. Anyone else willing to review? :-)",
      "created_at" : "2017-11-08T10:11:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342771260",
      "id" : 342771260,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-08T10:11:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342771260",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Testing `fCheckForPruning` is not needed in `AcceptBlock` (which BTW asserts `cs_main` is held) since the check is done in `FlushStateToDisk`.\r\n\r\nACK 932dcd4.",
      "created_at" : "2017-11-08T13:26:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-342816816",
      "id" : 342816816,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-08T13:26:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/342816816",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Ready for merge? :-)",
      "created_at" : "2017-11-21T19:11:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-346130350",
      "id" : 346130350,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2017-11-21T19:11:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346130350",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Any chance of this getting merged or should I close?",
      "created_at" : "2018-01-28T10:48:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-361053729",
      "id" : 361053729,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2018-01-28T10:48:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/361053729",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased! Please re-review :-)",
      "created_at" : "2018-01-29T15:13:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-361276085",
      "id" : 361276085,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2018-01-29T15:13:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/361276085",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This trivial fix is blocking my other locking annotations work since I have to re-include this fix in all other PR:s to get correct locking. Having this merged into master would help the locking annotations effort :-)\r\n\r\nPing @MarcoFalke, @TheBlueMatt and @laanwj :-)",
      "created_at" : "2018-03-14T15:00:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-373052380",
      "id" : 373052380,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2018-03-14T15:00:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373052380",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "utACK 48c8610a9c42df6de5dead0f98dc6ced214345ba",
      "created_at" : "2018-03-15T16:10:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-373431848",
      "id" : 373431848,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2018-03-15T16:10:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373431848",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/649246?v=4",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased! Please re-review :-)",
      "created_at" : "2018-03-29T14:11:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-377247951",
      "id" : 377247951,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2018-03-29T14:11:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377247951",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Any chance of getting this merged or re-reviewed?",
      "created_at" : "2018-04-09T23:02:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11617#issuecomment-379920371",
      "id" : 379920371,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11617",
      "updated_at" : "2018-04-09T23:02:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/379920371",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7826565?v=4",
         "events_url" : "https://api.github.com/users/practicalswift/events{/privacy}",
         "followers_url" : "https://api.github.com/users/practicalswift/followers",
         "following_url" : "https://api.github.com/users/practicalswift/following{/other_user}",
         "gists_url" : "https://api.github.com/users/practicalswift/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/practicalswift",
         "id" : 7826565,
         "login" : "practicalswift",
         "organizations_url" : "https://api.github.com/users/practicalswift/orgs",
         "received_events_url" : "https://api.github.com/users/practicalswift/received_events",
         "repos_url" : "https://api.github.com/users/practicalswift/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/practicalswift/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/practicalswift"
      }
   }
]
