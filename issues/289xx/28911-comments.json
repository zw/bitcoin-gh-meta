[
   {
      "author_association" : "MEMBER",
      "body" : "Could you share the signet challenge?\r\n\r\nQuick guess; you defined the block script as a multisig, and you didn't import the multisig descriptor.\r\nThe wallet will not automatically infer the multisig redeem script if it imported `pk()`/`pkh()`/`wpkh()` descriptors.",
      "created_at" : "2023-11-19T15:32:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28911#issuecomment-1817889206",
      "id" : 1817889206,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28911",
      "node_id" : "IC_kwDOABII585sWsm2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1817889206/reactions"
      },
      "updated_at" : "2023-11-19T15:36:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1817889206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@furszy \r\nYou can reproduce the phenomenon by following the steps below.\r\n\r\n```\r\nwget https://bitcoincore.org/bin/bitcoin-core-25.0/bitcoin-25.0-x86_64-linux-gnu.tar.gz\r\ntar -xzvf bitcoin-25.0-x86_64-linux-gnu.tar.gz\r\ncd bitcoin-25.0\r\nmv bin/* .\r\n\r\ngit clone https://github.com/bitcoin/bitcoin.git\r\ncd bitcoin\r\ngit checkout v25.0\r\ncd ..\r\ncp -r bitcoin/test/functional/test_framework .\r\ncp bitcoin/contrib/signet/miner .\r\n\r\n./bitcoind -regtest -daemon\r\n./bitcoin-cli -regtest createwallet \"test\" false false \"\" false false\r\nADDR=$(./bitcoin-cli -regtest getnewaddress \"\" \"legacy\")\r\necho $ADDR\r\nmqKkNvg2zGLp7LrEkKzZyheg2RKxLpVGdx\r\n\r\nPRIVKEY=$(./bitcoin-cli -regtest dumpprivkey $ADDR)\r\necho $PRIVKEY\r\ncPVg1oJmHSwWCgzAbAeH7ZcBHyqtGJBZCr79tj6fWgnVD4YNXcii\r\n\r\n./bitcoin-cli -regtest getaddressinfo $ADDR | grep pubkey\r\n  \"pubkey\": \"03176706ed990b936e2348392c08cfc9b7a8550d88b2b4cde4175bfb3b8af6398e\",\r\n\r\n./bitcoin-cli -regtest stop\r\n\r\nCHALLENGE=512103176706ed990b936e2348392c08cfc9b7a8550d88b2b4cde4175bfb3b8af6398e51ae\r\n\r\n./bitcoind -signet -daemon -signetchallenge=$CHALLENGE\r\nCLI=\"./bitcoin-cli -signet\"\r\n$CLI createwallet \"signet\" false false \"\" false false\r\n$CLI -signet importprivkey $PRIVKEY\r\n\r\nMINER=\"./miner\"\r\nGRIND=\"./bitcoin-util grind\"\r\nADDR=$(./bitcoin-cli -signet getnewaddress \"\" \"legacy\")\r\necho $ADDR\r\nmvESocNVHsEmWurJ4V62CA6C4C8cwKYfLH\r\n\r\nNBITS=1e0377ae\r\n\r\n$MINER --cli=\"$CLI\" generate --grind-cmd=\"$GRIND\" --address=\"$ADDR\" --nbits=$NBITS --set-block-time=1696086000\r\n2023-11-19 18:23:42 INFO Mined block at height 1; next in -1203h13m42s (mine)\r\n\r\n$MINER --cli=\"$CLI\" generate --grind-cmd=\"$GRIND\" --address=\"$ADDR\" --nbits=$NBITS --ongoing\r\n2023-11-19 18:24:05 INFO Mined block at height 2; next in -1203h4m5s (mine)\r\n2023-11-19 18:24:06 INFO Mined block at height 3; next in -1202h54m5s (mine)\r\n2023-11-19 18:24:08 INFO Mined block at height 4; next in -1202h44m8s (mine)\r\n2023-11-19 18:24:11 INFO Mined block at height 5; next in -1202h34m11s (mine)\r\n2023-11-19 18:24:12 INFO Mined block at height 6; next in -1202h24m12s (mine)\r\n2023-11-19 18:24:13 INFO Mined block at height 7; next in -1202h14m13s (mine)\r\n2023-11-19 18:24:16 INFO Mined block at height 8; next in -1202h4m16s (mine)\r\n2023-11-19 18:24:16 INFO Mined block at height 9; next in -1201h54m16s (mine)\r\n2023-11-19 18:24:17 INFO Mined block at height 10; next in -1201h44m16s (mine)\r\n[Ctrl/C]\r\n\r\n$CLI migratewallet signet\r\n{\r\n  \"wallet_name\": \"signet\",\r\n  \"backup_path\": \"/root/.bitcoin/signet/wallets/signet/signet-1700418526.legacy.bak\"\r\n}\r\n\r\n$MINER --cli=\"$CLI\" generate --grind-cmd=\"$GRIND\" --address=\"$ADDR\" --nbits=$NBITS --ongoing\r\nPSBT signing failed\r\n```",
      "created_at" : "2023-11-19T18:39:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28911#issuecomment-1817941716",
      "id" : 1817941716,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28911",
      "node_id" : "IC_kwDOABII585sW5bU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1817941716/reactions"
      },
      "updated_at" : "2023-11-19T18:39:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1817941716",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7656623?v=4",
         "events_url" : "https://api.github.com/users/fujicoin/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fujicoin/followers",
         "following_url" : "https://api.github.com/users/fujicoin/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fujicoin/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fujicoin",
         "id" : 7656623,
         "login" : "fujicoin",
         "node_id" : "MDQ6VXNlcjc2NTY2MjM=",
         "organizations_url" : "https://api.github.com/users/fujicoin/orgs",
         "received_events_url" : "https://api.github.com/users/fujicoin/received_events",
         "repos_url" : "https://api.github.com/users/fujicoin/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fujicoin/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fujicoin/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fujicoin"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Ok, yes. Thats what I imagined.\r\n\r\nYour challenge `512103176706ed990b936e2348392c08cfc9b7a8550d88b2b4cde4175bfb3b8af6398e51ae`, is a 1-of-1 multisig of your pubkey.\r\nThis script is not watched by your wallet by default, is a consensus parameter. The wallet migration process will not create the matching multisig descriptor without further instructions from your end.\r\n\r\nYou either can:\r\n1) Import the multisig redeem script on the legacy wallet (pre-migration).\r\n2) Import the multisig descriptor on the descriptor wallet (post-migration).\r\n\r\nMy advice for you is to create a descriptor wallet by default, not the legacy one anymore. And, if you still want to use the 1-of-1 multisig challenge; import the descriptor in the following form: `multi(1, <priv_key>)#<checksum>`.\r\nYou can obtain the checksum by calling `getdescriptorinfo \"multi(1, $PRIVKEY)\"`.",
      "created_at" : "2023-11-19T19:39:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28911#issuecomment-1817957086",
      "id" : 1817957086,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28911",
      "node_id" : "IC_kwDOABII585sW9Le",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1817957086/reactions"
      },
      "updated_at" : "2023-11-19T19:40:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1817957086",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   }
]
