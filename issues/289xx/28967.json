{
   "active_lock_reason" : null,
   "assignee" : null,
   "assignees" : [],
   "author_association" : "MEMBER",
   "body" : "It's come to light that Boost ASIO (a Boost Process sub dep) has in some\r\ninstances, been quietly  initialising our network stack on Windows (see\r\nPR https://github.com/bitcoin/bitcoin/pull/28486 and discussion in https://github.com/bitcoin/bitcoin/issues/28940).\r\n\r\nThis has been shielding a bug in our own code, but the larger issue\r\nis that Boost Process/ASIO is running code before main, and doing things\r\nlike setting up networking. This undermines our own assumptions about\r\nhow our binary works, happens before we run any sanity checks,\r\nand before we call our own code to setup networking. Note that ASIO also\r\ncalls WSAStartup with version `2.0`, whereas we call with `2.2`.\r\n\r\nIt's also not clear why a feature like external signer would have a\r\ndependency that would be doing anything network/socket related,\r\ngiven it only exists to spawn a local process.\r\n\r\nSee also the discussion in https://github.com/bitcoin/bitcoin/issues/24907. Note that the maintaince of Boost Process in general,\r\nhas not really improved. For example, rather than fixing bugs like https://github.com/boostorg/process/issues/111, \r\ni.e, https://github.com/boostorg/process/pull/317, the maintainer chooses to just wrap exception causing overflows\r\nin try-catch blocks: https://github.com/boostorg/process/commit/0c42a58eacab6a96b19196e399307bad8a938a27. These changes get merged in large,\r\nunreviewed PRs, i.e https://github.com/boostorg/process/pull/319.\r\n\r\nThis PR disables external-signer on Windows for now. If, in future, someone\r\nchanges how Boost Process works, or replaces it entirely with some\r\nproperly reviewed and maintained code, we could reenable this feature on\r\nWindows.\r\n\r\nBased on https://github.com/bitcoin/bitcoin/pull/28486.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 1,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28967/comments",
   "created_at" : "2023-11-29T14:05:49Z",
   "draft" : true,
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28967/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/28967",
   "id" : 2016671496,
   "labels" : [
      {
         "color" : "5319e7",
         "default" : false,
         "description" : null,
         "id" : 61889416,
         "name" : "Build system",
         "node_id" : "MDU6TGFiZWw2MTg4OTQxNg==",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Build%20system"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28967/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "node_id" : "PR_kwDOABII585grHvf",
   "number" : 28967,
   "performed_via_github_app" : null,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/28967.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/28967",
      "merged_at" : null,
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/28967.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/28967"
   },
   "reactions" : {
      "+1" : 0,
      "-1" : 0,
      "confused" : 0,
      "eyes" : 0,
      "heart" : 0,
      "hooray" : 0,
      "laugh" : 0,
      "rocket" : 0,
      "total_count" : 0,
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28967/reactions"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "state_reason" : null,
   "timeline_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28967/timeline",
   "title" : "build: disable external-signer for Windows",
   "updated_at" : "2023-11-29T14:05:55Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28967",
   "user" : {
      "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
      "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
      "followers_url" : "https://api.github.com/users/fanquake/followers",
      "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/fanquake",
      "id" : 863730,
      "login" : "fanquake",
      "node_id" : "MDQ6VXNlcjg2MzczMA==",
      "organizations_url" : "https://api.github.com/users/fanquake/orgs",
      "received_events_url" : "https://api.github.com/users/fanquake/received_events",
      "repos_url" : "https://api.github.com/users/fanquake/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/fanquake"
   }
}
