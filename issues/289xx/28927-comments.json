[
   {
      "author_association" : "MEMBER",
      "body" : "`importwallet` does not import any metadata, including whether something is the seed. That it overwrites the seed metadata is expected behavior, although it should still work as the seed. You can check whether both wallets use the same seed by looking at `hdseedid` in `getwalletinfo`, and also generating some addresses to see if both wallets recognize them with `getaddressinfo`.\r\n\r\nHowever, the workflow that you are using uses the legacy wallet storage format which is targeted to be removed soon. If there is indeed an issue, it is unlikely that it will be fixed, particularly as the effect that you want to achieve can be done with different methods. I do want to note though that the same wallet on two nodes is not recommended as metadata will not be the same and there can still be discrepancies between the copies of the wallet due to things such as RBF and related issues with unconfirmed transactions.",
      "created_at" : "2023-11-24T05:34:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28927#issuecomment-1825170183",
      "id" : 1825170183,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28927",
      "node_id" : "IC_kwDOABII585syeMH",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 1,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 1,
         "rocket" : 1,
         "total_count" : 3,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825170183/reactions"
      },
      "updated_at" : "2023-11-24T05:34:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825170183",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@achow101 Thank you for your reply.\r\n\r\nCan you please point me to the right direction as far as the \"proper workflow\" is concerned? My basic need is to have two nodes that I can failover between in case one goes down, with no coin loss (obviously) and reasonable downtime.\r\n\r\nThe nodes will be used for a classic mechanism of receiving user deposits (each user has its own BTC address), and sending withdrawals using \"sendtoaddress\" at first, then using raw transactions when I implement that.  I pregenerated a number of addresses using \"getnewaddress\" and backed up the pkeys in addition to the hdseed, just in case. I managed to set the same hdseed on both nodes and imported the pregenerated addresses from node 1 to node 2.\r\n\r\nAlso can you please elaborate on the \"unconfirmed transactions\" discrepancies\"? If that means that by failing to another node will lose the original node's mempool, then it's no big deal as I save the original transactions data (that I get by \"getrawtransaction\") and can just propagate them again if needed. Or do you mean something different?\r\n\r\nThanks!\r\n\r\nPS: current getwalletinfo on both nodes is:\r\n\r\n```\r\n{\r\n  \"walletname\": \"main\",\r\n  \"walletversion\": 169900,\r\n  \"format\": \"bdb\",\r\n  \"balance\": 0.00000000,\r\n  \"unconfirmed_balance\": 0.00000000,\r\n  \"immature_balance\": 0.00000000,\r\n  \"txcount\": 0,\r\n  \"keypoololdest\": 1669302186,\r\n  \"keypoolsize\": 1000,\r\n  \"hdseedid\": \"<stripped>\",\r\n  \"keypoolsize_hd_internal\": 1000,\r\n  \"paytxfee\": 0.00000000,\r\n  \"private_keys_enabled\": true,\r\n  \"avoid_reuse\": false,\r\n  \"scanning\": false,\r\n  \"descriptors\": false\r\n}\r\n```\r\n\r\nThe only difference being the keypoololdest field that is higher on node2 (seems logical).",
      "created_at" : "2023-11-24T07:43:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/28927#issuecomment-1825262967",
      "id" : 1825262967,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/28927",
      "node_id" : "IC_kwDOABII585sy013",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825262967/reactions"
      },
      "updated_at" : "2023-11-24T08:31:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1825262967",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39710297?v=4",
         "events_url" : "https://api.github.com/users/quakemmo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/quakemmo/followers",
         "following_url" : "https://api.github.com/users/quakemmo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/quakemmo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/quakemmo",
         "id" : 39710297,
         "login" : "quakemmo",
         "node_id" : "MDQ6VXNlcjM5NzEwMjk3",
         "organizations_url" : "https://api.github.com/users/quakemmo/orgs",
         "received_events_url" : "https://api.github.com/users/quakemmo/received_events",
         "repos_url" : "https://api.github.com/users/quakemmo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/quakemmo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/quakemmo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/quakemmo"
      }
   }
]
