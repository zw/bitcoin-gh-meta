[
   {
      "body" : "Just to clarify:\r\n\r\n> This PR does hide all wtxs that are conflicts (GetDepthInMainChain <= -1).\r\n\r\nDoes this hide *all* wtxs that are conflicts, or just wtxs that conflict before block x (when you're filtering for transactions since block x)?\r\n\r\n(Because I am, and know other people currently relying on `listsinceblock` to return conflicted transactions to detect when we've been double-spent against) \r\n",
      "created_at" : "2016-09-19T13:37:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8757#issuecomment-247995010",
      "id" : 247995010,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8757",
      "updated_at" : "2016-09-19T13:37:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/247995010",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20143291?v=3",
         "events_url" : "https://api.github.com/users/FrozenPrincess/events{/privacy}",
         "followers_url" : "https://api.github.com/users/FrozenPrincess/followers",
         "following_url" : "https://api.github.com/users/FrozenPrincess/following{/other_user}",
         "gists_url" : "https://api.github.com/users/FrozenPrincess/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/FrozenPrincess",
         "id" : 20143291,
         "login" : "FrozenPrincess",
         "organizations_url" : "https://api.github.com/users/FrozenPrincess/orgs",
         "received_events_url" : "https://api.github.com/users/FrozenPrincess/received_events",
         "repos_url" : "https://api.github.com/users/FrozenPrincess/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/FrozenPrincess/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/FrozenPrincess/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/FrozenPrincess"
      }
   },
   {
      "body" : "I think it would help to add some tests for this.",
      "created_at" : "2016-09-19T17:17:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8757#issuecomment-248058116",
      "id" : 248058116,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8757",
      "updated_at" : "2016-09-19T17:17:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/248058116",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/6399679?v=3",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "body" : "@FrozenPrincess: this PR just hides all wallet transactions that are unconfirmed and not in your mempool (very likely conflicted).\r\nI guess this would be the expected behavior according to the RPC help description:\r\n```\r\nGet all transactions in blocks since block [blockhash][...]\r\n```",
      "created_at" : "2016-09-20T07:05:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8757#issuecomment-248220507",
      "id" : 248220507,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8757",
      "updated_at" : "2016-09-20T07:05:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/248220507",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "> @FrozenPrincess: this PR just hides all wallet transactions that are unconfirmed and not in your mempool (very likely conflicted).\r\n\r\nIn that case, I'm strongly against this change of behavior. Currently if you have a service that processes bitcoin payments, you just need to run a loop (pseudo code):\r\n\r\n```\r\nlastHash = null\r\nwhile (true ) {\r\n   transactions, lastHash = bitcoin-cli listsinceblock $lastHash 6\r\n   for transaction in transactions {\r\n        if transaction.category == \"receive\" {\r\n          if transaction.confirmations == 0 {\r\n               // new mempool entry, notify the user or something\r\n          }\r\n          if transaction.confirmations > 0 {\r\n             //  new confirmed transaction, add it\r\n          }\r\n          if transaction.confirmations < 0 {\r\n            // shit, we've been double-spent. make sure to handle this!\r\n         }\r\n     }\r\n  }\r\n}\r\n```\r\n\r\nBut if you change the behavior to filter out the conflicted transactions -- you will silently break peoples (including my) logic for knowing when they've been double-spent against. This is especially important now with bip125",
      "created_at" : "2016-09-20T17:36:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/8757#issuecomment-248374434",
      "id" : 248374434,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/8757",
      "updated_at" : "2016-09-20T17:36:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/248374434",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/20143291?v=3",
         "events_url" : "https://api.github.com/users/FrozenPrincess/events{/privacy}",
         "followers_url" : "https://api.github.com/users/FrozenPrincess/followers",
         "following_url" : "https://api.github.com/users/FrozenPrincess/following{/other_user}",
         "gists_url" : "https://api.github.com/users/FrozenPrincess/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/FrozenPrincess",
         "id" : 20143291,
         "login" : "FrozenPrincess",
         "organizations_url" : "https://api.github.com/users/FrozenPrincess/orgs",
         "received_events_url" : "https://api.github.com/users/FrozenPrincess/received_events",
         "repos_url" : "https://api.github.com/users/FrozenPrincess/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/FrozenPrincess/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/FrozenPrincess/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/FrozenPrincess"
      }
   }
]
