{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "NONE",
   "body" : "got a problem when testing rpc calls on bitcoind in regtest mode: When i send one payment from node1 to node2 and then try to make 30 payments from node2 to node1, 25 transactions creates successfully, and then i'm start getting errors. This is not a problem, but problem is that:\n1) according to listtransactions, 26-th transaction was created successfully but rpc returned error\n2) if you try to get info about 26-th transaction by call \"gettransaction\" all is ok, but \"getrawtransaction\" returns error \"No information available about transaction\"\n3) starting from this point, rest of money on node2 is locked in unconfirmed state, and generating new blocks doesn't help\n\nI tested official bitcoin core 0.12 on macbook air 13 2011 with ssd, and 0.12 bitcoind on linux with hdd (installed from ubuntu ppa)\n\nscript to reproduce:\n# !/bin/bash\n\necho \"cleanup\"\nkillall bitcoind && sleep 2 && killall bitcoind\nrm -rf ~/bitcoind-regtest1 ~/bitcoind-regtest2\nmkdir ~/bitcoind-regtest1 ~/bitcoind-regtest2\n\necho \"start servers in regtest mode\"\nbitcoind  --server --listen --port=17591 --addnode=127.0.0.1:17592 --datadir=$HOME/bitcoind-regtest1 --regtest --rpcbind=127.0.0.1 --rpcuser=username --rpcpassword=password --rpcport=18333 --rpcthreads=2 --debug &\nbitcoind  --server --listen --port=17592 --addnode=127.0.0.1:17591 --datadir=$HOME/bitcoind-regtest2 --regtest --rpcbind=127.0.0.1 --rpcuser=username --rpcpassword=password --rpcport=18334 --rpcthreads=2 --debug &\n\necho \"wait wallets to start\"\nsleep 20\n\nexport CLI1=\"bitcoin-cli --rpcconnect=127.0.0.1 --rpcport=18333 --rpcuser=username --rpcpassword=password --regtest\"\nexport CLI2=\"bitcoin-cli --rpcconnect=127.0.0.1 --rpcport=18334 --rpcuser=username --rpcpassword=password --regtest\"\n\necho \"generate 50 mature coins on node 2\"\n$CLI2 generate 101\n\necho \"send 1btc to address on node 1\"\n$CLI2 sendtoaddress `$CLI1 getnewaddress testaccount` 1\n\necho \"confirm transactions\"\n$CLI2 generate 6\n\necho \"wait wallets to syncronize\"\nsleep 5\n\necho \"make 30 transactions from node 1 to node 2\"\nfor i in {1..30};do $CLI1 sendfrom testaccount `$CLI2 getnewaddress` 0.00$i;done\n\nIf you now try listtransactions, you will see, that transaction with sum 0.0026btc exists, and\ngettransaction retuns successfully, but getrawtransaction returns error.\n\nmoreover, rest of funds are stuck in unconfirmed state, please look:\n\nexport CLI1=\"bitcoin-cli --rpcconnect=127.0.0.1 --rpcport=18333 --rpcuser=username --rpcpassword=password --regtest\"\n$CLI1 getwalletinfo\n$CLI generate 20\n$CLI1 getwalletinfo\n",
   "closed_at" : "2016-03-27T12:03:57Z",
   "closed_by" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/594233?v=4",
      "events_url" : "https://api.github.com/users/pavimus/events{/privacy}",
      "followers_url" : "https://api.github.com/users/pavimus/followers",
      "following_url" : "https://api.github.com/users/pavimus/following{/other_user}",
      "gists_url" : "https://api.github.com/users/pavimus/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/pavimus",
      "id" : 594233,
      "login" : "pavimus",
      "organizations_url" : "https://api.github.com/users/pavimus/orgs",
      "received_events_url" : "https://api.github.com/users/pavimus/received_events",
      "repos_url" : "https://api.github.com/users/pavimus/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/pavimus/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/pavimus/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/pavimus"
   },
   "comments" : 11,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7750/comments",
   "created_at" : "2016-03-27T07:18:24Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7750/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/7750",
   "id" : 143782974,
   "labels" : [],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7750/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 7750,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "25+ transactions and one UTXO ",
   "updated_at" : "2016-03-27T12:03:57Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7750",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/594233?v=4",
      "events_url" : "https://api.github.com/users/pavimus/events{/privacy}",
      "followers_url" : "https://api.github.com/users/pavimus/followers",
      "following_url" : "https://api.github.com/users/pavimus/following{/other_user}",
      "gists_url" : "https://api.github.com/users/pavimus/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/pavimus",
      "id" : 594233,
      "login" : "pavimus",
      "organizations_url" : "https://api.github.com/users/pavimus/orgs",
      "received_events_url" : "https://api.github.com/users/pavimus/received_events",
      "repos_url" : "https://api.github.com/users/pavimus/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/pavimus/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/pavimus/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/pavimus"
   }
}
