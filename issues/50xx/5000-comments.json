[
   {
      "body" : "Concept ACK, although I'd prefer a more abstract implementation (eg, IsSoftforkSafe similar to IsStandard).",
      "created_at" : "2014-09-29T02:34:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57111059",
      "id" : 57111059,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T02:34:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57111059",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr My intent here is to target something very specific - execution of opcodes reserved for upgrades - to avoid unnecessarily rejecting transactions using new opcodes in non-executed codepaths. For instance with a CHECKLOCKTIMEVERIFY opcode to lock funds until a certain time would often be used in conjunction with another way to spend the output that doesn't use that new feature, and there's no reason to ignore transactions if the scriptSig doesn't execute the NOPx. This is similar to how all the undefined opcodes can exist in an unexecuted IF ENDIF block without making the script invalid.\r\n\r\nKeep in mind that the code - and copies of that code - will also be used for applications outside of Bitcoin Core. For example my python-bitcoinlib will add this blacklist feature verbatim to its EvalScript() logic, which will end up in applications that simply want to check if a scriptSig is valid. Keeping the blacklist specific can delay the need to upgrade such applications.\r\n\r\nThe one case where a strict blacklist/whiteliat might make more sense is if we want to have an opcode whose mere presence in a script can make the script invalid, even if the opcode isn't executed. Frankly I just can't see us ever doing that.\r\n\r\nAs for Eligius... that's a well-managed pool that will be kept up-to-date, so please do go right ahead and take the BLACKLIST flag out of the standard script verify flags to let people test this stuff on mainnet. This isn't the only case where it'd be reasonable for Eligius to accept/mine a non-softfork-safe transaction.",
      "created_at" : "2014-09-29T02:49:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57111637",
      "id" : 57111637,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T02:49:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57111637",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd My goal isn't to remove this policy - in fact, I'd like to have it deployed on Eligius sooner. Simply that having a dedicated function to check things like this would be useful abstraction.",
      "created_at" : "2014-09-29T03:00:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57112132",
      "id" : 57112132,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T03:00:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57112132",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr What specifically do you want the abstraction for? I mean, do you want to know if a transaction breaks a soft-fork safe rule specifically? If tx is otherwise valid, IsSoftforkSafe(tx) could simply be to run EvalScript() with the softfork-safe rules enabled, returning true so long as EvalScript() returns true and tx.nVersion is as expected. The issue is that it returning false may also mean the transaction is invalid - but like I said, we can simply start by checking the transaction is otherwise valid.\r\n\r\nNote how my SCRIPT_VERIFY_NULLDUMMY verification flag that rejects CHECKMULTISIG with a non-empty dummy argument is implemented in the exact same way.",
      "created_at" : "2014-09-29T03:08:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57112417",
      "id" : 57112417,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T03:08:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57112417",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Concept ACK",
      "created_at" : "2014-09-29T03:10:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57112487",
      "id" : 57112487,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T03:10:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57112487",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@petertodd It is potentially helpful to reduce CPU usage to skip non-softforksafe transactions without evaluating them. I don't feel strongly that this abstraction is needed, but it doesn't seem like it should be difficult to do?",
      "created_at" : "2014-09-29T03:11:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57112551",
      "id" : 57112551,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T03:11:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57112551",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr Sure, but the only time where that'd save a meaningful amount of CPU time is during an attack, and equally the attacker could just use up CPU time with invalid but softfork-safe scripts.\r\n\r\nAgain, note how SCRIPT_VERIFY_NULLDUMMY is implemented in the exact same way.",
      "created_at" : "2014-09-29T03:14:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57112648",
      "id" : 57112648,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T03:14:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57112648",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "I suggest dropping the term \"blacklist\" because that is misleading -- these are not black-listed, they are just non-standard-if-executed. A miner might still mine these and the block is perfectly valid and will be accepted by the network.\r\n\r\nI also don't think the tests belong in script_invalid.json, again because they ARE valid, just not standard. I suggest creating a new test case and a script_nonstandard.json where they can live.\r\n\r\nI'm torn on the added complexity versus the utility here; using a redefined NOP opcode before miners have upgraded and are enforcing it as a new consensus rule will always be risky-- do we imagine we'll be telling people \"yes, you should use OP_FOO on the main network even though we haven't reached mining consensus yet\" ?\r\n",
      "created_at" : "2014-09-29T13:21:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57159140",
      "id" : 57159140,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T13:21:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57159140",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Blacklist is maybe indeed to strong a word, but IMHO the script engine does\nnot need to know or care whether a particular flag is used by the consensus\ncode or as a policy, and script_valid/script_invalid is the right way to\ntest for those.",
      "created_at" : "2014-09-29T14:36:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57170056",
      "id" : 57170056,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T14:36:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57170056",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Script engine doesn't need to know. I want to make life a tiny bit easier for other implementations that are using script_invalid as \"if you accept any of this stuff then your implementation is broken.\"\r\n\r\nI can imagine that having \"valid but not standard\" stuff in script_invalid.json is likely to cause them painful banging-their-heads-on-the-desk-when-they-figure-out-we-added-Yet-Another-Script-Flag.....\r\n",
      "created_at" : "2014-09-29T14:46:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57171672",
      "id" : 57171672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T14:46:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57171672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen We already have lots of \"valid but not standard\" stuff in (script|tx) _ (in)valid.json, e.g. SCRIPT_VERIFY_NULLDUMMY, SCRIPT_VERIFY_STRICTENC, and soon BIP62 flags. I am one of those \"other implementation\" maintainers, and the bitcoinj maintainers are using up-to-date (script|tx)_(in)valid.json tests. Having all the relevant tests in one place is highly convenient.\r\n\r\nre: \"telling people yes, you should use OP_FOO\" - This isn't an informational patch, it's a security fix.\r\n\r\n@sipa How about SCRIPT_VERIFY_REJECT_UPGRADABLE_NOPS? Or SCRIPT_VERIFY_REJECT_RESERVED_NOPS?",
      "created_at" : "2014-09-29T15:00:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57173904",
      "id" : 57173904,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T15:01:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57173904",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "We can add a comment to script_valid saying: \"Flags x/y/z are currently not\nused in consensus code, so if you don't care about them, skip tests that\nmention them\".\n\nThe reason I prefer using flags (and the associated script_valid tests) is\nbecause it allows clear testing of interaction of different flags), and\nthat for most things it results in a smaller and more efficient\nimplementation (no need to iterate through the script multiple times).\n\nFor example STRICTENC would be near impossible to implement outside of the\nactual execution, and alternate implementations very likely care about this\n(to guess whether a wallet transaction may confirm, for example) too. I've\nbeen working on converting test_canonical into cases in script_valid for\nthat reason (@schildbach wondered why they were not in script_valid).\n\nI don't think this is inherently different.",
      "created_at" : "2014-09-29T15:06:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57174816",
      "id" : 57174816,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T15:06:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57174816",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa I'd perfer to avoid adding extra comments like that with the rational being if you're using any of the script/tx test cases, you really should have very good familiarity with the Bitcoin Core C++ code anyway. I do describe what the SCRIPT_VERIFY_BLACKLIST_UPGRADABLE_NOPS flag is thoroughly in a comment where it is defined.\r\n\r\nAgreed re: flag rational - NULLDUMMY is another example that's near impossible to implement outside of actual execution. In general, as much as static analysis is sexy, it's use in Bitcoin has been an overly complex engineering mistake. (just look at how messed up sigop counting is!) A single pass through scripts works fine and avoids extra codepaths.",
      "created_at" : "2014-09-29T15:16:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57176381",
      "id" : 57176381,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T15:16:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57176381",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "RE: other stuff in script_valid: \r\nOkey dokey, then maybe it is time to rename script_valid / script_invalid  to  script_accepted / script_rejected (but I can live with current naming).\r\n\r\n@petertodd : what do you mean by this is a security fix? My point is that if you use an OP_FOO transaction before miners are validating it then you are insecure. Period.  Relying on \"most nodes won't relay and most miners will not mine\" is not secure.\r\n\r\n",
      "created_at" : "2014-09-29T15:42:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57180767",
      "id" : 57180767,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T15:42:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57180767",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen re-read the pull-req description; remember it's written from the perspective of a full-node operator, in particular, think about the case where you are a miner. ",
      "created_at" : "2014-09-29T16:16:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57185992",
      "id" : 57185992,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T16:16:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57185992",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Automatic sanity-testing: FAILED MERGE, see http://jenkins.bluematt.me/pull-tester/p5000_9974941aab08c0f97a116a5947b7d969caece16f/ for test log.\n\nThis pull does not merge cleanly onto current master\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-09-29T17:50:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57200216",
      "id" : 57200216,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-09-29T17:50:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57200216",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "I think this is attempting to fix one particular instance of the more general problem: soft forks are a bad idea that we should just stop referring to. Indeed we should be building ways to *prevent* soft forks and turn them into hard forks. One way to do that would be to introduce a new rule that simply rejects blocks with an unknown version. In the event that the majority switches to making blocks of a new version this would trigger Matt's fork detection logic and potentially shut down the node or at least ensure it no longer serves work, shutting down any attached miners.\r\n\r\nI believe I've laid out the argument for this quite a few times in the past and nobody has really disagreed, but still, the notion of a soft fork keeps cropping up. This patch attempts to fix the fact that in the case where we're no longer following the majority rule set we might accept transactions that the majority would reject, and thus end up mining blocks that (from our perspective) get re-orgd out. Effectively at that point the node would have SPV-like security. But finding ourselves in this situation *at all* is the problem, not the interpretation of specific opcodes.",
      "created_at" : "2014-10-01T10:02:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57442789",
      "id" : 57442789,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-01T10:02:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57442789",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn \"I believe I've laid out the argument for this quite a few times in the past and nobody has really disagreed\" <- People have disagreed repeatedly. Since you're not convinced by our counter arguments - and you're the only person who seems to think soft-forks are bad around here - I strongly suspect that what you're interpreting as 'agreemnt' is actually just that people have stopped spending their valuable time replying to you on this topic at length. Silence doesn't necessarily indicate agreement.\r\n\r\n@gavinandresen Suggestions on a better way to explain this issue that makes it more clear that I'm talking about security for miners/SPV-clients rather than for those creating transactions? When I next get some free time, I should write this issue up for the -dev documentation on bitcoin.org, especially now that we'll be seeing more devs using non-std redeemScripts. (FWIW blockchain.info is now relaying/displaying them: https://twitter.com/petertoddbtc/status/516658110023606272 https://twitter.com/petertoddbtc/status/516662111523835904)",
      "created_at" : "2014-10-01T10:19:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-57444404",
      "id" : 57444404,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-01T10:19:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/57444404",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Needs rebase.",
      "created_at" : "2014-10-06T21:54:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-58106242",
      "id" : 58106242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-06T21:54:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58106242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "This was always my understand of how NOPs should be handled.  I agree that \"blacklist\" is likely to be misunderstood.  \"Discourage use of reserved NO OP opcodes for forward compatiblity\" may be better.\r\n\r\nMike, I strongy disagree with your remarks on soft forks, and I'm unclear as to why you would have taken this position. Extending functionality by precluding otherwise meaningless transactions is a polite and reduced risk way to do new things which maximally respects people's ability to choose to not participate.  Making it so that every possible new feature requires universal flag day deployment for all wallets, miners, full nodes, merchants, etc... would be a great way to deadlock progress and create additional centeralziation (e.g. where local patches or forks carry additional cost so people are stuck using One True Bitcoin of the latest version, like it or not). Some things may best be done that way, in spite of the costs, but for many the soft fork approach is simply superior even if you ignore most of the freedom of choice and consensus costs related to a hard fork change. \r\n\r\nSo long as the soft fork behavior confines itself to activies which are non-standard in the widely deployed network the risk of accidentally forking yourself is avoided. Avoiding issues like that is part of the planning cost of any softforking change.",
      "created_at" : "2014-10-07T00:54:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-58122615",
      "id" : 58122615,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-07T01:20:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58122615",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "As I don't have any more potent way of adding sentiment to the stack than what Gregory Maxwell stated, i'd like to simply add: \"Yeah, what he said\". Bitcoin is still highly experimental is an observation in the standard disclaimer of the LTB network podcast and that is a GOOD thing. Agility and affordance to build Bitcoin is at stake and soft-forking is a tool with discrete utility to the development of this experiment that should not be as casually dismissed as your earlier contribution, there are voices with a different stance and silence is not an indication of positive support of your position. It could simply be a preference for civility, calm and conflict aversion on the part of the silent.",
      "created_at" : "2014-10-07T01:16:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-58124117",
      "id" : 58124117,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-07T01:16:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58124117",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/218085?v=3",
         "events_url" : "https://api.github.com/users/webdeli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/webdeli/followers",
         "following_url" : "https://api.github.com/users/webdeli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/webdeli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/webdeli",
         "id" : 218085,
         "login" : "webdeli",
         "organizations_url" : "https://api.github.com/users/webdeli/orgs",
         "received_events_url" : "https://api.github.com/users/webdeli/received_events",
         "repos_url" : "https://api.github.com/users/webdeli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/webdeli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/webdeli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/webdeli"
      }
   },
   {
      "body" : "Conceptual ACK, but I have to agree that using the term \"blacklist\" is probably bad.",
      "created_at" : "2014-10-07T07:34:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-58147382",
      "id" : 58147382,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-07T07:34:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58147382",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "I don't think we should be relying on IsStandard for preserving the security of full nodes - people can and do change that function on the assumption that it doesn't affect the fully validating nature of their node. Plus, I thought the goal was to relax and eventually remove it over time anyway. Certainly the trend has been to make more things standard. But I agree that if the previous behave were to be non-standard that makes it harder for people to lose money (it presently isn't and anyone who doesn't upgrade to a version including this will still lose out).\r\n\r\nRegardless, I think I made it fully clear what the reasons behind my position are. It is *not* secure to silently downgrade existing nodes to SPV security silently and behind their back. The understanding of everyone who chose to run a full node is \"my computer is verifying the rules of the bitcoin system, miners only affect the ordering of transactions\". That's the original Bitcoin guarantee. A soft fork breaks that.\r\n\r\nAnother way to look at it is like this. If someone discovered a sequence of messages that could be sent to a node that would disable the script engine for the next block received, we would consider that a very serious security problem. Anyone could mine a block rewarding themselves with lots of other peoples coins, then use it to buy things by submitting it to a merchants node. The merchant would end up holding the bag and losing money when the block was re-orgd away (from their POV).\r\n\r\nIf we would not accept an exploit that enabled that, why would we deliberately design new changes to do the same thing?\r\n\r\nFinally, I don't think this is a choice between forward progress and security, I think that's a false dilemma. There have been successful changes to the rule set before via both hard and soft forks. If the benefits are clear I'm sure the community could get majority consensus within six months or less - ultimately if the biggest mining pools upgrade, that's enough to prompt merchants and exchanges to upgrade too.",
      "created_at" : "2014-10-07T09:46:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-58160603",
      "id" : 58160603,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-07T09:46:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58160603",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@petertodd : I'm still confused as to how this improves the upgrade situation.\r\n\r\nTo be concrete, we've got a funding transaction, TxFund. It will look like:\r\n\r\n```\r\nversion: 1   (because the person sending me BTC has not upgraded yet)\r\nscriptPubKey: HASH160 <hash> EQUAL\r\n```\r\n\r\nAnd a redeeming transaction, TxRedeem. It will look like:\r\n\r\n```\r\nversion: 2  (because it is redeemed by upgraded software)\r\nscriptSig: <signatures> <... NOP1...>\r\n```\r\n\r\nTxRedeem is non-standard for any software that does not understand version=2 transactions.\r\n\r\nSo there is no security issue for wallets or miners; they should ignore transactions they do not understand. Bitcoin Core has had code to do that for a long time now; they are not added to the memory pool. However, if they are mined and appear in a block then they ARE added to the wallet (SPV security).\r\n\r\nThere is no issue with old wallets sending funds using TxFund.version=1 transactions; the version of TxRedeem is what is important.\r\n\r\nThere IS an issue if you're sending the funds to somebody running an old wallet receiving funds using TxRedeem.version=2; their wallet will (should) ignore the transaction until it appears in a block.\r\n\r\n-----------\r\n\r\nUntil the network has upgraded (which is indicated by increasing the block.version number), it is unsafe to redeem transactions that expect NOP1 to be anything besides a no-op.\r\n\r\nAfter miners have upgraded and are producing nothing but Block.version=N blocks, it is perfectly secure to broadcast a TxRedeem.version=2 transaction.\r\n\r\n=========\r\n\r\nIf I understand this pull request, then the proposal is that instead of using transaction.version numbers, instead any TxRedeem that uses a NOP will be treated as non-standard.\r\n\r\nThe only case I can see where that matters is if I created a TxRedeem with version=1 to try to cheat and get an old wallet to display 0-confirmation funds that will be rejected by upgraded miners.\r\n\r\nI think the most secure way to prevent that is to have the evaluation rule for the new opcode be:\r\n```\r\nEvaluate as a NOP if transaction.version < tx_version_required OR\r\nblock.version < block_version_required.\r\n```\r\nOr, in other words: the new opcode is only enabled in upgraded transactions in upgraded blocks.\r\n\r\nThat should give a nice belt-and-suspenders for supporting broken miners who might accidently put a TxRedeem.version=2 into their block.version=old blocks.",
      "created_at" : "2014-10-07T15:32:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-58203810",
      "id" : 58203810,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-07T15:36:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58203810",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "@gavinandresen First of all, you're assuming that post-upgrade we reject nVersion < post_upgrade_nVersion blocks. This is problematic as now non-upgraded miners are creating blocks rejected by the rest of the network that to non-upgraded wallets look like real confirmations. Lots of people accept funds based on a single confirmation, so this risks people getting double-spent. With BIP34 - Height in coinbase - we had a good reason to do that: it was a security patch. With new opcodes we don't have that necessity.\r\n\r\nSecondly if post-upgrade nVersion=1 transactions continue to treat NOPx as NOP - only applying the new behavior in nVersion=2 transactions - you have a security flaw. For instance consider this CHECKLOCKTIMEVERIFY-using scriptPubKey for a micropayment channel:\r\n\r\n    IF\r\n        2 <merchant pubkey> <customer pubkey> 2 CHECKMULTISIG\r\n    ELSE\r\n        <timeout> CHECKLOCKTIMEVERIFY DROP\r\n        <customer pubkey> CHECKSIG\r\n    ENDIF\r\n\r\nTo steal the funds the customer just has to create a nVersion=1 transaction spending them and get it mined, as I explained in my mailing list post.(1) If post-upgrade nVersion=1 transactions treat NOP2 as CHECKLOCKTIMEVERIFY too - fixing this exploit - the transaction version number upgrade has no purpose.\r\n\r\n> That should give a nice belt-and-suspenders for supporting broken miners who might accidently put a TxRedeem.version=2 into their block.version=old blocks.\r\n\r\nThis is a case where \"belt-and-suspenders\" makes the rules more complex and less secure, not less. \"Post-upgrade NOP2 becomes CHECKLOCKTIMEVERIFY\" is a very simple rule without any ambiguity or ways to bypass it - exactly what you want when not applying that rule correctly results in money getting stolen, as demonstrated above.\r\n\r\n1) http://www.mail-archive.com/bitcoin-development%40lists.sourceforge.net/msg06247.html",
      "created_at" : "2014-10-13T13:10:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-58889473",
      "id" : 58889473,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-13T13:10:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58889473",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@sipa Rebased.",
      "created_at" : "2014-10-13T13:13:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-58889779",
      "id" : 58889779,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-13T13:13:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58889779",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Oh, and also changed to terminology from 'blacklist' to 'discouraged'",
      "created_at" : "2014-10-13T13:13:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-58889845",
      "id" : 58889845,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-13T13:13:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58889845",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "utACK.",
      "created_at" : "2014-10-13T18:04:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-58931119",
      "id" : 58931119,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-13T18:04:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58931119",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "utACK.\r\n",
      "created_at" : "2014-10-28T18:17:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-60804621",
      "id" : 60804621,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-10-28T18:17:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/60804621",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "Needs rebase.",
      "created_at" : "2014-11-04T14:08:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-61643791",
      "id" : 61643791,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-11-04T14:08:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61643791",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Rebased",
      "created_at" : "2014-11-04T17:19:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-61678212",
      "id" : 61678212,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-11-04T17:19:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61678212",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "ACK.",
      "created_at" : "2014-11-04T18:48:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-61692575",
      "id" : 61692575,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-11-04T18:48:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/61692575",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "utACK; I really think we want this merged before there is a really with generalized P2SH IsStandard().",
      "created_at" : "2014-11-17T16:26:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-63330921",
      "id" : 63330921,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-11-17T16:26:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63330921",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Before there is a release*. Alternatively, we could back out the IsStandard changes. :(\r\n\r\nIdea/Approach ACK but  this needs a rebase to reflect the set_error() changes.",
      "created_at" : "2014-11-18T01:19:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-63407395",
      "id" : 63407395,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-11-18T01:20:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63407395",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "rebased",
      "created_at" : "2014-11-18T03:22:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-63417122",
      "id" : 63417122,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-11-18T03:22:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63417122",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "ACK",
      "created_at" : "2014-11-18T16:33:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-63499660",
      "id" : 63499660,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-11-18T16:33:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63499660",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "Oh wow, pull request 5000 (-:",
      "created_at" : "2014-11-18T16:35:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5000#issuecomment-63499963",
      "id" : 63499963,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5000",
      "updated_at" : "2014-11-18T16:35:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63499963",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/743306?v=3",
         "events_url" : "https://api.github.com/users/schildbach/events{/privacy}",
         "followers_url" : "https://api.github.com/users/schildbach/followers",
         "following_url" : "https://api.github.com/users/schildbach/following{/other_user}",
         "gists_url" : "https://api.github.com/users/schildbach/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/schildbach",
         "id" : 743306,
         "login" : "schildbach",
         "organizations_url" : "https://api.github.com/users/schildbach/orgs",
         "received_events_url" : "https://api.github.com/users/schildbach/received_events",
         "repos_url" : "https://api.github.com/users/schildbach/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/schildbach/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/schildbach/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/schildbach"
      }
   }
]
