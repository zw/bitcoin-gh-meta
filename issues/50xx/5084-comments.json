[
   {
      "body" : "There is already work in progress to modularise Bitcoin Core. I believe the current plan is to start with a libbitcoinscript and libbitcoinconsensus.",
      "created_at" : "2014-10-13T23:21:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58969190",
      "id" : 58969190,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-13T23:21:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58969190",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "@luke-jr this is @BitPay's implementation, which we'd like to use as a foundation for future work.  It'd make sense to consolidate efforts if that is the case Ã¢ÂÂ can you please link us to the appropriate place where the existing efforts are being documented?",
      "created_at" : "2014-10-13T23:25:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58969443",
      "id" : 58969443,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-13T23:25:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58969443",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/129761?v=3",
         "events_url" : "https://api.github.com/users/martindale/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martindale/followers",
         "following_url" : "https://api.github.com/users/martindale/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martindale/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martindale",
         "id" : 129761,
         "login" : "martindale",
         "organizations_url" : "https://api.github.com/users/martindale/orgs",
         "received_events_url" : "https://api.github.com/users/martindale/received_events",
         "repos_url" : "https://api.github.com/users/martindale/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martindale/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martindale/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martindale"
      }
   },
   {
      "body" : "@martindale eg #4692 #4981 #5081 #5082",
      "created_at" : "2014-10-13T23:27:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58969591",
      "id" : 58969591,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-13T23:27:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58969591",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "Yes, this seems like a very bad idea to structure it this way - exposing lots and lots of bitcoin core's internal interfaces externally is very poor library design as those interfaces are nearly guaranteed to change. Instead, the current approach is to take it slow, first by exposing one simple function - script verification, and hopefully adding more to that as is possible.",
      "created_at" : "2014-10-13T23:27:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58969608",
      "id" : 58969608,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-13T23:27:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58969608",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "See-also: https://github.com/TheBlueMatt/bitcoin/commit/6d697838209a12eb5cba4f5f41caca53899b85d1",
      "created_at" : "2014-10-13T23:28:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58969680",
      "id" : 58969680,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-13T23:28:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58969680",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Do note that most of the bugs we've seen in alternate implementations have been in the handling of script details, so this should alleviate many of the issues, and others can be addressed over time.",
      "created_at" : "2014-10-13T23:29:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58969797",
      "id" : 58969797,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-13T23:29:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58969797",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "Ideally, we can find a happy medium between @BitPay's need to move quickly with an implementation of a modular daemon library and the overall community's need to expose a resilient interface but not access internals (i.e., the existing work on #4692)  Ã¢ÂÂ perhaps a solution would be to consider the two distinct needs, such that a `daemonlib` and `libbitcoin` (or `libbitcoinconsensus`?) would exist separately.",
      "created_at" : "2014-10-13T23:39:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58970579",
      "id" : 58970579,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-13T23:39:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58970579",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/129761?v=3",
         "events_url" : "https://api.github.com/users/martindale/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martindale/followers",
         "following_url" : "https://api.github.com/users/martindale/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martindale/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martindale",
         "id" : 129761,
         "login" : "martindale",
         "organizations_url" : "https://api.github.com/users/martindale/orgs",
         "received_events_url" : "https://api.github.com/users/martindale/received_events",
         "repos_url" : "https://api.github.com/users/martindale/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martindale/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martindale/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martindale"
      }
   },
   {
      "body" : "What, specifically, does Bitpay need here? Access to most information about blocks, etc is already available via RPC, and I would argue that, with a bit of testing and running it behind bitcoin core proxies, doing a full node implementation based on a libbitcoinconsensus_verify_script should be reasonably secure.",
      "created_at" : "2014-10-13T23:48:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58971280",
      "id" : 58971280,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-13T23:48:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58971280",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "@martindale (note that libbitcoin already exists and is completely independent from Bitcoin Core)",
      "created_at" : "2014-10-13T23:51:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58971489",
      "id" : 58971489,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-13T23:51:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58971489",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=3",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "body" : "I understand the use case, but I think this is a bad idea without having a stable API we want to commit to.\r\n\r\nEither we'll end up breaking the API continuously, with people perhaps sticking to older versions and not upgrading because of incompatibilities, or we'll end up maintaining crufty old APIs because we can't afford the former to happen.\r\n\r\nWe are working pretty actively towards modularizing, reducing dependencies, and separating different pieces, and help with that is definitely welcome. The planned libscript/consensus/whatever is an example of something with a very simple API and we're really close to tiny near-dependencyless implementation for it.\r\n\r\nI really prefer starting with easily-separatable parts here...",
      "created_at" : "2014-10-14T00:10:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58972958",
      "id" : 58972958,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-14T00:10:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58972958",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "NACK from me as well, I agree with @sipa, @luke-jr, @TheBlueMatt completely.",
      "created_at" : "2014-10-14T00:59:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58976612",
      "id" : 58976612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-14T00:59:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58976612",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/417043?v=3",
         "events_url" : "https://api.github.com/users/theuni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theuni/followers",
         "following_url" : "https://api.github.com/users/theuni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theuni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theuni",
         "id" : 417043,
         "login" : "theuni",
         "organizations_url" : "https://api.github.com/users/theuni/orgs",
         "received_events_url" : "https://api.github.com/users/theuni/received_events",
         "repos_url" : "https://api.github.com/users/theuni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theuni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theuni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theuni"
      }
   },
   {
      "body" : "Direct language bindings typically do have access to internal, oft-changing APIs (ex. SQL db world), as what matters is the downstream JS API.\r\n\r\nThere is no explicit or implicit obligation to make internal APIs stable and maintain them until they are old & crufty.\r\n\r\nI would definitely suggest readers look at linked bitcoind.js and the provided example, as some of the comments seem to miss how the submitted code actually operates, and will be used.\r\n\r\nThis is much closer to a ZMQ-like integration.  bitcoind is embedded in the node.js process(es), and provides a rapid, direct and 100%-consensus-compliant interface via JS.",
      "created_at" : "2014-10-14T01:01:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58976728",
      "id" : 58976728,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-14T01:01:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58976728",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "This pull request is not introducing a node.js library though - it's introducing a libbitcoind.so whose API will break with every code change.\r\n\r\nCan't we have a C++ top-level API implementation that does what the node.js code is doing, and expose that as a library? That way it would be reusable, and not break compatibility...",
      "created_at" : "2014-10-14T01:28:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58978479",
      "id" : 58978479,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-14T01:28:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58978479",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "After [some discussion in IRC](http://bitcoinstats.com/irc/bitcoin-dev/logs/2014/10/14), we're going to investigate using the `-rdynamic` flag to expose this as a dynamic library.  If this works out, we will add commits to this branch as we make said changes.  Thanks to everyone who is providing feedback.",
      "created_at" : "2014-10-14T05:02:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-58990550",
      "id" : 58990550,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-14T05:02:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/58990550",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/129761?v=3",
         "events_url" : "https://api.github.com/users/martindale/events{/privacy}",
         "followers_url" : "https://api.github.com/users/martindale/followers",
         "following_url" : "https://api.github.com/users/martindale/following{/other_user}",
         "gists_url" : "https://api.github.com/users/martindale/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/martindale",
         "id" : 129761,
         "login" : "martindale",
         "organizations_url" : "https://api.github.com/users/martindale/orgs",
         "received_events_url" : "https://api.github.com/users/martindale/received_events",
         "repos_url" : "https://api.github.com/users/martindale/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/martindale/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/martindale/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/martindale"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5084#discussion_r18815968"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18815968"
         }
      },
      "body" : "Nit: Year and just MIT license.",
      "commit_id" : "0b774fbaa3056ec2f8cdb5e3775e24c48b55c75b",
      "created_at" : "2014-10-14T08:59:27Z",
      "diff_hunk" : "@@ -0,0 +1,24 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2013 The Bitcoin developers",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#discussion_r18815968",
      "id" : 18815968,
      "original_commit_id" : "0eacc67b26c9e9ec0e31b79ed70b2bcb6a58c00c",
      "original_position" : 2,
      "path" : "src/bitcoind.h",
      "position" : 2,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084",
      "updated_at" : "2014-10-21T00:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18815968",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5084#discussion_r18815978"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18815978"
         }
      },
      "body" : "Nit: Remove the 1 at the end.",
      "commit_id" : "0b774fbaa3056ec2f8cdb5e3775e24c48b55c75b",
      "created_at" : "2014-10-14T08:59:43Z",
      "diff_hunk" : "@@ -0,0 +1,24 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef _BITCOIN_BITCOIND\n+#define _BITCOIN_BITCOIND 1",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#discussion_r18815978",
      "id" : 18815978,
      "original_commit_id" : "0eacc67b26c9e9ec0e31b79ed70b2bcb6a58c00c",
      "original_position" : 7,
      "path" : "src/bitcoind.h",
      "position" : 7,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084",
      "updated_at" : "2014-10-21T00:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18815978",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5084#discussion_r18815988"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18815988"
         }
      },
      "body" : "Nit: Add header end comment ``// _BITCOIN_BITCOIND``.",
      "commit_id" : "0b774fbaa3056ec2f8cdb5e3775e24c48b55c75b",
      "created_at" : "2014-10-14T08:59:58Z",
      "diff_hunk" : "@@ -0,0 +1,24 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef _BITCOIN_BITCOIND\n+#define _BITCOIN_BITCOIND 1\n+\n+#include \"rpcserver.h\"\n+#include \"rpcclient.h\"\n+#include \"init.h\"\n+#include \"main.h\"\n+#include \"noui.h\"\n+#include \"ui_interface.h\"\n+#include \"util.h\"\n+\n+#include <boost/algorithm/string/predicate.hpp>\n+#include <boost/filesystem.hpp>\n+#include <boost/thread.hpp>\n+\n+extern void DetectShutdownThread(boost::thread_group* threadGroup);\n+extern bool AppInit(int argc, char* argv[]);\n+\n+#endif",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#discussion_r18815988",
      "id" : 18815988,
      "original_commit_id" : "0eacc67b26c9e9ec0e31b79ed70b2bcb6a58c00c",
      "original_position" : 24,
      "path" : "src/bitcoind.h",
      "position" : 24,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084",
      "updated_at" : "2014-10-21T00:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18815988",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5084#discussion_r18816025"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18816025"
         }
      },
      "body" : "Nit: Alphabetical ordering.",
      "commit_id" : "0b774fbaa3056ec2f8cdb5e3775e24c48b55c75b",
      "created_at" : "2014-10-14T09:00:46Z",
      "diff_hunk" : "@@ -0,0 +1,24 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2013 The Bitcoin developers\n+// Distributed under the MIT/X11 software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef _BITCOIN_BITCOIND\n+#define _BITCOIN_BITCOIND 1\n+\n+#include \"rpcserver.h\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#discussion_r18816025",
      "id" : 18816025,
      "original_commit_id" : "0eacc67b26c9e9ec0e31b79ed70b2bcb6a58c00c",
      "original_position" : 9,
      "path" : "src/bitcoind.h",
      "position" : 9,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084",
      "updated_at" : "2014-10-21T00:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18816025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/5084#discussion_r18816082"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18816082"
         }
      },
      "body" : "Nit: Comments from bitcoind.h also apply to this file.",
      "commit_id" : "0b774fbaa3056ec2f8cdb5e3775e24c48b55c75b",
      "created_at" : "2014-10-14T09:01:54Z",
      "diff_hunk" : "@@ -0,0 +1,17 @@\n+// Copyright (c) 2010 Satoshi Nakamoto",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#discussion_r18816082",
      "id" : 18816082,
      "original_commit_id" : "0eacc67b26c9e9ec0e31b79ed70b2bcb6a58c00c",
      "original_position" : 1,
      "path" : "src/rpcwallet.h",
      "position" : 1,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/5084",
      "updated_at" : "2014-10-21T00:41:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/18816082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "> Yes, this seems like a very bad idea to structure it this way - exposing lots and lots of bitcoin core's internal interfaces externally is very poor library design as those interfaces are nearly guaranteed to change.\r\n\r\nYes, I mentioned the burden of keeping what is normally an internal API stable in my PR. However, I see this as a problem for the platform binding maintainers, not the bitcoin core devs. I would rather change my bitcoind.js project with every update than hamstring bitcoin's improvements by forcing it to follow the traditional model of a library with a stable API.\r\n\r\nI originally started writing bitcoind.js based off a fork of bitcoin v0.9.0 (it was just what I was more familiar with at the time, and it happened to be code from roughly 8 months ago). After rebasing onto the latest HEAD, it took me maybe an afternoon to update the code for the new internal functions, classes, types, etc: That's __8 month's__ worth of API changes updated in an afternoon. I don't think it will be that difficult for library authors to keep up, short of a major, major refactor.\r\n\r\nI also want to make it clear, that bitcoind.js, for example, is a __full__ bitcoin node. _It simply **is** bitcoind_, just running inside a node.js process. It creates a wallet, finds peers, and downloads the blockchain as soon as it starts. bitcoind.js is sort of a proof-of-concept right now, but I hope to make it production-ready soon. bitcoind.js can access any block or transaction, listen for block and transaction events as they come in, verify blocks and transactions, send bitcoins with automatically constructed transactions based on any available unspent outputs, or build a transaction manually and broadcast it. It has enough features to be useful.\r\n\r\nUsers of this or other similar libraries essentially can run bitcoind with their own programmatic enhancements. This is a huge step up from simply making RPC calls to a bitcoind server.\r\n\r\nAlso, the coders using bitcoind.js only see the __external documented JS API__. They don't have to deal with the nitty gritty bitcoin core API. As long as whatever library (for whatever platform, be it python, ruby, etc) stays up to date with bitcoin's internal interface, the only people who have to worry about it are the library maintainers, like myself. It isn't as difficult as it may seem at first.\r\n\r\nI may be wrong, but I don't see this as much of a change. It's all hidden behind a compile-time flag. Very little has to change in the codebase. You can simply forget about it if you want to. Don't bother worrying about maintaining a stable API. Leave that to the platform library maintainers, or maybe there could be one well-maintained global wrapper for it as mentioned. Who knows?\r\n\r\nI heard the `-export-dynamic`/`-rdynamic` argument mentioned here and there (which maybe only works with gcc? I suppose it doesn't work with clang, now the compiler of choice for Apple machines), which builds a binary which is both linkable/dlopen'able and executable. I think that's a great idea. Anything to make this simpler is good. Like I said, the build could be improved. That's why I posted this.\r\n\r\nPersonally, I can live with OSX users not being able to use this because I'm a total linux fiend, however, the ability for programmers to test on OSX is also probably important. All that being said, if this option does end up being used, `-fvisibility` would still most likely have to be set to default on all object files (correct me if I'm wrong). This is mentioned in my post and apparent in the diff.\r\n\r\nI've spent the last several months working on two different alternative bitcoin implementations, yet I've decided I want to eventually write my own main wallet based on bitcoind.js or something like it.\r\n\r\nMy first attempt at a bitcoin wallet was using JSON RPC calls to bitcoind, and it was __extremely__ limited. After two pull requests here trying to improve the RPC calls to make them more reasonable, I was shot down twice. So, I guess I took to more drastic measures: I wanted something better, and something that is not an alternative implementation.\r\n\r\nAnyway, that's all I really have to say. Thanks for the consideration at the very least. I was hoping there would be a few more proponents, but whatever the decision, I trust it leads bitcoin in the right direction. I figure most here are likely to be in a better position to determine that than me.",
      "created_at" : "2014-10-14T19:45:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59104543",
      "id" : 59104543,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-14T19:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59104543",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/470564?v=3",
         "events_url" : "https://api.github.com/users/chjj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chjj/followers",
         "following_url" : "https://api.github.com/users/chjj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chjj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chjj",
         "id" : 470564,
         "login" : "chjj",
         "organizations_url" : "https://api.github.com/users/chjj/orgs",
         "received_events_url" : "https://api.github.com/users/chjj/received_events",
         "repos_url" : "https://api.github.com/users/chjj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chjj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chjj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chjj"
      }
   },
   {
      "body" : "There was a long discussion around this on #bitcoin-dev last night, so I'll refer you to that. But, essentially, if BitPay wants to update bitcoind.js after every release, they might as well simply maintain this patch as a part of that effort (its not that big a patch, so it really should be minimal effort). That very clearly sends the right message of \"this is an unsupported way of doing things, and we're only doing it because we have the resources to keep this up-to-date\".",
      "created_at" : "2014-10-14T19:55:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59106116",
      "id" : 59106116,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-14T19:55:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59106116",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/649246?v=3",
         "events_url" : "https://api.github.com/users/TheBlueMatt/events{/privacy}",
         "followers_url" : "https://api.github.com/users/TheBlueMatt/followers",
         "following_url" : "https://api.github.com/users/TheBlueMatt/following{/other_user}",
         "gists_url" : "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/TheBlueMatt",
         "id" : 649246,
         "login" : "TheBlueMatt",
         "organizations_url" : "https://api.github.com/users/TheBlueMatt/orgs",
         "received_events_url" : "https://api.github.com/users/TheBlueMatt/received_events",
         "repos_url" : "https://api.github.com/users/TheBlueMatt/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/TheBlueMatt/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/TheBlueMatt"
      }
   },
   {
      "body" : "The aforementioned stable C++ API is being developed inside-out, small consensus parts first.  It's the right way to do things, but it will be a long while before that is a complete solution akin to what embedding bitcoind offers immediately: bug-for-bug match right down to the database & crypto libs.\r\n\r\nThat is a reasonable solution to offer users; there is nothing BitPay-specific about that solution and use case.  It is normal to upstream changes like this, that will see use out in the wild.\r\n\r\nReiterating comments above, bitcoind.js provides a high speed, asynchronous interface to a running bitcoind.  It produces something akin to the ZMQ integration.\r\n",
      "created_at" : "2014-10-14T20:25:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59110390",
      "id" : 59110390,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-14T20:25:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59110390",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "I very well understand that RPC does not cover all needs - or even just the built-in wallet code as such.\r\n\r\nBut I never got a good answer as to why the abstraction is done in the Javascript layer rather than the C++ layer. If we had a libbitcoind.so which exposed an API similar to what bitcoind.js is doing now (which seems trivial), it would not break on every change, and it would be usable to more users than just Javascript ones.\r\n\r\nThe argument brought up yesterday in #bitcoin-dev against this was that doing it this would make it harder to develop the JS library, as that could otherwise be done by javascript developers. I don't understand this, as you still need the glue code to be written, which needs understanding of the (ever changing) internal Bitcoin Core code.",
      "created_at" : "2014-10-14T21:13:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59117594",
      "id" : 59117594,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-14T21:15:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59117594",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "> But I never got a good answer as to why the abstraction is done in the Javascript layer rather than the C++ layer.\r\n\r\nThat's definitely possible, and a good idea. I would love to write a C++ wrapper and abstract *that* into a library and simply maintain that as frequently as bitcoin itself changes. Libraries for any other language or platform could use that.\r\n\r\nbitcoind.js was just sort of a proof-of-concept for now. A well-maintained C++ wrapper library could be possible in the future with the existence of libbitcoind.so.",
      "created_at" : "2014-10-14T21:40:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59121429",
      "id" : 59121429,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-14T21:41:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59121429",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/470564?v=3",
         "events_url" : "https://api.github.com/users/chjj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chjj/followers",
         "following_url" : "https://api.github.com/users/chjj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chjj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chjj",
         "id" : 470564,
         "login" : "chjj",
         "organizations_url" : "https://api.github.com/users/chjj/orgs",
         "received_events_url" : "https://api.github.com/users/chjj/received_events",
         "repos_url" : "https://api.github.com/users/chjj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chjj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chjj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chjj"
      }
   },
   {
      "body" : "```Reiterating comments above, bitcoind.js provides a high speed, asynchronous interface to a running bitcoind. It produces something akin to the ZMQ integration.```\r\nWhy not implementing a ZMQ equivalent of the RPC (and whetever else you need) and call that from javascript?\r\nThus using ZMQ as the glue.\r\n\r\n```if BitPay wants to update bitcoind.js after every release, they might as well simply maintain this patch as a part of that effort```\r\n+1",
      "created_at" : "2014-10-15T00:05:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59138160",
      "id" : 59138160,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-15T00:05:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59138160",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "I would like to close this pull request, given an easier equivalent short-term solution exists (`-rdynamic`), and that later work can be focussed around more proper encapsulation (either by having a libbitcoind.so, or by building upon the libbitcoinconsensus.so work).",
      "created_at" : "2014-10-15T00:12:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59138865",
      "id" : 59138865,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-15T00:12:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59138865",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I feel your pain @chjj. I also tried to do this once, see #3961. Even without a stable interface there are valid use-cases for something like this. The drawback is that whatever you're developing needs to be developed in lock-step with bitcoin core's internals, but for some uses that can be acceptable.\r\n\r\nFor those uses the only feasible way right now is to manually patch bitcoind to yield a library, or re-implement everything (as bitcoin-pythonlib did). I went with using bitcoin-pythonlib in my case. But I'm not opposed to doing this (IF it can be done without impact to other library-zation efforts such as the consensus library).\r\n\r\nEdit: `-rdynamic` sounds like a nice solution though. I hadn't though of that...\r\n",
      "created_at" : "2014-10-15T07:29:58Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59167793",
      "id" : 59167793,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-15T07:38:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59167793",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Thanks for your sympathy, @laanwj. I really wish this wasn't seemingly dismissed so quickly. I should have figured it's been tried before. I think it can be useful anyway and isn't too intrusive to the current build even if it appears to be a step in the wrong direction at first glance. I do like the way you did it and I'm glad you learned something about libtool (meanwhile I'm still trying to figure all of it out). :)\r\n\r\nAs of now, I've rewritten the `Makefile.daemon.include` to make it much simpler, with no hardcoded list of object files, so bitcoin core devs likely don't have to bother with modifying it much in the future. They can simply ignore it. Furthermore, leave the worrying of the API to the devs using this and wrapping it. There's no need to create a documented stable API.\r\n\r\nAlso, as a minuscule aside, you'll notice I've also renamed bitcoind_main.cpp to bitcoin-main.cpp to match source file naming convention.\r\n\r\n(NOTE: It still doesn't build on OSX: OSX seems to require some esoteric magic in order to work. If someone could give insight into that it would be fantastic. I don't have an OSX installation of my own, so I can't really test too often).",
      "created_at" : "2014-10-21T03:24:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59873834",
      "id" : 59873834,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-21T03:25:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59873834",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/470564?v=3",
         "events_url" : "https://api.github.com/users/chjj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chjj/followers",
         "following_url" : "https://api.github.com/users/chjj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chjj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chjj",
         "id" : 470564,
         "login" : "chjj",
         "organizations_url" : "https://api.github.com/users/chjj/orgs",
         "received_events_url" : "https://api.github.com/users/chjj/received_events",
         "repos_url" : "https://api.github.com/users/chjj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chjj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chjj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chjj"
      }
   },
   {
      "body" : "Does `-rdynamic` not work?",
      "created_at" : "2014-10-21T07:12:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59887958",
      "id" : 59887958,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-21T07:12:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59887958",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa, apparently not on OSX. Which is why I'd like to find a sane way to build this on OSX (people I know have problems just compiling bitcoind itself on Apple machines given OSX's gigantic mess of directory structures, headers, and libraries). I imagine there will be some hurdles.",
      "created_at" : "2014-10-21T09:47:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-59903594",
      "id" : 59903594,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-10-21T09:47:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/59903594",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/470564?v=3",
         "events_url" : "https://api.github.com/users/chjj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/chjj/followers",
         "following_url" : "https://api.github.com/users/chjj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/chjj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/chjj",
         "id" : 470564,
         "login" : "chjj",
         "organizations_url" : "https://api.github.com/users/chjj/orgs",
         "received_events_url" : "https://api.github.com/users/chjj/received_events",
         "repos_url" : "https://api.github.com/users/chjj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/chjj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/chjj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/chjj"
      }
   },
   {
      "body" : "Closing this for now. bitcoinconsensus has been merged for transaction verification, and more of the consensus will be available as library over time. People that need this can find it (or use -rdynamic).\r\n",
      "created_at" : "2014-11-20T15:22:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/5084#issuecomment-63823760",
      "id" : 63823760,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/5084",
      "updated_at" : "2014-11-20T15:22:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/63823760",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
