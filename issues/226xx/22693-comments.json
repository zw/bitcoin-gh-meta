[
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK ",
      "created_at" : "2021-08-13T00:27:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-898061806",
      "id" : 898061806,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII5841h1Xu",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-13T00:27:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/898061806",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/13405205?v=4",
         "events_url" : "https://api.github.com/users/prayank23/events{/privacy}",
         "followers_url" : "https://api.github.com/users/prayank23/followers",
         "following_url" : "https://api.github.com/users/prayank23/following{/other_user}",
         "gists_url" : "https://api.github.com/users/prayank23/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/prayank23",
         "id" : 13405205,
         "login" : "prayank23",
         "node_id" : "MDQ6VXNlcjEzNDA1MjA1",
         "organizations_url" : "https://api.github.com/users/prayank23/orgs",
         "received_events_url" : "https://api.github.com/users/prayank23/received_events",
         "repos_url" : "https://api.github.com/users/prayank23/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/prayank23/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/prayank23"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r697381362"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697381362"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit - return type of `vector::size()` is `vector::size_type` which is `size_t` not `uint32_t`.",
      "commit_id" : "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "created_at" : "2021-08-27T11:55:18Z",
      "diff_hunk" : "@@ -606,6 +607,59 @@ void CWallet::AddToSpends(const uint256& wtxid)\n         AddToSpends(txin.prevout, wtxid);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;\n+    if (std::holds_alternative<std::monostate>(callback)) return true;\n+\n+    found_any = false;\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        for (uint32_t i = 0; i < wtx.tx->vout.size(); ++i) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r697381362",
      "id" : 697381362,
      "line" : 646,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NzM4MTM2Mg==",
      "original_commit_id" : "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "original_line" : 646,
      "original_position" : 48,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 48,
      "pull_request_review_id" : 740440956,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-08-27T11:55:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/697381362",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4500994?v=4",
         "events_url" : "https://api.github.com/users/kristapsk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kristapsk/followers",
         "following_url" : "https://api.github.com/users/kristapsk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kristapsk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kristapsk",
         "id" : 4500994,
         "login" : "kristapsk",
         "node_id" : "MDQ6VXNlcjQ1MDA5OTQ=",
         "organizations_url" : "https://api.github.com/users/kristapsk/orgs",
         "received_events_url" : "https://api.github.com/users/kristapsk/received_events",
         "repos_url" : "https://api.github.com/users/kristapsk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kristapsk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kristapsk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kristapsk"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-08-27T11:58:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-907148399",
      "id" : 907148399,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII5842Efxv",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-27T11:58:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/907148399",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4500994?v=4",
         "events_url" : "https://api.github.com/users/kristapsk/events{/privacy}",
         "followers_url" : "https://api.github.com/users/kristapsk/followers",
         "following_url" : "https://api.github.com/users/kristapsk/following{/other_user}",
         "gists_url" : "https://api.github.com/users/kristapsk/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/kristapsk",
         "id" : 4500994,
         "login" : "kristapsk",
         "node_id" : "MDQ6VXNlcjQ1MDA5OTQ=",
         "organizations_url" : "https://api.github.com/users/kristapsk/orgs",
         "received_events_url" : "https://api.github.com/users/kristapsk/received_events",
         "repos_url" : "https://api.github.com/users/kristapsk/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/kristapsk/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/kristapsk/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/kristapsk"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--006a51241073e994b41acfe9ec718e94-->\n### Code Coverage\nFor detailed information about the code coverage, see the [test coverage report](https://corecheck.dev/bitcoin/bitcoin/pulls/22693).\n<!--021abf342d371248e50ceaed478a90ca-->\n### Reviews\nSee [the guideline](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#code-review) for information on the review process.\n| Type | Reviewers |\n| ---- | --------- |\n| Concept ACK | [ghost](https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-898061806), [theStack](https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1002355864), [pk-b2](https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1113922449), [jonatack](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1052860003), [fjahr](https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1207457719), [ajtowns](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1234173149), [brunoerg](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1272423002) |\n| Stale ACK | [rajarshimaitra](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-835781229), [aureleoules](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1043398864), [kristapsk](https://github.com/bitcoin/bitcoin/pull/22693#pullrequestreview-1787134005) |\n\nIf your review is incorrectly listed, please react with ð to this comment and the bot will ignore it on the next update.\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#28987](https://github.com/bitcoin/bitcoin/pull/28987) (wallet: simplify and batch zap wallet txes process by furszy)\n* [#27865](https://github.com/bitcoin/bitcoin/pull/27865) (wallet: Track no-longer-spendable TXOs separately by achow101)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.\n",
      "created_at" : "2021-09-09T17:33:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-916298781",
      "id" : 916298781,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII5842nZwd",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916298781/reactions"
      },
      "updated_at" : "2024-02-03T17:15:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916298781",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased",
      "created_at" : "2021-12-18T23:50:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-997301052",
      "id" : 997301052,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII5847cZs8",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997301052/reactions"
      },
      "updated_at" : "2021-12-18T23:50:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/997301052",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK",
      "created_at" : "2021-12-29T01:44:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1002355864",
      "id" : 1002355864,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII5847vryY",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1002355864/reactions"
      },
      "updated_at" : "2021-12-29T01:44:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1002355864",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-02-01T20:02:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1027234708",
      "id" : 1027234708,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII5849OluU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1027234708/reactions"
      },
      "updated_at" : "2022-02-01T20:02:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1027234708",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased again",
      "created_at" : "2022-02-09T07:52:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1033451637",
      "id" : 1033451637,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII5849mTh1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033451637/reactions"
      },
      "updated_at" : "2022-02-09T07:52:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1033451637",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Concept ACK\r\n\r\ntACK 8719b084754b8346e1cb551843afd3afcd439b71\r\n\r\nGenerated a new address and verified there is no existing tx associated with it\r\n\r\n```\r\nbitcoin-cli getaddressinfo bcrt1qmdr8t0qu4xps0zu47n8206jsxzcpurh53f7de9\r\n{\r\n  \"address\": \"bcrt1qmdr8t0qu4xps0zu47n8206jsxzcpurh53f7de9\",\r\n  \"scriptPubKey\": \"0014db4675bc1ca983078b95f4cea7ea5030b01e0ef4\",\r\n  \"ismine\": false,\r\n  \"solvable\": false,\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"db4675bc1ca983078b95f4cea7ea5030b01e0ef4\",\r\n  \"ischange\": false,\r\n  \"labels\": [\r\n  ],\r\n  \"use_txids\": [\r\n  ]\r\n}\r\n```\r\n\r\nGenerated a new address and send to address\r\n\r\n```\r\nbitcoin-cli getaddressinfo bcrt1q23zuu74fshheztes967d26vgz6kutkv340st8a\r\n{\r\n  \"address\": \"bcrt1q23zuu74fshheztes967d26vgz6kutkv340st8a\",\r\n  \"scriptPubKey\": \"00145445ce7aa985ef912f302ebcd5698816adc5d991\",\r\n  \"ismine\": false,\r\n  \"solvable\": false,\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"5445ce7aa985ef912f302ebcd5698816adc5d991\",\r\n  \"ischange\": false,\r\n  \"labels\": [\r\n  ],\r\n  \"use_txids\": [\r\n    \"bf446b264f267ab6c0fd9fb8663945b80778cd3967de91acac80e60c7d040328\"\r\n  ]\r\n}\r\n```\r\n\r\nReused address to verify that both txids show up\r\n```\r\nbitcoin-cli getaddressinfo bcrt1q23zuu74fshheztes967d26vgz6kutkv340st8a\r\n{\r\n  \"address\": \"bcrt1q23zuu74fshheztes967d26vgz6kutkv340st8a\",\r\n  \"scriptPubKey\": \"00145445ce7aa985ef912f302ebcd5698816adc5d991\",\r\n  \"ismine\": false,\r\n  \"solvable\": false,\r\n  \"iswatchonly\": false,\r\n  \"isscript\": false,\r\n  \"iswitness\": true,\r\n  \"witness_version\": 0,\r\n  \"witness_program\": \"5445ce7aa985ef912f302ebcd5698816adc5d991\",\r\n  \"ischange\": false,\r\n  \"labels\": [\r\n  ],\r\n  \"use_txids\": [\r\n    \"cb41ac571ddde6622b0b00d1a39b95bfcf04b8d1f9513371d2918497691d611b\",\r\n    \"bf446b264f267ab6c0fd9fb8663945b80778cd3967de91acac80e60c7d040328\"\r\n  ]\r\n}\r\n```",
      "created_at" : "2022-04-30T05:38:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1113922449",
      "id" : 1113922449,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585CZRuR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113922449/reactions"
      },
      "updated_at" : "2022-04-30T05:38:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1113922449",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91447896?v=4",
         "events_url" : "https://api.github.com/users/pk-b2/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pk-b2/followers",
         "following_url" : "https://api.github.com/users/pk-b2/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pk-b2/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pk-b2",
         "id" : 91447896,
         "login" : "pk-b2",
         "node_id" : "MDQ6VXNlcjkxNDQ3ODk2",
         "organizations_url" : "https://api.github.com/users/pk-b2/orgs",
         "received_events_url" : "https://api.github.com/users/pk-b2/received_events",
         "repos_url" : "https://api.github.com/users/pk-b2/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pk-b2/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pk-b2/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pk-b2"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862305743"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862305743"
         }
      },
      "author_association" : "NONE",
      "body" : "Are there any guidelines when a response attribute should be optional vs always present?",
      "commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "created_at" : "2022-04-30T05:39:18Z",
      "diff_hunk" : "@@ -541,6 +541,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862305743",
      "id" : 862305743,
      "line" : 544,
      "node_id" : "PRRC_kwDOABII584zZb3P",
      "original_commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "original_line" : 544,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/addresses.cpp",
      "position" : 4,
      "pull_request_review_id" : 958451252,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862305743/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-30T05:39:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862305743",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91447896?v=4",
         "events_url" : "https://api.github.com/users/pk-b2/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pk-b2/followers",
         "following_url" : "https://api.github.com/users/pk-b2/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pk-b2/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pk-b2",
         "id" : 91447896,
         "login" : "pk-b2",
         "node_id" : "MDQ6VXNlcjkxNDQ3ODk2",
         "organizations_url" : "https://api.github.com/users/pk-b2/orgs",
         "received_events_url" : "https://api.github.com/users/pk-b2/received_events",
         "repos_url" : "https://api.github.com/users/pk-b2/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pk-b2/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pk-b2/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pk-b2"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862306508"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862306508"
         }
      },
      "author_association" : "NONE",
      "body" : "nit: Seems Initialize* with a Z is used across the code base",
      "commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "created_at" : "2022-04-30T05:40:56Z",
      "diff_hunk" : "@@ -656,6 +657,59 @@ void CWallet::AddToSpends(const uint256& wtxid, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtxid, batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862306508",
      "id" : 862306508,
      "line" : 669,
      "node_id" : "PRRC_kwDOABII584zZcDM",
      "original_commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "original_line" : 669,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 21,
      "pull_request_review_id" : 958451338,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862306508/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-30T05:40:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862306508",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91447896?v=4",
         "events_url" : "https://api.github.com/users/pk-b2/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pk-b2/followers",
         "following_url" : "https://api.github.com/users/pk-b2/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pk-b2/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pk-b2",
         "id" : 91447896,
         "login" : "pk-b2",
         "node_id" : "MDQ6VXNlcjkxNDQ3ODk2",
         "organizations_url" : "https://api.github.com/users/pk-b2/orgs",
         "received_events_url" : "https://api.github.com/users/pk-b2/received_events",
         "repos_url" : "https://api.github.com/users/pk-b2/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pk-b2/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pk-b2/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pk-b2"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862307522"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862307522"
         }
      },
      "author_association" : "NONE",
      "body" : "Does it make sense to keep the naming of this enum more generic to cover the initialization of the entire address book than just the used attribute?\r\n\r\ne.g. `enum class AddressBook { Initialize, Skip_Initialization }`",
      "commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "created_at" : "2022-04-30T05:45:25Z",
      "diff_hunk" : "@@ -666,7 +673,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     CAmount GetDebit(const CTransaction& tx, const isminefilter& filter) const;\n     void chainStateFlushed(const CBlockLocator& loc) override;\n \n-    DBErrors LoadWallet();\n+    enum class do_init_used_flag { Init, Skip };",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862307522",
      "id" : 862307522,
      "line" : 676,
      "node_id" : "PRRC_kwDOABII584zZcTC",
      "original_commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "original_line" : 676,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 40,
      "pull_request_review_id" : 958451589,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862307522/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-30T05:45:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862307522",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91447896?v=4",
         "events_url" : "https://api.github.com/users/pk-b2/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pk-b2/followers",
         "following_url" : "https://api.github.com/users/pk-b2/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pk-b2/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pk-b2",
         "id" : 91447896,
         "login" : "pk-b2",
         "node_id" : "MDQ6VXNlcjkxNDQ3ODk2",
         "organizations_url" : "https://api.github.com/users/pk-b2/orgs",
         "received_events_url" : "https://api.github.com/users/pk-b2/received_events",
         "repos_url" : "https://api.github.com/users/pk-b2/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pk-b2/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pk-b2/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pk-b2"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862308005"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862308005"
         }
      },
      "author_association" : "NONE",
      "body" : "Looking at other RPCs I tried to find a similar naming convention for txids.\r\n\r\nI found `listreceivedbyaddress` which uses an array called `txids` and `getblock`  that uses `tx` to return transaction ids in their responses.\r\n\r\nNot really consistent, but I was wondering if it would make sense to follow the `listreceivedbyaddress` response here and call the attribute `txids` as well instead of `use_txids`?",
      "commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "created_at" : "2022-04-30T05:53:06Z",
      "diff_hunk" : "@@ -541,6 +541,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862308005",
      "id" : 862308005,
      "line" : 544,
      "node_id" : "PRRC_kwDOABII584zZcal",
      "original_commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "original_line" : 544,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/addresses.cpp",
      "position" : 4,
      "pull_request_review_id" : 958452026,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862308005/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-30T05:53:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862308005",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91447896?v=4",
         "events_url" : "https://api.github.com/users/pk-b2/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pk-b2/followers",
         "following_url" : "https://api.github.com/users/pk-b2/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pk-b2/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pk-b2",
         "id" : 91447896,
         "login" : "pk-b2",
         "node_id" : "MDQ6VXNlcjkxNDQ3ODk2",
         "organizations_url" : "https://api.github.com/users/pk-b2/orgs",
         "received_events_url" : "https://api.github.com/users/pk-b2/received_events",
         "repos_url" : "https://api.github.com/users/pk-b2/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pk-b2/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pk-b2/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pk-b2"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862309374"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862309374"
         }
      },
      "author_association" : "NONE",
      "body" : "I haven't done any measurements with a large historical wallet, but is it a performance concern when we immediately initialize the address book on wallet creation?\r\n\r\nIs it worth considering to lazy-initialize the address book on first use of `FindScriptPubKeyUsed`?",
      "commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "created_at" : "2022-04-30T06:09:58Z",
      "diff_hunk" : "@@ -666,7 +673,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     CAmount GetDebit(const CTransaction& tx, const isminefilter& filter) const;\n     void chainStateFlushed(const CBlockLocator& loc) override;\n \n-    DBErrors LoadWallet();\n+    enum class do_init_used_flag { Init, Skip };\n+    DBErrors LoadWallet(const do_init_used_flag do_init_used_flag_val = do_init_used_flag::Init);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862309374",
      "id" : 862309374,
      "line" : 677,
      "node_id" : "PRRC_kwDOABII584zZcv-",
      "original_commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "original_line" : 677,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 41,
      "pull_request_review_id" : 958453003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862309374/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-30T06:09:58Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862309374",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91447896?v=4",
         "events_url" : "https://api.github.com/users/pk-b2/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pk-b2/followers",
         "following_url" : "https://api.github.com/users/pk-b2/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pk-b2/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pk-b2",
         "id" : 91447896,
         "login" : "pk-b2",
         "node_id" : "MDQ6VXNlcjkxNDQ3ODk2",
         "organizations_url" : "https://api.github.com/users/pk-b2/orgs",
         "received_events_url" : "https://api.github.com/users/pk-b2/received_events",
         "repos_url" : "https://api.github.com/users/pk-b2/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pk-b2/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pk-b2/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pk-b2"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862310844"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862310844"
         }
      },
      "author_association" : "NONE",
      "body" : "Would something like `FindTransactions` fit better here?",
      "commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "created_at" : "2022-04-30T06:26:38Z",
      "diff_hunk" : "@@ -463,6 +468,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     bool UnlockAllCoins() EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     void ListLockedCoins(std::vector<COutPoint>& vOutpts) const EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n \n+    bool FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback = std::monostate()) const EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r862310844",
      "id" : 862310844,
      "line" : 471,
      "node_id" : "PRRC_kwDOABII584zZdG8",
      "original_commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "original_line" : 471,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 30,
      "pull_request_review_id" : 958453921,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862310844/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-04-30T06:26:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862310844",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/91447896?v=4",
         "events_url" : "https://api.github.com/users/pk-b2/events{/privacy}",
         "followers_url" : "https://api.github.com/users/pk-b2/followers",
         "following_url" : "https://api.github.com/users/pk-b2/following{/other_user}",
         "gists_url" : "https://api.github.com/users/pk-b2/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/pk-b2",
         "id" : 91447896,
         "login" : "pk-b2",
         "node_id" : "MDQ6VXNlcjkxNDQ3ODk2",
         "organizations_url" : "https://api.github.com/users/pk-b2/orgs",
         "received_events_url" : "https://api.github.com/users/pk-b2/received_events",
         "repos_url" : "https://api.github.com/users/pk-b2/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/pk-b2/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/pk-b2/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/pk-b2"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">Not sure if you have seen it but we are already keeping track of the used destinations in a slightly different way, inside the address book entry destdata field, under key called \"used\". (check CWallet::IsAddressUsed and CWallet::SetAddressUsed).\r\n\r\nThat's not the same thing, despite its confusing name.",
      "created_at" : "2022-06-01T16:33:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1143849130",
      "id" : 1143849130,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585ELcCq",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1143849130/reactions"
      },
      "updated_at" : "2022-06-01T16:33:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1143849130",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > Not sure if you have seen it but we are already keeping track of the used destinations in a slightly different way, inside the address book entry destdata field, under key called \"used\". (check CWallet::IsAddressUsed and CWallet::SetAddressUsed).\r\n> \r\n> That's not the same thing, despite its confusing name.\r\n\r\nHmm, the storage part of the flow seems to be what you have in 698658e3 with a single difference:\r\n\r\n-> Current Flow:\r\n When the wallet receives a transaction, `AddToWallet` loops over the tx inputs and calls `SetSpentKeyState`,  which extracts the destinations and mark the ones owned by the wallet as \"used\" inside the address book entry `destdata` map.\r\n\r\nThen `IsAddressUsed` merely checks if the \"used\" key is on the address book entry `destdata` map. Which denotes that the wallet received funds to that specific destination (so, it's \"used\").\r\n\r\n-> The difference with 698658e3:\r\nIt does not mark the tx outputs destinations as \"used\" (which is what my commit implements).\r\n\r\nAm I missing something?\r\n\r\n------------------------------------------------------\r\n\r\nAside from that, outside of the scope of this PR, I do agree that the \"how this is currently used\" part of the flow is misleading. Mostly because `IsSpentKey`(which receives an outpoint to check if there is a known output that uses the same destination inside the wallet) is called from `AvailableCoins` without much context.\r\nBut.. for that, I have a PR that cleans up the `IsSpentKey` function a bit #25005.",
      "created_at" : "2022-06-01T19:33:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1144053060",
      "id" : 1144053060,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585EMN1E",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144053060/reactions"
      },
      "updated_at" : "2022-06-01T19:33:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144053060",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : ">Am I missing something?\r\n\r\nThe destdata key deals with and is marked by inputs. But when an address is used, it's by an output, not an input.",
      "created_at" : "2022-06-02T04:38:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1144428398",
      "id" : 1144428398,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585ENpdu",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144428398/reactions"
      },
      "updated_at" : "2022-06-02T04:38:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1144428398",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> > Am I missing something?\r\n> \r\n> The destdata key deals with and is marked by inputs. But when an address is used, it's by an output, not an input.\r\n\r\nActually, that is what I tried to express in the \"The difference with 698658e3\" paragraph of my previous comment:\r\n\r\n> It does not mark the tx outputs destinations as \"used\" (which is what my commit implements).\r\n\r\nSo I think that, up until there, we are sync then.\r\n\r\nThe \"marked by inputs\" can be described as: \"get the prev-output scriptpubkey, extract the destination and mark it as used\". Which is what currently have. Now for this new feature, we need to add the \"used\" mark for the outputs of the transactions created by the wallet as well.\r\n\r\nSo, my point is to generalize the âusedâ concept that we already have:\r\nSurely we can agree that the âusedâ flag (implemented in one way or another) is merely a boolean inside each address book entry that tells us, in an accessible manner, if the destination already appeared on a transaction or not.\r\nDonât care if the destination got marked as âusedâ because it appeared on an input (prev-tx-output) or an output of a tx that we created. In other words, shouldnât care whether the address book entry purpose is âreceiveâ or âsendâ, at the end we are just looking for a flag that can be used to signal something like âhey, this destination was already usedâ.\r\n\r\nOn top of this single place storage solution, we can know whether the destination is from the wallet or not based on the \"purpose\" field or the `IsMine` result to distinguish where to use the information etc.",
      "created_at" : "2022-06-03T19:46:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1146306419",
      "id" : 1146306419,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585EUz9z",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1146306419/reactions"
      },
      "updated_at" : "2022-06-06T15:36:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1146306419",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5377650?v=4",
         "events_url" : "https://api.github.com/users/furszy/events{/privacy}",
         "followers_url" : "https://api.github.com/users/furszy/followers",
         "following_url" : "https://api.github.com/users/furszy/following{/other_user}",
         "gists_url" : "https://api.github.com/users/furszy/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/furszy",
         "id" : 5377650,
         "login" : "furszy",
         "node_id" : "MDQ6VXNlcjUzNzc2NTA=",
         "organizations_url" : "https://api.github.com/users/furszy/orgs",
         "received_events_url" : "https://api.github.com/users/furszy/received_events",
         "repos_url" : "https://api.github.com/users/furszy/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/furszy/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/furszy/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/furszy"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928112850"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928112850"
         }
      },
      "author_association" : "MEMBER",
      "body" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d can avoid a temporary in this loop and document with named arg instead\r\n\r\n```diff\r\n void CWallet::InitialiseAddressBookUsed()\r\n {\r\n     for (const auto& entry : mapWallet) {\r\n-        const CWalletTx& wtx = entry.second;\r\n-        UpdateAddressBookUsed(wtx);\r\n+        UpdateAddressBookUsed(/*wtx=*/entry.second);\r\n     }\r\n }\r\n```\r\n",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-23T11:30:35Z",
      "diff_hunk" : "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928112850",
      "id" : 928112850,
      "line" : 689,
      "node_id" : "PRRC_kwDOABII5843UeDS",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 689,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 25,
      "pull_request_review_id" : 1048528936,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928112850/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-23T11:37:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928112850",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928113274"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928113274"
         }
      },
      "author_association" : "MEMBER",
      "body" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d  If an `if` only has a single-statement `then`-clause, it can appear on the same line as the `if`, without braces. In every other case, per our developer notes braces are required (due to CVE-2014-1266, the Apple \"goto fail\" vulnerability).\r\n\r\n```diff\r\n-    if (nLoadWalletRet != DBErrors::LOAD_OK)\r\n+    if (nLoadWalletRet != DBErrors::LOAD_OK) {\r\n         return nLoadWalletRet;\r\n+    }\r\n```\r\n",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-23T11:35:31Z",
      "diff_hunk" : "@@ -2180,7 +2235,12 @@ DBErrors CWallet::LoadWallet()\n         assert(m_internal_spk_managers.empty());\n     }\n \n-    return nLoadWalletRet;\n+    if (nLoadWalletRet != DBErrors::LOAD_OK)\n+        return nLoadWalletRet;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928113274",
      "id" : 928113274,
      "line" : 2239,
      "node_id" : "PRRC_kwDOABII5843UeJ6",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 2239,
      "original_position" : 91,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 91,
      "pull_request_review_id" : 1048528936,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928113274/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-23T11:37:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928113274",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928113358"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928113358"
         }
      },
      "author_association" : "MEMBER",
      "body" : "https://github.com/bitcoin/bitcoin/commit/2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d suggest ordering these two methods here and in the cpp file with initialize first, then update.",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-23T11:36:42Z",
      "diff_hunk" : "@@ -264,6 +266,9 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     void AddToSpends(const COutPoint& outpoint, const uint256& wtxid, WalletBatch* batch = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     void AddToSpends(const CWalletTx& wtx, WalletBatch* batch = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n \n+    void UpdateAddressBookUsed(const CWalletTx&) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+    void InitialiseAddressBookUsed() EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928113358",
      "id" : 928113358,
      "line" : 270,
      "node_id" : "PRRC_kwDOABII5843UeLO",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 270,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 21,
      "pull_request_review_id" : 1048528936,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928113358/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-23T11:37:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928113358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928265541"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928265541"
         }
      },
      "author_association" : "MEMBER",
      "body" : "16ad0586 Missing run-time lock assertion here.\r\n```diff\r\n bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\r\n {\r\n+    AssertLockHeld(cs_wallet);\r\n     bool found_any = false;\r\n```",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-24T14:20:43Z",
      "diff_hunk" : "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928265541",
      "id" : 928265541,
      "line" : 694,
      "node_id" : "PRRC_kwDOABII5843VDVF",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 694,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 30,
      "pull_request_review_id" : 1048649603,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928265541/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-24T15:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928265541",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928266481"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928266481"
         }
      },
      "author_association" : "MEMBER",
      "body" : "16ad0586 Maybe replace the `found_any` localvar and the loops with lambda closures / `std::any_of`.",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-24T14:26:48Z",
      "diff_hunk" : "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928266481",
      "id" : 928266481,
      "line" : 706,
      "node_id" : "PRRC_kwDOABII5843VDjx",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 706,
      "original_position" : 42,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 42,
      "pull_request_review_id" : 1048649603,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928266481/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-24T15:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928266481",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928267306"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928267306"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, I think using `uint32_t` instead of `size_t` here is adding a type conversion to the lookup of ` const auto& output = wtx.tx->vout[i];` invoked on every loop iteration. Not sure if any compilers mind a size_t being passed into `std::get<std::function<void(const CWalletTx&, uint32_t)>>(callback)(wtx, i);` at the end of the loop but in the worst case could cast it to uint32 in that call if needed.\r\n\r\n```suggestion\r\n        for (size_t i = 0; i < wtx.tx->vout.size(); ++i) {\r\n```\r\n",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-24T14:32:34Z",
      "diff_hunk" : "@@ -606,6 +607,59 @@ void CWallet::AddToSpends(const uint256& wtxid)\n         AddToSpends(txin.prevout, wtxid);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;\n+    if (std::holds_alternative<std::monostate>(callback)) return true;\n+\n+    found_any = false;\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        for (uint32_t i = 0; i < wtx.tx->vout.size(); ++i) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928267306",
      "id" : 928267306,
      "in_reply_to_id" : 697381362,
      "line" : 712,
      "node_id" : "PRRC_kwDOABII5843VDwq",
      "original_commit_id" : "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "original_line" : 712,
      "original_position" : 48,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 48,
      "pull_request_review_id" : 1048649603,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928267306/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-24T15:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928267306",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928270626"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928270626"
         }
      },
      "author_association" : "MEMBER",
      "body" : "16ad0586fbe6d15673a03f8b91db54fe0419bc08 Two unnecessary temporaries/moves can be avoided in this loop.\r\n\r\n```diff\r\n-            const auto& output = wtx.tx->vout[i];\r\n-            if (keys.count(output.scriptPubKey)) {\r\n+            if (keys.count(wtx.tx->vout[i].scriptPubKey)) {\r\n                 found_any = true;\r\n-                const auto callback_type = callback.index();\r\n-                if (callback_type == 1) {\r\n+                if (callback.index() == 1) {\r\n```\r\n",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-24T14:56:20Z",
      "diff_hunk" : "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;\n+    if (std::holds_alternative<std::monostate>(callback)) return true;\n+\n+    found_any = false;\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        for (uint32_t i = 0; i < wtx.tx->vout.size(); ++i) {\n+            const auto& output = wtx.tx->vout[i];\n+            if (keys.count(output.scriptPubKey)) {\n+                found_any = true;\n+                const auto callback_type = callback.index();\n+                if (callback_type == 1) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928270626",
      "id" : 928270626,
      "line" : 717,
      "node_id" : "PRRC_kwDOABII5843VEki",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 717,
      "original_position" : 53,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 53,
      "pull_request_review_id" : 1048649603,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928270626/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-24T15:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928270626",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928273686"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928273686"
         }
      },
      "author_association" : "MEMBER",
      "body" : "94b20a9\r\n```suggestion\r\n    pwallet->FindScriptPubKeyUsed(std::set<CScript>{scriptPubKey}, [&use_txids](const CWalletTx& wtx) {\r\n```",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-24T15:18:53Z",
      "diff_hunk" : "@@ -632,6 +636,15 @@ RPCHelpMan getaddressinfo()\n     }\n     ret.pushKV(\"labels\", std::move(labels));\n \n+    // NOTE: Intentionally not special-casing a single txid: while addresses\n+    // should never be reused, it's not unexpected to have RBF result in\n+    // multiple txids for a single use.\n+    UniValue use_txids(UniValue::VARR);\n+    pwallet->FindScriptPubKeyUsed(std::set<CScript>{scriptPubKey}, [&use_txids](const CWalletTx&wtx) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928273686",
      "id" : 928273686,
      "line" : 643,
      "node_id" : "PRRC_kwDOABII5843VFUW",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 643,
      "original_position" : 19,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/addresses.cpp",
      "position" : 19,
      "pull_request_review_id" : 1048649603,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928273686/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-24T15:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928273686",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928276132"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928276132"
         }
      },
      "author_association" : "MEMBER",
      "body" : "94b20a9f9e81e5b0ef45a0259b81be83b602c325\r\n\r\n- `s/which/that/` (\"which\" would require a comma-space preceding it) \r\n- maybe add \"have already\" and `s/the/this/` \r\n\r\n```suggestion\r\n                            {RPCResult::Type::STR_HEX, \"txid\", \"The ids of transactions involving this wallet that have already received with this address\"},\r\n```",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-24T15:37:32Z",
      "diff_hunk" : "@@ -541,6 +541,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"The ids of transactions involving this wallet which received with the address\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928276132",
      "id" : 928276132,
      "line" : 546,
      "node_id" : "PRRC_kwDOABII5843VF6k",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 546,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/addresses.cpp",
      "position" : 6,
      "pull_request_review_id" : 1048649603,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928276132/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-24T15:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928276132",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928278427"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928278427"
         }
      },
      "author_association" : "MEMBER",
      "body" : "94b20a9f9e81e5b0ef45a0259b81be83b602c325\r\n\r\n```suggestion\r\n        # Test getaddressinfo 'use_txids' field\r\n```\r\n\r\n-----\r\n\r\nCould test with multiple txids\r\n```diff\r\n-        # Test getaddressinfo 'txids' field\r\n-        txid = self.nodes[0].sendtoaddress(\"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\", 1)\r\n-        address_info = self.nodes[0].getaddressinfo(\"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\")\r\n-        assert_equal(address_info['use_txids'], [txid])\r\n+        # Test getaddressinfo 'use_txids' field\r\n+        addr = \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\"\r\n+        txid_1 = self.nodes[0].sendtoaddress(addr, 1)\r\n+        address_info = self.nodes[0].getaddressinfo(addr)\r\n+        assert_equal(address_info['use_txids'], [txid_1])\r\n+        txid_2 = self.nodes[0].sendtoaddress(addr, 1)\r\n+        address_info = self.nodes[0].getaddressinfo(addr)\r\n+        assert_equal(address_info['use_txids'], [txid_1, txid_2])\r\n```\r\n",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-24T15:55:36Z",
      "diff_hunk" : "@@ -642,6 +642,12 @@ def run_test(self):\n         assert not address_info[\"iswatchonly\"]\n         assert not address_info[\"isscript\"]\n         assert not address_info[\"ischange\"]\n+        assert_equal(address_info['use_txids'], [])\n+\n+        # Test getaddressinfo 'txids' field",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r928278427",
      "id" : 928278427,
      "line" : 647,
      "node_id" : "PRRC_kwDOABII5843VGeb",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 647,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/wallet_basic.py",
      "position" : 6,
      "pull_request_review_id" : 1048649603,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928278427/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-24T15:56:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/928278427",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r931310730"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931310730"
         }
      },
      "author_association" : "MEMBER",
      "body" : "3ee478b9cba305dc87de1ad093ca14a89e58b516 it looks like this codebase uses PascalCase for enum classes, and doing so would also make the code more readable, for example easier to distinguish the PascalCase type from the snake_cased param name in function definitions",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-27T17:13:27Z",
      "diff_hunk" : "@@ -666,7 +673,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     CAmount GetDebit(const CTransaction& tx, const isminefilter& filter) const;\n     void chainStateFlushed(const CBlockLocator& loc) override;\n \n-    DBErrors LoadWallet();\n+    enum class do_init_used_flag { Init, Skip };",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r931310730",
      "id" : 931310730,
      "in_reply_to_id" : 862307522,
      "line" : 670,
      "node_id" : "PRRC_kwDOABII5843gqyK",
      "original_commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "original_line" : 670,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 40,
      "pull_request_review_id" : 1052860003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931310730/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-27T17:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931310730",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r931319358"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931319358"
         }
      },
      "author_association" : "MEMBER",
      "body" : "3ee478b9cba305dc87de1ad093ca14a89e58b516 a test demonstrating the bug would be nice ",
      "commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "created_at" : "2022-07-27T17:23:22Z",
      "diff_hunk" : "@@ -168,7 +168,8 @@ bool ExecuteWalletToolFunc(const ArgsManager& args, const std::string& command)\n         DatabaseOptions options;\n         ReadDatabaseArgs(args, options);\n         options.require_existing = true;\n-        const std::shared_ptr<CWallet> wallet_instance = MakeWallet(name, path, args, options);\n+        // NOTE: We need to skip initialisation of the m_used flag, or else the address book count might be wrong",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r931319358",
      "id" : 931319358,
      "line" : 171,
      "node_id" : "PRRC_kwDOABII5843gs4-",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 171,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/wallet/wallettool.cpp",
      "position" : 23,
      "pull_request_review_id" : 1052860003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931319358/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-27T17:28:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931319358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r931322373"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931322373"
         }
      },
      "author_association" : "MEMBER",
      "body" : "3ee478b9cba305dc87de1ad093ca14a89e58b516 it may be more maintainable and explicit to pass the value rather than use a default (there aren't too many callers)",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-07-27T17:26:53Z",
      "diff_hunk" : "@@ -47,7 +47,7 @@ static void WalletCreate(CWallet* wallet_instance, uint64_t wallet_creation_flag\n     wallet_instance->TopUpKeyPool();\n }\n \n-static const std::shared_ptr<CWallet> MakeWallet(const std::string& name, const fs::path& path, const ArgsManager& args, DatabaseOptions options)\n+static const std::shared_ptr<CWallet> MakeWallet(const std::string& name, const fs::path& path, const ArgsManager& args, DatabaseOptions options, CWallet::do_init_used_flag do_init_used_flag_val = CWallet::do_init_used_flag::Init)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r931322373",
      "id" : 931322373,
      "line" : 50,
      "node_id" : "PRRC_kwDOABII5843gtoF",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 50,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/wallettool.cpp",
      "position" : 5,
      "pull_request_review_id" : 1052860003,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931322373/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-07-29T11:57:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/931322373",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-08-05T20:14:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1206820854",
      "id" : 1206820854,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585H7p_2",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1206820854/reactions"
      },
      "updated_at" : "2022-08-05T20:14:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1206820854",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK, will wait for rebase and addressing of previous comments before going into a deeper review",
      "created_at" : "2022-08-07T18:04:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1207457719",
      "id" : 1207457719,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585H-Fe3",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1207457719/reactions"
      },
      "updated_at" : "2022-08-07T18:04:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1207457719",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Needs rebase/update.",
      "created_at" : "2022-09-22T19:09:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1255439370",
      "id" : 1255439370,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585K1HwK",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255439370/reactions"
      },
      "updated_at" : "2022-09-22T19:09:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1255439370",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r981629071"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981629071"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Wallet: Keep track of what addresses are used in wallet transactions (memory only)\" (2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d)\r\n\r\nThe other class members aren't documented very well, but it would be good to at least document this new member. Maybe `//! Whether address is the destination of any wallet transation. Unlike other fields in address data struct, the used value is determined at runtime and not serialized as part of address data.`?\r\n\r\nIt might also be good to rename this field since there is already an existing `\"used\"` field associated with wallet addresses, stored in the `StringMap destdata` `\"used\"` key. (At one point I actually had a PR that [converted the destdata \"used\" key into a bool m_used field](https://github.com/bitcoin/bitcoin/pull/18608/commits/7a05b1dee2fa68b32bfb19e273fb55a5b3836a3e#diff-9ce137cd784ea308778842120aa2af6d2bb8369485b71f25e72b2a32cf0a5b21) which I could reopen if it helps make the data representation clearer.)",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-09-27T19:22:06Z",
      "diff_hunk" : "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r981629071",
      "id" : 981629071,
      "line" : 214,
      "node_id" : "PRRC_kwDOABII5846gniP",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 214,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 14,
      "pull_request_review_id" : 1122559894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981629071/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-28T18:22:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981629071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r981649044"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981649044"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Wallet: Add fairly-efficient [negative] check that an address is not known to be used\" (16ad0586fbe6d15673a03f8b91db54fe0419bc08)\r\n\r\nI understand this code may need to get more complicated in a future PR, but in this PR I think it would be better to replace\r\n\r\n```c++\r\nstd::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>\r\n```\r\n\r\nwith a simpler:\r\n\r\n```c++\r\nstd::function<void(const CWalletTx&)>\r\n```\r\n\r\nIt would make this PR easier to review and understand, and make test coverage better by not adding untested code. And `std::function` is nullable, so the monostate case could just correspond to the null case.\r\n",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-09-27T19:47:33Z",
      "diff_hunk" : "@@ -689,6 +690,42 @@ void CWallet::InitialiseAddressBookUsed()\n     }\n }\n \n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r981649044",
      "id" : 981649044,
      "line" : 713,
      "node_id" : "PRRC_kwDOABII5846gsaU",
      "original_commit_id" : "16ad0586fbe6d15673a03f8b91db54fe0419bc08",
      "original_line" : 713,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 29,
      "pull_request_review_id" : 1122559894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981649044/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-28T18:22:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/981649044",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r982705832"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982705832"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "In commit \"Bugfix: Wallet: Don't initialise \"used\" flag for wallet tool \"info\" command\" (3ee478b9cba305dc87de1ad093ca14a89e58b516)\r\n\r\nIIUC this line causes a problem which is then \"fixed\" by the last commit in this PR \"Bugfix: Wallet: Don't initialise \"used\" flag for wallet tool \"info\" command\" (3ee478b9cba305dc87de1ad093ca14a89e58b516). The problem is that it inserts new addresses into the address book which did not previously exist.\r\n\r\nBut I wonder if it would work to replace this with:\r\n\r\n```c++\r\nauto found = m_address_book.find(dest);\r\nif (found != m_address_book.end()) found->m_used = true;\r\n```",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-09-28T17:54:03Z",
      "diff_hunk" : "@@ -672,6 +672,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r982705832",
      "id" : 982705832,
      "line" : 709,
      "node_id" : "PRRC_kwDOABII5846kuao",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 709,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 25,
      "pull_request_review_id" : 1122559894,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982705832/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-09-28T18:22:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/982705832",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7133040?v=4",
         "events_url" : "https://api.github.com/users/ryanofsky/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ryanofsky/followers",
         "following_url" : "https://api.github.com/users/ryanofsky/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ryanofsky/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ryanofsky",
         "id" : 7133040,
         "login" : "ryanofsky",
         "node_id" : "MDQ6VXNlcjcxMzMwNDA=",
         "organizations_url" : "https://api.github.com/users/ryanofsky/orgs",
         "received_events_url" : "https://api.github.com/users/ryanofsky/received_events",
         "repos_url" : "https://api.github.com/users/ryanofsky/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ryanofsky/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ryanofsky"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019448467"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019448467"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No? It needs to set m_used regardless of whether it's already in the addressbook or not...",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T17:53:03Z",
      "diff_hunk" : "@@ -672,6 +672,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019448467",
      "id" : 1019448467,
      "in_reply_to_id" : 982705832,
      "line" : 709,
      "node_id" : "PRRC_kwDOABII5848w4yT",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 709,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 25,
      "pull_request_review_id" : 1176247851,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019448467/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T17:53:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019448467",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019451727"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019451727"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't see any benefit to this. It just makes the code less readable?",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T17:56:23Z",
      "diff_hunk" : "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019451727",
      "id" : 1019451727,
      "in_reply_to_id" : 928112850,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5848w5lP",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 689,
      "original_position" : 25,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : null,
      "pull_request_review_id" : 1176252554,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019451727/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T17:56:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019451727",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019459684"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019459684"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not sure what you have in mind here, but this seems fine as-is.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:05:13Z",
      "diff_hunk" : "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019459684",
      "id" : 1019459684,
      "in_reply_to_id" : 928266481,
      "line" : 727,
      "node_id" : "PRRC_kwDOABII5848w7hk",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 727,
      "original_position" : 42,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 43,
      "pull_request_review_id" : 1176264581,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019459684/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:05:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019459684",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019462601"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019462601"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think the current string is better. Not sure why it would require a comma.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:08:38Z",
      "diff_hunk" : "@@ -541,6 +541,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"The ids of transactions involving this wallet which received with the address\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019462601",
      "id" : 1019462601,
      "in_reply_to_id" : 928276132,
      "line" : 544,
      "node_id" : "PRRC_kwDOABII5848w8PJ",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 544,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/addresses.cpp",
      "position" : 6,
      "pull_request_review_id" : 1176268919,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019462601/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:08:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019462601",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019465089"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019465089"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Generally, this should never be used. It's weird that the wallet tool wants to analyze the on-disk addressbook specifically.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:11:26Z",
      "diff_hunk" : "@@ -47,7 +47,7 @@ static void WalletCreate(CWallet* wallet_instance, uint64_t wallet_creation_flag\n     wallet_instance->TopUpKeyPool();\n }\n \n-static const std::shared_ptr<CWallet> MakeWallet(const std::string& name, const fs::path& path, const ArgsManager& args, DatabaseOptions options)\n+static const std::shared_ptr<CWallet> MakeWallet(const std::string& name, const fs::path& path, const ArgsManager& args, DatabaseOptions options, CWallet::do_init_used_flag do_init_used_flag_val = CWallet::do_init_used_flag::Init)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019465089",
      "id" : 1019465089,
      "in_reply_to_id" : 931322373,
      "line" : 50,
      "node_id" : "PRRC_kwDOABII5848w82B",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 50,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/wallet/wallettool.cpp",
      "position" : 5,
      "pull_request_review_id" : 1176272542,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019465089/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:11:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019465089",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019467252"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019467252"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's indeed confusing that there is an existing \"used\" that doesn't actually indicate usedness.\r\n\r\nBut this field *is* actually the correct value, so I'm not sure what else it might be named?",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:13:57Z",
      "diff_hunk" : "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019467252",
      "id" : 1019467252,
      "in_reply_to_id" : 981629071,
      "line" : 214,
      "node_id" : "PRRC_kwDOABII5848w9X0",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 214,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 14,
      "pull_request_review_id" : 1176275666,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019467252/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:13:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019467252",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019467798"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019467798"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Don't think it's worth it to change this now just to revert it later.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:14:34Z",
      "diff_hunk" : "@@ -689,6 +690,42 @@ void CWallet::InitialiseAddressBookUsed()\n     }\n }\n \n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019467798",
      "id" : 1019467798,
      "in_reply_to_id" : 981649044,
      "line" : 713,
      "node_id" : "PRRC_kwDOABII5848w9gW",
      "original_commit_id" : "16ad0586fbe6d15673a03f8b91db54fe0419bc08",
      "original_line" : 713,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 29,
      "pull_request_review_id" : 1176276477,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019467798/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:14:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019467798",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019468891"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019468891"
         }
      },
      "author_association" : "MEMBER",
      "body" : "There is no type conversion from uint32_t to size_t to begin with?",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:15:43Z",
      "diff_hunk" : "@@ -606,6 +607,59 @@ void CWallet::AddToSpends(const uint256& wtxid)\n         AddToSpends(txin.prevout, wtxid);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;\n+    if (std::holds_alternative<std::monostate>(callback)) return true;\n+\n+    found_any = false;\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        for (uint32_t i = 0; i < wtx.tx->vout.size(); ++i) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019468891",
      "id" : 1019468891,
      "in_reply_to_id" : 697381362,
      "line" : 733,
      "node_id" : "PRRC_kwDOABII5848w9xb",
      "original_commit_id" : "9fe79260cb7cdde75f4fce90f7615973a9233904",
      "original_line" : 733,
      "original_position" : 48,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 49,
      "pull_request_review_id" : 1176277962,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019468891/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:15:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019468891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019470598"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019470598"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It's a weird hack made necessary only by an oddity in the wallet tool. I'm not sure it makes sense to guess about what other hacks might or might not be needed in the future.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:17:37Z",
      "diff_hunk" : "@@ -666,7 +673,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     CAmount GetDebit(const CTransaction& tx, const isminefilter& filter) const;\n     void chainStateFlushed(const CBlockLocator& loc) override;\n \n-    DBErrors LoadWallet();\n+    enum class do_init_used_flag { Init, Skip };",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019470598",
      "id" : 1019470598,
      "in_reply_to_id" : 862307522,
      "line" : 703,
      "node_id" : "PRRC_kwDOABII5848w-MG",
      "original_commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "original_line" : 703,
      "original_position" : 40,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 43,
      "pull_request_review_id" : 1176280450,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019470598/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:17:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019470598",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019471127"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019471127"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I think `use_txids` is clearer.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:18:12Z",
      "diff_hunk" : "@@ -541,6 +541,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019471127",
      "id" : 1019471127,
      "in_reply_to_id" : 862308005,
      "line" : 542,
      "node_id" : "PRRC_kwDOABII5848w-UX",
      "original_commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "original_line" : 542,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/addresses.cpp",
      "position" : 4,
      "pull_request_review_id" : 1176281206,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019471127/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:18:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019471127",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019471755"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019471755"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I doubt it",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:18:49Z",
      "diff_hunk" : "@@ -666,7 +673,8 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     CAmount GetDebit(const CTransaction& tx, const isminefilter& filter) const;\n     void chainStateFlushed(const CBlockLocator& loc) override;\n \n-    DBErrors LoadWallet();\n+    enum class do_init_used_flag { Init, Skip };\n+    DBErrors LoadWallet(const do_init_used_flag do_init_used_flag_val = do_init_used_flag::Init);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019471755",
      "id" : 1019471755,
      "in_reply_to_id" : 862309374,
      "line" : 704,
      "node_id" : "PRRC_kwDOABII5848w-eL",
      "original_commit_id" : "8719b084754b8346e1cb551843afd3afcd439b71",
      "original_line" : 704,
      "original_position" : 41,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 44,
      "pull_request_review_id" : 1176282018,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019471755/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:18:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019471755",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019477868"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019477868"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Fixed",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:25:45Z",
      "diff_hunk" : "@@ -2180,7 +2235,12 @@ DBErrors CWallet::LoadWallet()\n         assert(m_internal_spk_managers.empty());\n     }\n \n-    return nLoadWalletRet;\n+    if (nLoadWalletRet != DBErrors::LOAD_OK)\n+        return nLoadWalletRet;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019477868",
      "id" : 1019477868,
      "in_reply_to_id" : 928113274,
      "line" : 2300,
      "node_id" : "PRRC_kwDOABII5848w_9s",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 2300,
      "original_position" : 91,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 92,
      "pull_request_review_id" : 1176290896,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019477868/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:25:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019477868",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019477958"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019477958"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:25:51Z",
      "diff_hunk" : "@@ -264,6 +266,9 @@ class CWallet final : public WalletStorage, public interfaces::Chain::Notificati\n     void AddToSpends(const COutPoint& outpoint, const uint256& wtxid, WalletBatch* batch = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n     void AddToSpends(const CWalletTx& wtx, WalletBatch* batch = nullptr) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n \n+    void UpdateAddressBookUsed(const CWalletTx&) EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);\n+    void InitialiseAddressBookUsed() EXCLUSIVE_LOCKS_REQUIRED(cs_wallet);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019477958",
      "id" : 1019477958,
      "in_reply_to_id" : 928113358,
      "line" : 275,
      "node_id" : "PRRC_kwDOABII5848w__G",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 275,
      "original_position" : 21,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 23,
      "pull_request_review_id" : 1176291018,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019477958/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:25:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019477958",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019478036"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019478036"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added, though I'm not sure why we need runtime checks when we have compiletime...",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:25:55Z",
      "diff_hunk" : "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019478036",
      "id" : 1019478036,
      "in_reply_to_id" : 928265541,
      "line" : 714,
      "node_id" : "PRRC_kwDOABII5848xAAU",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 714,
      "original_position" : 30,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 30,
      "pull_request_review_id" : 1176291113,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019478036/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:25:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019478036",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019478203"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019478203"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Done",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:26:07Z",
      "diff_hunk" : "@@ -642,6 +642,12 @@ def run_test(self):\n         assert not address_info[\"iswatchonly\"]\n         assert not address_info[\"isscript\"]\n         assert not address_info[\"ischange\"]\n+        assert_equal(address_info['use_txids'], [])\n+\n+        # Test getaddressinfo 'txids' field",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019478203",
      "id" : 1019478203,
      "in_reply_to_id" : 928278427,
      "line" : null,
      "node_id" : "PRRC_kwDOABII5848xAC7",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 647,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/wallet_basic.py",
      "position" : null,
      "pull_request_review_id" : 1176291363,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019478203/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:26:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019478203",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019479356"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019479356"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This is already caught by an existing test (`test/functional/tool_wallet.py` IIRC)",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:27:11Z",
      "diff_hunk" : "@@ -168,7 +168,8 @@ bool ExecuteWalletToolFunc(const ArgsManager& args, const std::string& command)\n         DatabaseOptions options;\n         ReadDatabaseArgs(args, options);\n         options.require_existing = true;\n-        const std::shared_ptr<CWallet> wallet_instance = MakeWallet(name, path, args, options);\n+        // NOTE: We need to skip initialisation of the m_used flag, or else the address book count might be wrong",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019479356",
      "id" : 1019479356,
      "in_reply_to_id" : 931319358,
      "line" : 171,
      "node_id" : "PRRC_kwDOABII5848xAU8",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 171,
      "original_position" : 23,
      "original_start_line" : null,
      "path" : "src/wallet/wallettool.cpp",
      "position" : 23,
      "pull_request_review_id" : 1176292913,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019479356/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:27:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019479356",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019480162"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019480162"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Added the doc",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T18:27:50Z",
      "diff_hunk" : "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019480162",
      "id" : 1019480162,
      "in_reply_to_id" : 981629071,
      "line" : 214,
      "node_id" : "PRRC_kwDOABII5848xAhi",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 214,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 14,
      "pull_request_review_id" : 1176293779,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019480162/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T18:27:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019480162",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased & addressed review\r\n\r\n>Would naming the RPC field used_txids be clearer than use_txids? (if I'm not confused)\r\n\r\nNo, the txids aren't used. The address is used, in those txid(s).",
      "created_at" : "2022-11-10T18:28:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1310729214",
      "id" : 1310729214,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585OICP-",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1310729214/reactions"
      },
      "updated_at" : "2022-11-10T18:28:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1310729214",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019647235"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019647235"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "It seems to me this is called whenever new item added to `mapWallet` including spends from the wallet. If so, then this will add all outputs of spending txs to the address book.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T21:54:49Z",
      "diff_hunk" : "@@ -672,6 +672,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019647235",
      "id" : 1019647235,
      "in_reply_to_id" : 982705832,
      "line" : 709,
      "node_id" : "PRRC_kwDOABII5848xpUD",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 709,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 25,
      "pull_request_review_id" : 1176544864,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019647235/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T21:54:49Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019647235",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019652207"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019652207"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Can we just reuse existing `StringMap destdata` \"used\" key to store the correct \"used\" state?\r\n\r\n",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T22:02:09Z",
      "diff_hunk" : "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019652207",
      "id" : 1019652207,
      "in_reply_to_id" : 981629071,
      "line" : 214,
      "node_id" : "PRRC_kwDOABII5848xqhv",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 214,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 14,
      "pull_request_review_id" : 1176552076,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019652207/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T22:02:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019652207",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019677337"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019677337"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Yes, that's what it's supposed to do.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T22:43:19Z",
      "diff_hunk" : "@@ -672,6 +672,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019677337",
      "id" : 1019677337,
      "in_reply_to_id" : 982705832,
      "line" : 709,
      "node_id" : "PRRC_kwDOABII5848xwqZ",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 709,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 25,
      "pull_request_review_id" : 1176588107,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019677337/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T22:43:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019677337",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019677931"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019677931"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I don't know if there's usage of the incorrect \"used\" flag.\r\n\r\nAlso, I don't think it makes sense to store this one.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-10T22:44:25Z",
      "diff_hunk" : "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1019677931",
      "id" : 1019677931,
      "in_reply_to_id" : 981629071,
      "line" : 214,
      "node_id" : "PRRC_kwDOABII5848xwzr",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 214,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 14,
      "pull_request_review_id" : 1176588958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019677931/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-10T22:44:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1019677931",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1021152628"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021152628"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Based on my research the existing flag is used for \"avoid reuse\" feature in the wallet. Sounds like a good idea to reuse it and a) improve other parts of the wallet b) make features behave consistently ",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-14T07:31:05Z",
      "diff_hunk" : "@@ -204,6 +204,7 @@ class CAddressBookData\n     std::string m_label;\n public:\n     std::string purpose;\n+    bool m_used{false};",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1021152628",
      "id" : 1021152628,
      "in_reply_to_id" : 981629071,
      "line" : 214,
      "node_id" : "PRRC_kwDOABII58483Y10",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 214,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.h",
      "position" : 14,
      "pull_request_review_id" : 1178560273,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021152628/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-14T07:55:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021152628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1021153673"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021153673"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I don't think we should automatically add to the address book all addresses we're sending to",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2022-11-14T07:32:43Z",
      "diff_hunk" : "@@ -672,6 +672,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1021153673",
      "id" : 1021153673,
      "in_reply_to_id" : 982705832,
      "line" : 709,
      "node_id" : "PRRC_kwDOABII58483ZGJ",
      "original_commit_id" : "2d3b9e24add7a9eb9824b60fc5590d3a1e4b8c6d",
      "original_line" : 709,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 25,
      "pull_request_review_id" : 1178561818,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021153673/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-11-14T07:32:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1021153673",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1060334503"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1060334503"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Perhaps better to call the field `receiving_txids` or similar, to avoid the ambiguity between \"I've received funds via this address\" and \"I've spent funds that I received via this address\".",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2023-01-03T07:42:21Z",
      "diff_hunk" : "@@ -539,6 +539,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"The ids of transactions involving this wallet which received with the address\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1060334503",
      "id" : 1060334503,
      "line" : 544,
      "node_id" : "PRRC_kwDOABII584_M2un",
      "original_commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "original_line" : 544,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/addresses.cpp",
      "position" : 6,
      "pull_request_review_id" : 1234173149,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1060334503/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-03T07:56:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1060334503",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/127186?v=4",
         "events_url" : "https://api.github.com/users/ajtowns/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ajtowns/followers",
         "following_url" : "https://api.github.com/users/ajtowns/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ajtowns/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ajtowns",
         "id" : 127186,
         "login" : "ajtowns",
         "node_id" : "MDQ6VXNlcjEyNzE4Ng==",
         "organizations_url" : "https://api.github.com/users/ajtowns/orgs",
         "received_events_url" : "https://api.github.com/users/ajtowns/received_events",
         "repos_url" : "https://api.github.com/users/ajtowns/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ajtowns/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ajtowns"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068680273"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068680273"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 60decf25796558085cf151cd982e2cb8bff1d32b \"Wallet: Keep track of what addresses are used in wallet transactions (memory only)\"\r\n\r\nSince `UpdateAddressBookUsed` does not require any other information that is loaded into the wallet, this function could be removed and have `UpdateAddressBookUsed` called when each transaction is loaded in `LoadToWallet`.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2023-01-12T21:32:58Z",
      "diff_hunk" : "@@ -692,6 +692,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068680273",
      "id" : 1068680273,
      "line" : 702,
      "node_id" : "PRRC_kwDOABII584_ssRR",
      "original_commit_id" : "60decf25796558085cf151cd982e2cb8bff1d32b",
      "original_line" : 701,
      "original_position" : 10,
      "original_start_line" : 695,
      "path" : "src/wallet/wallet.cpp",
      "position" : 10,
      "pull_request_review_id" : 1246558912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068680273/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 696,
      "start_side" : "RIGHT",
      "updated_at" : "2023-01-12T22:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068680273",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068693857"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068693857"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In 803946f3e8ac66d2e2e23a336e2a36f8e44881c7 \"Wallet: Add fairly-efficient [negative] check that an address is not known to be used\"\r\n\r\nnit: `s/keys/scripts/`. I would prefer that variable names are accurate.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2023-01-12T21:45:44Z",
      "diff_hunk" : "@@ -709,6 +710,43 @@ void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n     }\n }\n \n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068693857",
      "id" : 1068693857,
      "line" : 713,
      "node_id" : "PRRC_kwDOABII584_svlh",
      "original_commit_id" : "803946f3e8ac66d2e2e23a336e2a36f8e44881c7",
      "original_line" : 713,
      "original_position" : 12,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 12,
      "pull_request_review_id" : 1246558912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068693857/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-12T22:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068693857",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068696678"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068696678"
         }
      },
      "author_association" : "MEMBER",
      "body" : "This was marked resolved but not changed.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2023-01-12T21:48:26Z",
      "diff_hunk" : "@@ -672,6 +673,59 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::UpdateAddressBookUsed(const CWalletTx& wtx)\n+{\n+    for (const auto& output : wtx.tx->vout) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(output.scriptPubKey, dest)) continue;\n+        m_address_book[dest].m_used = true;\n+    }\n+}\n+\n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}\n+\n+bool CWallet::FindScriptPubKeyUsed(const std::set<CScript>& keys, const std::variant<std::monostate, std::function<void(const CWalletTx&)>, std::function<void(const CWalletTx&, uint32_t)>>& callback) const\n+{\n+    bool found_any = false;\n+    for (const auto& key : keys) {\n+        CTxDestination dest;\n+        if (!ExtractDestination(key, dest)) continue;\n+        const auto& address_book_it = m_address_book.find(dest);\n+        if (address_book_it == m_address_book.end()) continue;\n+        if (address_book_it->second.m_used) {\n+            found_any = true;\n+            break;\n+        }\n+    }\n+    if (!found_any) return false;\n+    if (std::holds_alternative<std::monostate>(callback)) return true;\n+\n+    found_any = false;\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        for (uint32_t i = 0; i < wtx.tx->vout.size(); ++i) {\n+            const auto& output = wtx.tx->vout[i];\n+            if (keys.count(output.scriptPubKey)) {\n+                found_any = true;\n+                const auto callback_type = callback.index();\n+                if (callback_type == 1) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068696678",
      "id" : 1068696678,
      "in_reply_to_id" : 928270626,
      "line" : 738,
      "node_id" : "PRRC_kwDOABII584_swRm",
      "original_commit_id" : "3ee478b9cba305dc87de1ad093ca14a89e58b516",
      "original_line" : 738,
      "original_position" : 53,
      "original_start_line" : null,
      "path" : "src/wallet/wallet.cpp",
      "position" : 54,
      "pull_request_review_id" : 1246558912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068696678/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-12T22:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068696678",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068701600"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068701600"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In c961db6773a6c87c3f9ade97983d29caa354f745 \"RPC/Wallet: Add \"use_txids\" to output of getaddressinfo\"\r\n\r\nWithout having read the help text, I'm having a hard time figuring out the meaning of this field. My initial reading had \"use\" as a verb, but that doesn't make sense. I think it might be clearer to rename this to something like `used_in_txids` or `received_with_txids`.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2023-01-12T21:52:59Z",
      "diff_hunk" : "@@ -539,6 +539,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068701600",
      "id" : 1068701600,
      "line" : 542,
      "node_id" : "PRRC_kwDOABII584_sxeg",
      "original_commit_id" : "c961db6773a6c87c3f9ade97983d29caa354f745",
      "original_line" : 542,
      "original_position" : 4,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/addresses.cpp",
      "position" : 4,
      "pull_request_review_id" : 1246558912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068701600/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-12T22:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068701600",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068703484"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068703484"
         }
      },
      "author_association" : "MEMBER",
      "body" : "In c961db6773a6c87c3f9ade97983d29caa354f745 \"RPC/Wallet: Add \"use_txids\" to output of getaddressinfo\"\r\n\r\nnit: Does this address have to be hardcoded? I think we want to avoid hardcoding things like this in tests.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2023-01-12T21:54:47Z",
      "diff_hunk" : "@@ -637,6 +637,16 @@ def run_test(self):\n         assert not address_info[\"iswatchonly\"]\n         assert not address_info[\"isscript\"]\n         assert not address_info[\"ischange\"]\n+        assert_equal(address_info['use_txids'], [])\n+\n+        # Test getaddressinfo 'use_txids' field\n+        addr = \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1068703484",
      "id" : 1068703484,
      "line" : 643,
      "node_id" : "PRRC_kwDOABII584_sx78",
      "original_commit_id" : "c961db6773a6c87c3f9ade97983d29caa354f745",
      "original_line" : 643,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_basic.py",
      "position" : 7,
      "pull_request_review_id" : 1246558912,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068703484/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-12T22:10:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1068703484",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3782274?v=4",
         "events_url" : "https://api.github.com/users/achow101/events{/privacy}",
         "followers_url" : "https://api.github.com/users/achow101/followers",
         "following_url" : "https://api.github.com/users/achow101/following{/other_user}",
         "gists_url" : "https://api.github.com/users/achow101/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/achow101",
         "id" : 3782274,
         "login" : "achow101",
         "node_id" : "MDQ6VXNlcjM3ODIyNzQ=",
         "organizations_url" : "https://api.github.com/users/achow101/orgs",
         "received_events_url" : "https://api.github.com/users/achow101/received_events",
         "repos_url" : "https://api.github.com/users/achow101/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/achow101/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/achow101/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/achow101"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1088784652"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088784652"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I think we should avoid hardcoded stuff, but I noticed this address is hardcoded right before when testing `getaddressinfo`, probably to test scriptPubKey. Anyway, I think we could move it to a variable and use it whatever we need.\r\n\r\n```diff\r\ndiff --git a/test/functional/wallet_basic.py b/test/functional/wallet_basic.py\r\nindex 0372ebf15..54730533e 100755\r\n--- a/test/functional/wallet_basic.py\r\n+++ b/test/functional/wallet_basic.py\r\n@@ -630,8 +630,9 @@ class WalletTest(BitcoinTestFramework):\r\n \r\n         # Test getaddressinfo on external address. Note that these addresses are taken from disablewallet.py\r\n         assert_raises_rpc_error(-5, \"Invalid prefix for Base58-encoded address\", self.nodes[0].getaddressinfo, \"3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy\")\r\n-        address_info = self.nodes[0].getaddressinfo(\"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\")\r\n-        assert_equal(address_info['address'], \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\")\r\n+        addr = \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\"\r\n+        address_info = self.nodes[0].getaddressinfo(addr)\r\n+        assert_equal(address_info['address'], addr)\r\n         assert_equal(address_info[\"scriptPubKey\"], \"76a9144e3854046c7bd1594ac904e4793b6a45b36dea0988ac\")\r\n         assert not address_info[\"ismine\"]\r\n         assert not address_info[\"iswatchonly\"]\r\n@@ -640,7 +641,6 @@ class WalletTest(BitcoinTestFramework):\r\n         assert_equal(address_info['use_txids'], [])\r\n \r\n         # Test getaddressinfo 'use_txids' field\r\n-        addr = \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\"\r\n         txid_1 = self.nodes[0].sendtoaddress(addr, 1)\r\n         address_info = self.nodes[0].getaddressinfo(addr)\r\n         assert_equal(address_info['use_txids'], [txid_1])\r\n```",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2023-01-27T10:08:25Z",
      "diff_hunk" : "@@ -637,6 +637,16 @@ def run_test(self):\n         assert not address_info[\"iswatchonly\"]\n         assert not address_info[\"isscript\"]\n         assert not address_info[\"ischange\"]\n+        assert_equal(address_info['use_txids'], [])\n+\n+        # Test getaddressinfo 'use_txids' field\n+        addr = \"mneYUmWYsuk7kySiURxCi3AGxrAqZxLgPZ\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1088784652",
      "id" : 1088784652,
      "in_reply_to_id" : 1068703484,
      "line" : 643,
      "node_id" : "PRRC_kwDOABII585A5YkM",
      "original_commit_id" : "c961db6773a6c87c3f9ade97983d29caa354f745",
      "original_line" : 643,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "test/functional/wallet_basic.py",
      "position" : 7,
      "pull_request_review_id" : 1272408776,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088784652/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T10:08:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088784652",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1088794151"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088794151"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I agree with @ajtowns, I confess it took me a while to understand what `use_txids` means, at a first look I thought it would return all txids that involves that address but reading the doc could understand that's only about the receiving ones. `receiving_txids` sounds better.",
      "commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "created_at" : "2023-01-27T10:18:11Z",
      "diff_hunk" : "@@ -539,6 +539,10 @@ RPCHelpMan getaddressinfo()\n                         {\n                             {RPCResult::Type::STR, \"label name\", \"Label name (defaults to \\\"\\\").\"},\n                         }},\n+                        {RPCResult::Type::ARR, \"use_txids\", \"\",\n+                        {\n+                            {RPCResult::Type::STR_HEX, \"txid\", \"The ids of transactions involving this wallet which received with the address\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1088794151",
      "id" : 1088794151,
      "in_reply_to_id" : 1060334503,
      "line" : 544,
      "node_id" : "PRRC_kwDOABII585A5a4n",
      "original_commit_id" : "c4f88f4145386fb8014433164a68b272b6255270",
      "original_line" : 544,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/wallet/rpc/addresses.cpp",
      "position" : 6,
      "pull_request_review_id" : 1272422281,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088794151/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2023-01-27T10:18:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1088794151",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/19480819?v=4",
         "events_url" : "https://api.github.com/users/brunoerg/events{/privacy}",
         "followers_url" : "https://api.github.com/users/brunoerg/followers",
         "following_url" : "https://api.github.com/users/brunoerg/following{/other_user}",
         "gists_url" : "https://api.github.com/users/brunoerg/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/brunoerg",
         "id" : 19480819,
         "login" : "brunoerg",
         "node_id" : "MDQ6VXNlcjE5NDgwODE5",
         "organizations_url" : "https://api.github.com/users/brunoerg/orgs",
         "received_events_url" : "https://api.github.com/users/brunoerg/received_events",
         "repos_url" : "https://api.github.com/users/brunoerg/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/brunoerg/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/brunoerg/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/brunoerg"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@luke-jr do you want to have the \"use_txids\" for all addresses throughout the whole blockchain or only for a subset of them?\r\n\r\n",
      "created_at" : "2023-01-27T20:09:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1407024268",
      "id" : 1407024268,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585T3XyM",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1407024268/reactions"
      },
      "updated_at" : "2023-01-27T20:09:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1407024268",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1466284?v=4",
         "events_url" : "https://api.github.com/users/S3RK/events{/privacy}",
         "followers_url" : "https://api.github.com/users/S3RK/followers",
         "following_url" : "https://api.github.com/users/S3RK/following{/other_user}",
         "gists_url" : "https://api.github.com/users/S3RK/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/S3RK",
         "id" : 1466284,
         "login" : "S3RK",
         "node_id" : "MDQ6VXNlcjE0NjYyODQ=",
         "organizations_url" : "https://api.github.com/users/S3RK/orgs",
         "received_events_url" : "https://api.github.com/users/S3RK/received_events",
         "repos_url" : "https://api.github.com/users/S3RK/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/S3RK/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/S3RK"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-02-01T16:04:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1412309073",
      "id" : 1412309073,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585ULiBR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412309073/reactions"
      },
      "updated_at" : "2023-02-01T16:04:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1412309073",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Drafted for now. Feedback/comments needs addressing, needs rebase, PR description needs updating to mention the new related PR (#15987 is closed).",
      "created_at" : "2023-02-28T10:35:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1447943334",
      "id" : 1447943334,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585WTdym",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1447943334/reactions"
      },
      "updated_at" : "2023-02-28T10:35:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1447943334",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--13523179cfe9479db18ec6c5d236f789-->\nThere hasn't been much activity lately and the patch still needs rebase. What is the status here?\n\n* Is it still relevant? â¡ï¸ Please solve the conflicts to make it ready for review and to ensure the CI passes.\n* Is it no longer relevant? â¡ï¸ Please close.\n* Did the author lose interest or time to work on this? â¡ï¸ Please close it and mark it 'Up for grabs' with the label, so that it can be picked up in the future.\n",
      "created_at" : "2023-05-29T01:55:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1566378849",
      "id" : 1566378849,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585dXQth",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1566378849/reactions"
      },
      "updated_at" : "2023-05-29T01:55:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1566378849",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Can be reopened if/when work is continued.",
      "created_at" : "2023-05-29T09:55:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1566876405",
      "id" : 1566876405,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585dZKL1",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1566876405/reactions"
      },
      "updated_at" : "2023-05-29T09:55:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1566876405",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1253745180"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1253745180"
         }
      },
      "author_association" : "MEMBER",
      "body" : "That would break the wallettool again",
      "commit_id" : "136bc463fa02263f427b3a75894891ac4d8af39e",
      "created_at" : "2023-07-05T23:15:43Z",
      "diff_hunk" : "@@ -692,6 +692,23 @@ void CWallet::AddToSpends(const CWalletTx& wtx, WalletBatch* batch)\n         AddToSpends(txin.prevout, wtx.GetHash(), batch);\n }\n \n+void CWallet::InitialiseAddressBookUsed()\n+{\n+    for (const auto& entry : mapWallet) {\n+        const CWalletTx& wtx = entry.second;\n+        UpdateAddressBookUsed(wtx);\n+    }\n+}",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#discussion_r1253745180",
      "id" : 1253745180,
      "in_reply_to_id" : 1068680273,
      "line" : 756,
      "node_id" : "PRRC_kwDOABII585KuqIc",
      "original_commit_id" : "60decf25796558085cf151cd982e2cb8bff1d32b",
      "original_line" : 756,
      "original_position" : 10,
      "original_start_line" : 695,
      "path" : "src/wallet/wallet.cpp",
      "position" : 18,
      "pull_request_review_id" : 1515500687,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/22693",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1253745180/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 750,
      "start_side" : "RIGHT",
      "subject_type" : "line",
      "updated_at" : "2023-07-05T23:15:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/1253745180",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Rebased.\r\n\r\n>if I understand correctly, this PR only makes it easier to tell if you're reusing one of your own wallet addresses for receiving, it doesn't tell you if you're reusing an address you've already used to send to someone else.\r\n \r\n> do you want to have the \"use_txids\" for all addresses throughout the whole blockchain or only for a subset of them?\r\n\r\nAs documented, it only keeps track of addresses used in wallet transactions (whether we are the sender or receiver).\r\n",
      "created_at" : "2023-07-05T23:18:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1622665055",
      "id" : 1622665055,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585gt-df",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1622665055/reactions"
      },
      "updated_at" : "2023-07-05T23:18:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1622665055",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2023-12-14T21:59:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1856734820",
      "id" : 1856734820,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585uq4Zk",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1856734820/reactions"
      },
      "updated_at" : "2023-12-14T21:59:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1856734820",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\nð This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n",
      "created_at" : "2024-02-12T19:08:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/22693#issuecomment-1939364979",
      "id" : 1939364979,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/22693",
      "node_id" : "IC_kwDOABII585zmFxz",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1939364979/reactions"
      },
      "updated_at" : "2024-02-12T19:08:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1939364979",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
