[
   {
      "author_association" : "MEMBER",
      "body" : "Draft until #19724 is merged.",
      "created_at" : "2020-09-02T14:07:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-685761138",
      "id" : 685761138,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NTc2MTEzOA==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-02T14:07:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/685761138",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "There is an interesting overlap with #19858 (periodic BLOCK_RELAY conns to sync tips).\r\n\r\n I think those temporarily BLOCK_RELAY conns probably should be selected similarly to the existent new `BLOCK_RELAY` conns, meaning diversified by both `set_connected_full_relay` and `set_connected_block_relay`. If many of our peers are Sybils, it also would improve the chance of not connecting to the same netgroup.\r\n\r\nSimilarly to the work in this PR, I think we better select them as diverse as we can. If an attacker is capable to influence this selection, making it less diverse (by dropping one of the checks) won't really help neither with the robustness of these selected connections nor with their privacy.",
      "created_at" : "2020-09-02T14:12:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-685764141",
      "id" : 685764141,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NTc2NDE0MQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-02T14:14:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/685764141",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Prevents BLOCK_RELAY connections from affecting our further full-relay peer selection, because otherwise, an attacker with sufficient ADDR-related capabilities may infer to which netgroups those (supposedly more private) connections belong.\r\n\r\nDo you have a way to model what an attacker's capability would need to be in order to deduce something like this?  On the face of it, it seems strange to me make this kind of peering behavior dependent of the order in which we connect peers (full-relay first or block-relay first), and in particular, my presumption would be that it's more important to aim for peer netgroup diversity (as a first-order solution to being eclipsed) than it is to worry about inference based on that diversity (which is a second-order concern with regards to eclipse attacks) -- but if the inference capability is strong then perhaps I'm mistaken in thinking that?",
      "created_at" : "2020-09-02T15:27:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-685812232",
      "id" : 685812232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NTgxMjIzMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-02T15:27:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/685812232",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/7463573?v=4",
         "events_url" : "https://api.github.com/users/sdaftuar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sdaftuar/followers",
         "following_url" : "https://api.github.com/users/sdaftuar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sdaftuar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sdaftuar",
         "id" : 7463573,
         "login" : "sdaftuar",
         "node_id" : "MDQ6VXNlcjc0NjM1NzM=",
         "organizations_url" : "https://api.github.com/users/sdaftuar/orgs",
         "received_events_url" : "https://api.github.com/users/sdaftuar/received_events",
         "repos_url" : "https://api.github.com/users/sdaftuar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sdaftuar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sdaftuar"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r482217837"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/482217837"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: Would be a bit clearer IMO to use the `Is` prefix or similar to distinguish between the interrogative and the imperative.",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2020-09-02T16:51:39Z",
      "diff_hunk" : "@@ -861,6 +861,12 @@ class CNode\n         return m_conn_type == ConnectionType::INBOUND;\n     }\n \n+    /* Whether we send addr messages over this connection */\n+    bool RelayAddrsWithConn() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r482217837",
      "id" : 482217837,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjIxNzgzNw==",
      "original_commit_id" : "f26b0ddac590ac96e86fe043de744747e834ec0e",
      "original_line" : 907,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 481013853,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-24T10:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/482217837",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r482222193"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/482222193"
         }
      },
      "author_association" : "MEMBER",
      "body" : "nit: I don't believe the `> >` construction is necessary anymore here. See other uses`<*>>` in the codebase.",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2020-09-02T16:58:11Z",
      "diff_hunk" : "@@ -1830,7 +1830,8 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         // Only connect out to one peer per network group (/16 for IPv4).\n         int nOutboundFullRelay = 0;\n         int nOutboundBlockRelay = 0;\n-        std::set<std::vector<unsigned char> > setConnected;\n+        std::set<std::vector<unsigned char> > set_connected_full_relay;\n+        std::set<std::vector<unsigned char> > set_connected_block_relay;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r482222193",
      "id" : 482222193,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjIyMjE5Mw==",
      "original_commit_id" : "c63c87507a7246183d8c055ea5fc54413ff38626",
      "original_line" : 1834,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 481019518,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-24T10:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/482222193",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/5470?v=4",
         "events_url" : "https://api.github.com/users/Empact/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Empact/followers",
         "following_url" : "https://api.github.com/users/Empact/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Empact/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Empact",
         "id" : 5470,
         "login" : "Empact",
         "node_id" : "MDQ6VXNlcjU0NzA=",
         "organizations_url" : "https://api.github.com/users/Empact/orgs",
         "received_events_url" : "https://api.github.com/users/Empact/received_events",
         "repos_url" : "https://api.github.com/users/Empact/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Empact/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Empact/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Empact"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#24170](https://github.com/bitcoin/bitcoin/pull/24170) (p2p, rpc: Manual block-relay-only connections with addnode by mzumsande)\n* [#22910](https://github.com/bitcoin/bitcoin/pull/22910) (net: Encapsulate asmap in NetGroupManager by jnewbery)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2020-09-02T17:27:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-685885260",
      "id" : 685885260,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NTg4NTI2MA==",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/685885260/reactions"
      },
      "updated_at" : "2022-04-20T09:46:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/685885260",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r482751269"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/482751269"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Not my work: see #19724 this is based on.",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2020-09-03T07:03:40Z",
      "diff_hunk" : "@@ -861,6 +861,12 @@ class CNode\n         return m_conn_type == ConnectionType::INBOUND;\n     }\n \n+    /* Whether we send addr messages over this connection */\n+    bool RelayAddrsWithConn() const",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r482751269",
      "id" : 482751269,
      "in_reply_to_id" : 482217837,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjc1MTI2OQ==",
      "original_commit_id" : "f26b0ddac590ac96e86fe043de744747e834ec0e",
      "original_line" : 907,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net.h",
      "position" : null,
      "pull_request_review_id" : 481549835,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-24T10:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/482751269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@sdaftuar I agree that immediate diversity is more important than theoretical anti-inference. But since it's easy to get confused here, I want to point out that after the second commit:\r\n- *new* block relay conns are made with full diversity, same as before\r\n- *new* full relay conns are made distinct w.r.t. existing full relay conns\r\n\r\nThe difference is only that *existing* block relay conns don't affect *new* full relay conns.\r\n\r\nSo, like, just 2 of the existing peers, for now, won't participate in diversity enforcement. If we have more (say 8 block relay conns), we might introduce some randomness: like 4 conns are used to diversify new full conns, and 4 are hidden.\r\n\r\n>Do you have a way to model what an attacker's capability would need to be in order to deduce something like this?\r\n\r\nNo, not right now. I just assume an attacker can influence what our AddrMan has. The influence shouldn't even be that strong, they just have to force us to connect to a set of (given by them) peers on-demand with some probability.\r\n\r\nFor example, they exploited eviction and made us connect to them (via regular conns) exclusively. Now to eclipse us they have to find out about our block-relay-only conns and potentially disrupt those. May be feasible with these capabilities and enough protocol knowledge :)\r\nSince block-relay-only conns are created (sort of) specifically to handle scenarios like this, I wanna make them more robust.\r\n\r\n-----------------\r\n\r\nIf this is not convincing, I can drop the commit until when/if I can actually demostrate a feasible attack.\r\n",
      "created_at" : "2020-09-03T07:20:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-686305852",
      "id" : 686305852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NjMwNTg1Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-03T07:22:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/686305852",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Added one more improvement: diversify by MANUAL connections (consider them regular full outbound). The privacy considerations I have for BLOCK_RELAY don't apply here because MANUAL are not particularly private... (since they support full relay)\r\n\r\nNot sure whether they should be excluded when considering `count_failure`, similarly to \"Having one persistent outbound peer probably means it's from our local network [...]\" reasoning in the comment.",
      "created_at" : "2020-09-03T10:53:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-686409962",
      "id" : 686409962,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NjQwOTk2Mg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-03T11:11:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/686409962",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r483659033"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483659033"
         }
      },
      "author_association" : "MEMBER",
      "body" : "On the threading side, it sounds to me a bit inefficient to recompute those sets for each test membership of a selected addr as we have to lock and iterate `vNodes` each time. A future improvement could be to cache them and only update as we add/drop nodes ?",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2020-09-04T14:42:43Z",
      "diff_hunk" : "@@ -1830,7 +1830,8 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         // Only connect out to one peer per network group (/16 for IPv4).\n         int nOutboundFullRelay = 0;\n         int nOutboundBlockRelay = 0;\n-        std::set<std::vector<unsigned char> > setConnected;\n+        std::set<std::vector<unsigned char>> set_connected_full_relay;\n+        std::set<std::vector<unsigned char>> set_connected_block_relay;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r483659033",
      "id" : 483659033,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY1OTAzMw==",
      "original_commit_id" : "229aba769e6fefb9d47c9bc3845418f3286ea8a4",
      "original_line" : 1834,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 482697819,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-24T10:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483659033",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r483670784"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483670784"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You can precise further exact caution we should have wrt to inbound netgroup diversity.\r\n\r\n\"If we enforce some netgroup diversity on our inbound slots in the future we should avoid to intersect this set of pinned netgroups with the outbound one. That way to avoid an attacker restraining diversity of potential outbound connections by already occupying a netgroup as an inbound\"",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2020-09-04T14:54:56Z",
      "diff_hunk" : "@@ -1838,19 +1838,25 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 if (pnode->IsFullOutboundConn()) nOutboundFullRelay++;\n                 if (pnode->IsBlockOnlyConn()) nOutboundBlockRelay++;\n \n-                // Netgroups for inbound and manual peers are not excluded because our goal here\n-                // is to not use multiple of our limited outbound slots on a single netgroup\n-                // but inbound and manual peers do not use our outbound slots. Inbound peers\n-                // also have the added issue that they could be attacker controlled and used\n-                // to prevent us from connecting to particular hosts if we used them here.\n+                // Our goal here is to not use multiple of our limited outbound slots on a single netgroup.\n                 switch (pnode->m_conn_type) {\n                     case ConnectionType::INBOUND:\n+                        // Not an outbound slot.\n+                        // Additionally, they could be attacker controlled and used to prevent\n+                        // us from connecting to particular hosts if we used them here.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r483670784",
      "id" : 483670784,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3MDc4NA==",
      "original_commit_id" : "a7bc2eb07030fda62d860cf2a077d5e6163da6a9",
      "original_line" : 1846,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 482697819,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-24T10:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483670784",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r483671287"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483671287"
         }
      },
      "author_association" : "MEMBER",
      "body" : "You should remove this comment.",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2020-09-04T14:55:46Z",
      "diff_hunk" : "@@ -1845,7 +1845,6 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                         // Not an outbound slot.\n                         // Additionally, they could be attacker controlled and used to prevent\n                         // us from connecting to particular hosts if we used them here.\n-                    case ConnectionType::MANUAL:\n                         // Manually selected, so should not affect our peer selection.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r483671287",
      "id" : 483671287,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3MTI4Nw==",
      "original_commit_id" : "b2e36fff58f33e4b8da5b080837fa3f2bdc314aa",
      "original_line" : 1848,
      "original_position" : 5,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 482697819,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-24T10:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483671287",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23310655?v=4",
         "events_url" : "https://api.github.com/users/ariard/events{/privacy}",
         "followers_url" : "https://api.github.com/users/ariard/followers",
         "following_url" : "https://api.github.com/users/ariard/following{/other_user}",
         "gists_url" : "https://api.github.com/users/ariard/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/ariard",
         "id" : 23310655,
         "login" : "ariard",
         "node_id" : "MDQ6VXNlcjIzMzEwNjU1",
         "organizations_url" : "https://api.github.com/users/ariard/orgs",
         "received_events_url" : "https://api.github.com/users/ariard/received_events",
         "repos_url" : "https://api.github.com/users/ariard/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/ariard/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/ariard/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/ariard"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r484357785"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484357785"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I would leave this for future improvements.",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2020-09-07T10:57:01Z",
      "diff_hunk" : "@@ -1830,7 +1830,8 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n         // Only connect out to one peer per network group (/16 for IPv4).\n         int nOutboundFullRelay = 0;\n         int nOutboundBlockRelay = 0;\n-        std::set<std::vector<unsigned char> > setConnected;\n+        std::set<std::vector<unsigned char>> set_connected_full_relay;\n+        std::set<std::vector<unsigned char>> set_connected_block_relay;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r484357785",
      "id" : 484357785,
      "in_reply_to_id" : 483659033,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM1Nzc4NQ==",
      "original_commit_id" : "229aba769e6fefb9d47c9bc3845418f3286ea8a4",
      "original_line" : 1834,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483463444,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-24T10:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484357785",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r484773801"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484773801"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'd rather not keep comments w.r.t potential future improvements in the codebase.",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2020-09-08T09:18:08Z",
      "diff_hunk" : "@@ -1838,19 +1838,25 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 if (pnode->IsFullOutboundConn()) nOutboundFullRelay++;\n                 if (pnode->IsBlockOnlyConn()) nOutboundBlockRelay++;\n \n-                // Netgroups for inbound and manual peers are not excluded because our goal here\n-                // is to not use multiple of our limited outbound slots on a single netgroup\n-                // but inbound and manual peers do not use our outbound slots. Inbound peers\n-                // also have the added issue that they could be attacker controlled and used\n-                // to prevent us from connecting to particular hosts if we used them here.\n+                // Our goal here is to not use multiple of our limited outbound slots on a single netgroup.\n                 switch (pnode->m_conn_type) {\n                     case ConnectionType::INBOUND:\n+                        // Not an outbound slot.\n+                        // Additionally, they could be attacker controlled and used to prevent\n+                        // us from connecting to particular hosts if we used them here.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r484773801",
      "id" : 484773801,
      "in_reply_to_id" : 483670784,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc3MzgwMQ==",
      "original_commit_id" : "a7bc2eb07030fda62d860cf2a077d5e6163da6a9",
      "original_line" : 1846,
      "original_position" : 14,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 483948729,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-24T10:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484773801",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This PR is now updated to be a non-controversial improvement:\r\n- don't diversify by ADDR_FETCH and FEELER\r\n- do diversify by MANUAL\r\n\r\nI dropped the part about BLOCK_RELAY diversity.",
      "created_at" : "2020-09-09T07:16:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-689359226",
      "id" : 689359226,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4OTM1OTIyNg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-09T07:16:51Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/689359226",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r489450880"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/489450880"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "nit: maybe consider rephrasing this to \n\n```\n// Our goal here is to not use multiple limited outbound slots on a single netgroup.\n```",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2020-09-16T13:47:13Z",
      "diff_hunk" : "@@ -1838,19 +1838,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 if (pnode->IsFullOutboundConn()) nOutboundFullRelay++;\n                 if (pnode->IsBlockOnlyConn()) nOutboundBlockRelay++;\n \n-                // Netgroups for inbound and manual peers are not excluded because our goal here\n-                // is to not use multiple of our limited outbound slots on a single netgroup\n-                // but inbound and manual peers do not use our outbound slots. Inbound peers\n-                // also have the added issue that they could be attacker controlled and used\n-                // to prevent us from connecting to particular hosts if we used them here.\n+                // Our goal here is to not use multiple of our limited outbound slots on a single netgroup.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r489450880",
      "id" : 489450880,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTQ1MDg4MA==",
      "original_commit_id" : "9c2babb8a4f7b243d8fe7e32085071f9cb25a99a",
      "original_line" : 1841,
      "original_position" : 9,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 489643249,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-09-24T10:26:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/489450880",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/23586626?v=4",
         "events_url" : "https://api.github.com/users/Zero-1729/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Zero-1729/followers",
         "following_url" : "https://api.github.com/users/Zero-1729/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Zero-1729/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Zero-1729",
         "id" : 23586626,
         "login" : "Zero-1729",
         "node_id" : "MDQ6VXNlcjIzNTg2NjI2",
         "organizations_url" : "https://api.github.com/users/Zero-1729/orgs",
         "received_events_url" : "https://api.github.com/users/Zero-1729/received_events",
         "repos_url" : "https://api.github.com/users/Zero-1729/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Zero-1729/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Zero-1729/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Zero-1729"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Sorry for being absent, I'll try to rebase it sometime soon.",
      "created_at" : "2021-08-31T15:18:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-909334620",
      "id" : 909334620,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII5842M1hc",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-31T15:18:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/909334620",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Thank u",
      "created_at" : "2021-08-31T15:27:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-909341813",
      "id" : 909341813,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII5842M3R1",
      "performed_via_github_app" : null,
      "updated_at" : "2021-08-31T15:27:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/909341813",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/87387449?v=4",
         "events_url" : "https://api.github.com/users/jaysonmald35/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jaysonmald35/followers",
         "following_url" : "https://api.github.com/users/jaysonmald35/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jaysonmald35/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jaysonmald35",
         "id" : 87387449,
         "login" : "jaysonmald35",
         "node_id" : "MDQ6VXNlcjg3Mzg3NDQ5",
         "organizations_url" : "https://api.github.com/users/jaysonmald35/orgs",
         "received_events_url" : "https://api.github.com/users/jaysonmald35/received_events",
         "repos_url" : "https://api.github.com/users/jaysonmald35/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jaysonmald35/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jaysonmald35/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jaysonmald35"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "- concept ACK to removing netgroup influence of ADDR_FETCH & FEELER \r\n- OP says they \"are now not included in `count_failure` consideration (see new documentation)\" << what is this in reference to? is this a relic from a previous version of the PR? \r\n- unsure about including MANUAL peers for outbound diversity & don't see anything on this PR that explains why. can you share your reasoning?",
      "created_at" : "2021-09-02T22:48:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-912111900",
      "id" : 912111900,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII5842Xbkc",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-02T22:48:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/912111900",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1500952?v=4",
         "events_url" : "https://api.github.com/users/amitiuttarwar/events{/privacy}",
         "followers_url" : "https://api.github.com/users/amitiuttarwar/followers",
         "following_url" : "https://api.github.com/users/amitiuttarwar/following{/other_user}",
         "gists_url" : "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/amitiuttarwar",
         "id" : 1500952,
         "login" : "amitiuttarwar",
         "node_id" : "MDQ6VXNlcjE1MDA5NTI=",
         "organizations_url" : "https://api.github.com/users/amitiuttarwar/orgs",
         "received_events_url" : "https://api.github.com/users/amitiuttarwar/received_events",
         "repos_url" : "https://api.github.com/users/amitiuttarwar/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/amitiuttarwar/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/amitiuttarwar"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\n This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2021-09-06T10:59:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-913555538",
      "id" : 913555538,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII5842c8BS",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-06T10:59:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/913555538",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@amitiuttarwar\r\n\r\n>OP says they \"are now not included in count_failure consideration (see new documentation)\" << what is this in reference to? is this a relic from a previous version of the PR?\r\n\r\nI don't even remember. Dropped this from the description. A lot of discussion in this PR, maybe worth opening a new one...\r\n\r\n>unsure about including MANUAL peers for outbound diversity & don't see anything on this PR that explains why. can you share your reasoning?\r\n\r\nI just think MANUAL is just no different from a regular outbound peer. If you have a MANUAL to netgroup XYZ, you probably don't want OUTBOUND_FULL_RELAY or whatever to XYZ either (previously we would allow this).\r\nNote, this does not limit MANUAL conns in any way.",
      "created_at" : "2021-09-14T13:07:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-919132802",
      "id" : 919132802,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII5842yNqC",
      "performed_via_github_app" : null,
      "updated_at" : "2021-09-14T13:07:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/919132802",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r708960012"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708960012"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "The following two variants are equivalent:\r\n\r\n```cpp\r\nassert(A && B);\r\n```\r\nvs\r\n```cpp\r\nassert(A);\r\nassert(B);\r\n```\r\n\r\nHowever if the first variant fails it would be impossible to say which one of `A` or `B` was false just by looking at the message (something like `assertion \"A && B\" failed`). With the second variant it is clear whether `A` or `B` was false.",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2021-09-15T08:28:36Z",
      "diff_hunk" : "@@ -2034,6 +2037,10 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 addr = addrman.Select();\n             }\n \n+            // The following checks are never applied to MANUAL and ADDR_FETCH,\n+            // because those connections are made elsewhere.\n+            assert(conn_type != ConnectionType::MANUAL && conn_type != ConnectionType::ADDR_FETCH);",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r708960012",
      "id" : 708960012,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584qQd8M",
      "original_commit_id" : "d2c729632720f6cee67bedc661d49b967dc20506",
      "original_line" : 2042,
      "original_position" : 37,
      "original_start_line" : null,
      "path" : "src/net.cpp",
      "position" : null,
      "pull_request_review_id" : 754819181,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2021-09-15T08:38:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708960012",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Code Review ACK aeec31d7b32b744fecb4115176a5d4e8586cdec2\r\n\r\n> I just think MANUAL is just no different from a regular outbound peer. If you have a MANUAL to netgroup XYZ, you probably don't want OUTBOUND_FULL_RELAY or whatever to XYZ either (previously we would allow this).\r\n\r\nI guess it depends on why you connected to the manual peer: Sometimes you may have a higher trust in that node, maybe because you know the operator. In that case, you wouldn't necessarily see a greater risk that another node from the same group would be colluding with them.\r\n\r\nOn the other hand, even if you do trust them, there could still be attacks on an ISP level that would apply to multiple nodes from one group, so I think it makes sense to include them in the diversification as well.\r\n",
      "created_at" : "2022-01-27T18:30:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-1023522150",
      "id" : 1023522150,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII5849AbVm",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023522150/reactions"
      },
      "updated_at" : "2022-01-27T18:30:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1023522150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/48763452?v=4",
         "events_url" : "https://api.github.com/users/mzumsande/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mzumsande/followers",
         "following_url" : "https://api.github.com/users/mzumsande/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mzumsande/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mzumsande",
         "id" : 48763452,
         "login" : "mzumsande",
         "node_id" : "MDQ6VXNlcjQ4NzYzNDUy",
         "organizations_url" : "https://api.github.com/users/mzumsande/orgs",
         "received_events_url" : "https://api.github.com/users/mzumsande/received_events",
         "repos_url" : "https://api.github.com/users/mzumsande/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mzumsande/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mzumsande/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mzumsande"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "This pull has ACKs by @vasild since 6 months, @mzumsande and myself since six weeks, and a concept ACK by @ariard, and has seen review by a number of contributors, might be RFM. ",
      "created_at" : "2022-03-14T16:55:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-1067060162",
      "id" : 1067060162,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII584_mgvC",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067060162/reactions"
      },
      "updated_at" : "2022-03-14T16:55:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067060162",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Verified rebase to current master is still clean.",
      "created_at" : "2022-03-14T17:00:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-1067064544",
      "id" : 1067064544,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII584_mhzg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067064544/reactions"
      },
      "updated_at" : "2022-03-14T17:00:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1067064544",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2415484?v=4",
         "events_url" : "https://api.github.com/users/jonatack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonatack/followers",
         "following_url" : "https://api.github.com/users/jonatack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonatack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonatack",
         "id" : 2415484,
         "login" : "jonatack",
         "node_id" : "MDQ6VXNlcjI0MTU0ODQ=",
         "organizations_url" : "https://api.github.com/users/jonatack/orgs",
         "received_events_url" : "https://api.github.com/users/jonatack/received_events",
         "repos_url" : "https://api.github.com/users/jonatack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonatack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonatack"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r829878150"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/829878150"
         }
      },
      "author_association" : "MEMBER",
      "body" : "I'm not sure how this is an improvement. `conn_type` is a local variable that is set in lines 1932-1988 above, and can never be set to `ConnectionType::MANUAL` or `ConnectionType::ADDR_FETCH`. What are these assertions preventing or protecting against?",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2022-03-18T10:34:43Z",
      "diff_hunk" : "@@ -2034,6 +2037,11 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 addr = addrman.Select();\n             }\n \n+            // The following checks are never applied to MANUAL and ADDR_FETCH,\n+            // because those connections are made elsewhere.\n+            assert(conn_type != ConnectionType::MANUAL);\n+            assert(conn_type != ConnectionType::ADDR_FETCH);\n+",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r829878150",
      "id" : 829878150,
      "line" : 2044,
      "node_id" : "PRRC_kwDOABII584xdu-G",
      "original_commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "original_line" : 2044,
      "original_position" : 39,
      "original_start_line" : 2040,
      "path" : "src/net.cpp",
      "position" : 39,
      "pull_request_review_id" : 914192320,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/829878150/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 2040,
      "start_side" : "RIGHT",
      "updated_at" : "2022-03-18T10:38:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/829878150",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r829878489"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/829878489"
         }
      },
      "author_association" : "MEMBER",
      "body" : "No need to duplicate this comment.",
      "commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "created_at" : "2022-03-18T10:35:11Z",
      "diff_hunk" : "@@ -1908,19 +1908,22 @@ void CConnman::ThreadOpenConnections(const std::vector<std::string> connect)\n                 if (pnode->IsFullOutboundConn()) nOutboundFullRelay++;\n                 if (pnode->IsBlockOnlyConn()) nOutboundBlockRelay++;\n \n-                // Netgroups for inbound and manual peers are not excluded because our goal here\n-                // is to not use multiple of our limited outbound slots on a single netgroup\n-                // but inbound and manual peers do not use our outbound slots. Inbound peers\n-                // also have the added issue that they could be attacker controlled and used\n-                // to prevent us from connecting to particular hosts if we used them here.\n+                // Make sure our persistent outbound slots belong to different netgroups.\n                 switch (pnode->m_conn_type) {\n+                    // We currently don't take inbound connections into account. Since they are\n+                    // free to make, an attacker could make them to prevent us from connecting to\n+                    // certain peers.\n                     case ConnectionType::INBOUND:\n-                    case ConnectionType::MANUAL:\n+                    // Short-lived outbound connections should not affect how we select outbound\n+                    // peers from addrman.\n+                    case ConnectionType::ADDR_FETCH:\n+                    // Short-lived outbound connections should not affect how we select outbound\n+                    // peers from addrman.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#discussion_r829878489",
      "id" : 829878489,
      "line" : 1921,
      "node_id" : "PRRC_kwDOABII584xdvDZ",
      "original_commit_id" : "aeec31d7b32b744fecb4115176a5d4e8586cdec2",
      "original_line" : 1921,
      "original_position" : 20,
      "original_start_line" : 1920,
      "path" : "src/net.cpp",
      "position" : 20,
      "pull_request_review_id" : 914192320,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19860",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/829878489/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 1920,
      "start_side" : "RIGHT",
      "updated_at" : "2022-03-18T10:38:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/829878489",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1063656?v=4",
         "events_url" : "https://api.github.com/users/jnewbery/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jnewbery/followers",
         "following_url" : "https://api.github.com/users/jnewbery/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jnewbery/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jnewbery",
         "id" : 1063656,
         "login" : "jnewbery",
         "node_id" : "MDQ6VXNlcjEwNjM2NTY=",
         "organizations_url" : "https://api.github.com/users/jnewbery/orgs",
         "received_events_url" : "https://api.github.com/users/jnewbery/received_events",
         "repos_url" : "https://api.github.com/users/jnewbery/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jnewbery/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jnewbery"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--cf906140f33d8803c4a75a2196329ecb-->\n This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
      "created_at" : "2022-04-22T14:00:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-1106546082",
      "id" : 1106546082,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII585B9I2i",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1106546082/reactions"
      },
      "updated_at" : "2022-04-22T14:00:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1106546082",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "This is nice to have. @naumenkogs, do you plan to rebase it?",
      "created_at" : "2022-10-24T10:42:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-1288826910",
      "id" : 1288826910,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII585M0fAe",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1288826910/reactions"
      },
      "updated_at" : "2022-10-24T10:42:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1288826910",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/266751?v=4",
         "events_url" : "https://api.github.com/users/vasild/events{/privacy}",
         "followers_url" : "https://api.github.com/users/vasild/followers",
         "following_url" : "https://api.github.com/users/vasild/following{/other_user}",
         "gists_url" : "https://api.github.com/users/vasild/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/vasild",
         "id" : 266751,
         "login" : "vasild",
         "node_id" : "MDQ6VXNlcjI2Njc1MQ==",
         "organizations_url" : "https://api.github.com/users/vasild/orgs",
         "received_events_url" : "https://api.github.com/users/vasild/received_events",
         "repos_url" : "https://api.github.com/users/vasild/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/vasild/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/vasild/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/vasild"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "@vasild not in the next 2 weeks, but possibly afterwards. Feel free to mark for grabs i guess.",
      "created_at" : "2022-10-25T12:56:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-1290511113",
      "id" : 1290511113,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII585M66MJ",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290511113/reactions"
      },
      "updated_at" : "2022-10-25T12:56:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1290511113",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7975071?v=4",
         "events_url" : "https://api.github.com/users/naumenkogs/events{/privacy}",
         "followers_url" : "https://api.github.com/users/naumenkogs/followers",
         "following_url" : "https://api.github.com/users/naumenkogs/following{/other_user}",
         "gists_url" : "https://api.github.com/users/naumenkogs/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/naumenkogs",
         "id" : 7975071,
         "login" : "naumenkogs",
         "node_id" : "MDQ6VXNlcjc5NzUwNzE=",
         "organizations_url" : "https://api.github.com/users/naumenkogs/orgs",
         "received_events_url" : "https://api.github.com/users/naumenkogs/received_events",
         "repos_url" : "https://api.github.com/users/naumenkogs/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/naumenkogs/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/naumenkogs"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Feel free to mark for grabs i guess.\r\n\r\nWill close, and mark up for grabs for now.",
      "created_at" : "2022-12-05T11:43:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-1337191596",
      "id" : 1337191596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII585Ps-ys",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1337191596/reactions"
      },
      "updated_at" : "2022-12-05T11:43:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1337191596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "revived this in #27264.",
      "created_at" : "2023-03-15T16:09:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19860#issuecomment-1470325525",
      "id" : 1470325525,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19860",
      "node_id" : "IC_kwDOABII585Xo2MV",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 1,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 1,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1470325525/reactions"
      },
      "updated_at" : "2023-03-15T16:09:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1470325525",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/44024636?v=4",
         "events_url" : "https://api.github.com/users/stratospher/events{/privacy}",
         "followers_url" : "https://api.github.com/users/stratospher/followers",
         "following_url" : "https://api.github.com/users/stratospher/following{/other_user}",
         "gists_url" : "https://api.github.com/users/stratospher/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/stratospher",
         "id" : 44024636,
         "login" : "stratospher",
         "node_id" : "MDQ6VXNlcjQ0MDI0NjM2",
         "organizations_url" : "https://api.github.com/users/stratospher/orgs",
         "received_events_url" : "https://api.github.com/users/stratospher/received_events",
         "repos_url" : "https://api.github.com/users/stratospher/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/stratospher/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/stratospher/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/stratospher"
      }
   }
]
