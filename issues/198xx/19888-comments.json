[
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r483997119"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483997119"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "```suggestion\r\n        assert_equal(genesis_stats[\"blockhash\"], \"0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206\")\r\n```\r\nI would suggest making the check more strict by checking for the exact expected blockhash, not just the subsidy which is the same in the next blocks âï¸",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-09-05T22:47:11Z",
      "diff_hunk" : "@@ -160,6 +160,9 @@ def run_test(self):\n         assert_raises_rpc_error(-1, 'getblockstats hash_or_height ( stats )', self.nodes[0].getblockstats, '00', 1, 2)\n         assert_raises_rpc_error(-1, 'getblockstats hash_or_height ( stats )', self.nodes[0].getblockstats)\n \n+        self.log.info('Test block height 0')\n+        genesis_stats = self.nodes[0].getblockstats(0)\n+        assert_equal(genesis_stats[\"subsidy\"], 5000000000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r483997119",
      "id" : 483997119,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk5NzExOQ==",
      "original_commit_id" : "3b40c6f36597f66b248128626b51eb5a4684c963",
      "original_line" : 165,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/rpc_getblockstats.py",
      "position" : null,
      "pull_request_review_id" : 483099113,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483997119",
      "user" : {
         "avatar_url" : "https://avatars3.githubusercontent.com/u/46975855?v=4",
         "events_url" : "https://api.github.com/users/n-thumann/events{/privacy}",
         "followers_url" : "https://api.github.com/users/n-thumann/followers",
         "following_url" : "https://api.github.com/users/n-thumann/following{/other_user}",
         "gists_url" : "https://api.github.com/users/n-thumann/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/n-thumann",
         "id" : 46975855,
         "login" : "n-thumann",
         "node_id" : "MDQ6VXNlcjQ2OTc1ODU1",
         "organizations_url" : "https://api.github.com/users/n-thumann/orgs",
         "received_events_url" : "https://api.github.com/users/n-thumann/received_events",
         "repos_url" : "https://api.github.com/users/n-thumann/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/n-thumann/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/n-thumann/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/n-thumann"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r483997890"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483997890"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "done",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-09-05T22:59:41Z",
      "diff_hunk" : "@@ -160,6 +160,9 @@ def run_test(self):\n         assert_raises_rpc_error(-1, 'getblockstats hash_or_height ( stats )', self.nodes[0].getblockstats, '00', 1, 2)\n         assert_raises_rpc_error(-1, 'getblockstats hash_or_height ( stats )', self.nodes[0].getblockstats)\n \n+        self.log.info('Test block height 0')\n+        genesis_stats = self.nodes[0].getblockstats(0)\n+        assert_equal(genesis_stats[\"subsidy\"], 5000000000)",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r483997890",
      "id" : 483997890,
      "in_reply_to_id" : 483997119,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk5Nzg5MA==",
      "original_commit_id" : "3b40c6f36597f66b248128626b51eb5a4684c963",
      "original_line" : 165,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/rpc_getblockstats.py",
      "position" : null,
      "pull_request_review_id" : 483099495,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/483997890",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r484000228"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484000228"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Could early return before prune check?",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-09-05T23:35:58Z",
      "diff_hunk" : "@@ -815,8 +815,11 @@ static CBlockUndo GetUndoChecked(const CBlockIndex* pblockindex)\n         throw JSONRPCError(RPC_MISC_ERROR, \"Undo data not available (pruned data)\");\n     }\n \n-    if (!UndoReadFromDisk(blockUndo, pblockindex)) {\n-        throw JSONRPCError(RPC_MISC_ERROR, \"Can't read undo data from disk\");\n+    // The Genesis block does not have undo data\n+    if (pblockindex->nHeight > 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r484000228",
      "id" : 484000228,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAwMDIyOA==",
      "original_commit_id" : "bb608b76bfef62d5de7c6d50fe0d9ce66f626965",
      "original_line" : 819,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 483100658,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484000228",
      "user" : {
         "avatar_url" : "https://avatars1.githubusercontent.com/u/3534524?v=4",
         "events_url" : "https://api.github.com/users/promag/events{/privacy}",
         "followers_url" : "https://api.github.com/users/promag/followers",
         "following_url" : "https://api.github.com/users/promag/following{/other_user}",
         "gists_url" : "https://api.github.com/users/promag/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/promag",
         "id" : 3534524,
         "login" : "promag",
         "node_id" : "MDQ6VXNlcjM1MzQ1MjQ=",
         "organizations_url" : "https://api.github.com/users/promag/orgs",
         "received_events_url" : "https://api.github.com/users/promag/received_events",
         "repos_url" : "https://api.github.com/users/promag/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/promag/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/promag/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/promag"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r484056947"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484056947"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "yepp, done!",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-09-06T11:20:26Z",
      "diff_hunk" : "@@ -815,8 +815,11 @@ static CBlockUndo GetUndoChecked(const CBlockIndex* pblockindex)\n         throw JSONRPCError(RPC_MISC_ERROR, \"Undo data not available (pruned data)\");\n     }\n \n-    if (!UndoReadFromDisk(blockUndo, pblockindex)) {\n-        throw JSONRPCError(RPC_MISC_ERROR, \"Can't read undo data from disk\");\n+    // The Genesis block does not have undo data\n+    if (pblockindex->nHeight > 0) {",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r484056947",
      "id" : 484056947,
      "in_reply_to_id" : 484000228,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA1Njk0Nw==",
      "original_commit_id" : "bb608b76bfef62d5de7c6d50fe0d9ce66f626965",
      "original_line" : 819,
      "original_position" : 7,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 483134404,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/484056947",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "The genesis block has no effect on the utxo set, so the returned result is wrong",
      "created_at" : "2020-09-06T12:26:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#issuecomment-687776246",
      "id" : 687776246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19888",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4Nzc3NjI0Ng==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-06T12:26:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687776246",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/6399679?v=4",
         "events_url" : "https://api.github.com/users/MarcoFalke/events{/privacy}",
         "followers_url" : "https://api.github.com/users/MarcoFalke/followers",
         "following_url" : "https://api.github.com/users/MarcoFalke/following{/other_user}",
         "gists_url" : "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/MarcoFalke",
         "id" : 6399679,
         "login" : "MarcoFalke",
         "node_id" : "MDQ6VXNlcjYzOTk2Nzk=",
         "organizations_url" : "https://api.github.com/users/MarcoFalke/orgs",
         "received_events_url" : "https://api.github.com/users/MarcoFalke/received_events",
         "repos_url" : "https://api.github.com/users/MarcoFalke/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/MarcoFalke/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/MarcoFalke"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "> The genesis block has no effect on the utxo set, so the returned result is wrong\r\n\r\nHeh, yeah, the whole RPC actually didn't deal with unspendables at all so far. I am fixing this with my latest changes, fixing the Genesis block but also BIP30 and unspendable outputs. I think the numbers make much more sense this way. I also needed to regenerate the test data because the witness commitment is now excluded from the stats.",
      "created_at" : "2020-09-06T23:44:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#issuecomment-687935999",
      "id" : 687935999,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19888",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY4NzkzNTk5OQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-06T23:45:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/687935999",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Concept ACK\r\nBoth enabling getblockstats to work with the genesis block and improving the accuracy of the utxo set statistics make big sense to me.",
      "created_at" : "2020-09-12T14:43:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#issuecomment-691500395",
      "id" : 691500395,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19888",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDY5MTUwMDM5NQ==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-09-12T14:43:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/691500395",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/91535?v=4",
         "events_url" : "https://api.github.com/users/theStack/events{/privacy}",
         "followers_url" : "https://api.github.com/users/theStack/followers",
         "following_url" : "https://api.github.com/users/theStack/following{/other_user}",
         "gists_url" : "https://api.github.com/users/theStack/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/theStack",
         "id" : 91535,
         "login" : "theStack",
         "node_id" : "MDQ6VXNlcjkxNTM1",
         "organizations_url" : "https://api.github.com/users/theStack/orgs",
         "received_events_url" : "https://api.github.com/users/theStack/received_events",
         "repos_url" : "https://api.github.com/users/theStack/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/theStack/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/theStack/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/theStack"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
      "created_at" : "2020-10-02T01:13:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#issuecomment-702475912",
      "id" : 702475912,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19888",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDcwMjQ3NTkxMg==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-10-03T15:07:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702475912",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r511479305"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511479305"
         }
      },
      "author_association" : "MEMBER",
      "body" : "With this change to the documented API, I think you'd better add a new field instead...",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-10-24T15:01:56Z",
      "diff_hunk" : "@@ -1743,7 +1747,7 @@ static UniValue getblockstats(const JSONRPCRequest& request)\n                 {RPCResult::Type::NUM, \"totalfee\", \"The fee total\"},\n                 {RPCResult::Type::NUM, \"txs\", \"The number of transactions (including coinbase)\"},\n                 {RPCResult::Type::NUM, \"utxo_increase\", \"The increase/decrease in the number of unspent outputs\"},\n-                {RPCResult::Type::NUM, \"utxo_size_inc\", \"The increase/decrease in size for the utxo index (not discounting op_return and similar)\"},\n+                {RPCResult::Type::NUM, \"utxo_size_inc\", \"The increase/decrease in size for the utxo index\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r511479305",
      "id" : 511479305,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ3OTMwNQ==",
      "original_commit_id" : "c266571561415149c10401aa94ee96bafce43c7f",
      "original_line" : 1750,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 516283958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511479305",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r511479837"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511479837"
         }
      },
      "author_association" : "MEMBER",
      "body" : "It would be nice to abstract this to a block-aware `IsUnspendable` instead.",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-10-24T15:03:53Z",
      "diff_hunk" : "@@ -1824,14 +1829,27 @@ static UniValue getblockstats(const JSONRPCRequest& request)\n     std::vector<std::pair<CAmount, int64_t>> feerate_array;\n     std::vector<int64_t> txsize_array;\n \n+    // The Genesis block and the repeated BIP30 blocks don't change the UTXO\n+    // set, so they can be excluded from the statistics\n+    const bool is_genesis = pindex->nHeight == 0;\n+    const bool is_bip30_repeat = (pindex->nHeight == 91880 && pindex->GetBlockHash() == uint256S(\"0x00000000000743f190a18c5577a3c2d2a1f610ae9601ac046a38084ccb7cd721\")) ||\n+                                 (pindex->nHeight == 91842 && pindex->GetBlockHash() == uint256S(\"0x00000000000a4d0a398161ffc163c503763b1f4360639393e0e4c8e300e0caec\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r511479837",
      "id" : 511479837,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ3OTgzNw==",
      "original_commit_id" : "c266571561415149c10401aa94ee96bafce43c7f",
      "original_line" : 1836,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 516283958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511479837",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r511480121"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511480121"
         }
      },
      "author_association" : "MEMBER",
      "body" : "Would be nice to test the other corner-case result values",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-10-24T15:05:06Z",
      "diff_hunk" : "@@ -160,6 +160,9 @@ def run_test(self):\n         assert_raises_rpc_error(-1, 'getblockstats hash_or_height ( stats )', self.nodes[0].getblockstats, '00', 1, 2)\n         assert_raises_rpc_error(-1, 'getblockstats hash_or_height ( stats )', self.nodes[0].getblockstats)\n \n+        self.log.info('Test block height 0')\n+        genesis_stats = self.nodes[0].getblockstats(0)\n+        assert_equal(genesis_stats[\"blockhash\"], \"0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r511480121",
      "id" : 511480121,
      "line" : 165,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ4MDEyMQ==",
      "original_commit_id" : "c266571561415149c10401aa94ee96bafce43c7f",
      "original_line" : 165,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/rpc_getblockstats.py",
      "position" : 6,
      "pull_request_review_id" : 516283958,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/511480121",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1095675?v=4",
         "events_url" : "https://api.github.com/users/luke-jr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/luke-jr/followers",
         "following_url" : "https://api.github.com/users/luke-jr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/luke-jr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/luke-jr",
         "id" : 1095675,
         "login" : "luke-jr",
         "node_id" : "MDQ6VXNlcjEwOTU2NzU=",
         "organizations_url" : "https://api.github.com/users/luke-jr/orgs",
         "received_events_url" : "https://api.github.com/users/luke-jr/received_events",
         "repos_url" : "https://api.github.com/users/luke-jr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/luke-jr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/luke-jr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r545288515"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/545288515"
         }
      },
      "author_association" : "MEMBER",
      "body" : "+1, it would be better not to  repeat this in multiple places",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-12-17T17:57:01Z",
      "diff_hunk" : "@@ -1824,14 +1829,27 @@ static UniValue getblockstats(const JSONRPCRequest& request)\n     std::vector<std::pair<CAmount, int64_t>> feerate_array;\n     std::vector<int64_t> txsize_array;\n \n+    // The Genesis block and the repeated BIP30 blocks don't change the UTXO\n+    // set, so they can be excluded from the statistics\n+    const bool is_genesis = pindex->nHeight == 0;\n+    const bool is_bip30_repeat = (pindex->nHeight == 91880 && pindex->GetBlockHash() == uint256S(\"0x00000000000743f190a18c5577a3c2d2a1f610ae9601ac046a38084ccb7cd721\")) ||\n+                                 (pindex->nHeight == 91842 && pindex->GetBlockHash() == uint256S(\"0x00000000000a4d0a398161ffc163c503763b1f4360639393e0e4c8e300e0caec\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r545288515",
      "id" : 545288515,
      "in_reply_to_id" : 511479837,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI4ODUxNQ==",
      "original_commit_id" : "c266571561415149c10401aa94ee96bafce43c7f",
      "original_line" : 1836,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 554850946,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:23:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/545288515",
      "user" : {
         "avatar_url" : "https://avatars0.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r548530496"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/548530496"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Right, but it's a bit more complicated because these blocks' coinbases are not actually unspendable, they are the ones that overwrote the other previous coinbases aifaik. But I have refactored both of these out into helper functions that would also be helpful to me for Coinstatsindex. Let me know what you think about the naming, 'repeat' was the best I came up with.",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-12-24T13:27:41Z",
      "diff_hunk" : "@@ -1824,14 +1829,27 @@ static UniValue getblockstats(const JSONRPCRequest& request)\n     std::vector<std::pair<CAmount, int64_t>> feerate_array;\n     std::vector<int64_t> txsize_array;\n \n+    // The Genesis block and the repeated BIP30 blocks don't change the UTXO\n+    // set, so they can be excluded from the statistics\n+    const bool is_genesis = pindex->nHeight == 0;\n+    const bool is_bip30_repeat = (pindex->nHeight == 91880 && pindex->GetBlockHash() == uint256S(\"0x00000000000743f190a18c5577a3c2d2a1f610ae9601ac046a38084ccb7cd721\")) ||\n+                                 (pindex->nHeight == 91842 && pindex->GetBlockHash() == uint256S(\"0x00000000000a4d0a398161ffc163c503763b1f4360639393e0e4c8e300e0caec\"));",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r548530496",
      "id" : 548530496,
      "in_reply_to_id" : 511479837,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODUzMDQ5Ng==",
      "original_commit_id" : "c266571561415149c10401aa94ee96bafce43c7f",
      "original_line" : 1836,
      "original_position" : 45,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 558505179,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:27:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/548530496",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r548531395"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/548531395"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "Slightly would have preferred to just fix the existing values but I have now introduced new values with a *_actual naming scheme.",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-12-24T13:31:25Z",
      "diff_hunk" : "@@ -1743,7 +1747,7 @@ static UniValue getblockstats(const JSONRPCRequest& request)\n                 {RPCResult::Type::NUM, \"totalfee\", \"The fee total\"},\n                 {RPCResult::Type::NUM, \"txs\", \"The number of transactions (including coinbase)\"},\n                 {RPCResult::Type::NUM, \"utxo_increase\", \"The increase/decrease in the number of unspent outputs\"},\n-                {RPCResult::Type::NUM, \"utxo_size_inc\", \"The increase/decrease in size for the utxo index (not discounting op_return and similar)\"},\n+                {RPCResult::Type::NUM, \"utxo_size_inc\", \"The increase/decrease in size for the utxo index\"},",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r548531395",
      "id" : 548531395,
      "in_reply_to_id" : 511479305,
      "line" : null,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODUzMTM5NQ==",
      "original_commit_id" : "c266571561415149c10401aa94ee96bafce43c7f",
      "original_line" : 1750,
      "original_position" : 16,
      "original_start_line" : null,
      "path" : "src/rpc/blockchain.cpp",
      "position" : null,
      "pull_request_review_id" : 558506266,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:31:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/548531395",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r548532117"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/548532117"
         }
      },
      "author_association" : "CONTRIBUTOR",
      "body" : "I am not sure if you had more values in mind (let me know) but I have added the old and new values that this PR touches.",
      "commit_id" : "37bbfe96674444693a7c7ef125b81ec12362ec04",
      "created_at" : "2020-12-24T13:34:35Z",
      "diff_hunk" : "@@ -160,6 +160,9 @@ def run_test(self):\n         assert_raises_rpc_error(-1, 'getblockstats hash_or_height ( stats )', self.nodes[0].getblockstats, '00', 1, 2)\n         assert_raises_rpc_error(-1, 'getblockstats hash_or_height ( stats )', self.nodes[0].getblockstats)\n \n+        self.log.info('Test block height 0')\n+        genesis_stats = self.nodes[0].getblockstats(0)\n+        assert_equal(genesis_stats[\"blockhash\"], \"0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#discussion_r548532117",
      "id" : 548532117,
      "in_reply_to_id" : 511480121,
      "line" : 165,
      "node_id" : "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODUzMjExNw==",
      "original_commit_id" : "c266571561415149c10401aa94ee96bafce43c7f",
      "original_line" : 165,
      "original_position" : 6,
      "original_start_line" : null,
      "path" : "test/functional/rpc_getblockstats.py",
      "position" : 6,
      "pull_request_review_id" : 558507104,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/19888",
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2020-12-24T13:34:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/548532117",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Addressed feedback comments. Thanks for reviewing and sorry for the long wait!",
      "created_at" : "2020-12-24T13:35:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/19888#issuecomment-750885027",
      "id" : 750885027,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/19888",
      "node_id" : "MDEyOklzc3VlQ29tbWVudDc1MDg4NTAyNw==",
      "performed_via_github_app" : null,
      "updated_at" : "2020-12-24T13:35:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/750885027",
      "user" : {
         "avatar_url" : "https://avatars2.githubusercontent.com/u/1322187?v=4",
         "events_url" : "https://api.github.com/users/fjahr/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fjahr/followers",
         "following_url" : "https://api.github.com/users/fjahr/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fjahr/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fjahr",
         "id" : 1322187,
         "login" : "fjahr",
         "node_id" : "MDQ6VXNlcjEzMjIxODc=",
         "organizations_url" : "https://api.github.com/users/fjahr/orgs",
         "received_events_url" : "https://api.github.com/users/fjahr/received_events",
         "repos_url" : "https://api.github.com/users/fjahr/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fjahr/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fjahr"
      }
   }
]
