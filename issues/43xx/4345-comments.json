[
   {
      "body" : "FWIW that backtrace appears to go off the rails inside leveldb, IIRC.\r\n",
      "created_at" : "2014-06-16T12:21:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4345#issuecomment-46171309",
      "id" : 46171309,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4345",
      "updated_at" : "2014-06-16T12:21:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46171309",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Testing with 0.9.2, it did not crash (overnight) reloading the bootstrap.dat, but it ended at block 278356 with a ton of orphan blocks, and not downloading anything despite having lots of peers (26).\r\n\r\nThis is what happened to me with 0.9.1...I was unable to synchronize with the network at all because it stopped downloading blocks.  Someone on IRC suggested that my blockchain was corrupted, which led to me trying to reload everything.  Right now I'm running a -reindex.\r\n\r\nI don't understand why 0.9.1 and 0.9.2 ended up stalled in downloading the blockchain (orphan blocks?) which seems to be a separate problem to the SIGSEV's above.  For now I will bisect and/or valgrind to find the memory corruption, but I'd appreciate suggestions about what else is going on that is preventing me from downloading the entire blockchain.",
      "created_at" : "2014-06-16T14:55:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4345#issuecomment-46188847",
      "id" : 46188847,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4345",
      "updated_at" : "2014-06-16T14:55:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46188847",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1746780?v=3",
         "events_url" : "https://api.github.com/users/mcelrath/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mcelrath/followers",
         "following_url" : "https://api.github.com/users/mcelrath/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mcelrath/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mcelrath",
         "id" : 1746780,
         "login" : "mcelrath",
         "organizations_url" : "https://api.github.com/users/mcelrath/orgs",
         "received_events_url" : "https://api.github.com/users/mcelrath/received_events",
         "repos_url" : "https://api.github.com/users/mcelrath/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mcelrath/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mcelrath/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mcelrath"
      }
   },
   {
      "body" : "Network blockchain download stalls are (unfortunately) common and have nothing to do with corruption.\r\n\r\nJust stop and restart, if you get impatient.\r\n",
      "created_at" : "2014-06-16T15:18:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4345#issuecomment-46191939",
      "id" : 46191939,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4345",
      "updated_at" : "2014-06-16T15:18:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46191939",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "By \"stall\" I mean more than 3 weeks, many (at least 10) restarts, and never progressing past a particular block.  The cause seemed to be this:\r\n> 2014-06-14 20:00:23 CheckForkWarningConditions: Warning: Large valid fork found  forking the chain at height 285298 (0000000000000000ea7984d2eef34d494e5ec5c31607f396f4a2b1decb6a1ca7)\r\n>   lasting to height 305806 (00000000000000000018257d507dcb0365a9176fe3aaa0e9539b0d9a3a5b5570).\r\n",
      "created_at" : "2014-06-16T15:31:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4345#issuecomment-46193681",
      "id" : 46193681,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4345",
      "updated_at" : "2014-06-16T15:35:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46193681",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1746780?v=3",
         "events_url" : "https://api.github.com/users/mcelrath/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mcelrath/followers",
         "following_url" : "https://api.github.com/users/mcelrath/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mcelrath/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mcelrath",
         "id" : 1746780,
         "login" : "mcelrath",
         "organizations_url" : "https://api.github.com/users/mcelrath/orgs",
         "received_events_url" : "https://api.github.com/users/mcelrath/received_events",
         "repos_url" : "https://api.github.com/users/mcelrath/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mcelrath/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mcelrath/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mcelrath"
      }
   },
   {
      "body" : "That's strange (and abnormal). It's starting to sound like something is wrong on your machine causing database and/or memory corruption.\r\n",
      "created_at" : "2014-06-16T15:44:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4345#issuecomment-46195459",
      "id" : 46195459,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4345",
      "updated_at" : "2014-06-16T15:44:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46195459",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I've run memtest and not found anything.  I'm writing a little python script to run sha256 in circles and check for inconsistencies...",
      "created_at" : "2014-06-16T15:53:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4345#issuecomment-46196641",
      "id" : 46196641,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4345",
      "updated_at" : "2014-06-16T15:53:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46196641",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1746780?v=3",
         "events_url" : "https://api.github.com/users/mcelrath/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mcelrath/followers",
         "following_url" : "https://api.github.com/users/mcelrath/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mcelrath/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mcelrath",
         "id" : 1746780,
         "login" : "mcelrath",
         "organizations_url" : "https://api.github.com/users/mcelrath/orgs",
         "received_events_url" : "https://api.github.com/users/mcelrath/received_events",
         "repos_url" : "https://api.github.com/users/mcelrath/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mcelrath/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mcelrath/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mcelrath"
      }
   },
   {
      "body" : "Further examining the possibility of bad hardware, I wrote this little script.  It detected a hardware problem so I under-clocked my CPU and the problem seems to have gone away.  I did see crashes with v0.9.2 but right now it is running and synchronized.  \r\n\r\nI see a few other \"issues\" involving ORPHAN BLOCK (etc).  It might be a good idea to hand this script to people who report problems synchronizing the blockchain to check their hardware.  I had to run it for several hours before it reported an error, but bitcoin is very sensitive to a single hash being computed incorrectly.\r\n\r\n    #!/usr/bin/python\r\n\r\n    # Repeatedly run a sha256 on random data.  Keeps a rolling buffer of the last\r\n    # <buflen> hashes and re-checks them.  Prints an error ONLY if a mismatch is\r\n    # found.  If a mismatch is found, you have a hardware problem.\r\n\r\n    from hashlib import sha256\r\n    from collections import deque\r\n    import random\r\n\r\n    buflen = 100000\r\n    hashbuf = deque(maxlen=buflen)\r\n\r\n    for i in range(buflen):\r\n        hashbuf.append([str(i), sha256(str(i)).hexdigest()])\r\n\r\n    while True:\r\n        k, khash = hashbuf.popleft()\r\n        pophash = sha256(k).hexdigest()\r\n        if pophash != khash:\r\n            print \"ERROR: sha256(%s) = %s does not match:\"%(k, khash)\r\n            print \"       sha256(%s) = %s\"%(k, pophash)\r\n        k = str(random.getrandbits(1000))\r\n        khash = sha256(k).hexdigest()\r\n        hashbuf.append([k, khash])\r\n\r\nPlease close this issue.",
      "created_at" : "2014-06-17T15:35:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4345#issuecomment-46323884",
      "id" : 46323884,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4345",
      "updated_at" : "2014-06-17T15:35:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46323884",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1746780?v=3",
         "events_url" : "https://api.github.com/users/mcelrath/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mcelrath/followers",
         "following_url" : "https://api.github.com/users/mcelrath/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mcelrath/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mcelrath",
         "id" : 1746780,
         "login" : "mcelrath",
         "organizations_url" : "https://api.github.com/users/mcelrath/orgs",
         "received_events_url" : "https://api.github.com/users/mcelrath/received_events",
         "repos_url" : "https://api.github.com/users/mcelrath/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mcelrath/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mcelrath/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mcelrath"
      }
   },
   {
      "body" : "Ok, thanks for letting us know.",
      "created_at" : "2014-06-17T15:42:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4345#issuecomment-46324827",
      "id" : 46324827,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4345",
      "updated_at" : "2014-06-17T15:42:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46324827",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "FYI I've run various stress tests with master, importing bootstrap.dat files with different degrees of parallelism over the last few days, and not one crash or instance of corruption.\r\n",
      "created_at" : "2014-06-18T06:26:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/issues/4345#issuecomment-46400226",
      "id" : 46400226,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4345",
      "updated_at" : "2014-06-18T06:26:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46400226",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   }
]
