[
   {
      "body" : "Why is there absolutely no privacy at all in this feature? You could easily search by prefix rather than being forced to always give the peer the exact outputs you are interested in. (recall how leveldb queries work re: the iterators)\r\n\r\nAlso, re: security, Lighthouse is particularly bad as lying about UTXO's - falsely claiming they don't exist/are spent when they are unspent - can certainly lead to serious exploits where clients are fooled into thinking an assurance contract is not fully funded when in fact it is over-funded, leading to large fees being paid to miners. You've not only got a potential exploit, you've got a strong financial motivation to exploit that exploit.",
      "created_at" : "2014-06-16T20:20:24Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46231037",
      "id" : 46231037,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-16T20:20:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46231037",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "One last thing: needs a NODE_GETUTXO service bit - having an unencrypted copy of the UTXO set is definitely a service that not all nodes can be expected to have. (recall @gmaxwell's clever suggestion of self-encrypting the UTXO set to avoid issues around storage of problematic data)",
      "created_at" : "2014-06-16T20:24:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46231501",
      "id" : 46231501,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-16T20:24:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46231501",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "If the app thinks a pledge is revoked it won't be included in the contract that is broadcast, so it can't lead to overpayment.\r\n\r\nRe: encrypted UTXO set. That makes no sense. Nodes must be able to do this lookup internally to operate. Gregory's suggestion was to obfuscate the contents *on disk only* to avoid problems with silly AV scanners, not that the node itself can't read its own database.\r\n\r\nThere is no prefix filtering because that would complicate the implementation considerably. You are welcome to implement such an upgrade in a future patch, if you like.",
      "created_at" : "2014-06-16T20:44:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46234028",
      "id" : 46234028,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-16T20:44:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46234028",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "> If the app thinks a pledge is revoked it won't be included in the contract that is broadcast, so it can't lead to overpayment.\r\n\r\nThe attacker would of course broadcast the pledges themselves; pledges are public information.\r\n\r\n> Re: encrypted UTXO set. That makes no sense.\r\n\r\nI was thinking in the case where privacy is implemented, but actually on second thought my complaint is invalid for this implementation as you're not returning the UTXO data associated with the UTXO.\r\n\r\n> There is no prefix filtering because that would complicate the implementation considerably. You are welcome to implement such an upgrade in a future patch, if you like.\r\n\r\nYou can query leveldb with the prefix, get a cursor in return, then just scan the cursor until the end of the prefix range. There's no good reason to create yet more infrastructure with zero privacy, and the lack of privacy makes attacking specific targets without being detected much easier.",
      "created_at" : "2014-06-16T20:57:28Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46236282",
      "id" : 46236282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-16T20:57:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46236282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Pledges are not public. You're making assumptions about the design without understanding it.\r\n\r\nYour second statement is nonsensical. The code does return \"the UTXO data associated with the UTXO\", what else would it do?\r\n\r\nYour third statement is something I already know: I am the one who implemented LevelDB for Bitcoin. My point stands. This patch is what it is. If you'd like it to be better feel free to contribute code to make it so.",
      "created_at" : "2014-06-16T21:00:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46236773",
      "id" : 46236773,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-16T21:00:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46236773",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "> Pledges are not public. You're making assumptions about the design without understanding it.\r\n\r\nEither pledges are public information and can be attacked, or they are not and some single user is running the crowdfund, (the project owner) in which case the overhead of just using existing systems is not a big deal. In particular, in the \"single project owner design\" all pledges can easily be added to a single bloom filter and the chain scanned to keep the state of spent/unspent up to date at the same low cost as keeping an SPV wallet up-to-date. (remember that users are going to be pledging specific amounts and/or using a specific wallet for their pledges, so in the vast majority of cases you'll need to create a transaction output for that pledge, which means the bloom filter behavior is identical to that of a standard SPV wallet)\r\n\r\nRelying on pledges not being public information for your security is a rather risky design with difficult to predict consequences. Easy to imagine, for instance, a user publishing a list of pledge amounts showing the progress of their campaign, and that list being used for the attack. (trick project owner into publishing an invalid tx with an input spent, record signatures, then make it look like other pledges are now spent and get more pledges)  Even a \"multiple utxo's is one pledge\" design can easily fall to an attacker who just guesses what UTXO's are probably part of the pledge based on amounts pledged. Again, all attacks that are much more difficult to pull off if the app isn't giving away exact info on what transaction outputs it's looking for. (although UTXO anonymity does suffer from the inherent problem that UTXO size grows indefinitely, so your k-anonymity set is much weaker than it looks as many entries can be ignored due to old age - another argument for the bloom filter alternative)\r\n\r\n> Your second statement is nonsensical. The code does return \"the UTXO data associated with the UTXO\", what else would it do?\r\n\r\nIt can return only a spent/unspent bit. What's the use-case for requiring more than that? It's easy to foresee this encouraging applications to abuse the UTXO set as a database. (back to the policy question: do we really want to redefine NODE_NETWORK as being able to provide UTXO data to peers as well?)",
      "created_at" : "2014-06-16T22:17:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46245259",
      "id" : 46245259,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-16T22:17:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46245259",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Looks OK to me, implementation-wise. Talking of testing, if you cannot integrate testing into the unit tester suite for some reason I think at least some Python script should be included in `qa/...` to be able to test this functionality. Such a test script could create a node, import a bootstrap file, and launch `getutxos` queries at it.\r\n\r\nI think we are at the point that we need to define an extension mechanism - whether that's done with a `NODE_*` bit or some other way doesn't matter. That would encourage experimentation, and I think this is an excellent use-case for such. No need to force all `NODE_NETWORK` nodes above a certain version to provide a specific query service. Alternative implementations (obelisk, btcd) may or not want to implement this, and may want to experiment with their own extensions. Then the bootstrapping network needs a way to find only nodes that provide a certain extension. Let's not repeat the bloom debacle.\r\n\r\n",
      "created_at" : "2014-06-17T05:50:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46269705",
      "id" : 46269705,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T05:50:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46269705",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj I suggested awhile back we use a simple bitmask:\r\n\r\n    x0000000000000001.testnet-seed-mask.bitcoin.petertodd.org\r\n\r\nReturning all seeds with at least NODE_NETWORK set. There's most likely to be a relatively small number of combinations people use, so DNS caching will still work fine. (though I'm no DNS expert) Of course, as always relying heavily on seeds is foolish, so just setting up app-specific seeds probably makes more sense in many cases and lets the authors of those apps implement whatever feature tests they need to ensure they're serving up seeds that actually support the features required by the apps. (e.g. right now if there ever exist NODE_BLOOM-using nodes on the network and someone does a bloom IO attack against the nodes returned by the seeds, maliciously or by accident, you'll easily wind up with only NODE_BLOOM-supporting nodes being returned, breaking anything relying on bloom filters)\r\n\r\nAlso, as an aside it'd be reasonable to set aside a few service bits for experimental usage, with an understanding that occasional conflicts will be inevitable. In my replace-by-fee implementation that uses preferential peering to let replace-by-fee nodes find each other quickly I have:\r\n\r\n    // Reserve 24-31 for temporary experiments\r\n    NODE_REPLACE_BY_FEE = (1 << 26)\r\n\r\nhttps://github.com/petertodd/bitcoin/blob/f789d6d569063fb92d1ca6d941cc29034a7f19ef/src/protocol.h#L66",
      "created_at" : "2014-06-17T06:34:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46271980",
      "id" : 46271980,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T06:34:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46271980",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd The problem with service bits is that there is only a very limited number of them. It would, IMO, be better to have a string namespace defining extensions. A new version of the network protocol could add a command that returns a list of strings defining the supported extensions and maybe even per-extension versions. It's still very simple and conflicts could be much more easily avoided.",
      "created_at" : "2014-06-17T06:51:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46272958",
      "id" : 46272958,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T06:51:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46272958",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Well we've got 64 of them, 56 if you reserve some for experiments; I don't see us using up that many all that soon. A string namespace thing can be added in the future for sure, but I just don't see the short-term, or even medium-term, need. After all, NODE_BLOOM was AFAIK the first fully fleshed out proposal to even use a single service bit, with the closest runner up being @sipa's thoughts on pruning.\r\n\r\nThat said, strings, and especially UUIDs, (ugh) would definitely reduce the politics around them.",
      "created_at" : "2014-06-17T06:59:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46273448",
      "id" : 46273448,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T06:59:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46273448",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "It's not about fear of running out but about reducing the need for central coordination. Anyhow, let's stop hijacking this thread.\r\nUsing a service bit in this case is fine with me.",
      "created_at" : "2014-06-17T07:04:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46273831",
      "id" : 46273831,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T07:05:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46273831",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj Agreed.",
      "created_at" : "2014-06-17T07:07:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46274024",
      "id" : 46274024,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T07:07:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46274024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "I don't think the attack you have in mind works.\r\n\r\nLet's assume that pledges are public for a moment, e.g. because the user chooses to publish them or collect them in a way that inherently makes them public, like people attaching them to forum posts. I don't fully get what attack you have in mind, but I think you're saying if you can control the internet connection of the fundraiser for an extended period of time, you could ensure they don't close the contract as early as possible and continue to solicit pledges. Then Dick Dasterdly steps in, takes all the pledges and steals the excess by working with a corrupt miner.\r\n\r\nBut this attack makes no sense. If the pledges are public any of the legitimate pledgors can also observe the contracts state and close it. The attacker has no special privileges. Unless you control the internet connection of *all* of them simultaneously and permanently, the attack cannot work: legitimate users will stop pledging once they see it's reached the goal and then either close it themselves, or ask the owner via a secure channel why they aren't doing so. \r\n\r\nWhat you're talking about is only an issue if the pledges are NOT public, but the attacker is able to obtain them all anyway, AND control the users internet connection so they do not believe the contract is closeable AND they continue to solicit funds and raise money. Given that Lighthouse includes an integrated Tor client and can therefore tunnel through your control anyway, I don't think this is a realistic scenario.\r\n\r\n> It can return only a spent/unspent bit. What's the use-case for requiring more than that?\r\n\r\nIt's explained in the nice document I wrote above, please read it! Then you would actually know what data is returned and why.\r\n\r\n@laanwj As far as I know only Peter thinks Bloom filtering was a debacle: if we had added a service bit, all nodes on the network would set it except for one or two that don't follow the protocol properly anyway, so who knows what they would do. If a node doesn't wish to support this simple command they can just not increase their protocol version past 90000. If they do, it should be only a few lines of code to add. As you note, using a service bit means implementations can be found but there are only a handful of them to go around, and not using a service bit means some entirely new mechanism must be designed which is way out of scope for this patch.\r\n\r\nRe; qa tests, as far as I can tell they are only capable of covering the JSON-RPC interface. We don't seem to have any testing infrastructure for doing P2P tests except for the pull tester. I could try adding some code to that, but that code is maintained in the bitcoinj repository.",
      "created_at" : "2014-06-17T09:44:18Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46286966",
      "id" : 46286966,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T09:44:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46286966",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn Binding features to version numbers assumes a linear, centralized progression. It means that everyone that implements A also needs to implement B even though they are unrelated. I don't think this is desirable anymore.\r\n\r\nAnd as said above, using a service bit is fine with me. I do think we need another mechanism for signalling extensions to the protocol in the future, but for now we're stuck with that.",
      "created_at" : "2014-06-17T09:51:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46287612",
      "id" : 46287612,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T09:52:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46287612",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "OK, I can add a service bit, although AFAIK nobody actually has any code that searches out nodes with a particular bit? I'm not sure Core does and bitcoinj definitely doesn't. But that can be resolved later.\r\n\r\nThe question of optionality in standards is one with a long history, by the way. The IETF has a guide on the topic here:\r\n\r\nhttp://tools.ietf.org/html/rfc2360#section-2.10\r\n\r\nDeciding when to make features optional is tricky; when PNG was designed, there were (iirc) debates over whether gz compression should be optional or mandatory. The feeling was that if it were optional, at least a few implementations would be lazy and skip it, then in order to ensure that their images rendered everywhere PNG creators would always avoid using it, thus making even more implementations not bother, and in the end PNGs would just end up bigger for no good reason: just because a few minority implementors didn't want to write a bit of extra code. So they made gz compression mandatory. Another feature that GIF had (animation) was made optional and put into a separate MNG format (later another attempt, APNG). Needless to say, the situation they feared did happen and animated images on the web today are all GIFs.\r\n\r\nSo I will add a service bit, even though this feature is so trivial everyone could implement it. If it were larger and represented a much bigger cost, I'd be much keener on the idea. As is, I advise caution - simply making every feature from now on optional is not necessarily good design. The tradeoffs must be carefully balanced.\r\n\r\n",
      "created_at" : "2014-06-17T10:04:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46288726",
      "id" : 46288726,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T10:04:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46288726",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "NODE_NETWORK is a hack. It is conflating two things: storing the whole block chain, and storing the current UTXO set. These are orthogonal things. I think there should be a service bit here, but the meaning is not constrained to just a 'getutxos' call. NODE_NETWORK should be split into NODE_ARCHIVAL and NODE_UTXOSET, with the latter eventually indicating presence of other things as well, such as a future p2p message that returns utxo proofs.",
      "created_at" : "2014-06-17T10:14:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46289574",
      "id" : 46289574,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T10:14:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46289574",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "I agree it would be preferable for everyone to agree and do the same thing, but that makes progress incredibly difficult. From my (maybe over-cynical) view of the bitcoin community that means that nothing new ever happens. There's always some reason not to agree with a change, it could be some perceived risk, disagreement on the feature set or how the interface should look, or even paranoid fantasies.\r\n\r\nHaving optional features could mean the difference between something like this, which is useful but not absolutely perfect, being merged, or nothing being done at all. So I also advice caution on trying to push it to the entire network with a version bump.\r\n",
      "created_at" : "2014-06-17T10:17:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46289780",
      "id" : 46289780,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T10:18:24Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46289780",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj how else do you indicate presence of this one particular p2p message except by version bump? That's what the version field is for.",
      "created_at" : "2014-06-17T10:20:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46290043",
      "id" : 46290043,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T10:20:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46290043",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "Ah, you're right, that's why software projects have maintainers instead of requiring universal agreement from whoever shows up :) There will always be people who disagree or want something better (but don't want to do the work). Sometimes those disagreements will make sense, and other times they will be bike shedding. \r\n\r\nIf we look at projects like the kernel, it's successful partly because Linus lets debates run for a while, he develops opinions and then if things aren't going anywhere he steps in and moves things forward. Bitcoin has worked the same way in the past with @gavinandresen doing that, and I hope we will retain good project leadership going forward.\r\n\r\nGavin, what are your thoughts on protocol extensibility / optionality? As it seems nobody has problems with the code in this patch itself.",
      "created_at" : "2014-06-17T10:23:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46290263",
      "id" : 46290263,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T10:23:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46290263",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn it would be better imho if the return value included the height and hash of the best block. That would help you figure out what is going on when you get different answers from peers, and parallels the information returned by a future getutxos2 that returns merkle proofs.",
      "created_at" : "2014-06-17T10:32:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46290893",
      "id" : 46290893,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T10:32:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46290893",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "Good idea! I'll implement that this afternoon or tomorrow.",
      "created_at" : "2014-06-17T10:46:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46292091",
      "id" : 46292091,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T10:46:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46292091",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn Sybil attacking the Bitcoin really isn't all that hard; I really hope Lighthouse doesn't blindly trust the DNS seeds like so much other bitcoinj code does. re: having getutxos return actual UTXO's vs. spent/unspent, I see nothing in the design of Lighthouse that prevents pledges from containing the transactions required to prove the UTXO data. Also, last I talked to Gregory Maxwell about the issue he had strong opinions that NODE_BLOOM was the right idea - he did after all ask me to implement it. Warren Togami also is in that camp. (and asked me to re-base the patch and submit the BIP)",
      "created_at" : "2014-06-17T11:03:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46293420",
      "id" : 46293420,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T11:03:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46293420",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@mikehearn It may have been that way in the past, but Bitcoin Core is not the only node implementation anymore. Don't confuse leadership over this project with leadership over the global P2P network, which has various other actors as well now.\r\n\r\n**Edit:** another  concrete advantage of an optional-feature approach is that features can be disabled again if they either prove to be not so useful for what they were imagined for, or the implementation causes problems, or a later extension provides a better alternative. Locking it to >= a protocol version means every version in the future is expected to implement it.\r\n",
      "created_at" : "2014-06-17T11:11:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46293990",
      "id" : 46293990,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T11:34:19Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46293990",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj New version numbers can mean anything, including \"feature X is no longer supported\". So I don't think we need service bits for that.\r\n",
      "created_at" : "2014-06-17T11:49:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46296844",
      "id" : 46296844,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T11:49:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46296844",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "We've talked about it, and I'm sure you're aware of my opinion already, but\nI'll still repeat it here to offer for wider discussion.\n\nI do not believe we should encourage users of the p2p protocol to rely on\nunverifiable data. Anyone using 'getutxos' is almost certainly not\nmaintaining a UTXO set already, and thus not doing chain verification, so\nnot able to check that whatever a peer claims as respond to getutxos is\nremotely meaningful. As opposed to other data SPV clients use, this does\nnot even require faking PoW.\n\nYes, there are other parts of the protocol that are largely unverified.\nAddr messages for new peers, the height at startup, requesting the mempool\ncontents, ... But those are either being deprecated (like the height at\nstartup), or have infrastructure in place to minimize the impact of false\ndata. In contrast, I do not see any use of getutxos where the result *can*\nbe verified; if you're verifying, you don't need it. To the extent\npossible, Bitcoin works as zero-trust as possible, and I believe improving\nupon that should be a goal of the core protocol.\n\nOf course, that does not mean that the ability to request UTXO data is\nuseless. I just don't believe it should be part of the core protocol.\n\nI think the problem is that in some cases, there are very good reasons to\nconnect to a particular (set of) full node, and trusting its responses. For\nexample, when you have different Bitcoin-related services running within a\n(local and trusted) network, connected to the outside world using a\nbitcoind \"gateway\". In this case, you are using bitcoind as a service for\nyour system, rather than as a pure p2p node.\n\nSo far, we have separated service providing done through RPC than through\nP2P. This makes often sense, but is not standardized, is not very\nefficient, and is inconvenient when most of the data you need is already\ndone through P2P.\n\nMy proposal would therefore be to add \"trusted extensions\" to the P2P\nprotocol. They would only be available to trusted clients of a full node\n(through IP masking, different listening port, maybe host authentication at\nsome point, ...). I've seen several use cases for these:\n* When a local network wallet rebroadcasts transactions, you want the\ngateway to rebroadcast as well. Default current behavior is to only relay\nthe first time you see a transaction.\n* You want local clients to bypass rate limiting systems, without\ntriggering DoS banning (currently done for localhost, whuch is broken for\nTor).\n* Some functionality really is only available when you have a trusted\nbitcoind. Mempool acceptance checking for detecting conflicting wallet\ntransactions is one, getutxos is another. Mechanisms for these could be\navailable but only to trusted clients.\n\nThis may be controversial (and probably needs a separate\nmailinglist/issue), as it could all be done through a out of band separate\nnon-P2P protocol, or just RPC.\n\nComments?",
      "created_at" : "2014-06-17T11:51:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46296975",
      "id" : 46296975,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T11:51:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46296975",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I think I put all my comments on that in the original writeup. Yes, in the ideal world everything would be perfect and authenticated by ghash.io ;) However we do not live in such a world and are dragging ourselves towards it one step at a time.\r\n\r\nBTW, on height in version message being \"deprecated\", that's the first I've heard of this. SPV clients use it. If someone wants to deprecate that they're welcome to update all the clients that require it. But let's discuss that in a separate thread.\r\n\r\n",
      "created_at" : "2014-06-17T11:58:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46297558",
      "id" : 46297558,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T11:58:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46297558",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Oh, not in the protocol. I just mean that full nodes don't use it at all\nanymore. I wish it didn't exist in the first place, but it's too\nunimportant to bother changing in the protocol.",
      "created_at" : "2014-06-17T12:03:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46297934",
      "id" : 46297934,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T12:03:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46297934",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "Ah, OK.",
      "created_at" : "2014-06-17T12:13:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46298733",
      "id" : 46298733,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T12:13:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46298733",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@sipa +1\r\n\r\nThere's nothing wrong with trust. We'd like everything to be decentralized, but we don't live in a perfect world so occasionally we introduce trust to solve problems that we don't have decentralized solutions for yet. We did that in the payment protocol because we had no other way to authenticate payments; we should be doing that in UTXO lookup, because we have no other way to authenticate UTXO's. (yet)\r\n\r\nWe also have a responsibility to design systems that naturally lead to safe implementations that are robust against attack. This patch is anything but that on multiple levels - even little details like how it gives you 100% unauthenticated UTXO data rather than just a \"known/unknown\" response encourage inexperienced programmers to take dangerous shortcuts, like relying on your untrusted peer(s) for utxo data corresponding to a tx rather than at least getting actual proof via the tx and its merkle path to the block header. (PoW proof) Equally the presence of vulnerable targets encourages attackers to sybil attack the Bitcoin network to exploit those targets - we don't want to encourage that.\r\n\r\nThat said, I'm not convinced we need to add trusted extensions to the Bitcoin Core P2P protocol; that functionality already exists in the form of Electrum among others. UTXO's can be looked up easily, you can authenticate the identity of the server you're talking to via SSL, and it is already used for that purpose by a few applications. (e.g. the SPV colored coin client ChromaWallet) A client implementation is simple(1) and Electrum supports things like merkle paths where possible to reduce the trust in the server(s) to a minimum. Why reinvent the wheel?\r\n\r\n1) https://github.com/bitcoinx/ngcccbase/blob/master/ngcccbase/services/electrum.py",
      "created_at" : "2014-06-17T12:30:38Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46300192",
      "id" : 46300192,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T12:30:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46300192",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@sipa Agreed - `getutxos` is in the same category of 'information queries from trusted node' as the mempool check for unconfirmed/conflicted transactions that an external wallet could use.\r\n\r\nRegarding the height in version messages: yes, nodes have lied about this, resulting in 'funny' information in the UI so we don't use it anymore, not even behind a median filter. See #4065.\r\n",
      "created_at" : "2014-06-17T12:37:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46300757",
      "id" : 46300757,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T12:37:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46300757",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "I have a section in the commit message about philosophy for a reason - this discussion is now firmly in the realm of the philosophical.\r\n\r\nThere have been cases in the past few years where people loudly proclaimed that something should not be done because of $ATTACK or $CONCERN, then we did it, and so far things worked out OK. A good example of this was SPV clients in general, a few people said:\r\n\r\n* Nodes will silently drop transactions just because they can, so every client should use a trusted server.\r\n* People will DoS the network by requesting lots of blocks just because they can, so Bloom filters should be disabled by default (litecoin did this)\r\n* People will sybil the network and make clients believe in non-existent mempool transactions, so everyone should just use a trusted server.\r\n\r\nIn fact none of these things have happened, the concerns were overblown. Will they happen in future? Maybe! But also maybe not. So far we benefited tremendously: pushing SPV forward was the right call.\r\n\r\nWhen any change is proposed it's natural and human to immediately come up with as many objections as possible. The reason is, if we object now and something does go wrong, we can make ourselves look smart and wise by saying \"told you so\". But if we object and nothing goes wrong, people usually forget about it and move on. This gives a huge incentive to consider only risks and not benefits, it gives huge incentives to try and shoot things down. Sometimes people call this stop energy, a term coined by Dave Winer: http://www.userland.com/whatIsStopEnergy - I see it here. Nobody above is talking about the considerable benefits of a fully decentralised assurance contract app. Instead people are focusing only on costs, costs like \"maybe someone will do something dumb\", which is always a concern with Bitcoin.\r\n\r\nNow there are two possible outcomes here:\r\n\r\n1) Although I have explained why various attacks are not a concern above, let's say my analysis is wrong somehow and someone finds a way to exploit the lack of block chain authentication on getutxos and causes problems for my users. Let's also say that other ways to fix the problem, like using Tor and cross-checking nodes don't work. In that case I will have to fall back to using a set of trusted nodes instead and people can say \"told you so\". I'm sure they will enjoy it.\r\n\r\n2) In fact the concerns are overblown and nobody mounts successful attacks, either because it's too hard, or because there's no benefit, or because by the time someone finds a way to do it and decides they want to the world has moved on and e.g. we have UTXO commitments or simply Bitcoin assurance contracts are irrelevant for some reason.\r\n\r\nIn the latter case, it's a repeat of Bloom filtering so far - we will have benefited! More decentralisation! More simplicity!\r\n\r\nThe argument being made here is, let's just assume failure and skip straight to the centralised trust based solution. Or more subtly, let's set up a hypothetical straw developer who we assume does something dumb, and use that as a reason to not add features.\r\n\r\nI have a different idea - let's add this feature and see what happens. Maybe it turns out to be useless and people get attacked too much in practice, in which case it would fall out of use and in future could be removed from the protocol with another version bump. Or maybe it works out OK, eventually gets extended to contain UTXO proofs despite the lack of real-world attacks, and the story has a happy ending.",
      "created_at" : "2014-06-17T13:17:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46304861",
      "id" : 46304861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T13:17:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46304861",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Sorry @sipa, I agree with Mike-- lets add this feature.\r\n\r\nRE: service bits versus version numbers: In my experience, APIs/protocols fail when they wimp out and make lots of things optional. It becomes impossible to test the 2^N combinations of N optional features once N is greater than... oh, two.\r\n\r\nThe unspent transaction output set is something every 'full' node should know, so I see no reason to do a service bit over bumping the version number.\r\n\r\nRE: fears that lazy programmers will Architect In Bad Ways: \"better is better.\" Letting SPV clients query the state of a full node's UTXO set is useful functionality. And simple is generally more secure than complex.\r\n\r\n",
      "created_at" : "2014-06-17T13:38:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46307358",
      "id" : 46307358,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T13:38:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46307358",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "> RE: fears that lazy programmers will Architect In Bad Ways: \"better is\nbetter.\" Letting SPV clients query the state of a full node's UTXO set is\nuseful functionality. And simple is generally more secure than complex.\n\nI don't disagree at all that it is useful. I even gave an extra use case\nfor it (mempool conflict checking).\n\nI just want to not make the distinction between the p2p system and services\noffered by full nodes fuzzier.\n\nGetutxos is not costly (in the current way of implementation) and I'm not\nparticularly worried about DoS attacks that could result from it. I'm\nworried about providing a service that the ecosystem grows to rely upon,\nmaking it harder to change implementations (gmaxwell's idea of provable\ndeniability of chainstate data through encryption utxos is a nice example).\n\nIf you're going to use data that needs trusting a full node, fine. Let's\njust make sure people actually trust it.",
      "created_at" : "2014-06-17T15:02:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46319019",
      "id" : 46319019,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T15:02:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46319019",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "This doesn't appear incompatible with the txout set encryption.  The idea there is to key the utxo set with some hash of the txid:vout and encrypt the data with some different hash of the txid:vout, thus the node itself does not have the data needed to decrypt the txout until the moment its needed.  Since this would provide the txid's it would still work even if it returned the data... though for the motivation of the encrypted txouts we might prefer to not receive the txid until strictly needed, and instead do query by hash for this kind of spendability.\r\n\r\nThat said, I consider serving additional unauthenticated data strongly inadvisable. It risks incentivizing sibyl attacks against the network and we've already seen people (apparently) trying to attack miners in the past with nodes lying about the timeso these kinds of attack are not just theoretical. We should be moving in the opposite direction in the core protocol, not making it worse. And if we do provide facilities which are not necessary for the basic operation of the system they should be behind service flags so we have the freedom to abandon them later without instantly breaking any node that calls them.\r\n\r\nTrusted services are already offered by electrum nodeswhich have authenticated and encrypted connections and a curated node database which may prevent sybil attacks, at the expense of a more centralized dependencywhich should be acceptable here, since the argument was that the data doesn't need to be authenticated at all.  Why can't this use the existing electrum infrastructure for quasi-trusted wallet data?\r\n\r\nIs the mempool bool really the right design? ISTM that nodes that want to know if the txout is confirmed or mempool is going to need to query all of them twice.",
      "created_at" : "2014-06-17T16:04:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46327971",
      "id" : 46327971,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T16:04:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46327971",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "My +1 goes to both @sipa and @mikehearn on this. This is a trusted call, and we are giving people enough rope to shoot themselves in the foot. Ideally stuff like this should be disabled by default and/or placed behind a special authenticated connection. But that is a separate issue necessitating a separate pull request -- this gets my ACK once best block hash & height is addd.\r\n\r\nWhen I first heard about this at the conference I thought this was crazy -- we need to be implementing trustless mechanisms for these things! If there is a usecase now, then let that drive development on, e.g. UTXO commitments, and let's do this the right way. I still feel that way generally. However in this particular case I am more than willing to make an exception: Lighthouse will be transformative to bitcoin development, and is exactly the ideal platform for crowdfunding work on trustless tech. So I'm okay with merging this now, and reaping the benefits for bitcoin while also working on all the improvements mentioned.\r\n\r\nThe UTXO commitments I'm working on are currently developer-time limited. There's a working Python implementation and complete test vectors, as well as an optimized commitment mechanism (#3977, which needs a rebase), and C++ serialization code for the proofs. All we need is the C++ code for updating proofs, and the LevelDB backend. So if there are other bitcoind hackers out there interested in doing this The Right Way, contact me. However it requires a soft-fork, so rolling it out necessitates some degree of developer consensus, community eduction, and miner voting process (or the beneficence of ghash.io...), all of which together requires as much as a year if past experience is a judge. Lighthouse, on the other hand, can do good for bitcoin crowdfudned development right now.\r\n\r\n@gavinandresen It is only temporarily the case that the full UTXO set is something every full node needs to know. With either TxO or UTxO commitments it becomes possible to prepend spentness proofs to block and transaction propagation messages, at which point nodes are free to drop (portions of) the UTXO set. There is consensus we are heading in a direction which enables this, just not consensus over TxO vs UTxO and the exact details of the data structure.",
      "created_at" : "2014-06-17T17:55:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46342144",
      "id" : 46342144,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T17:55:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46342144",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "&lt;vendor hat: on&gt;\r\nThis duplicates multiple other open source projects such as Insight, which provides the same queries and more: https://github.com/bitpay/insight-api\r\n\r\nRunning Insight is trivial for anyone running bitcoind.  Anyone not running bitcoind can probably ask or find someone trusted who is already running such a server.\r\n\r\nI'm just not seeing a driving use case here [that is not already filled by existing software].  You don't have hordes asking for this feature; and if people are asking for this feature, it is easy to point them to an existing project that can roll this out instantly.\r\n\r\n(Because, remember, you cannot start using this functionality even if you merge the PR today)\r\n",
      "created_at" : "2014-06-17T21:52:55Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46370650",
      "id" : 46370650,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-17T22:06:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46370650",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik Using insight for this seems overkill, as it needs no extra indexes - bitcoind has the required information ready. If this would have been a request to add a private RPC call instead of a public P2P network message, IMO it would have been an easy ACK.\r\n\r\n@sipa\r\n> I don't disagree at all that it is useful. I even gave an extra use case for it (mempool conflict checking). I just want to not make the distinction between the p2p system and services offered by full nodes fuzzier.\r\n\r\n@gmaxwell \r\n> We should be moving in the opposite direction in the core protocol, not making it worse. And if we do provide facilities which are not necessary for the basic operation of the system they should be behind service flags so we have the freedom to abandon them later without instantly breaking any node that calls them.\r\n\r\nRight, that was my idea as well. It can be useful but if you want to offer these kind of 'courtesy' services, they should be separate - either behind a service bit or such or a separate network like Electrum. Not mandatory extensions that the Bitcoin P2P network is stuck with forever.\r\n(as you say, can't remove features you have introduced with a version: all existing software will interpret >=version as 'has this and this feature' no matter what is specified later). \r\n\r\nAs @maaku says, `NODE_NETWORK` already is a hack that conflates different 'services'. I'd prefer to make this part of a new service and add a `NODE_QUERIES` bit or such.\r\n",
      "created_at" : "2014-06-18T06:32:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46400539",
      "id" : 46400539,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T06:32:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46400539",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "It does not make sense to run a full blown block explorer for something that all bitcoind's can serve without any additional indexes.\r\n\r\n@drak There is no danger to people's money. Have you read my original post or the analysis above? Even if you disagree for some reason, you just .... don't run an app that uses the message. \r\n\r\n@maaku Thanks, it's nice to see someone weigh the potential benefits too. I'll try and make some time to test/play with your UTXO commitments work in future.\r\n\r\nI do not believe adding such messages is \"going in the wrong direction\". Telling people to pick some trusted people and trust them is the wrong direction. This is the same reasoning by which we'd have no SPV clients at all because some theoretical attack exists, so we should all just use Electrum and presumably if one or two Electrum server operators turn out to be corrupt, we ask governments to regulate them? Or remove them from a magic list and wait until they come back under another identity? Am I supposed to ask Electrum operators to submit to an exchange-style passport examination? Or just assume because I met the guy in a bar once and he seemed OK he must be trustworthy? I don't think \"use Electrum\" is quite the silver bullet it's being made out to be. Actually I suspect that randomly picking a few nodes out of 8000 (especially via a Tor circuit using one of their ~1000 available exits) and cross checking their answers stands just as good a chance of being robust.\r\n\r\nAdditionally, let's be realistic about what UTXO commitment authentication in this context really means: we have something close to a miner cartel today. If we assume that nodes are untrustworthy and it's the proofs that matter, then those proofs could be mis-generated by a grand total of two or three people; hardly a quantum leap in trustlessness. UTXO proofs make sense on the assumption we can fix the mining market though, so we should still optimistically do them.\r\n\r\nNow, look, there's genuine and reasonable disagreement here. But we should all be willing to consider the idea that we're wrong. I faced that possibility above:  if attacks happen, then I will have to rewrite things to use some trusted nodes (probably bitcoin p2p tunnelled over SSL to nodes either run by myself, or by people I know). So I know what my plan is. But if you're against this feature, what if *you* are wrong? What if the attacks don't happen? Then you have made a real Bitcoin app less decentralised, and set a powerful precedent that nobody should propose new features for Bitcoin unless every imaginable risk can be mitigated, including risks borne by developers who haven't come along yet. This practically ensures nobody ever tries to make the protocol better. That's a big cost we should take very seriously.\r\n\r\nAnyway, I'm encouraged enough by support from Gavin and Mark that I'll go ahead and add the height/block hash to the message. I've already added the service bit so I think that meets what @laanwj wants. When the code is merged I'll write the BIP.",
      "created_at" : "2014-06-18T07:28:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46403960",
      "id" : 46403960,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T07:28:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46403960",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@sipa made a great point above in that getutxos is fundamentally even worse than bloom filters in terms of trust because there is absolutely no security at all. At least CMerkleBlock's have strong assurances that a given transaction exists even if there's no current way to know if you've seen all transactions. (which incidentally is something we can even reasonably good assurance for via random sampling without a soft-fork) Similarly it's knowledge that only gets better every time you connect to an honest node, even after connecting to a [dishonest one](https://github.com/petertodd/bitcoin/commit/48949a2a69802d099e67cd8936d362e8977bf66c) - the set of transactions you know about and block headers you know about can only be added too.\r\n\r\ngetutxos doesn't have any of that assurance. There's no proof what-so-ever and there's no way to reconcile conflicting responses. You can handwave and say you'll cross check answers, but that's assuming you even have a set of nodes to randomly pick from - you don't. Fundamentally your root of trust in this design is the DNS seeds you started to learn nodes from. Compromise those nodes and your SPV will never learn about an honest node and your screwed. But unlike Electrum because there is no authentication *anywhere* in the P2P network not only are you trusting that root of trust, you're trusting your ISP, you're trusting Tor exit node operators, etc. It gets even worse when you remember that \"compromising\" the DNS seeds can mean nothing more than just running a few dozen fast nodes and DoS attacking the other nodes so yours end up at the top of the DNS seed lists.\r\n\r\nThe whole rant about \"What do you do if an Electrum node operator is dishonest?\" is particularly bizarre: obviously you update the software to stop using that node. It'll happen once in a while, it'll be detected, and you have a very clear and simple procedure to follow if it does. That's why Electrum itself has a config screen that lets you pick what node(s) you want to trust. (and cross-checks them too) Just like Tor it relies on the fact that the operators of the service are well known. (incidentally, over half the Tor bandwidth is provided by people/organizations the Tor project knows, and that's a number that's watched carefully)\r\n\r\nWhy are we wasting our time on this very insecure design with no privacy? Electrum already exists, use it in the short term. As for the long term @maaku or someone else will finish a proper authenticated solution and we can add a secure NODE_GETUTXO service. Heck, the saddest part of all this is the use-case initially presented - Lighthouse - simply doesn't need NODE_GETUTXO and would work perfectly well using bloom filters as I explained above.\r\n\r\nThe success of Bitcoin's decentralization is based on cryptographic proof, not blindly trusting strangers.",
      "created_at" : "2014-06-18T08:30:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46408911",
      "id" : 46408911,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T08:30:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46408911",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Talking of Electrum: At some point in a mailing list discussion the author of Electrum was also interested in UTXO queries. Though the exact semantics were different: a query of transactions by output/address instead of txout point (see https://www.mail-archive.com/bitcoin-development@lists.sourceforge.net/msg04744.html). That would make it possible to implement Electrum server on top of bitcoind - although in that case it doesn't matter whether the calls gets added to RPC or 'trusted extensions' on P2P.",
      "created_at" : "2014-06-18T10:00:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46416781",
      "id" : 46416781,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T10:00:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46416781",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/93a2b928dca7d1d2b2aa17f991a53a99ee02fe86 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-06-18T10:06:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46417323",
      "id" : 46417323,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T10:06:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46417323",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "\"NODE_NETWORK already is a hack that conflates different 'services'\"\r\n\r\nIt's not a hack.  It continues to mean NODE_FULL, whatever that means.  For years, clients really only cared about the binary question \"full node: yes or no?\"  It is not a hack to provide what the clients want.\r\n\r\nFor the purposes of this PR, you can bump the protocol version and things will be just fine; as noted, other full nodes **must** provide UTXO query ability in order to verify incoming traffic anyway.\r\n\r\nThe trust remains, however.   That is why existing solutions are attractive.  Existing solutions handle the trust issue.\r\n\r\nI would be more comfortable if we had UTXO commitments and other features to help the trust issue.\r\n\r\n",
      "created_at" : "2014-06-18T11:44:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46425009",
      "id" : 46425009,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T11:44:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46425009",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik Yes it is obvious how NODE_NETWORK is defined now and in the past, but going forward it's less clear what services a full node should offer. Or even what a \"full node\" is. Internally it needs to verify UTXOs but that doesn't mean it needs to offer that capability to random other nodes on the network.\r\nIt could be said that a full node, to maintain the network\r\n\r\n- needs to verify transactions and blocks before forwarding them\r\n- serves blocks to bootstrap other nodes\r\n\r\nAll kinds of extra services for (SPV) clients are less clear-cut. And even these two could in principle be separate, for example a node could decide to stop serving blocks after a bandwidth quotum has been filled. That's why NODE_NETWORK is a hack. It says what the node *is*, but what other users of the network really want to know is *what services does it offer* (hence \"service bits\" not \"identity bits\").\r\n\r\n",
      "created_at" : "2014-06-18T12:45:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46430311",
      "id" : 46430311,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T12:46:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46430311",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "NODE_NETWORK specifies quite precisely what the node offers.  It is not a hack, it is very specific.\r\n\r\nFolks are attempting to redefine it as a hack, simply because the model of lumping all new features under NODE_NETWORK is not sustainable moving forward.\r\n\r\nAnyway, this is semantics, moving on, to a more on-topic issue:\r\n\r\nThere is clearly a desire to generalize the P2P network.  Make it a network with a forest of nodes, each of which carrying somewhat-bitcoin-related services.  But, e.g., remote querying of the UTXO set is clearly _not_ needed for bitcoin operation.\r\n\r\nTherefore, this proposal smells similar to others, which attempt to turn the bitcoin P2P network into a general decentralized-money-and-query-services network.  That is a mistake.\r\n",
      "created_at" : "2014-06-18T14:22:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46441691",
      "id" : 46441691,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T14:22:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46441691",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "What about implementing this using @jgarzik's #2844 instead of the p2p protocol?\r\nSeems like the right place to put trusted calls.\r\nIf/when in the future committed utxo's (or some other mechanism) allows these calls to be trust-less, they can be moved to the p2p protocol. Probably I'm missing the point of putting it directly in the protocol.\r\n\r\nBeing accepted directly in the protocol (maybe with plans of extending it later with additional proofs), it rises the question of the version number vs service bits vs service strings vs service strings with their own version or whatever...\r\nBut that's not something unique to this PR and I think the mailing list is more appropriate for that discussion.",
      "created_at" : "2014-06-18T14:56:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46446582",
      "id" : 46446582,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T14:56:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46446582",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "@jgarzik Bitcoin *is* a money-services-and-query network! Maybe in future it won't be, but people have been paper napkinning entirely new network architectures for years, so it'd be a mistake to hold up changes to the existing protocol because someone wrote an email imagining some radical evolution somewhere. We need to work with what we have today. So IMHO theoretical debates about what the perfect Bitcoin design is belong on the mailing list, or blog posts, or on a forum somewhere, not on a random pull request.\r\n\r\nCurrent status: I have received exactly two comments on the code itself, from Wladimir and Mark, both of which are resolved. ",
      "created_at" : "2014-06-18T15:06:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46448064",
      "id" : 46448064,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:06:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46448064",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "I agree that discussion about what the properties and serviced offered by\nthe network should be should not be done on this pull request.\n\nOn the other hand, I think extensions to the P2P protocol itself also\ndeserve discussion on the mailinglist, perhaps before implementing it...",
      "created_at" : "2014-06-18T15:21:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46450205",
      "id" : 46450205,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:21:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46450205",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@mikehearn A bad idea with a working implementation is still a bad idea; the actual code is the least difficult part of doing Bitcoin development. It shouldn't be a surprise that people who believe the idea is fundamentally bad haven't bothered wasting their time reviewing the code. Secondly that we're seeing strongly held fundamental disagreements about whether the idea is good at all strongly suggests this pull-req should be shelved until consensus on the idea itself can be reached - most likely on the mailing list.",
      "created_at" : "2014-06-18T15:23:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46450423",
      "id" : 46450423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:23:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46450423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@mikehearn You elided \"generalized\"   The current network supports operations necessary to maintain the full node network, and service SPV clients.  That is a focused, specific purpose. It is not a generalized query network, with query functions added _because it was easy to add to bitcoind_\r\n\r\nThe use case mentioned can be easily handled using Insight or another existing UTXO query software.\r\n\r\nThis is a significant change to the operation of the network, moving away from the focused purpose of maintaining the chain and servicing SPV nodes.  If the community wants to do that... fine.  But not appropriate material for a PR.\r\n",
      "created_at" : "2014-06-18T15:24:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46450554",
      "id" : 46450554,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:24:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46450554",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jtimon I would ACK such a patch.  Localized queries are fine by me.\r\n\r\nIt is adding the query to the P2P network without thinking it through that is the problem.\r\n\r\nETA:  I have a similar use case @mikehearn auctions: https://github.com/jgarzik/auctionpunk   It has the same problem:  You make a pledge (sign a transaction), but it might be double-spent away etc. by the end of the auction.  You do indeed need to query the UTXO.  I would never add such query facility to the P2P network, though.",
      "created_at" : "2014-06-18T15:24:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46450645",
      "id" : 46450645,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:27:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46450645",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik CoinJoin implementations also have that need, and again we're pursuing alternate ways to solve the issue. (trusted server w/ Dark Wallet, general anti-DoS mechanisms for decentralized CoinJoin)",
      "created_at" : "2014-06-18T15:29:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46451365",
      "id" : 46451365,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:29:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46451365",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd It is poor form to make assumptions about what others have reviewed, or not.  The code in this PR was reviewed by myself and is straightforward.\r\n\r\nThat does not change any of the larger issues.\r\n",
      "created_at" : "2014-06-18T15:31:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46451681",
      "id" : 46451681,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:31:53Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46451681",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik By \"code review\" I mean the whole process, which includes discussing it - at least ACKing it. I did as much review as you did, but I wouldn't call that the full process of code review.",
      "created_at" : "2014-06-18T15:36:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46452337",
      "id" : 46452337,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:36:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46452337",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "We're going around in circles now. @jgarzik Re: Insight - as already pointed out, it makes no sense to run a full blown very expensive block explorer just for access to the UTXO set. I know it's made by your employer but it's really just not relevant here at all.\r\n\r\nThis is not a major change to the network, that's melodramatic. It's a tiny patch. It may not match with your personal vision of what the network should be in future, but the Bitcoin protocol has always been about whatever is needed for a decentralised financial system: remember that in the early days it not only had the current functions (including distributed network status alerts), but also had the foundations of an entire P2P marketplace in it!  Not to mention that SIGHASH_ANYONECANPAY and other unused features were obviously put there for a reason. This idea that the network should be as minimal as possible and we should rely on trusted third parties for everything else is very much the newcomer here; that's not how the project has historically operated.\r\n\r\nWe have a more fundamental and deeper rooted problem here. Bitcoin cannot operate anymore as a consensus driven project because some people (like @petertodd) reliably object to everything they did not invent and others like to say \"no\" to anything that anyone can possibly imagine a better solution for, regardless of whether that other solution exists or will be implemented in any reasonable time. \r\n\r\nIndeed, anyone reading this thread would correctly conclude that this community does not have ANY coherent vision of what Bitcoin should become.  \r\n\r\nFor this reason the only decision I really care about here is that of @gavinandresen. Someone needs to (re)set a clear vision and set of technical principles, then absurd threads like this one can be avoided in future.",
      "created_at" : "2014-06-18T15:39:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46452838",
      "id" : 46452838,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:39:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46452838",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn: _\" the Bitcoin protocol has always been about whatever is needed for a decentralised financial system\"_    This is _your_ vision, sure.\r\n\r\nIf you just want to have a private conversation with Gavin, then take it to private email.  If you wish to participate in an open source project, you are going to have to suffer through opinions other than your own.\r\n\r\nIgnoring 100% of @petertodd 's messages in this thread, even ignoring my own, there are plenty of valid criticisms you are just handwaving away.\r\n\r\nThis belongs on the mailing list.  It is obviously not an easy ACK.\r\n\r\nIt is a very strong candidate for closing this PR, until discussion happens on the list and consensus is reached there.\r\n\r\n",
      "created_at" : "2014-06-18T15:48:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46454070",
      "id" : 46454070,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:48:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46454070",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "I'm happy to suffer others opinions ;) But the outcome obviously can't be based on consensus (there are no non-trivial changes to bitcoin that have had consensus in recent times).\r\n\r\nWhich criticisms do you have in mind? Actually I think I addressed all of them, either in the original writeup or my followup comments. Certainly all the code comments were addressed. The others are why I included a \"philosophy\" section.",
      "created_at" : "2014-06-18T15:53:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46454764",
      "id" : 46454764,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T15:53:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46454764",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn Of course, the beautiful thing is that we don't need consensus: you can always create a Bitcoin Core fork for people who want to volunteer to provide decentralized and unauthenticatable services to others if you can't get consensus that doing so is a good idea. You're welcome to copy the preferential peering code from my replace-by-fee branch so those nodes can find each other more easily. Do this and perhaps in the future it will be easier to get consensus in the future among the whole community that this is in fact a good idea, particularly if the mechanism gets widespread use. It'd be easy to implement the even more general txindex lookup that I recall you wanting before as a NODE_TXINDEX service in that fork too. It'd also make it easier to implement things like proof-of-passport to (perhaps) give some assurance that your peers for these services aren't sybil attacking you - all things that can easily be done in a fork you're leading the development of.",
      "created_at" : "2014-06-18T16:10:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46457040",
      "id" : 46457040,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T16:10:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46457040",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@mikehearn you didn't addressed my suggestion about supporting this from a rest call extending @jgarzik's PR #2844 Wouldn't that be enough for your purposes?\r\nI understand that using another software with its own database and indexes may not be satisfactory for you (specially when you have all the data you need here). But this would be in bitcoind without being part of the p2p protocol (yet, maybe in the future)",
      "created_at" : "2014-06-18T16:37:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46460503",
      "id" : 46460503,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T16:37:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46460503",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "A direct query interface (e.g. HTTP REST) makes much more sense for the outlined use case(s), due to the trust issues.\r\n\r\nIt is difficult to fathom that a completely untrusted interface will be used remotely across a network by a KickStarter fund administrator, when a trusted local interface is also available.",
      "created_at" : "2014-06-18T16:44:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46461295",
      "id" : 46461295,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T16:44:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46461295",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jtimon I didn't address that because it's the same suggestion as \"use Electrum\" or \"use your own trusted nodes\" which has been discussed a lot above. The wire format (p2p or http) makes no real difference.",
      "created_at" : "2014-06-18T16:56:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46462824",
      "id" : 46462824,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T16:56:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46462824",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Yes, since it is a trusted call you will have to use your own trusted\r\nnodes. If in the future there's committed utxo then it make sense to put it\r\nin the p2p protocol since you don't require trust anymore (you trust the\r\nmost work).\r\nProbably I'm missing something with the references to Electrum. I didn't\r\nproposed that and I'm not sure what Electrum has to do with this PR.\r\n\r\n",
      "created_at" : "2014-06-18T17:03:49Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46463811",
      "id" : 46463811,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T17:08:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46463811",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Please read this PR from beginning to end, as like I said, this discussion has started to go round in circles. My commit message has a complete discussion of authentication in it, along with why I don't think the current design is a problem for my use case, and there's more discussion in the followups which is where Electrum is mentioned.",
      "created_at" : "2014-06-18T17:16:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46465294",
      "id" : 46465294,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T17:16:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46465294",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@jtimon, Electrum has as much or as little to do with this PR as the REST api. @mikehearn intends to use this with untrusted hosts: query the utxoset from multiple peers, using both direct connections and multiple TOR exit nodes. He does some analysis of the attack vectors in the OP. The unstated assumption (and a fair one) is that running a full node is just not an option.",
      "created_at" : "2014-06-18T17:37:19Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46467876",
      "id" : 46467876,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T17:37:55Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46467876",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "@drak I have not handwaved, I have given careful analysis of why I think this change is fine, and why I feel the risk is low enough to make an attempt worthwhile. The proposed alternatives are not better. They are merely the same thing but less decentralised, on the assumption that the approach I'd like to try will fail. \r\n\r\nDo you have a *specific* concern with my analysis?\r\n\r\nIf you are concerned about the lack of miner authentication then great, please help @maaku with his project, as that's a big task and he could use the help. But also please understand the basic counterargument: perfect is the enemy of the good, and at any rate given the state of the mining market \"perfect\" in this case is very far from actually being perfect.\r\n\r\nNote that we're going to have this exact same discussion again in a month or two anyway when floating fees is integrated. SPV nodes need to find out what the fees are. There's a low(er) trust way, but it's a big project, so the first pass will probably just be \"poll the peers and average\". The same objections will come up, the same arguments will be made. So we need to get this out of our system at some point - might as well be now.",
      "created_at" : "2014-06-18T18:23:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46473957",
      "id" : 46473957,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-18T18:23:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46473957",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn Yes, perfect is the enemy of good. Using Electrum isn't perfect, but it is good; certainly better than trusting random strangers with no authentication and a whole multitude of attack vectors.",
      "created_at" : "2014-06-19T07:46:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46532438",
      "id" : 46532438,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T07:46:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46532438",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "We disagree on that, fundamentally. As this new command costs nothing (ignoring pie in the sky future total redesigns that nobody has even started coding), how about, we merge this in, you build apps your way based on Electrum or heck just build apps period, and I'll build apps my way. Then those apps can compete on decentralisation and security. Experience will tell us who is right. Sound fair?",
      "created_at" : "2014-06-19T08:40:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46536269",
      "id" : 46536269,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T08:40:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46536269",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn Note how I'm not the one asking to add highly controversial features to Bitcoin Core and complaining that people don't just merge them in instantly. You're welcome to add these features (and more!) to a fork and convince people to volunteer provide those services.\r\n\r\nSecondly, the whole \"Peter never gets anything done\" thing is a rather dull insult - I am involved in multiple projects as an advisor to people building apps and spent a great deal of time helping those people build good apps. (e.g. reality keys, multiple colored coins projects, mastercoin, counterparty, coinkite, dark wallet, paypub, etc.) You might as well criticize Gavin for not writing enough apps in his new role as Chief Scientist.\r\n\r\nre: competing: I was thinking of sybil attacking testnet in the near future with the bloom data hiding attack. Any objections to the test?",
      "created_at" : "2014-06-19T09:06:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46538431",
      "id" : 46538431,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T09:06:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46538431",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Sybil attacking the tiny testnet where you run one of the DNS seeds isn't an interesting experiment - but if you want to break a resource other developers rely on and annoy them in the process in order to prove not much, go ahead.\r\n\r\nA better experiment is this. I have in my pocket a phone. In 48 hours I will look at what nodes it's connected to. If you own the majority of them and can keep control of that phone for, say, a week, then that would be a more useful data point.",
      "created_at" : "2014-06-19T09:24:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46539975",
      "id" : 46539975,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T09:24:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46539975",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn Obviously I'm going to be leaving the DNS seed untouched; wouldn't be a very interesting attack otherwise. Besides, we already know that my node going down was enough to make bitcoinj-using software fail because it all had a single point of failure.\r\n\r\nre: a bloom filter attack, all (?) SPV clients using them only ask for a given block one time right? (although from multiple peers at once right?)",
      "created_at" : "2014-06-19T09:33:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46540817",
      "id" : 46540817,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T09:33:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46540817",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Alright, so go sybil attack a tiny network without touching your DNS seed then. What are you trying to prove? That attacking small networks is cheap? You could outmine the testnet quite cheaply too, thus rendering UTXO proofs also irrelevant. Nobody disputes that attacks are possible if someone puts enough effort in, the difference between us is that the observation that:\r\n\r\na) The gains are not obvious, so in reality nobody is incentivised to do it and so far nobody has. If your \"incentive\" is to win a pissing match on a github thread, that doesn't tell us much about the behaviour of the system over the long term, does it?\r\n\r\nb) The main Bitcoin network is quite large and so attacking it takes a fair amount of resources, quite possibly more resources than the benefit, which as above, is often unclear anyway.\r\n\r\nAnyway, this is a waste of time. Yes, we know attacks exist. They always have. Demoing one in a test environment doesn't show us much. What helps is practical experience from the real world, and adaptation to real attacks.\r\n\r\nLet me rephrase my question:  as this feature costs nothing, why don't you go advise others not to use it, and let their products compete on decentralisation and security instead?  Seems like the simplest resolution of your complaint.",
      "created_at" : "2014-06-19T09:43:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46541596",
      "id" : 46541596,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T09:43:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46541596",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "> why don't you go advise others not to use it, and let their products compete on decentralisation and security instead?\r\n\r\nObviously adding this feature to Bitcoin Core is inherently putting our stamp of approval on it and will be taken as advice to use it.",
      "created_at" : "2014-06-19T09:53:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46542389",
      "id" : 46542389,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T09:53:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46542389",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Oh, well good thing everyone always follows such advice then, that must explain why there are no wallets that have created their own client/server protocol :)\r\n\r\nThe BIP can explain the tradeoffs and attacks involved just as it does for Bloom filtering and HD wallets, etc. It can also link to this discussion. I'm sure developers can come to their own conclusions, as they have done many times already.\r\n\r\n@drak It's not ad hominem to point out that Peter doesn't write apps, even he agrees with that statement. Now, I asked you for *specific* concerns that have not already been brought up and addressed; do you have any? The only remaining concern that is unaddressed is \"some developer might use it without understanding it simply because it's there\", but I can't address that because we're arguing about the behaviour of hypothetical people who aren't here to say otherwise. It's also an argument so vague it could be invoked for all of Bitcoin, and would hold, but that's no reason not to build Bitcoin.\r\n\r\nAnyway, I'm not going to argue this any further. I think all possible aspects of this have been explored by now. No successful open source project is run by having random people turn up and vote on every change, ultimately there must be a chain of command.",
      "created_at" : "2014-06-19T10:07:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46543523",
      "id" : 46543523,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T10:07:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46543523",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "If unanimous consensus from this group of commentators is required in order to get something merged, then perhaps bitcoin should be forked. At least we'd then be able to get some work done. A culture of what-ifism goes nowhere.\r\n\r\nThe text of the pull request lays out a very straight forward use case and analysis of attack vectors. Does anyone have any specific comments or concerns on what is actually being proposed within that context?",
      "created_at" : "2014-06-19T10:13:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46543947",
      "id" : 46543947,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T10:13:18Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46543947",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "@maaku This isn't \"what-ifism\", this is what you expect from competent developers working on a project where mistakes are extremely expensive. (heck, I personally have spoken to people with a sum total of a low five figures of losses from zeroconf doublespends) If anything, Bitcoin Core development is particularly bad because we're setting standards that other developers will use in turn - unauthenticated data services like getutxos with no privacy invite dangerous designs with a very large and unpredictable attack surface.",
      "created_at" : "2014-06-19T10:57:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46547246",
      "id" : 46547246,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T10:57:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46547246",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Oh, I'm going to break my \"end of argument\" rule just once, to outline another use case for getutxo that I didn't mention before (because it's not relevant quite yet), and maybe this one will interest @sipa  and change his mind :)\r\n\r\nFloating fees are coming, and as part of that SPV clients need to know what the fee levels are so they can craft transactions. Gavin and I have discussed how to do this, and this is what I proposed: we start with a simple getfees that is just poll peers and average. Of course,  the usual caveats apply: it's attackable if someone can control your internet connection (and/or Tor), so it'd be nice if we had a lower trust method.\r\n\r\nSo we also have an algorithm that SPV wallets could use to estimate fees themselves. It assumes that we have chain forked to implement tx v3, that in tx v3 is putting the output value into the scriptSig during signing along with the scriptPubKey (this was proposed a lot time ago by etothepi), and finally that some non-trivial number of people have upgraded and are making v3 transactions. OK.\r\n\r\n1. When an SPV client has started up and noisy Bloom filters were sent to the peers, the wallet watches out for v3 transactions being newly broadcast across the network. For these transactions the wallet  records the current time/chain height, and also records the result of a getutxo query for the spent outputs. This data isn't authenticated by anything of course, but that's OK because all we'll do with it is store it for a while.\r\n2. The wallet adds these false positives back into its Bloom filter so it finds out when they confirm.\r\n3. Once they confirm, the wallet now has an SPV-level proof that the transaction is valid and thus, that its connected outputs were also valid. They aren't unspent anymore so getutxo would no longer work, but that's OK because saved the data before. Now we run the scriptSigs in the transactions using the stored UTXO data, thus authenticating it.\r\n4. We can use the newly authenticated data to know the values of the inputs and calculate the fee. Using the time between our initial recording and when the tx confirmed, we can calculate a fee estimate.\r\n\r\nThis doesn't allow us to calculate priority, which also matters. For that we'd need to record the chain height of a UTXO in the UTXO set, so when a SPV wallet requests it, it can also get a Merkle proof showing the depth of all those UTXOs, allowing calculation of priority as well. If the remote node can't provide such a Merkle branch we assume the dependencies are also unconfirmed and thus the priority is zero.\r\n\r\nThis algorithm is not unattackable. However it's still an upgrade over poll-and-median. Note that this doesn't (I think) require any changes to getutxo over what I've coded up here. All it requires is more data being covered by the signature hash.",
      "created_at" : "2014-06-19T12:40:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46554983",
      "id" : 46554983,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T12:40:31Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46554983",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Chain height is in the UTXO set (along with tx nVersion and coinbase\r\nboolean flag). Height at the very least should be returned by getutxos...\r\nOn Jun 19, 2014 5:41 AM, \"Mike Hearn\" <notifications@github.com> wrote:\r\n\r\n> Oh, I'm going to break my \"end of argument\" rule just once, to outline\r\n> another use case for getutxo that I didn't mention before (because it's not\r\n> relevant quite yet), and maybe this one will interest @sipa\r\n> <https://github.com/sipa> and change his mind :)\r\n>\r\n> Floating fees are coming, and as part of that SPV clients need to know\r\n> what the fee levels are so they can craft transactions. Gavin and I have\r\n> discussed how to do this, and this is what I proposed: we start with a\r\n> simple getfees that is just poll peers and average. Of course, the usual\r\n> caveats apply: it's attackable if someone can control your internet\r\n> connection (and/or Tor), so it'd be nice if we had a lower trust method.\r\n>\r\n> So we also have an algorithm that SPV wallets could use to estimate fees\r\n> themselves. It assumes that we have chain forked to implement tx v3, that\r\n> in tx v3 is putting the output value into the scriptSig during signing\r\n> along with the scriptPubKey (this was proposed a lot time ago by etothepi),\r\n> and finally that some non-trivial number of people have upgraded and are\r\n> making v3 transactions. OK.\r\n>\r\n>    1. When an SPV client has started up and noisy Bloom filters were sent\r\n>    to the peers, the wallet watches out for v3 transactions being newly\r\n>    broadcast across the network. For these transactions the wallet records the\r\n>    current time/chain height, and also records the result of a getutxo query\r\n>    for the spent outputs. This data isn't authenticated by anything of course,\r\n>    but that's OK because all we'll do with it is store it for a while.\r\n>    2. The wallet adds these false positives back into its Bloom filter so\r\n>    it finds out when they confirm.\r\n>    3. Once they confirm, the wallet now has an SPV-level proof that the\r\n>    transaction is valid and thus, that its connected outputs were also valid.\r\n>    They aren't unspent anymore so getutxo would no longer work, but that's OK\r\n>    because saved the data before. Now we run the scriptSigs in the\r\n>    transactions using the stored UTXO data, thus authenticating it.\r\n>    4. We can use the newly authenticated data to know the values of the\r\n>    inputs and calculate the fee. Using the time between our initial recording\r\n>    and when the tx confirmed, we can calculate a fee estimate.\r\n>\r\n> This doesn't allow us to calculate priority, which also matters. For that\r\n> we'd need to record the chain height of a UTXO in the UTXO set, so when a\r\n> SPV wallet requests it, it can also get a Merkle proof showing the depth of\r\n> all those UTXOs, allowing calculation of priority as well. If the remote\r\n> node can't provide such a Merkle branch we assume the dependencies are also\r\n> unconfirmed and thus the priority is zero.\r\n>\r\n> This algorithm is not unattackable. However it's still an upgrade over\r\n> poll-and-median. Note that this doesn't (I think) require any changes to\r\n> getutxo over what I've coded up here. All it requires is more data being\r\n> covered by the signature hash.\r\n>\r\n> \r\n> Reply to this email directly or view it on GitHub\r\n> <https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46554983>.\r\n>",
      "created_at" : "2014-06-19T15:40:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46577272",
      "id" : 46577272,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T15:40:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46577272",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "@drak Right, an open source project depends on random people contributing and reviewing changes.\r\n\r\nHaving said that, I still haven't heard any arguments that this change is risky to either those running Bitcoin Core or to the Bitcoin P2P network itself. Querying the UTXO database is quite cheap (by design) so it does not pose more DoS risk than the other P2P protocol messages. It doesn't pose more of a privacy leak to the node operator than for example the \"mempool\" message.\r\n\r\nAlso it is behind a service bit now, so node implementations are not forced to implement this call if they don't want to, for whatever reason. \r\n\r\nBut I don't think it warrants this cry-out about insecurity. It can be used in insecure ways, sure, but on the other hand it's possible to shoot yourself in the foot with bitcoin in lots of ways already...",
      "created_at" : "2014-06-19T16:46:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46585886",
      "id" : 46585886,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T16:46:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46585886",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@maaku Ah! So what's needed for priority calculation is already there. Excellent. Loading the block to calculate the Merkle branch is extra work that no client would use today. I'd rather add that later, once txv3 has happened and all the complicated client-side code to do low-trust fee/prio calculation is implemented so we know it works.",
      "created_at" : "2014-06-19T16:47:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46586054",
      "id" : 46586054,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T16:47:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46586054",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Well that triggered some thoughts about this pull request though. I would consider prepending the tx.nVersion and block height fields to the response (using VarInt serialization for minimal size), for two reasons. First, the nHeight lets you look up the transaction with a bloom filter request, as mentioned. Second, adding both tx.nVersion and nHeight *prior* to the output itself future-proofs the response against a later hard-fork change of the serialization format -- I have code lying around somewhere that modifies the serialization primitives to take CChainParams and nHeight as parameters for exactly this reason, to enable serialization changes in a future hard-fork.",
      "created_at" : "2014-06-19T17:06:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46588364",
      "id" : 46588364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T17:06:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46588364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "Currently the protocol doesn't let you look up block by height, you always have to provide a hash. I guess you're assuming we'd fix that?\r\n\r\nGood point about serialisation format and version prefixing. I'll modify the patch to do that. Other than new script opcodes is there much chance of a txout format change in future? I can't think of any proposals. But it can't really hurt either.",
      "created_at" : "2014-06-19T17:12:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46589066",
      "id" : 46589066,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T17:12:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46589066",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "You can get a header by height, and compute the hash from that, right? But if this becomes common, it's probably something worth fixing.\r\n\r\nRegarding upgrades, if we're going to hard-fork anyway to increase the block size, then there is some house-keeping we could do to e.g. make the serialization smaller. Potential larger changes I could see happening in bitcoin include switching to merklized scripts, or a divisibility improvement (e.g. switching to decimal64).",
      "created_at" : "2014-06-19T17:19:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46590007",
      "id" : 46590007,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T17:29:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46590007",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "Can you? getheaders takes a block locator and a stop hash. Height is I think hardly ever used in the protocol except in the ver announcement. Unless I'm missing something obvious ....",
      "created_at" : "2014-06-19T17:32:11Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46591502",
      "id" : 46591502,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T17:32:11Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46591502",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Ah yes MASTs. Good point. OK, sure. I'll work on that tomorrow. Should be a simple change. Thanks again for the useful feedback.",
      "created_at" : "2014-06-19T17:40:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46592409",
      "id" : 46592409,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-19T17:40:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46592409",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@laanwj The change is risky for anyone (a) using this feature, but without (b) extensive multi-node quality testing of data.  We are rolling out the easy part, with the Hard Part either TBD or DIY.\r\n\r\nIOW, the Path Of Least Resistance here is quite dangerous.  Doing the easy thing gets you zero trust data.\r\n",
      "created_at" : "2014-06-20T01:57:53Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46637852",
      "id" : 46637852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-20T01:58:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46637852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Doing the easy thing always gets you into pain with bitcoin. Assuming immutable txids? You get swindled. Assuming that zero-conf double-spends never happen? You get swindled. Using an online wallet? You might get swindled. And so on... When developing bitcoin software one has to be extremely careful. Adding an obscure, optional query function to the P2P protocol is hardly going to make this worse.\r\n\r\nAnyhow, let's turn this to a constructive discussion: who is going to submit a pull that implements this in a secure, trustable way?\r\n",
      "created_at" : "2014-06-20T08:25:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46655575",
      "id" : 46655575,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-20T08:25:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46655575",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "@laanwj The commit description already explains what has to be done to make it what I think you're asking for i.e. authenticated by miners (which let's face it, is not hugely meaningful at the moment). But as I explained it requires UTXO commitments, a huge upgrade to all of Bitcoin. The pull request you're asking for is in reality a large series of complex pull requests and upgrades that would take according to @maaku at least a year, assuming the work is completed at all. Hence why this patch works the way it does.\r\n\r\nI do feel like most things brought up so far were discussed in the commit description. It's not like this patch lacks authentication because I hate security. But large amounts of code have a cost. That's why I'm working on assurance contracts in the first place - as a way to help us raise the money for large, complex, expensive projects like UTXO commitments.\r\n",
      "created_at" : "2014-06-20T11:10:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46667709",
      "id" : 46667709,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-20T11:10:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46667709",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "It's hard to follow the thread with so much lateral discussion, but it seems to me that the only thing that's polemic about this PR is whether to put the new functionality on the p2p protocol, on the rpc or on an http rest api. I still don't know what are the perceived disadvantages of the rest option.\r\nFor example, how would lighthouse be affected by using http instead of the p2p protocol as the source of the utxo trusted messages? ",
      "created_at" : "2014-06-22T19:26:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46790203",
      "id" : 46790203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-22T19:26:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46790203",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "The question does not seem to be \"what transport protocol to use for\ncommunication with a trusted bitcoind instance\". It is rather \"Should\nuntrusted bitcoind instances provide unverifiable information\".",
      "created_at" : "2014-06-22T19:40:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46790588",
      "id" : 46790588,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-22T19:40:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46790588",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa If that is the main question I vote NO, that should be avoided!",
      "created_at" : "2014-06-22T22:14:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46794656",
      "id" : 46794656,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-22T22:14:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46794656",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1419649?v=3",
         "events_url" : "https://api.github.com/users/Diapolo/events{/privacy}",
         "followers_url" : "https://api.github.com/users/Diapolo/followers",
         "following_url" : "https://api.github.com/users/Diapolo/following{/other_user}",
         "gists_url" : "https://api.github.com/users/Diapolo/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/Diapolo",
         "id" : 1419649,
         "login" : "Diapolo",
         "organizations_url" : "https://api.github.com/users/Diapolo/orgs",
         "received_events_url" : "https://api.github.com/users/Diapolo/received_events",
         "repos_url" : "https://api.github.com/users/Diapolo/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/Diapolo/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/Diapolo/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/Diapolo"
      }
   },
   {
      "body" : "I don't think that's a fair assessment of the issue here. Doing getutxos the \"proper\" way involves at least a few more months of work on UTXO commitments, then an equally lengthy discussion period where we build consensus among developers, and finally the very lengthy process of convincing miners to follow through with a soft fork, one which causes mining pool software to take a considerable performance hit in validating shares. The proper way is going to be a long and arduous process.\r\n\r\nIn the meantime, there are applications such as Lighthouse which need this capability now. The message is unauthenticated and therefore dangerous if you don't know what you are doing -- just like many other p2p messages! -- but @mikehearn does a good job in the OP of laying out what those risks are and how to avoid them. We shouldn't be playing nanny with the p2p protocol and blocking or disabling features because people might hurt themselves.\r\n\r\nAbout this time next year, I hope that we are having a discussion about depreciating 'getutxos' once that a fully authenticated 'getutxos2' is deployed, using UTXO hash tree commitments. But until then, there is significant good that can be done with this unauthenticated version.",
      "created_at" : "2014-06-22T23:03:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46795695",
      "id" : 46795695,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-22T23:03:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46795695",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "\"what transport protocol to use for communication with a trusted bitcoind instance\". \r\n\r\nI say jgarzik's http rest, maybe optionally authenticating the consumer of the api.\r\n\r\n\"Should untrusted bitcoind instances provide unverifiable information\"\r\n\r\nI agree the answer is not, but there's another question.\r\n\r\n\"Should TRUSTED bitcoind instances provide unverifiable information?\"\r\n\r\nAnd I think the answer here is, yes, definitely.\r\nBut from some of your comments about optionally maintaining addition indexes in bitcoin core, @sipa,  leaves me with doubts, and kind of denies assumptions I've being making about how the core and the wallet would be separated. Anyway, getting off-topic, I'll write about that on the mailing list instead of here...\r\n\r\n@maaku \r\n\"I hope that we are having a discussion about depreciating 'getutxos' once that a fully authenticated 'getutxos2' is deployed, using UTXO hash tree commitments. But until then, there is significant good that can be done with this unauthenticated version.\"\r\n\r\nSo what's the disadvantage of having a rest getutxo first that is replaced/complemented with a p2p getutxo later as opposed to having 2 versions of the getutxo p2p message?\r\nMy question is not \"how to solve the potential security problems of using the unverifiable utxo message?\", my question is \"why can't you do this with rest?\".\r\n",
      "created_at" : "2014-06-23T09:45:01Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46824457",
      "id" : 46824457,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-23T09:45:01Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46824457",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "So with height and blockhash being returned, you can use getutxo in conjunction with getblock to get proof the TXO at least existed at some point. Additionally adding prefixes queries can be done in a backwards compatible way. That's enough to be useful authenticated data for some applications so I'm going to say ACK.\r\n\r\nBesides, it'll be good fun exploiting the insecure software that'll inevitably get written depending on this.",
      "created_at" : "2014-06-23T14:54:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46855628",
      "id" : 46855628,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-23T14:54:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46855628",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@jtimon Neither JSON-RPC or the proposed HTTP REST APIs are exposed on public ports. How does the Lighthouse app which has no local copy of bitcoind access either?",
      "created_at" : "2014-06-23T15:41:21Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46862142",
      "id" : 46862142,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-23T15:41:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46862142",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "@maaku The HTTP REST API is as public or private as you want it to be.  It only exports public data, and is not a control plane like RPC.\r\n",
      "created_at" : "2014-06-23T15:45:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46862746",
      "id" : 46862746,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-23T15:45:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46862746",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Sure but how does the SPV node find the HTTP REST API port?\r\nOn Jun 23, 2014 8:46 AM, \"Jeff Garzik\" <notifications@github.com> wrote:\r\n\r\n> @maaku <https://github.com/maaku> The HTTP REST API is as public or\r\n> private as you want it to be. It only exports public data, and is not a\r\n> control plane like RPC.\r\n>\r\n> \r\n> Reply to this email directly or view it on GitHub\r\n> <https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46862746>.\r\n>",
      "created_at" : "2014-06-23T16:12:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46866154",
      "id" : 46866154,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-23T16:12:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46866154",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "Ok, RPC then.\r\n",
      "created_at" : "2014-06-23T19:34:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-46890896",
      "id" : 46890896,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-23T19:34:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/46890896",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4351#discussion_r14278883"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4351"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14278883"
         }
      },
      "body" : "LogPrint()?",
      "commit_id" : "da2ec100f3681176f60dec6dc675fc64147ade3a",
      "created_at" : "2014-06-27T04:02:05Z",
      "diff_hunk" : "@@ -4144,6 +4210,7 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n     else\n     {\n         // Ignore unknown commands for extensibility\n+        printf(\"Unknown command type: %s\\n\", strCommand.c_str());",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#discussion_r14278883",
      "id" : 14278883,
      "original_commit_id" : "93a2b928dca7d1d2b2aa17f991a53a99ee02fe86",
      "original_position" : 91,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4351",
      "updated_at" : "2014-08-11T12:00:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14278883",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1530283?v=3",
         "events_url" : "https://api.github.com/users/rebroad/events{/privacy}",
         "followers_url" : "https://api.github.com/users/rebroad/followers",
         "following_url" : "https://api.github.com/users/rebroad/following{/other_user}",
         "gists_url" : "https://api.github.com/users/rebroad/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/rebroad",
         "id" : 1530283,
         "login" : "rebroad",
         "organizations_url" : "https://api.github.com/users/rebroad/orgs",
         "received_events_url" : "https://api.github.com/users/rebroad/received_events",
         "repos_url" : "https://api.github.com/users/rebroad/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/rebroad/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/rebroad"
      }
   },
   {
      "body" : "@rebroad Thanks for the LogPrint fix.\r\n\r\nOK, I rebased and added coin height and version as @maaku suggested.\r\n\r\nHere's my current understanding; @sipa agrees the fee algorithm I outlined above would work once we include value under the signature hash, Peter also sees authenticated use cases with the new data, Gavin is for this, @laanwj seems in agreement too as he sees the security arguments.  So I'd like to ask the maintainers for another consideration.",
      "created_at" : "2014-06-30T16:18:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-47552196",
      "id" : 47552196,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-30T16:18:02Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47552196",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Can we add least start a thread on the mailinglist about this? Protocol\nchanges affect more than just one client.\n\nRegarding the fee estimation: I'd rather see opting in to getting txins\nspent along with relayed transactions (which, in ordinary cases, is\nauthenticated information indeed), rather than through an extra roundtrip\nwith getutxos, with the race condition that a block spending the coin in\nbetween deletes the txo.",
      "created_at" : "2014-06-30T17:06:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-47557861",
      "id" : 47557861,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-30T17:06:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47557861",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@sipa We could, but is there an advantage to fragmenting the discussion? I think by now every possible angle has been talked about. What should I say on the mailing list thread?\r\n\r\n",
      "created_at" : "2014-06-30T17:31:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-47560705",
      "id" : 47560705,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-30T17:31:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47560705",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4351#discussion_r14364054"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4351"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14364054"
         }
      },
      "body" : "Why not 70003? Protocol versions are intended to be independent from client versions.",
      "commit_id" : "da2ec100f3681176f60dec6dc675fc64147ade3a",
      "created_at" : "2014-06-30T17:47:21Z",
      "diff_hunk" : "@@ -26,7 +26,7 @@ extern const std::string CLIENT_DATE;\n // network protocol versioning\n //\n \n-static const int PROTOCOL_VERSION = 70002;\n+static const int PROTOCOL_VERSION = 90001;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#discussion_r14364054",
      "id" : 14364054,
      "original_commit_id" : "4261be03f0419b33b52b8ca298ab932dbb665e4d",
      "original_position" : 5,
      "path" : "src/version.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4351",
      "updated_at" : "2014-08-11T12:00:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14364054",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4351#discussion_r14364344"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4351"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14364344"
         }
      },
      "body" : "OK, changing ..",
      "commit_id" : "da2ec100f3681176f60dec6dc675fc64147ade3a",
      "created_at" : "2014-06-30T17:52:14Z",
      "diff_hunk" : "@@ -26,7 +26,7 @@ extern const std::string CLIENT_DATE;\n // network protocol versioning\n //\n \n-static const int PROTOCOL_VERSION = 70002;\n+static const int PROTOCOL_VERSION = 90001;",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#discussion_r14364344",
      "id" : 14364344,
      "original_commit_id" : "4261be03f0419b33b52b8ca298ab932dbb665e4d",
      "original_position" : 5,
      "path" : "src/version.h",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4351",
      "updated_at" : "2014-08-11T12:00:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/14364344",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "I think sipa's point is that not all bitcoin nodes developers follow bitcoind development. And since this would be a protocol change and not just a bitcoind change, some feedback from other implementations devs could be useful. \r\nAgain, I would say the only thing controversial is p2p message vs rpc message. \r\nAlthough I'm still having troubles to understand the cases where the p2p message has an advantage over the rpc/rest version, for the record, I've not opposed to this change, I was just trying to understand it better.",
      "created_at" : "2014-06-30T18:01:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-47564320",
      "id" : 47564320,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-30T18:01:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47564320",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1008458?v=3",
         "events_url" : "https://api.github.com/users/jtimon/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jtimon/followers",
         "following_url" : "https://api.github.com/users/jtimon/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jtimon/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jtimon",
         "id" : 1008458,
         "login" : "jtimon",
         "organizations_url" : "https://api.github.com/users/jtimon/orgs",
         "received_events_url" : "https://api.github.com/users/jtimon/received_events",
         "repos_url" : "https://api.github.com/users/jtimon/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jtimon/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jtimon"
      }
   },
   {
      "body" : "Alright, I'll mail the list. I'll try and boil down this enormous centi-thread :)",
      "created_at" : "2014-06-30T18:10:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-47565556",
      "id" : 47565556,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-30T18:10:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47565556",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn Thanks! It's partially my fault for continuing the discussion here - it should probably have been done mostly on the mailing list in the first place.",
      "created_at" : "2014-06-30T18:17:59Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-47566500",
      "id" : 47566500,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-06-30T18:17:59Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47566500",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "I think it now makes sense to post a BIP draft to the mailing list and point here for the implementation.\r\n(the OP here looks like a BIP already and contains the usage scenarios and pitfalls so there's not much to be done)",
      "created_at" : "2014-07-01T06:44:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-47622161",
      "id" : 47622161,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-02T07:27:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/47622161",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "int -> uint32_t\r\n\r\nthanks to @jrick for noticing.",
      "created_at" : "2014-07-16T10:14:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49146057",
      "id" : 49146057,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-16T10:14:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49146057",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "I do like that it adds and advertises NODE_GETUTXOS, as it should.\r\n\r\nThis feature should be made conditional on a command line option, so that it can be turned off.\r\n",
      "created_at" : "2014-07-16T12:13:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49156502",
      "id" : 49156502,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-16T12:13:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49156502",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik There should also be an easily available \"chaos monkey\" option that makes getutxo's requests return invalid and/or misleading data to both make it easy to test the robustness of applications using it, and in addition, make the point that it's very easy to use it in an unverified way. Similarly we should do the same for bloom filters. (others too, but those are the two major offenders)",
      "created_at" : "2014-07-16T12:18:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49156984",
      "id" : 49156984,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-16T12:18:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49156984",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "Speaking of, this wants tests before going into bitcoind.\r\n",
      "created_at" : "2014-07-16T13:53:52Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49168169",
      "id" : 49168169,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-16T13:53:52Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49168169",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "I also like the `NODE_GETUTXOS` flag.  I'd like to see @petertodd's pull request that added a `NODE_BLOOM` flag revisited for the same reason.\r\n\r\nI plan to make a more thorough response on the mailing list, but in short, this is not a feature I'm interested in implementing in `btcd` because it's too insecure as currently proposed for my tastes.  We don't need more services out there requesting data that can be easily faked only to notice months later they're missing a bunch of coins.\r\n\r\nEven though the BIP purports to address the security issues, all it really says is \"Yes, this is insecure.  Don't care.\"   In my opinion, the things necessary to make a request such as this secure should be done **first**, before trying to get this easily abused feature merged mainline.",
      "created_at" : "2014-07-16T17:36:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49200047",
      "id" : 49200047,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-16T17:36:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49200047",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2115102?v=3",
         "events_url" : "https://api.github.com/users/davecgh/events{/privacy}",
         "followers_url" : "https://api.github.com/users/davecgh/followers",
         "following_url" : "https://api.github.com/users/davecgh/following{/other_user}",
         "gists_url" : "https://api.github.com/users/davecgh/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/davecgh",
         "id" : 2115102,
         "login" : "davecgh",
         "organizations_url" : "https://api.github.com/users/davecgh/orgs",
         "received_events_url" : "https://api.github.com/users/davecgh/received_events",
         "repos_url" : "https://api.github.com/users/davecgh/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/davecgh/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/davecgh/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/davecgh"
      }
   },
   {
      "body" : "I am forced to agree with @davecgh RE \"yes, this is insecure, don't care\"\r\n\r\nI will not NAK this change, but I do give it a solid \"-1\"\r\n\r\nAFAICT, all other P2P commands fall into one of a few categories:\r\n* P2P connection maintenance\r\n* Sending and receiving data _which we may verify_ back to a root of trust (genesis block, eventually).\r\n\r\n\"getutxos\" is different.  \"getutxos\" just sends data openly acknowledged as impossible to verify securely [at this time].\r\n\r\nEven the humble \"addr\" message can be said to be data that is taken and verified (if by hueristics and general observation of remote node operation over time).\r\n\r\nIMO this is an unprecedented addition.\r\n",
      "created_at" : "2014-07-16T17:52:51Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49202137",
      "id" : 49202137,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-16T17:53:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49202137",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik Note that the patch has been changed to respond with a block height and block hash, which lets you in turn lookup the transaction and merkle path to the block header. That *does* let you verify fully, which is why I changed my initial NACK to ACK. Equally in the case of things like CoinJoin, you don't particularly care whether or not a given UTXO is or is not actually spent; all you care about is whether the peer you're going to send a tx too claims it is.\r\n\r\n @davecgh NODE_BLOOM is just one of those issues that got broad support, but had a very vocal minority against it. If you like the idea, just give your users a config option to disable bloom filters; advertising NODE_BLOOM is just being nice.",
      "created_at" : "2014-07-16T18:34:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49207713",
      "id" : 49207713,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-16T18:34:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49207713",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@petertodd height only. No block hash AFAICS.\r\n",
      "created_at" : "2014-07-16T18:38:56Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49208308",
      "id" : 49208308,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-16T18:38:56Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49208308",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/4351#discussion_r15019025"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4351"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15019025"
         }
      },
      "body" : "Point out here that nHeight lets you obtain transactions elsewhere.",
      "commit_id" : "da2ec100f3681176f60dec6dc675fc64147ade3a",
      "created_at" : "2014-07-16T18:45:35Z",
      "diff_hunk" : "@@ -3539,6 +3540,70 @@ void static ProcessGetData(CNode* pfrom)\n     }\n }\n \n+struct CCoin {\n+    uint32_t nTxVer;   // Don't call this nVersion, that name has a special meaning inside IMPLEMENT_SERIALIZE\n+    uint32_t nHeight;\n+    CTxOut out;\n+\n+    IMPLEMENT_SERIALIZE(\n+        READWRITE(nTxVer);\n+        READWRITE(nHeight);\n+        READWRITE(out);\n+    )\n+};\n+\n+bool ProcessGetUTXOs(const vector<COutPoint> &vOutPoints, bool fCheckMemPool, vector<unsigned char> *result, vector<CCoin> *resultCoins)\n+{\n+    // Allows a peer to retrieve the CTxOut structures corresponding to the given COutPoints. \n+    // Note that this data is not authenticated by anything: this code could just invent any\n+    // old rubbish and hand it back, with the peer being unable to tell unless they are checking\n+    // the outpoints against some out of band data.\n+    //\n+    // Also the answer could change the moment after we give it. However some apps can tolerate\n+    // this, because they're only using the result as a hint or are willing to trust the results\n+    // based on something else. For example we may be a \"trusted node\" for the peer, or it may\n+    // be checking the results given by several nodes for consistency, and it of course may\n+    // run the UTXOs returned against scriptSigs of transactions obtained elsewhere.",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#discussion_r15019025",
      "id" : 15019025,
      "original_commit_id" : "c8aacf2ecf053c63fd235745b3dce28346f9c0fd",
      "original_position" : 35,
      "path" : "src/main.cpp",
      "position" : null,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/4351",
      "updated_at" : "2014-08-11T12:00:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/15019025",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@jgarzik Right, misremembered. Anyway, height is sufficient to lookup the blockhash and still recover the block.",
      "created_at" : "2014-07-16T18:51:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49209852",
      "id" : 49209852,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-16T18:51:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49209852",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "If we're going with the \"there may be enough authentication with the block height/hash\", perhaps all mempool queries should be removed as well.",
      "created_at" : "2014-07-16T19:20:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49213601",
      "id" : 49213601,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-16T19:20:34Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49213601",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/1420313?v=3",
         "events_url" : "https://api.github.com/users/jrick/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jrick/followers",
         "following_url" : "https://api.github.com/users/jrick/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jrick/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jrick",
         "id" : 1420313,
         "login" : "jrick",
         "organizations_url" : "https://api.github.com/users/jrick/orgs",
         "received_events_url" : "https://api.github.com/users/jrick/received_events",
         "repos_url" : "https://api.github.com/users/jrick/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jrick/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jrick/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jrick"
      }
   },
   {
      "body" : "Tests are added here:\r\n\r\nhttps://github.com/bitcoinj/bitcoinj/commit/d737581c61a0512e96711430a6eef955a3689435\r\n\r\nIt revealed a regression introduced by re-org changes that left the mempool UTXO view in a bogus state, so the pull tester changes there won't pass until #4575 is merged.",
      "created_at" : "2014-07-23T13:59:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-49877059",
      "id" : 49877059,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-07-23T13:59:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/49877059",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Needs a reference to BIP 64 which was allocated for this in https://github.com/bitcoin/bips/pull/88\r\n",
      "created_at" : "2014-08-08T07:26:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-51571061",
      "id" : 51571061,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-08T07:27:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51571061",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Added reference to BIP 64 and discussion of how to use the included height.",
      "created_at" : "2014-08-11T12:04:42Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-51771499",
      "id" : 51771499,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-11T12:04:42Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51771499",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4351_da2ec100f3681176f60dec6dc675fc64147ade3a/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/current/\nContact BlueMatt on freenode if something looks broken.",
      "created_at" : "2014-08-11T12:19:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-51772576",
      "id" : 51772576,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-11T12:19:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/51772576",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/2110907?v=3",
         "events_url" : "https://api.github.com/users/BitcoinPullTester/events{/privacy}",
         "followers_url" : "https://api.github.com/users/BitcoinPullTester/followers",
         "following_url" : "https://api.github.com/users/BitcoinPullTester/following{/other_user}",
         "gists_url" : "https://api.github.com/users/BitcoinPullTester/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/BitcoinPullTester",
         "id" : 2110907,
         "login" : "BitcoinPullTester",
         "organizations_url" : "https://api.github.com/users/BitcoinPullTester/orgs",
         "received_events_url" : "https://api.github.com/users/BitcoinPullTester/received_events",
         "repos_url" : "https://api.github.com/users/BitcoinPullTester/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/BitcoinPullTester/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/BitcoinPullTester/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/BitcoinPullTester"
      }
   },
   {
      "body" : "Seems this is ready now.\r\n\r\nI'd like a last round of ACKs here.\r\n",
      "created_at" : "2014-08-15T12:41:03Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-52301327",
      "id" : 52301327,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-15T12:41:03Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52301327",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Untested ACK",
      "created_at" : "2014-08-15T17:20:54Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-52333386",
      "id" : 52333386,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-15T17:20:54Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52333386",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/331997?v=3",
         "events_url" : "https://api.github.com/users/gavinandresen/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gavinandresen/followers",
         "following_url" : "https://api.github.com/users/gavinandresen/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gavinandresen/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gavinandresen",
         "id" : 331997,
         "login" : "gavinandresen",
         "organizations_url" : "https://api.github.com/users/gavinandresen/orgs",
         "received_events_url" : "https://api.github.com/users/gavinandresen/received_events",
         "repos_url" : "https://api.github.com/users/gavinandresen/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gavinandresen/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gavinandresen"
      }
   },
   {
      "body" : "You could save some bytes by using VARINT for the nTxVer, nHeight, and chainActive.Height() serializations.\r\n\r\nRegardless, ACK.",
      "created_at" : "2014-08-15T18:53:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-52344126",
      "id" : 52344126,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-15T18:53:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/52344126",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "How far away is this from being merged? Untested ACK.",
      "created_at" : "2014-08-24T20:09:50Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53205270",
      "id" : 53205270,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-24T20:09:50Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53205270",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "WTF?   getutxos can obviously be abused, turning bitcoind into a fileserver.\r\n\r\nI thought the IRC discussion was to hold this, until such an obvious flaw was fixed?\r\n\r\nNAK.\r\n",
      "created_at" : "2014-08-25T12:40:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53258629",
      "id" : 53258629,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T12:40:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53258629",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "No, it can't, at least not sanely. I explained this to Gregory when he emailed me about it but I'll do so again here.\r\n\r\nTo fetch a piece of data using this protocol you must upload a hash and an integer, so 36 bytes. You get back whatever the max amount of data is that can be put in an output. Using a standard CHECKMULTISIG output that's more than 36 bytes but not much more, especially if you don't want to destroy the money so need at least one key to be real. \r\n\r\nSo to download a file this way you'd end up uploading a significant fraction of what you download. What's more, to fetch data you'd need a file full of COutPoint structures, which would be a significant percentage of the size of the real file itself. At that point you may as well just distribute the real file, or a torrent file or .... basically *anything* would work better than this.\r\n\r\nBut if for some reason someone desperately wants to use the block chain as a file server, they already have a better option. They can just mark their transactions with an OP_RETURN output and then distribute their file URL as a set of block heights, then download the blocks (either Bloom filtered for extra efficiency or just not filtered, seeing as anyone who does this obviously doesn't care about efficiency).\r\n\r\nIn short, trying to serve a file with this feature would result in a bizarre hack that was dramatically worse than any other way of storing files, including just using regular block downloads. It's not something that's worth worrying about.",
      "created_at" : "2014-08-25T12:51:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53259602",
      "id" : 53259602,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T12:51:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53259602",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@jgarzik \"I thought the IRC discussion was...\" I know of no IRC discussion about that. I saw only ACKs here and a don't care from you:\r\n\r\n> I will not NAK this change, but I do give it a solid \"-1\"\r\n\r\nThis issue has been open for months, and people changed their opinion at some point that this was either a good thing to have or not-too-bad.\r\n\r\nAnd now it's suddenly NAK? Can you give details on the possible exploit?\r\n",
      "created_at" : "2014-08-25T13:19:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53262188",
      "id" : 53262188,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T13:19:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53262188",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "(summarized from IRC)\r\n@mikehearn  \"No, it can't, at least not sanely.\"  Translation:  Yes, under certain conditions.\r\n\r\nI'm currently running some numbers on txouts in the chain.  \"36 bytes for 36 bytes\" is a handwave.\r\n\r\n@laanwj Yes, status changed based on this new information.\r\n",
      "created_at" : "2014-08-25T13:40:40Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53264553",
      "id" : 53264553,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T13:40:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53264553",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik So the efficient way to use the UTXO set for storage with getutxos is to create a transaction with a large number of outputs, all storing data, and then increment the vout index to retrieve the data. That technique works even with p2pkh and p2sh outputs. With the 100KB limit on transactions you can get ~3000 P2SH outputs, or 60KB of data, and you can of course also chain transactions to store more than that if needed. It's worth remembering that using the Bitcoin network for data storage has excellent anti-censorship and reliability properties that other methods simply can't replicate. It's *not* a hack by any means.\r\n\r\nA second use-case for getutxos is timestamping. Waiting for a confirmation is highly impractical, so a user-friendly timestamping tool can create an unspendable UTXO and immediately store the txid:vout. When the timestamp needs to be validated later you simply use getutxos to find the blockheight, optionally getting the actual transaction to properly verify it. Again, the improvement for the user is is to avoid reliance on centralized TXO index servers by forcing everyone to be an index server for you.",
      "created_at" : "2014-08-25T16:22:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53287071",
      "id" : 53287071,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T16:22:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53287071",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "To download that 60kb of data you'd need to upload 102kb of data, which you have to get from somewhere. It makes no difference from an anti-censorship perspective.\r\n\r\nNow can we please focus on writing code to solve problems we have *today*?",
      "created_at" : "2014-08-25T16:34:43Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53288617",
      "id" : 53288617,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T16:34:43Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53288617",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn Like I said, the bandwidth for that kind of use-case is completely irrelevant. The advantage is the very strong resistance to censorship and high reliability.\r\n\r\nPeople use bittorrent all the time, even though to download 60KB of data you end up having to upload about 60KB of data...",
      "created_at" : "2014-08-25T16:37:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53288870",
      "id" : 53288870,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T16:37:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53288870",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "@mikehearn Oh, wait, I misread your reply:\r\n\r\n> To download that 60kb of data you'd need to upload 102kb of data, which you have to get from somewhere. It makes no difference from an anti-censorship perspective.\r\n\r\nAgain, by incrementing the vout deterministicly and keeping the txid the same you only need a single txid. Basically I'd create a tx with data-encoding outputs 0...n, give out the txid as the \"locator\" for the data, and the retrieval routine uses getutxos to get txid:0, txid:1, ..., txid:n, thus recovering the whole file. If I can't fit that data in a single transaction, I just add a level of indirection/chaining to store it in multiple transactions.",
      "created_at" : "2014-08-25T16:45:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53289987",
      "id" : 53289987,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T16:45:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53289987",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "How does getutxos make that any worse than the current state? You could\r\njust as easily use block hash and a bloom filter to identify the\r\ntransaction.\r\n\r\n\r\nOn Mon, Aug 25, 2014 at 9:46 AM, Peter Todd <notifications@github.com>\r\nwrote:\r\n\r\n> @mikehearn <https://github.com/mikehearn> Oh, wait, I misread your reply:\r\n>\r\n> To download that 60kb of data you'd need to upload 102kb of data, which\r\n> you have to get from somewhere. It makes no difference from an\r\n> anti-censorship perspective.\r\n>\r\n> Again, by incrementing the vout deterministicly and keeping the txid the\r\n> same you only need a single txid. Basically I'd create a tx with\r\n> data-encoding outputs 0...n, give out the txid as the \"locator\" for the\r\n> data, and the retrieval routine uses getutxos to get txid:0, txid:1, ...,\r\n> txid:n, thus recovering the whole file. If I can't fit that data in a\r\n> single transaction, I just add a level of indirection/chaining to store it\r\n> in multiple transactions.\r\n>\r\n> \r\n> Reply to this email directly or view it on GitHub\r\n> <https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53289987>.\r\n>",
      "created_at" : "2014-08-25T17:12:25Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53293482",
      "id" : 53293482,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T17:12:25Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53293482",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "@maaku That may be correct now, but what we're worried about is limiting our options in the future. If we implement it now and an ecosystem of apps depends on it removing the functionality in the future to deal with abuse will be much more difficult. We may be better off with those applications using functionality that can't be abused; note how as I mentioned earlier Lighthouse - as an example - has multiple alternatives to using getutxos.",
      "created_at" : "2014-08-25T17:20:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53294667",
      "id" : 53294667,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T17:20:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53294667",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "It doesn't, but Peter hates Bloom filtering too remember?\r\n\r\nGiven that BitTorrent and other systems exist, I doubt this will ever be a major problem. But if it does become one, UTXOs can be deleted any time the community wants. If you know they're unspendable you can delete them immediately without any coordination with other peers. Given that the point is censorship resistance that'd usually be public broadcasted data anyway, so finding them should not be very hard. If they are spendable, you need a chain fork to do so, but if the weight of such abuse was seriously hurting Bitcoin as a financial system then getting consensus to do that would happen.\r\n\r\nPeter is undoubtably now trying to come up with an even more convoluted reason to object. Please, don't. If you're so concerned about abuse today go implement some anti-DoS code and make yourself useful for a change.\r\n\r\nAlso please stop repeating this nonsense about what my app does or does not need. Do you really think I'd have bothered if there was no point to it? Saying some app or another doesn't need this feature is correct in an entirely useless nitpicky way, for the same reason nothing \"needs\" Bloom filtering - it can always just download all the data and calculate the answer itself. But then performance would be unusably bad. Back here in the real world, where performance matters, such a feature makes the difference between something being practical or not.",
      "created_at" : "2014-08-25T17:27:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53295707",
      "id" : 53295707,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T17:27:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53295707",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn \r\n\r\n> It doesn't, but Peter hates Bloom filtering too remember?\r\n\r\nPlease apologise for that inflammatory statement and keep personal attacks out of this discussion. As you know my opposition to bloom filters has nothing to do with this issue; prefix filters are just as easy, if not easier, to use for the purpose of data publication.",
      "created_at" : "2014-08-25T17:39:07Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53297447",
      "id" : 53297447,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T17:39:07Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53297447",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "I was told this morning on IRC this PR the same as the RPC version of `gettxout`.",
      "created_at" : "2014-08-25T17:48:14Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53299252",
      "id" : 53299252,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T17:48:14Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53299252",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "@btcdrak except, you know, it is available to the world vs. just the system owner...  :)\r\n",
      "created_at" : "2014-08-25T18:08:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53303242",
      "id" : 53303242,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T18:08:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53303242",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Drak, there are some minor differences but yes it is basically a p2p form\r\nof `gettxout`. That doesn't make it unnecessary however -- the whole point\r\nis that you would use `getutxos` when you *don't* have access to a full\r\nnode from which to query `gettxout`.\r\n\r\nPeter, the fact is this pull request or a future one using Merkle tree\r\ncommitments is not making the situation any worse than it already is, and\r\nprovides significant benefit. We must be utilitarian about these decisions.\r\nThe argument for this pull request has been laid out in great detail: it\r\nmakes possible entirely new services which would be very beneficial to\r\nbitcoin. An argument against based on enabling a DoS vector which is less\r\nefficient than existing attack vectors we have no intention of closing is\r\nnot very convincing...\r\n\r\n\r\nOn Mon, Aug 25, 2014 at 10:48 AM, tcDrak <notifications@github.com> wrote:\r\n\r\n> I was told this morning on IRC this PR the same as the RPC version of\r\n> gettxout.\r\n>\r\n> \r\n> Reply to this email directly or view it on GitHub\r\n> <https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53299252>.\r\n>",
      "created_at" : "2014-08-25T18:08:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53303278",
      "id" : 53303278,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T18:08:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53303278",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/69154?v=3",
         "events_url" : "https://api.github.com/users/maaku/events{/privacy}",
         "followers_url" : "https://api.github.com/users/maaku/followers",
         "following_url" : "https://api.github.com/users/maaku/following{/other_user}",
         "gists_url" : "https://api.github.com/users/maaku/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/maaku",
         "id" : 69154,
         "login" : "maaku",
         "organizations_url" : "https://api.github.com/users/maaku/orgs",
         "received_events_url" : "https://api.github.com/users/maaku/received_events",
         "repos_url" : "https://api.github.com/users/maaku/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/maaku/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/maaku/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/maaku"
      }
   },
   {
      "body" : "Frankly, given the unauthenticated nature of p2p, I think this patch is dangerous. Reasons seem well covered by others above. I can't see a valid reason for not running a full node when you need access to UTXO whatever your project is. Sorry, this PR is clearly ill thought.",
      "created_at" : "2014-08-25T18:12:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53304058",
      "id" : 53304058,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T18:12:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53304058",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "@maaku We *do* intend on closing off this DoS attack vector, via pruning. Exactly what form that takes is still uncertain, but there's no reason to limit our options yet, particularly when applications like Lighthouse have good alternatives to using getutxos that can be used while we take the time to better understand the landscape. Equally many of the \"entirely new services\" made possible may not be things we actually want to encourage on Bitcoin.\r\n\r\n@btcdrak An good alternative for many of the use-cases where getutxos is reasonably secure - including Lighthouse - would be to have tx rejection messages include information on what inputs have already been spent. The worst that can happen there is your peer rejects the transaction; whether or not they should have is irrelevant as they can always block propagation.",
      "created_at" : "2014-08-25T18:17:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53305098",
      "id" : 53305098,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T18:17:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53305098",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "The open idea on IRC was to return spent-ness.\r\n",
      "created_at" : "2014-08-25T18:21:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53305706",
      "id" : 53305706,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T18:21:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53305706",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "@jgarzik Right, which I think we should reject due to being completely unauthenticated - encourages dangerous practices.",
      "created_at" : "2014-08-25T18:22:22Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53305891",
      "id" : 53305891,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T18:22:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53305891",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "The txout data and spentness are independent data sets in my opinion.\n\nAs this PR implements now, it is possible to authenticate the txout data\npartially (assuming standard transactions, knowing the input spending the\nutxo validates the script part), but not possible to validate the\nspentness. A node can lie both ways about the spentness, though requiring\nthe full txout to be returned makes it more expensive (needs a txindex).\n\nThey also have different use cases. It seems to me that lighthouse really\nonly needs spentness - the full txout data just makes it more expensive to\nlie. Other examples mentioned before (e.g. the fee estimation) only need\nthe txout data, not the spentness.\n\nI think that lumping them together makes it harder to reason about.",
      "created_at" : "2014-08-25T18:59:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53311203",
      "id" : 53311203,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-25T18:59:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53311203",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "IRC report:\r\n&lt;dhill&gt; so getutxos makes bitcoind send mesages larger than the max 32MB",
      "created_at" : "2014-08-26T16:30:09Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53449159",
      "id" : 53449159,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-26T16:30:09Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53449159",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "ReadMessage: message payload is too large - header indicates 2892934254 bytes, but max message payload is 33554432 bytes.\r\n\r\nJust some thoughts:\r\n1.  bitcoind should not attempt to send messages that exceed the max message payload (currently 32MB)\r\n2. bitcoind should ignore duplicate outpoints in a `getutxos` request.\r\n3. perhaps using MAX_INV_SZ (50000) is too high for a `getutxos` request limit. Perhaps it needs its own define which is much smaller.\r\n\r\nI produced this by using a small script and [btcwire](https://github.com/conformal/btcwire) testnet tx bd1f9401a9c284a04353f925276af62f23f452d297eb2cc582d037064b2a795f, and `getutxo s` requesting outpoint 1 ... 50,000 times (the limit).",
      "created_at" : "2014-08-26T16:46:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53451507",
      "id" : 53451507,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-26T16:48:38Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53451507",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/3308193?v=3",
         "events_url" : "https://api.github.com/users/dajohi/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dajohi/followers",
         "following_url" : "https://api.github.com/users/dajohi/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dajohi/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dajohi",
         "id" : 3308193,
         "login" : "dajohi",
         "organizations_url" : "https://api.github.com/users/dajohi/orgs",
         "received_events_url" : "https://api.github.com/users/dajohi/received_events",
         "repos_url" : "https://api.github.com/users/dajohi/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dajohi/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dajohi/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dajohi"
      }
   },
   {
      "body" : "I would have hoped this kind of testing was done in all the time that this was still a pull request.\r\nBut it's clear that there are still too many gotchas, going to revert.",
      "created_at" : "2014-08-27T06:23:27Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53531110",
      "id" : 53531110,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T06:23:27Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53531110",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "MAX_INV_SZ is used for getdata as well, which returns entire transactions, and that doesn't seem to remove duplicate requests either. There's a manual check against the size of the send buffer on the getdata code path which would be fairly easy to duplicate here, but this sort of network code is easy to duplicate.\r\n\r\nAt any rate, it should be an easy fix. @laanwj Why don't you wait for me to fix it instead? It's not a big surprise that things in master get more testing than things that are not.",
      "created_at" : "2014-08-27T09:09:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53544346",
      "id" : 53544346,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T09:09:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53544346",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "getdata returns the results as individual tx/block messages, which are\nthrottled based on space in network send buffers, so the same problem does\nnot exist there.",
      "created_at" : "2014-08-27T09:15:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53544940",
      "id" : 53544940,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T09:15:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53544940",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "@mikehearn @laanwj Better to revert this. Clearly this PR needs a lot of work and testing first.",
      "created_at" : "2014-08-27T09:18:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53545171",
      "id" : 53545171,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T09:18:28Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53545171",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Yes, that's what I said.\r\n\r\nAs CCoin is a fixed size structure and the size of the bitmap is equal to the size of the inputs, just keeping track of the space required to send and stopping if there'd be insufficient space is good enough. We could remove duplicates too but it doesn't seem necessary if there's a simple counter.\r\n\r\nWith respect to reverting things - no, reverting any change that someone finds a bug in is not a sane strategy. If we were about to do a major release it'd be different, but then we shouldn't be merging features at all. Applied consistently this strategy would have resulted in every major change to Bitcoin being rejected. Recent example: using this patch I discovered a serious regression in re-org handling that was the result of (I think) headers first. Rolling back all of headers first would have been a mistake for all kinds of reasons, not least of which is that I wasn't intending to find that bug and wouldn't have done so if the buggy code had still been sitting on a branch.",
      "created_at" : "2014-08-27T09:22:41Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53545580",
      "id" : 53545580,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T09:22:41Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53545580",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn For a new feature like this, recently merged (just yesterday!), a revert is absolutely the right course of action. It means if the feature is fixed and merged in again there is one clean merge, one unit. It makes the history much more understandable. From what I can see, we also need more discussion about the rationale of this PR. Clearly there has been a lot of 'hand waving' and not enough research, which when someone actually did, uncovered some pretty nasty issues. Throwing caution to the wind is not right for Bitcoin Core. I still don't see why this isn't done over RPC personally.\r\n\r\nLooking at history, other PRs have been reverted pending further investigation, I don't see why this PR needs special treatment.",
      "created_at" : "2014-08-27T09:29:32Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53546232",
      "id" : 53546232,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T09:29:32Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53546232",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Keeping track of the output size constructed would indeed remove the\nproblem. But then what to do to inform the peer? Split the result in two?\nTruncate it? DoS ban the peer? At least some thought is needed.\n\nI would prefer just to only return spentness. No matter what, that data is\nnot authenticated, and can't be by the setup envisioned here. Adding the\nfull txout data just complicates things (and yes, makes it a bit more\nexpensive to lie, but your system doesn't require peers to be honest,\nright?). Most concerns about potential incentive shifts and DoS potential\nare gone that way.\n\nOf course, I would still prefer us not to provide unauthenticated access to\nUTXO information at all. If there is no way to prevent peers lying, either\nyou don't care about the truth, or you're better off using a (set of)\ncentral servers, either trusted or with reputation to lose.",
      "created_at" : "2014-08-27T09:37:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53546926",
      "id" : 53546926,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T09:37:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53546926",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/548488?v=3",
         "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
         "followers_url" : "https://api.github.com/users/sipa/followers",
         "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
         "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/sipa",
         "id" : 548488,
         "login" : "sipa",
         "organizations_url" : "https://api.github.com/users/sipa/orgs",
         "received_events_url" : "https://api.github.com/users/sipa/received_events",
         "repos_url" : "https://api.github.com/users/sipa/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/sipa"
      }
   },
   {
      "body" : "It can just be truncated. The result bitmap is supposed to be the same length as the input query. If it's not then you know the result has been truncated. I don't think any normal client would ever hit this case anyway. Not complicated.\r\n\r\nCan we please stop going over the rationale again and again and again? @btcdrak the RPC stack doesn't even try to handle resource usage attacks so your suggestion would make things worse rather than better.\r\n\r\n@sipa The patch is implemented in this way for a reason. My app runs the scripts to try and ensure you can sign for the output you are pledging. Because a pledge is not a valid transaction there is no other way to test this: you cannot broadcast it and see what happens (and proxying transactions would just allow clients to get you banned anyway in the current architecture). The assumption is that your network peers (randomly chosen) are not the same as the people sending you pledges. This is a very realistic and reasonable assumption.\r\n\r\nBoth of the above things have been explained *multiple times* over the past few months including *in the description of the patch*. I really don't know what I can do here to make things clearer. Is there a problem with my writing style or something? I get the overwhelming impression this entire community of people comes to strong opinions on my work yet *does not read a word I've written*, and it's unbelievably frustrating.\r\n\r\nI will add some more DoS controls to this feature, although we should all remember that Bitcoin Core can be DoSd in lots of different ways - this is hardly changing the status quo.",
      "created_at" : "2014-08-27T09:55:10Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53548742",
      "id" : 53548742,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T09:55:10Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53548742",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "@mikehearn re: \"not reading a word I've written\", you're doing the exact same thing: @btcdrak made clear above that he believed you should be running a full node: \"I can't see a valid reason for not running a full node when you need access to UTXO whatever your project is.\"; his suggestion of using RPC is for local nodes where resource usage attacks are irrelevant.\r\n\r\nIn any case, stop trying to deflect technical criticisms with responses based on personal disputes and [personal attacks](https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53297447).\r\n\r\nAdditionally remember that when there exists a technical concern about a proposal of local and global DoS attacks and economics/resource usage issues, submitting a patch with a fairly obvious DoS attack in it is a strong indication that the submitter hasn't thought through the consequences. We don't have the time to consider in detail every single pull-req, and for that matter, fix all the bugs in them, so it's only reasonable that finding such an issue be considered a strong indication that the patch should be rejected/reverted for now.\r\n\r\n> I will add some more DoS controls to this feature, although we should all remember that Bitcoin Core can be DoSd in lots of different ways - this is hardly changing the status quo.\r\n\r\nIt's adding to a yet unsolved problem. Don't be surprised if people are reluctant to dig the hole deeper when we don't know if we're ever going to find a ladder out.",
      "created_at" : "2014-08-27T11:59:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53559264",
      "id" : 53559264,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T11:59:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53559264",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "There's a fix here:\r\n\r\nhttps://github.com/bitcoin/bitcoin/pull/4770",
      "created_at" : "2014-08-27T15:42:33Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53592423",
      "id" : 53592423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T15:42:33Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53592423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "wow what a stupid change, all the more reason why we can't have a single group making unilateral decisions on one codebase. I had never heard of this. I think you guys need to stop trying to throw all this crap into the Bitcoin protocol, and focus on keeping it small + focused. Bloated software overextends itself introducing security flaws through new attack surfaces.",
      "created_at" : "2014-08-27T16:28:02Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53600726",
      "id" : 53600726,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T16:30:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53600726",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/348922?v=3",
         "events_url" : "https://api.github.com/users/genjix/events{/privacy}",
         "followers_url" : "https://api.github.com/users/genjix/followers",
         "following_url" : "https://api.github.com/users/genjix/following{/other_user}",
         "gists_url" : "https://api.github.com/users/genjix/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/genjix",
         "id" : 348922,
         "login" : "genjix",
         "organizations_url" : "https://api.github.com/users/genjix/orgs",
         "received_events_url" : "https://api.github.com/users/genjix/received_events",
         "repos_url" : "https://api.github.com/users/genjix/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/genjix/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/genjix/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/genjix"
      }
   },
   {
      "body" : "I actually can't make my bitcoind crash even when firing many such bogus queries in parallel, even without the fix. Memory usage does go up, and if you don't have much RAM that could be a problem, but it drops down again immediately after.\r\n\r\nWith the extra ten lines to track bytes used the code is clearly better, but it's way overkill to go running to reddit and claim it's an \"easy way to crash bitcoind\". Heck our networking code doesn't even have a limit to aim for. Bitcoind could run out of RAM on some systems just by handling a lot of clients, or if there was a lot of transactions in the mempool.",
      "created_at" : "2014-08-27T16:37:00Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53602018",
      "id" : 53602018,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T16:37:00Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53602018",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "Lots of nodes out there without all that much RAM. Other DoS attacks are prevented by existing resource limits, e.g. tx fees, coin-age, etc. and \"handling lots of clients\" is something we already have limits on via the connection limits. I should know - I've spent a lot of time looking for and fixing cheap DoS attacks. (e.g. the sigops one I fixed) getutxos is unique in how easy it is to use to crash systems at no cost.\r\n\r\n@mikehearn You'd be smart to just own up and say \"oops, I screwed that up\" rather than trying to make excuses. Heck, I personally screwed up a bit by ACKing the patch without noticing that flaw.",
      "created_at" : "2014-08-27T16:46:29Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53603345",
      "id" : 53603345,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T16:46:29Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53603345",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "body" : "> I had never heard of this\r\n\r\nIt is not as if this was kept secret. To be fair, the BIP was posted to the bitcoin development mailing list, https://sourceforge.net/p/bitcoin/mailman/message/32590257/\r\nThe BIP was reviewed, finalized and merged at some point, https://github.com/bitcoin/bips/pull/88 \r\nThis pull has been open for months as well.\r\nYou could have heard of this, and given your opinion in all of those instances...\r\n",
      "created_at" : "2014-08-27T16:52:05Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53604100",
      "id" : 53604100,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T16:52:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53604100",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Peter, I wrote a patch right? I'm grateful that Dave did this testing and found this problem. I am less grateful that he then ran to reddit and started complaining about how badly unit tested Bitcoin Core is (blame Satoshi for that one, if he must). \r\n\r\nI think it's an open question about how such things can be caught in future. Any future change could result in large temporary memory usage without anyone noticing. The lack of any definition for \"large\" makes this harder - as I said, I can't actually make my testnet node crash even when repeating the conditions that were given. So how to find this sort of thing systematically is tricky. Ideally Bitcoin Core would print a warning if its memory usage went over a certain amount, but we don't have that.\r\n\r\nOne solution that will definitely NOT work is blaming people for being imperfect programmers. Core has shipped fatal bugs before and will do so again. The right solution is usually to ask \"how can we stop such mistakes systematically\"? ",
      "created_at" : "2014-08-27T17:09:20Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53606505",
      "id" : 53606505,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T17:09:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53606505",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/971089?v=3",
         "events_url" : "https://api.github.com/users/mikehearn/events{/privacy}",
         "followers_url" : "https://api.github.com/users/mikehearn/followers",
         "following_url" : "https://api.github.com/users/mikehearn/following{/other_user}",
         "gists_url" : "https://api.github.com/users/mikehearn/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/mikehearn",
         "id" : 971089,
         "login" : "mikehearn",
         "organizations_url" : "https://api.github.com/users/mikehearn/orgs",
         "received_events_url" : "https://api.github.com/users/mikehearn/received_events",
         "repos_url" : "https://api.github.com/users/mikehearn/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/mikehearn/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/mikehearn/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/mikehearn"
      }
   },
   {
      "body" : "There's a ton of silly discussion on that mailing list which consists of \"who has the most stamina to invest in arguments\" which I don't have time for. Therefore I cannot sift through all that looking for the gems of important discussion to register my single objection.\r\n\r\n@mikehearn you can avoid mistakes by taking features out not trying to stuff more features in (which we don't *need*). This is a case of developers going mad for features that want which should be happening on another layer of Bitcoin, not the core protocol which should stay pure and focused. I see very little impetus for real implementation work happening apart from odd bugfixes or cosmetic changes, and a lot of \"THE NEXT BIG THING\" spurned by corporations who see Bitcoin as the new payments innovation instead of wanting to protect the integrity, security and values of Bitcoin. I'm a protocol conservative.",
      "created_at" : "2014-08-27T17:10:31Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53606665",
      "id" : 53606665,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T17:13:22Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53606665",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/348922?v=3",
         "events_url" : "https://api.github.com/users/genjix/events{/privacy}",
         "followers_url" : "https://api.github.com/users/genjix/followers",
         "following_url" : "https://api.github.com/users/genjix/following{/other_user}",
         "gists_url" : "https://api.github.com/users/genjix/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/genjix",
         "id" : 348922,
         "login" : "genjix",
         "organizations_url" : "https://api.github.com/users/genjix/orgs",
         "received_events_url" : "https://api.github.com/users/genjix/received_events",
         "repos_url" : "https://api.github.com/users/genjix/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/genjix/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/genjix/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/genjix"
      }
   },
   {
      "body" : "Reverted in 70352e11c0194fe4e71efea06220544749f4cd64",
      "created_at" : "2014-08-27T18:32:23Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-53619206",
      "id" : 53619206,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-08-27T18:32:23Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/53619206",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "Nothing about this change is harmful enough to violate the process.  A BIP was even merged, for crying out loud.\r\n\r\nIt would be great if core supported optional and p2p-queryable indexes for everything.  An optional way to authenticate data served would also be great.  Lack of these extra features should not doom this change.  They could be in a layer maintained by the core project.  There is absolutely no reason to punt stuff like this to third parties if open-source developers want to create it.\r\n",
      "created_at" : "2014-09-01T19:18:17Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-54086463",
      "id" : 54086463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-09-01T19:18:17Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54086463",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4284124?v=3",
         "events_url" : "https://api.github.com/users/dgenr8/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dgenr8/followers",
         "following_url" : "https://api.github.com/users/dgenr8/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dgenr8/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dgenr8",
         "id" : 4284124,
         "login" : "dgenr8",
         "organizations_url" : "https://api.github.com/users/dgenr8/orgs",
         "received_events_url" : "https://api.github.com/users/dgenr8/received_events",
         "repos_url" : "https://api.github.com/users/dgenr8/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dgenr8/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dgenr8/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dgenr8"
      }
   },
   {
      "body" : "@dgenr8 A BIP getting merged doesn't make it a standard, it just starts it in the 'draft' workflow status: https://github.com/bitcoin/bips/blob/master/bip-0001/process.png ",
      "created_at" : "2014-09-01T19:22:37Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-54086672",
      "id" : 54086672,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-09-01T19:22:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54086672",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7275704?v=3",
         "events_url" : "https://api.github.com/users/btcdrak/events{/privacy}",
         "followers_url" : "https://api.github.com/users/btcdrak/followers",
         "following_url" : "https://api.github.com/users/btcdrak/following{/other_user}",
         "gists_url" : "https://api.github.com/users/btcdrak/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/btcdrak",
         "id" : 7275704,
         "login" : "btcdrak",
         "organizations_url" : "https://api.github.com/users/btcdrak/orgs",
         "received_events_url" : "https://api.github.com/users/btcdrak/received_events",
         "repos_url" : "https://api.github.com/users/btcdrak/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/btcdrak/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/btcdrak"
      }
   },
   {
      "body" : "There are several bad bips which (IMO) no one should ever use, the BIP process doesn't tell you if something is good or not... it just specifies it.",
      "created_at" : "2014-09-01T19:49:08Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/4351#issuecomment-54087974",
      "id" : 54087974,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/4351",
      "updated_at" : "2014-09-01T19:49:08Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/54087974",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   }
]
