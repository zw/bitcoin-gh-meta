{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "CONTRIBUTOR",
   "body" : "`bitcoind` should not be launched as daemon from the Launch Agent. Otherwise, the process cannot be stopped from `launchctl stop`/`launchctl unload`.\r\n\r\nTo reproduce the issue:\r\n\r\n```console\r\n$ launchctl load ~/Library/LaunchAgents/org.bitcoin.bitcoind.plist\r\n$ pgrep -fla bitcoin\r\n60225 /usr/local/opt/bitcoin/bin/bitcoind\r\n$ launchctl unload ~/Library/LaunchAgents/org.bitcoin.bitcoind.plist\r\n```\r\n\r\nWait a few seconds and then run `pgrep` again:\r\n\r\n```console\r\n$ pgrep -fla bitcoin\r\n60225 /usr/local/opt/bitcoin/bin/bitcoind\r\n```\r\n\r\nThe node is still running. This happens because Launch Agent is not supposed to run programs as daemons, since the agent makes sure they run in the background. Running them as daemons makes the Launch Agent lose control of the process and, so, it cannot be stopped.",
   "closed_at" : "2017-10-04T03:16:05Z",
   "closed_by" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/178464?v=4",
      "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
      "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/jonasschnelli",
      "id" : 178464,
      "login" : "jonasschnelli",
      "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
      "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
      "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/jonasschnelli"
   },
   "comments" : 5,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11419/comments",
   "created_at" : "2017-09-29T09:16:04Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11419/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/pull/11419",
   "id" : 261579843,
   "labels" : [
      {
         "color" : "ffffee",
         "default" : false,
         "id" : 231994551,
         "name" : "Scripts and tools",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Scripts%20and%20tools"
      },
      {
         "color" : "660000",
         "default" : false,
         "id" : 234879,
         "name" : "macOS",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/macOS"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11419/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 11419,
   "pull_request" : {
      "diff_url" : "https://github.com/bitcoin/bitcoin/pull/11419.diff",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/11419",
      "patch_url" : "https://github.com/bitcoin/bitcoin/pull/11419.patch",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/11419"
   },
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "closed",
   "title" : "Utils: Fix launchctl not being able to stop bitcoind",
   "updated_at" : "2017-10-04T17:17:06Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/11419",
   "user" : {
      "avatar_url" : "https://avatars3.githubusercontent.com/u/716307?v=4",
      "events_url" : "https://api.github.com/users/OmeGak/events{/privacy}",
      "followers_url" : "https://api.github.com/users/OmeGak/followers",
      "following_url" : "https://api.github.com/users/OmeGak/following{/other_user}",
      "gists_url" : "https://api.github.com/users/OmeGak/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/OmeGak",
      "id" : 716307,
      "login" : "OmeGak",
      "organizations_url" : "https://api.github.com/users/OmeGak/orgs",
      "received_events_url" : "https://api.github.com/users/OmeGak/received_events",
      "repos_url" : "https://api.github.com/users/OmeGak/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/OmeGak/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/OmeGak/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/OmeGak"
   }
}
