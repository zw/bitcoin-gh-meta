{
   "assignee" : null,
   "assignees" : [],
   "author_association" : "OWNER",
   "body" : "The current `createrawtransaction` + `fundrawtransaction` + `signrawtransaction` workflow is complicated by the fact that there is some information that needs to be passed out of band:\r\n* Signing requires access to the outputs being spent to know the scriptPubKey (and amount in BIP143).\r\n* For P2SH inputs, the signer must know the redeemscript\r\n* For P2WSH inputs, the signer must know the witness program\r\n\r\nThese are currently handled transparently by the fact that `signrawtransaction` has access to the wallet transactions, scripts, and node UTXO set. However, third party signers do not necessarily have access to this information.\r\n\r\nGiven that it is known in advance what signers will need when the unsigned transaction is constructed, I wonder if the easiest approach isn't creating a more generic partial transaction format that can store multiple extra records for each input (which don't go into the final transaction):\r\n* For non-witness transactions, the full previous transaction being spent from (so the fee can be computed trustlessly) should be included.\r\n* For witness transactions, the UTXO being spent.\r\n* The redeemscript and witness scripts for P2SH/P2WSH respectively.\r\n* Partial signatures for OP_CHECKMULTISIG (instead of hacking those inside the scriptSig before it's complete)\r\n\r\nThis would also simplify extending to more complicated script types in the future.",
   "closed_at" : null,
   "closed_by" : null,
   "comments" : 4,
   "comments_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10674/comments",
   "created_at" : "2017-06-27T01:26:21Z",
   "events_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10674/events",
   "html_url" : "https://github.com/bitcoin/bitcoin/issues/10674",
   "id" : 238712966,
   "labels" : [
      {
         "color" : "ebd775",
         "default" : false,
         "id" : 64584,
         "name" : "Brainstorming",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/Brainstorming"
      },
      {
         "color" : "0052cc",
         "default" : false,
         "id" : 98279177,
         "name" : "RPC/REST/ZMQ",
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/labels/RPC/REST/ZMQ"
      }
   ],
   "labels_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10674/labels{/name}",
   "locked" : false,
   "milestone" : null,
   "number" : 10674,
   "repository_url" : "https://api.github.com/repos/bitcoin/bitcoin",
   "state" : "open",
   "title" : "Unified partial signature format",
   "updated_at" : "2017-06-28T06:59:10Z",
   "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/10674",
   "user" : {
      "avatar_url" : "https://avatars1.githubusercontent.com/u/548488?v=4",
      "events_url" : "https://api.github.com/users/sipa/events{/privacy}",
      "followers_url" : "https://api.github.com/users/sipa/followers",
      "following_url" : "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url" : "https://api.github.com/users/sipa/gists{/gist_id}",
      "gravatar_id" : "",
      "html_url" : "https://github.com/sipa",
      "id" : 548488,
      "login" : "sipa",
      "organizations_url" : "https://api.github.com/users/sipa/orgs",
      "received_events_url" : "https://api.github.com/users/sipa/received_events",
      "repos_url" : "https://api.github.com/users/sipa/repos",
      "site_admin" : false,
      "starred_url" : "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url" : "https://api.github.com/users/sipa/subscriptions",
      "type" : "User",
      "url" : "https://api.github.com/users/sipa"
   }
}
