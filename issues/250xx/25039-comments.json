[
   {
      "author_association" : "MEMBER",
      "body" : "https://github.com/bitcoin/bitcoin/pull/25039/checks?check_run_id=6237619420:\r\n```bash\r\n./ci/lint/06_script.sh: line 18: test/lint/git-subtree-check.sh: No such file or directory\r\n```",
      "created_at" : "2022-04-30T19:34:35Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#issuecomment-1114042400",
      "id" : 1114042400,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25039",
      "node_id" : "IC_kwDOABII585CZvAg",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1114042400/reactions"
      },
      "updated_at" : "2022-04-30T19:34:35Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1114042400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/863730?v=4",
         "events_url" : "https://api.github.com/users/fanquake/events{/privacy}",
         "followers_url" : "https://api.github.com/users/fanquake/followers",
         "following_url" : "https://api.github.com/users/fanquake/following{/other_user}",
         "gists_url" : "https://api.github.com/users/fanquake/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/fanquake",
         "id" : 863730,
         "login" : "fanquake",
         "node_id" : "MDQ6VXNlcjg2MzczMA==",
         "organizations_url" : "https://api.github.com/users/fanquake/orgs",
         "received_events_url" : "https://api.github.com/users/fanquake/received_events",
         "repos_url" : "https://api.github.com/users/fanquake/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/fanquake/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/fanquake"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "@fanquake Sorry about that oversight. Fixed the issue and squashed. All checks pass now.\r\n",
      "created_at" : "2022-04-30T22:21:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#issuecomment-1114063480",
      "id" : 1114063480,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25039",
      "node_id" : "IC_kwDOABII585CZ0J4",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1114063480/reactions"
      },
      "updated_at" : "2022-04-30T22:21:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1114063480",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32376202?v=4",
         "events_url" : "https://api.github.com/users/jacobpfickes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jacobpfickes/followers",
         "following_url" : "https://api.github.com/users/jacobpfickes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jacobpfickes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jacobpfickes",
         "id" : 32376202,
         "login" : "jacobpfickes",
         "node_id" : "MDQ6VXNlcjMyMzc2MjAy",
         "organizations_url" : "https://api.github.com/users/jacobpfickes/orgs",
         "received_events_url" : "https://api.github.com/users/jacobpfickes/received_events",
         "repos_url" : "https://api.github.com/users/jacobpfickes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jacobpfickes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jacobpfickes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jacobpfickes"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r862685024"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862685024"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`line.startswith(\"git-subtree-mainline:\")`? (also the one below)",
      "commit_id" : "c09765e78e2299ab1accf9c045e98b2fa2dd2a86",
      "created_at" : "2022-05-02T08:46:46Z",
      "diff_hunk" : "@@ -0,0 +1,99 @@\n+#!/usr/bin/env python3\n+#\n+# Copyright (c) 2017-2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# Checks that a certain prefix is pure subtree, and optionally whether the\n+# referenced commit is present in any fetched remote.\n+\n+import argparse\n+import sys\n+import subprocess\n+\n+def parse_args():\n+    \"\"\"Parse command line arguments\"\"\"\n+    parser = argparse.ArgumentParser (\n+        description=\"\"\"\n+            Checks that a certain prefix is pure subtree, and optionally whether the\n+            referenced commit is present in any fetched remote.\n+        \"\"\"\n+    )\n+\n+    parser.add_argument('dir', help=\"The prefix within the repository to check.\")\n+    parser.add_argument('commit', nargs='?', default='HEAD', help=\"The commit to check, if it is not provided, HEAD will be used.\")\n+    parser.add_argument(\"--repository\", \"-r\", action='store_true', required=False, help=\"Check that subtree commit is present in repository. To do this check, fetch the subtreed remote first. (e.g. git fetch https://github.com/bitcoin-core/secp256k1.git\\ntest/lint/git-subtree-check.sh -r src/secp256k1)\")\n+\n+    return parser.parse_args()\n+\n+def find_latest_squash(dir, commit):\n+    sq = main = sub = None\n+    stdout = subprocess.check_output([\"git\", \"log\", \"--grep=^git-subtree-dir: \" + dir + \"/*$\", \"--pretty=format: START %H%n%s%n%n%b%nEND%n\", commit], universal_newlines=True, encoding=\"utf8\")\n+    for line in stdout.splitlines():\n+        if \"START\" in line:\n+            sq = line.lstrip().split(' ')[1]\n+        if \"git-subtree-mainline:\" in line:",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r862685024",
      "id" : 862685024,
      "line" : 35,
      "node_id" : "PRRC_kwDOABII584za4dg",
      "original_commit_id" : "c09765e78e2299ab1accf9c045e98b2fa2dd2a86",
      "original_line" : 35,
      "original_position" : 35,
      "original_start_line" : null,
      "path" : "test/lint/git-subtree-check.py",
      "position" : 35,
      "pull_request_review_id" : 958844892,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862685024/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-02T08:46:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862685024",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r862685892"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862685892"
         }
      },
      "author_association" : "MEMBER",
      "body" : "`line.split(':', 2)[1].strip(' ')` maybe? (represents the intent of splitting header/value better, even if something is fudged with spaces, or there are more of them than expected)",
      "commit_id" : "c09765e78e2299ab1accf9c045e98b2fa2dd2a86",
      "created_at" : "2022-05-02T08:48:20Z",
      "diff_hunk" : "@@ -0,0 +1,99 @@\n+#!/usr/bin/env python3\n+#\n+# Copyright (c) 2017-2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# Checks that a certain prefix is pure subtree, and optionally whether the\n+# referenced commit is present in any fetched remote.\n+\n+import argparse\n+import sys\n+import subprocess\n+\n+def parse_args():\n+    \"\"\"Parse command line arguments\"\"\"\n+    parser = argparse.ArgumentParser (\n+        description=\"\"\"\n+            Checks that a certain prefix is pure subtree, and optionally whether the\n+            referenced commit is present in any fetched remote.\n+        \"\"\"\n+    )\n+\n+    parser.add_argument('dir', help=\"The prefix within the repository to check.\")\n+    parser.add_argument('commit', nargs='?', default='HEAD', help=\"The commit to check, if it is not provided, HEAD will be used.\")\n+    parser.add_argument(\"--repository\", \"-r\", action='store_true', required=False, help=\"Check that subtree commit is present in repository. To do this check, fetch the subtreed remote first. (e.g. git fetch https://github.com/bitcoin-core/secp256k1.git\\ntest/lint/git-subtree-check.sh -r src/secp256k1)\")\n+\n+    return parser.parse_args()\n+\n+def find_latest_squash(dir, commit):\n+    sq = main = sub = None\n+    stdout = subprocess.check_output([\"git\", \"log\", \"--grep=^git-subtree-dir: \" + dir + \"/*$\", \"--pretty=format: START %H%n%s%n%n%b%nEND%n\", commit], universal_newlines=True, encoding=\"utf8\")\n+    for line in stdout.splitlines():\n+        if \"START\" in line:\n+            sq = line.lstrip().split(' ')[1]\n+        if \"git-subtree-mainline:\" in line:\n+            main = line.split(' ')[1]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r862685892",
      "id" : 862685892,
      "line" : 36,
      "node_id" : "PRRC_kwDOABII584za4rE",
      "original_commit_id" : "c09765e78e2299ab1accf9c045e98b2fa2dd2a86",
      "original_line" : 36,
      "original_position" : 36,
      "original_start_line" : null,
      "path" : "test/lint/git-subtree-check.py",
      "position" : 36,
      "pull_request_review_id" : 958846092,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862685892/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-02T08:50:05Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862685892",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r862700466"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862700466"
         }
      },
      "author_association" : "MEMBER",
      "body" : "whoops: `| head -n 1` is not going to work here, please implement this in Python",
      "commit_id" : "c09765e78e2299ab1accf9c045e98b2fa2dd2a86",
      "created_at" : "2022-05-02T09:13:04Z",
      "diff_hunk" : "@@ -0,0 +1,99 @@\n+#!/usr/bin/env python3\n+#\n+# Copyright (c) 2017-2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# Checks that a certain prefix is pure subtree, and optionally whether the\n+# referenced commit is present in any fetched remote.\n+\n+import argparse\n+import sys\n+import subprocess\n+\n+def parse_args():\n+    \"\"\"Parse command line arguments\"\"\"\n+    parser = argparse.ArgumentParser (\n+        description=\"\"\"\n+            Checks that a certain prefix is pure subtree, and optionally whether the\n+            referenced commit is present in any fetched remote.\n+        \"\"\"\n+    )\n+\n+    parser.add_argument('dir', help=\"The prefix within the repository to check.\")\n+    parser.add_argument('commit', nargs='?', default='HEAD', help=\"The commit to check, if it is not provided, HEAD will be used.\")\n+    parser.add_argument(\"--repository\", \"-r\", action='store_true', required=False, help=\"Check that subtree commit is present in repository. To do this check, fetch the subtreed remote first. (e.g. git fetch https://github.com/bitcoin-core/secp256k1.git\\ntest/lint/git-subtree-check.sh -r src/secp256k1)\")\n+\n+    return parser.parse_args()\n+\n+def find_latest_squash(dir, commit):\n+    sq = main = sub = None\n+    stdout = subprocess.check_output([\"git\", \"log\", \"--grep=^git-subtree-dir: \" + dir + \"/*$\", \"--pretty=format: START %H%n%s%n%n%b%nEND%n\", commit], universal_newlines=True, encoding=\"utf8\")\n+    for line in stdout.splitlines():\n+        if \"START\" in line:\n+            sq = line.lstrip().split(' ')[1]\n+        if \"git-subtree-mainline:\" in line:\n+            main = line.split(' ')[1]\n+        if \"git-subtree-split:\" in line:\n+            sub = line.split(' ')[1]\n+        if \"END\" in line:\n+            if sub:\n+                if main:\n+                    sq = sub\n+                return(f\"{sq} {sub}\")\n+            sq = main = sub = None\n+\n+def main():\n+    args = parse_args()\n+\n+    # find the latest subtree update\n+    latest_squash = find_latest_squash(args.dir.rstrip('/'), args.commit)\n+    if not latest_squash:\n+        print(f\"Error: {args.dir} is not a subtree\")\n+        sys.exit(2)\n+    else:\n+        old = latest_squash.split(' ')[0]\n+        rev = latest_squash.split(' ')[1]\n+\n+    # get the tree in the current commit\n+    tree_actual = subprocess.check_output([\"git\", \"ls-tree\", \"-d\", args.commit, args.dir, \"| head -n 1\"], universal_newlines=True, encoding=\"utf8\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r862700466",
      "id" : 862700466,
      "line" : 59,
      "node_id" : "PRRC_kwDOABII584za8Oy",
      "original_commit_id" : "c09765e78e2299ab1accf9c045e98b2fa2dd2a86",
      "original_line" : 59,
      "original_position" : 59,
      "original_start_line" : null,
      "path" : "test/lint/git-subtree-check.py",
      "position" : 59,
      "pull_request_review_id" : 958865654,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862700466/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-02T09:13:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862700466",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r862805032"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862805032"
         }
      },
      "author_association" : "NONE",
      "body" : "fixed by piping output to new subprocess",
      "commit_id" : "2d1d27afaefb050196e92e584170b20641668c9b",
      "created_at" : "2022-05-02T12:32:21Z",
      "diff_hunk" : "@@ -0,0 +1,99 @@\n+#!/usr/bin/env python3\n+#\n+# Copyright (c) 2017-2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# Checks that a certain prefix is pure subtree, and optionally whether the\n+# referenced commit is present in any fetched remote.\n+\n+import argparse\n+import sys\n+import subprocess\n+\n+def parse_args():\n+    \"\"\"Parse command line arguments\"\"\"\n+    parser = argparse.ArgumentParser (\n+        description=\"\"\"\n+            Checks that a certain prefix is pure subtree, and optionally whether the\n+            referenced commit is present in any fetched remote.\n+        \"\"\"\n+    )\n+\n+    parser.add_argument('dir', help=\"The prefix within the repository to check.\")\n+    parser.add_argument('commit', nargs='?', default='HEAD', help=\"The commit to check, if it is not provided, HEAD will be used.\")\n+    parser.add_argument(\"--repository\", \"-r\", action='store_true', required=False, help=\"Check that subtree commit is present in repository. To do this check, fetch the subtreed remote first. (e.g. git fetch https://github.com/bitcoin-core/secp256k1.git\\ntest/lint/git-subtree-check.sh -r src/secp256k1)\")\n+\n+    return parser.parse_args()\n+\n+def find_latest_squash(dir, commit):\n+    sq = main = sub = None\n+    stdout = subprocess.check_output([\"git\", \"log\", \"--grep=^git-subtree-dir: \" + dir + \"/*$\", \"--pretty=format: START %H%n%s%n%n%b%nEND%n\", commit], universal_newlines=True, encoding=\"utf8\")\n+    for line in stdout.splitlines():\n+        if \"START\" in line:\n+            sq = line.lstrip().split(' ')[1]\n+        if \"git-subtree-mainline:\" in line:\n+            main = line.split(' ')[1]\n+        if \"git-subtree-split:\" in line:\n+            sub = line.split(' ')[1]\n+        if \"END\" in line:\n+            if sub:\n+                if main:\n+                    sq = sub\n+                return(f\"{sq} {sub}\")\n+            sq = main = sub = None\n+\n+def main():\n+    args = parse_args()\n+\n+    # find the latest subtree update\n+    latest_squash = find_latest_squash(args.dir.rstrip('/'), args.commit)\n+    if not latest_squash:\n+        print(f\"Error: {args.dir} is not a subtree\")\n+        sys.exit(2)\n+    else:\n+        old = latest_squash.split(' ')[0]\n+        rev = latest_squash.split(' ')[1]\n+\n+    # get the tree in the current commit\n+    tree_actual = subprocess.check_output([\"git\", \"ls-tree\", \"-d\", args.commit, args.dir, \"| head -n 1\"], universal_newlines=True, encoding=\"utf8\")",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r862805032",
      "id" : 862805032,
      "in_reply_to_id" : 862700466,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584zbVwo",
      "original_commit_id" : "c09765e78e2299ab1accf9c045e98b2fa2dd2a86",
      "original_line" : 59,
      "original_position" : 59,
      "original_start_line" : null,
      "path" : "test/lint/git-subtree-check.py",
      "position" : null,
      "pull_request_review_id" : 959009951,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862805032/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : null,
      "updated_at" : "2022-05-02T12:32:21Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/862805032",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32376202?v=4",
         "events_url" : "https://api.github.com/users/jacobpfickes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jacobpfickes/followers",
         "following_url" : "https://api.github.com/users/jacobpfickes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jacobpfickes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jacobpfickes",
         "id" : 32376202,
         "login" : "jacobpfickes",
         "node_id" : "MDQ6VXNlcjMyMzc2MjAy",
         "organizations_url" : "https://api.github.com/users/jacobpfickes/orgs",
         "received_events_url" : "https://api.github.com/users/jacobpfickes/received_events",
         "repos_url" : "https://api.github.com/users/jacobpfickes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jacobpfickes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jacobpfickes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jacobpfickes"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r865979361"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865979361"
         }
      },
      "author_association" : "NONE",
      "body" : "tiny nit: you can avoid putting `else` if you're exiting in the `if` branch:\r\n```\r\n    if not latest_squash:\r\n        print(f\"Error: {args.dir} is not a subtree\")\r\n        sys.exit(2)\r\n    old = latest_squash.split(' ')[0]\r\n    rev = latest_squash.split(' ')[1]\r\n```\r\nThis reduces indentation, but here it's basically irrelevant :) ",
      "commit_id" : "2d1d27afaefb050196e92e584170b20641668c9b",
      "created_at" : "2022-05-05T14:35:49Z",
      "diff_hunk" : "@@ -0,0 +1,100 @@\n+#!/usr/bin/env python3\n+#\n+# Copyright (c) 2017-2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# Checks that a certain prefix is pure subtree, and optionally whether the\n+# referenced commit is present in any fetched remote.\n+\n+import argparse\n+import sys\n+import subprocess\n+\n+def parse_args():\n+    \"\"\"Parse command line arguments\"\"\"\n+    parser = argparse.ArgumentParser (\n+        description=\"\"\"\n+            Checks that a certain prefix is pure subtree, and optionally whether the\n+            referenced commit is present in any fetched remote.\n+        \"\"\"\n+    )\n+\n+    parser.add_argument('dir', help=\"The prefix within the repository to check.\")\n+    parser.add_argument('commit', nargs='?', default='HEAD', help=\"The commit to check, if it is not provided, HEAD will be used.\")\n+    parser.add_argument(\"--repository\", \"-r\", action='store_true', required=False, help=\"Check that subtree commit is present in repository. To do this check, fetch the subtreed remote first. (e.g. git fetch https://github.com/bitcoin-core/secp256k1.git\\ntest/lint/git-subtree-check.sh -r src/secp256k1)\")\n+\n+    return parser.parse_args()\n+\n+def find_latest_squash(dir, commit):\n+    sq = main = sub = None\n+    stdout = subprocess.check_output([\"git\", \"log\", \"--grep=^git-subtree-dir: \" + dir + \"/*$\", \"--pretty=format: START %H%n%s%n%n%b%nEND%n\", commit], universal_newlines=True, encoding=\"utf8\")\n+    for line in stdout.splitlines():\n+        if \"START\" in line:\n+            sq = line.lstrip().split(' ')[1]\n+        if line.startswith(\"git-subtree-mainline:\"):\n+            main = line.split(':', 2)[1].split(' ')\n+        if line.startswith(\"git-subtree-split:\"):\n+            sub = line.split(':', 2)[1].split(' ')\n+        if \"END\" in line:\n+            if sub:\n+                if main:\n+                    sq = sub\n+                return(f\"{sq} {sub}\")\n+            sq = main = sub = None\n+\n+def main():\n+    args = parse_args()\n+\n+    # find the latest subtree update\n+    latest_squash = find_latest_squash(args.dir.rstrip('/'), args.commit)\n+    if not latest_squash:\n+        print(f\"Error: {args.dir} is not a subtree\")\n+        sys.exit(2)\n+    else:\n+        old = latest_squash.split(' ')[0]\n+        rev = latest_squash.split(' ')[1]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r865979361",
      "id" : 865979361,
      "line" : 56,
      "node_id" : "PRRC_kwDOABII584zncvh",
      "original_commit_id" : "2d1d27afaefb050196e92e584170b20641668c9b",
      "original_line" : 56,
      "original_position" : 56,
      "original_start_line" : 51,
      "path" : "test/lint/git-subtree-check.py",
      "position" : 56,
      "pull_request_review_id" : 963469266,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865979361/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 51,
      "start_side" : "RIGHT",
      "updated_at" : "2022-05-05T14:47:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/865979361",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25042473?v=4",
         "events_url" : "https://api.github.com/users/danielabrozzoni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danielabrozzoni/followers",
         "following_url" : "https://api.github.com/users/danielabrozzoni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danielabrozzoni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danielabrozzoni",
         "id" : 25042473,
         "login" : "danielabrozzoni",
         "node_id" : "MDQ6VXNlcjI1MDQyNDcz",
         "organizations_url" : "https://api.github.com/users/danielabrozzoni/orgs",
         "received_events_url" : "https://api.github.com/users/danielabrozzoni/received_events",
         "repos_url" : "https://api.github.com/users/danielabrozzoni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danielabrozzoni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danielabrozzoni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danielabrozzoni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r866032400"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/866032400"
         }
      },
      "author_association" : "NONE",
      "body" : "Very good point. I thought it helped with readability a bit but can easily go through and remove the else statements after exiting",
      "commit_id" : "2d1d27afaefb050196e92e584170b20641668c9b",
      "created_at" : "2022-05-05T15:23:06Z",
      "diff_hunk" : "@@ -0,0 +1,100 @@\n+#!/usr/bin/env python3\n+#\n+# Copyright (c) 2017-2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# Checks that a certain prefix is pure subtree, and optionally whether the\n+# referenced commit is present in any fetched remote.\n+\n+import argparse\n+import sys\n+import subprocess\n+\n+def parse_args():\n+    \"\"\"Parse command line arguments\"\"\"\n+    parser = argparse.ArgumentParser (\n+        description=\"\"\"\n+            Checks that a certain prefix is pure subtree, and optionally whether the\n+            referenced commit is present in any fetched remote.\n+        \"\"\"\n+    )\n+\n+    parser.add_argument('dir', help=\"The prefix within the repository to check.\")\n+    parser.add_argument('commit', nargs='?', default='HEAD', help=\"The commit to check, if it is not provided, HEAD will be used.\")\n+    parser.add_argument(\"--repository\", \"-r\", action='store_true', required=False, help=\"Check that subtree commit is present in repository. To do this check, fetch the subtreed remote first. (e.g. git fetch https://github.com/bitcoin-core/secp256k1.git\\ntest/lint/git-subtree-check.sh -r src/secp256k1)\")\n+\n+    return parser.parse_args()\n+\n+def find_latest_squash(dir, commit):\n+    sq = main = sub = None\n+    stdout = subprocess.check_output([\"git\", \"log\", \"--grep=^git-subtree-dir: \" + dir + \"/*$\", \"--pretty=format: START %H%n%s%n%n%b%nEND%n\", commit], universal_newlines=True, encoding=\"utf8\")\n+    for line in stdout.splitlines():\n+        if \"START\" in line:\n+            sq = line.lstrip().split(' ')[1]\n+        if line.startswith(\"git-subtree-mainline:\"):\n+            main = line.split(':', 2)[1].split(' ')\n+        if line.startswith(\"git-subtree-split:\"):\n+            sub = line.split(':', 2)[1].split(' ')\n+        if \"END\" in line:\n+            if sub:\n+                if main:\n+                    sq = sub\n+                return(f\"{sq} {sub}\")\n+            sq = main = sub = None\n+\n+def main():\n+    args = parse_args()\n+\n+    # find the latest subtree update\n+    latest_squash = find_latest_squash(args.dir.rstrip('/'), args.commit)\n+    if not latest_squash:\n+        print(f\"Error: {args.dir} is not a subtree\")\n+        sys.exit(2)\n+    else:\n+        old = latest_squash.split(' ')[0]\n+        rev = latest_squash.split(' ')[1]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r866032400",
      "id" : 866032400,
      "in_reply_to_id" : 865979361,
      "line" : 56,
      "node_id" : "PRRC_kwDOABII584znpsQ",
      "original_commit_id" : "2d1d27afaefb050196e92e584170b20641668c9b",
      "original_line" : 56,
      "original_position" : 56,
      "original_start_line" : 51,
      "path" : "test/lint/git-subtree-check.py",
      "position" : 56,
      "pull_request_review_id" : 963546477,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/866032400/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 51,
      "start_side" : "RIGHT",
      "updated_at" : "2022-05-05T15:23:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/866032400",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32376202?v=4",
         "events_url" : "https://api.github.com/users/jacobpfickes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jacobpfickes/followers",
         "following_url" : "https://api.github.com/users/jacobpfickes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jacobpfickes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jacobpfickes",
         "id" : 32376202,
         "login" : "jacobpfickes",
         "node_id" : "MDQ6VXNlcjMyMzc2MjAy",
         "organizations_url" : "https://api.github.com/users/jacobpfickes/orgs",
         "received_events_url" : "https://api.github.com/users/jacobpfickes/received_events",
         "repos_url" : "https://api.github.com/users/jacobpfickes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jacobpfickes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jacobpfickes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jacobpfickes"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r866034304"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/866034304"
         }
      },
      "author_association" : "NONE",
      "body" : "As you wish, if you prefer to leave it like that it's ok for me :) ",
      "commit_id" : "2d1d27afaefb050196e92e584170b20641668c9b",
      "created_at" : "2022-05-05T15:24:40Z",
      "diff_hunk" : "@@ -0,0 +1,100 @@\n+#!/usr/bin/env python3\n+#\n+# Copyright (c) 2017-2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# Checks that a certain prefix is pure subtree, and optionally whether the\n+# referenced commit is present in any fetched remote.\n+\n+import argparse\n+import sys\n+import subprocess\n+\n+def parse_args():\n+    \"\"\"Parse command line arguments\"\"\"\n+    parser = argparse.ArgumentParser (\n+        description=\"\"\"\n+            Checks that a certain prefix is pure subtree, and optionally whether the\n+            referenced commit is present in any fetched remote.\n+        \"\"\"\n+    )\n+\n+    parser.add_argument('dir', help=\"The prefix within the repository to check.\")\n+    parser.add_argument('commit', nargs='?', default='HEAD', help=\"The commit to check, if it is not provided, HEAD will be used.\")\n+    parser.add_argument(\"--repository\", \"-r\", action='store_true', required=False, help=\"Check that subtree commit is present in repository. To do this check, fetch the subtreed remote first. (e.g. git fetch https://github.com/bitcoin-core/secp256k1.git\\ntest/lint/git-subtree-check.sh -r src/secp256k1)\")\n+\n+    return parser.parse_args()\n+\n+def find_latest_squash(dir, commit):\n+    sq = main = sub = None\n+    stdout = subprocess.check_output([\"git\", \"log\", \"--grep=^git-subtree-dir: \" + dir + \"/*$\", \"--pretty=format: START %H%n%s%n%n%b%nEND%n\", commit], universal_newlines=True, encoding=\"utf8\")\n+    for line in stdout.splitlines():\n+        if \"START\" in line:\n+            sq = line.lstrip().split(' ')[1]\n+        if line.startswith(\"git-subtree-mainline:\"):\n+            main = line.split(':', 2)[1].split(' ')\n+        if line.startswith(\"git-subtree-split:\"):\n+            sub = line.split(':', 2)[1].split(' ')\n+        if \"END\" in line:\n+            if sub:\n+                if main:\n+                    sq = sub\n+                return(f\"{sq} {sub}\")\n+            sq = main = sub = None\n+\n+def main():\n+    args = parse_args()\n+\n+    # find the latest subtree update\n+    latest_squash = find_latest_squash(args.dir.rstrip('/'), args.commit)\n+    if not latest_squash:\n+        print(f\"Error: {args.dir} is not a subtree\")\n+        sys.exit(2)\n+    else:\n+        old = latest_squash.split(' ')[0]\n+        rev = latest_squash.split(' ')[1]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r866034304",
      "id" : 866034304,
      "in_reply_to_id" : 865979361,
      "line" : 56,
      "node_id" : "PRRC_kwDOABII584znqKA",
      "original_commit_id" : "2d1d27afaefb050196e92e584170b20641668c9b",
      "original_line" : 56,
      "original_position" : 56,
      "original_start_line" : 51,
      "path" : "test/lint/git-subtree-check.py",
      "position" : 56,
      "pull_request_review_id" : 963548828,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/866034304/reactions"
      },
      "side" : "RIGHT",
      "start_line" : 51,
      "start_side" : "RIGHT",
      "updated_at" : "2022-05-05T15:24:40Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/866034304",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/25042473?v=4",
         "events_url" : "https://api.github.com/users/danielabrozzoni/events{/privacy}",
         "followers_url" : "https://api.github.com/users/danielabrozzoni/followers",
         "following_url" : "https://api.github.com/users/danielabrozzoni/following{/other_user}",
         "gists_url" : "https://api.github.com/users/danielabrozzoni/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/danielabrozzoni",
         "id" : 25042473,
         "login" : "danielabrozzoni",
         "node_id" : "MDQ6VXNlcjI1MDQyNDcz",
         "organizations_url" : "https://api.github.com/users/danielabrozzoni/orgs",
         "received_events_url" : "https://api.github.com/users/danielabrozzoni/received_events",
         "repos_url" : "https://api.github.com/users/danielabrozzoni/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/danielabrozzoni/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/danielabrozzoni/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/danielabrozzoni"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r866084634"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/866084634"
         }
      },
      "author_association" : "NONE",
      "body" : "I decided to remove the else statements. Definitely cleans up the code a bit and should still be easy enough to read. Thanks for the feedback!",
      "commit_id" : "a53d24779bae44fa96f0cd43c20f7c20c83244b5",
      "created_at" : "2022-05-05T16:13:13Z",
      "diff_hunk" : "@@ -0,0 +1,100 @@\n+#!/usr/bin/env python3\n+#\n+# Copyright (c) 2017-2022 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#\n+# Checks that a certain prefix is pure subtree, and optionally whether the\n+# referenced commit is present in any fetched remote.\n+\n+import argparse\n+import sys\n+import subprocess\n+\n+def parse_args():\n+    \"\"\"Parse command line arguments\"\"\"\n+    parser = argparse.ArgumentParser (\n+        description=\"\"\"\n+            Checks that a certain prefix is pure subtree, and optionally whether the\n+            referenced commit is present in any fetched remote.\n+        \"\"\"\n+    )\n+\n+    parser.add_argument('dir', help=\"The prefix within the repository to check.\")\n+    parser.add_argument('commit', nargs='?', default='HEAD', help=\"The commit to check, if it is not provided, HEAD will be used.\")\n+    parser.add_argument(\"--repository\", \"-r\", action='store_true', required=False, help=\"Check that subtree commit is present in repository. To do this check, fetch the subtreed remote first. (e.g. git fetch https://github.com/bitcoin-core/secp256k1.git\\ntest/lint/git-subtree-check.sh -r src/secp256k1)\")\n+\n+    return parser.parse_args()\n+\n+def find_latest_squash(dir, commit):\n+    sq = main = sub = None\n+    stdout = subprocess.check_output([\"git\", \"log\", \"--grep=^git-subtree-dir: \" + dir + \"/*$\", \"--pretty=format: START %H%n%s%n%n%b%nEND%n\", commit], universal_newlines=True, encoding=\"utf8\")\n+    for line in stdout.splitlines():\n+        if \"START\" in line:\n+            sq = line.lstrip().split(' ')[1]\n+        if line.startswith(\"git-subtree-mainline:\"):\n+            main = line.split(':', 2)[1].split(' ')\n+        if line.startswith(\"git-subtree-split:\"):\n+            sub = line.split(':', 2)[1].split(' ')\n+        if \"END\" in line:\n+            if sub:\n+                if main:\n+                    sq = sub\n+                return(f\"{sq} {sub}\")\n+            sq = main = sub = None\n+\n+def main():\n+    args = parse_args()\n+\n+    # find the latest subtree update\n+    latest_squash = find_latest_squash(args.dir.rstrip('/'), args.commit)\n+    if not latest_squash:\n+        print(f\"Error: {args.dir} is not a subtree\")\n+        sys.exit(2)\n+    else:\n+        old = latest_squash.split(' ')[0]\n+        rev = latest_squash.split(' ')[1]",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#discussion_r866084634",
      "id" : 866084634,
      "in_reply_to_id" : 865979361,
      "line" : null,
      "node_id" : "PRRC_kwDOABII584zn2ca",
      "original_commit_id" : "2d1d27afaefb050196e92e584170b20641668c9b",
      "original_line" : 56,
      "original_position" : 56,
      "original_start_line" : 51,
      "path" : "test/lint/git-subtree-check.py",
      "position" : null,
      "pull_request_review_id" : 963625528,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/25039",
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/866084634/reactions"
      },
      "side" : "RIGHT",
      "start_line" : null,
      "start_side" : "RIGHT",
      "updated_at" : "2022-05-05T16:13:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/866084634",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32376202?v=4",
         "events_url" : "https://api.github.com/users/jacobpfickes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jacobpfickes/followers",
         "following_url" : "https://api.github.com/users/jacobpfickes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jacobpfickes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jacobpfickes",
         "id" : 32376202,
         "login" : "jacobpfickes",
         "node_id" : "MDQ6VXNlcjMyMzc2MjAy",
         "organizations_url" : "https://api.github.com/users/jacobpfickes/orgs",
         "received_events_url" : "https://api.github.com/users/jacobpfickes/received_events",
         "repos_url" : "https://api.github.com/users/jacobpfickes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jacobpfickes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jacobpfickes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jacobpfickes"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for addressing my comments.\r\n\r\nI think the difficulty is properly testing this script. There's quite some logic in there that isn't exercised by the CI, and would require some different git aerobics to check.",
      "created_at" : "2022-05-05T18:16:15Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#issuecomment-1118902849",
      "id" : 1118902849,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25039",
      "node_id" : "IC_kwDOABII585CsRpB",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1118902849/reactions"
      },
      "updated_at" : "2022-05-05T18:16:15Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1118902849",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : " > I think the difficulty is properly testing this script. There's quite some logic in there that isn't exercised by the CI, and would require some different git aerobics to check.\r\n\r\nWould writing some sort of test script to hit all of the use cases be useful? and if so where is the best place to include something like that?",
      "created_at" : "2022-05-05T18:34:47Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#issuecomment-1118920721",
      "id" : 1118920721,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25039",
      "node_id" : "IC_kwDOABII585CsWAR",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1118920721/reactions"
      },
      "updated_at" : "2022-05-05T18:34:47Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1118920721",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32376202?v=4",
         "events_url" : "https://api.github.com/users/jacobpfickes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jacobpfickes/followers",
         "following_url" : "https://api.github.com/users/jacobpfickes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jacobpfickes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jacobpfickes",
         "id" : 32376202,
         "login" : "jacobpfickes",
         "node_id" : "MDQ6VXNlcjMyMzc2MjAy",
         "organizations_url" : "https://api.github.com/users/jacobpfickes/orgs",
         "received_events_url" : "https://api.github.com/users/jacobpfickes/received_events",
         "repos_url" : "https://api.github.com/users/jacobpfickes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jacobpfickes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jacobpfickes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jacobpfickes"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "> Would writing some sort of test script to hit all of the use cases be useful? and if so where is the best place to include something like that?\r\n\r\nI don't know. From my point of view, testing the cases just once is fine, just to make sure the conditionals in the script are hit and do what they are supposed to.\r\nCould publish it in a gist or similar.\r\n\r\nI don't think there's need to run the test for this script say, as part of the CI every time.\r\n",
      "created_at" : "2022-05-09T09:18:57Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#issuecomment-1120856368",
      "id" : 1120856368,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25039",
      "node_id" : "IC_kwDOABII585Czukw",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1120856368/reactions"
      },
      "updated_at" : "2022-05-09T09:18:57Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1120856368",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "NONE",
      "body" : "Ok makes sense. I'll start putting together some of the commands used to hit all of the conditionals.",
      "created_at" : "2022-05-09T11:23:39Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#issuecomment-1120974292",
      "id" : 1120974292,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25039",
      "node_id" : "IC_kwDOABII585C0LXU",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1120974292/reactions"
      },
      "updated_at" : "2022-05-09T11:23:39Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1120974292",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32376202?v=4",
         "events_url" : "https://api.github.com/users/jacobpfickes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jacobpfickes/followers",
         "following_url" : "https://api.github.com/users/jacobpfickes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jacobpfickes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jacobpfickes",
         "id" : 32376202,
         "login" : "jacobpfickes",
         "node_id" : "MDQ6VXNlcjMyMzc2MjAy",
         "organizations_url" : "https://api.github.com/users/jacobpfickes/orgs",
         "received_events_url" : "https://api.github.com/users/jacobpfickes/received_events",
         "repos_url" : "https://api.github.com/users/jacobpfickes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jacobpfickes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jacobpfickes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jacobpfickes"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "@laanwj \r\n\r\nI am currently trying to write a test guide but wanted to get your thoughts on a few of the conditionals. I am by no means a git expert so I might not be understanding correctly. I think with the way the script is written a couple of these failure conditionals will never be hit.\r\n\r\n<br>\r\n<br>\r\n\r\nThe following conditional produces an error if the subtree directory is not found in the commit.\r\nhttps://github.com/bitcoin/bitcoin/blob/bb17f7233100d6660231d99fa5c2e2fc17a7747c/test/lint/git-subtree-check.py#L64-L69\r\nBut before it ever gets to that point it will try to find the latest squash (seen below) which will be empty if the directory is not found in the commit and will fail at that point\r\nhttps://github.com/bitcoin/bitcoin/blob/bb17f7233100d6660231d99fa5c2e2fc17a7747c/test/lint/git-subtree-check.py#L35-L59\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\nAlso with the use of the following lines the `-d` flag will only return trees\r\nhttps://github.com/bitcoin/bitcoin/blob/bb17f7233100d6660231d99fa5c2e2fc17a7747c/test/lint/git-subtree-check.py#L65-L66\r\nhttps://github.com/bitcoin/bitcoin/blob/bb17f7233100d6660231d99fa5c2e2fc17a7747c/test/lint/git-subtree-check.py#L71-L72\r\nwhich makes this conditional redundant\r\nhttps://github.com/bitcoin/bitcoin/blob/bb17f7233100d6660231d99fa5c2e2fc17a7747c/test/lint/git-subtree-check.py#L74-L76",
      "created_at" : "2022-05-11T01:18:13Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#issuecomment-1123075775",
      "id" : 1123075775,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25039",
      "node_id" : "IC_kwDOABII585C8Ma_",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123075775/reactions"
      },
      "updated_at" : "2022-05-11T01:18:13Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123075775",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32376202?v=4",
         "events_url" : "https://api.github.com/users/jacobpfickes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jacobpfickes/followers",
         "following_url" : "https://api.github.com/users/jacobpfickes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jacobpfickes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jacobpfickes",
         "id" : 32376202,
         "login" : "jacobpfickes",
         "node_id" : "MDQ6VXNlcjMyMzc2MjAy",
         "organizations_url" : "https://api.github.com/users/jacobpfickes/orgs",
         "received_events_url" : "https://api.github.com/users/jacobpfickes/received_events",
         "repos_url" : "https://api.github.com/users/jacobpfickes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jacobpfickes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jacobpfickes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jacobpfickes"
      }
   },
   {
      "author_association" : "MEMBER",
      "body" : "Thanks for looking into it.\r\nTo be honest, I'm not really up to speed with git subtree internals either. You could very well be right! Seems the script could be simplified quite a bit, then (but out of scope for this PR).\r\nI guess some of it is hardening to protect against `git` itself doing unexpected things. It's ok not to have a test plan for those cases.\r\n",
      "created_at" : "2022-05-11T11:39:06Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#issuecomment-1123629463",
      "id" : 1123629463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25039",
      "node_id" : "IC_kwDOABII585C-TmX",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123629463/reactions"
      },
      "updated_at" : "2022-05-11T11:39:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123629463",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=4",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "node_id" : "MDQ6VXNlcjEyNjY0Ng==",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "Sure thing! Ok that makes sense. Yeah maybe it is checking for some outliers. I just wanted to make sure I wasn't missing something or someone with some more knowledge might know better. I wrap up how to trigger the other conditionals then.",
      "created_at" : "2022-05-11T11:46:04Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#issuecomment-1123638257",
      "id" : 1123638257,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25039",
      "node_id" : "IC_kwDOABII585C-Vvx",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123638257/reactions"
      },
      "updated_at" : "2022-05-11T11:46:04Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1123638257",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/32376202?v=4",
         "events_url" : "https://api.github.com/users/jacobpfickes/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jacobpfickes/followers",
         "following_url" : "https://api.github.com/users/jacobpfickes/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jacobpfickes/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jacobpfickes",
         "id" : 32376202,
         "login" : "jacobpfickes",
         "node_id" : "MDQ6VXNlcjMyMzc2MjAy",
         "organizations_url" : "https://api.github.com/users/jacobpfickes/orgs",
         "received_events_url" : "https://api.github.com/users/jacobpfickes/received_events",
         "repos_url" : "https://api.github.com/users/jacobpfickes/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jacobpfickes/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jacobpfickes/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jacobpfickes"
      }
   },
   {
      "author_association" : "CONTRIBUTOR",
      "body" : "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#25369](https://github.com/bitcoin/bitcoin/pull/25369) (Unsubtree Univalue by fanquake)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
      "created_at" : "2022-06-15T10:07:46Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/25039#issuecomment-1156271310",
      "id" : 1156271310,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/25039",
      "node_id" : "IC_kwDOABII585E60zO",
      "performed_via_github_app" : null,
      "reactions" : {
         "+1" : 0,
         "-1" : 0,
         "confused" : 0,
         "eyes" : 0,
         "heart" : 0,
         "hooray" : 0,
         "laugh" : 0,
         "rocket" : 0,
         "total_count" : 0,
         "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1156271310/reactions"
      },
      "updated_at" : "2022-06-15T10:07:46Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/1156271310",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/39886733?v=4",
         "events_url" : "https://api.github.com/users/DrahtBot/events{/privacy}",
         "followers_url" : "https://api.github.com/users/DrahtBot/followers",
         "following_url" : "https://api.github.com/users/DrahtBot/following{/other_user}",
         "gists_url" : "https://api.github.com/users/DrahtBot/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/DrahtBot",
         "id" : 39886733,
         "login" : "DrahtBot",
         "node_id" : "MDQ6VXNlcjM5ODg2NzMz",
         "organizations_url" : "https://api.github.com/users/DrahtBot/orgs",
         "received_events_url" : "https://api.github.com/users/DrahtBot/received_events",
         "repos_url" : "https://api.github.com/users/DrahtBot/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/DrahtBot/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/DrahtBot"
      }
   }
]
