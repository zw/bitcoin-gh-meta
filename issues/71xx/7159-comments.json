[
   {
      "body" : "Perhaps just parameterize the setting of `sequence` on inputs?  That way we can do other things too?",
      "created_at" : "2015-12-03T10:35:34Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#issuecomment-161590919",
      "id" : 161590919,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7159",
      "updated_at" : "2015-12-03T10:35:45Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161590919",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/413395?v=3",
         "events_url" : "https://api.github.com/users/dcousens/events{/privacy}",
         "followers_url" : "https://api.github.com/users/dcousens/followers",
         "following_url" : "https://api.github.com/users/dcousens/following{/other_user}",
         "gists_url" : "https://api.github.com/users/dcousens/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/dcousens",
         "id" : 413395,
         "login" : "dcousens",
         "organizations_url" : "https://api.github.com/users/dcousens/orgs",
         "received_events_url" : "https://api.github.com/users/dcousens/received_events",
         "repos_url" : "https://api.github.com/users/dcousens/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/dcousens/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/dcousens/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/dcousens"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7159#discussion_r46535631"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7159"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46535631"
         }
      },
      "body" : "Typo \"with height fees\"",
      "commit_id" : "f2a24f846ce201f0c1cca330260afe632692c7b0",
      "created_at" : "2015-12-03T10:35:37Z",
      "diff_hunk" : "@@ -343,6 +343,8 @@ UniValue createrawtransaction(const UniValue& params, bool fHelp)\n             \"      ...\\n\"\n             \"    }\\n\"\n             \"3. locktime                (numeric, optional, default=0) Raw locktime. Non-0 value also locktime-activates inputs\\n\"\n+            \"4. opt into RBF            (boolean, optional, default=false) Allow this transaction to be replaced by a transaction with height fees\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#discussion_r46535631",
      "id" : 46535631,
      "original_commit_id" : "f2a24f846ce201f0c1cca330260afe632692c7b0",
      "original_position" : 16,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : 16,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7159",
      "updated_at" : "2015-12-03T10:35:37Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46535631",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/7042?v=3",
         "events_url" : "https://api.github.com/users/petertodd/events{/privacy}",
         "followers_url" : "https://api.github.com/users/petertodd/followers",
         "following_url" : "https://api.github.com/users/petertodd/following{/other_user}",
         "gists_url" : "https://api.github.com/users/petertodd/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/petertodd",
         "id" : 7042,
         "login" : "petertodd",
         "organizations_url" : "https://api.github.com/users/petertodd/orgs",
         "received_events_url" : "https://api.github.com/users/petertodd/received_events",
         "repos_url" : "https://api.github.com/users/petertodd/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/petertodd/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/petertodd/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/petertodd"
      }
   },
   {
      "_links" : {
         "html" : {
            "href" : "https://github.com/bitcoin/bitcoin/pull/7159#discussion_r46535709"
         },
         "pull_request" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7159"
         },
         "self" : {
            "href" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46535709"
         }
      },
      "body" : "Sorry.. meant to be \"higher fees\". Will fix.",
      "commit_id" : "f2a24f846ce201f0c1cca330260afe632692c7b0",
      "created_at" : "2015-12-03T10:36:20Z",
      "diff_hunk" : "@@ -343,6 +343,8 @@ UniValue createrawtransaction(const UniValue& params, bool fHelp)\n             \"      ...\\n\"\n             \"    }\\n\"\n             \"3. locktime                (numeric, optional, default=0) Raw locktime. Non-0 value also locktime-activates inputs\\n\"\n+            \"4. opt into RBF            (boolean, optional, default=false) Allow this transaction to be replaced by a transaction with height fees\\n\"",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#discussion_r46535709",
      "id" : 46535709,
      "original_commit_id" : "f2a24f846ce201f0c1cca330260afe632692c7b0",
      "original_position" : 16,
      "path" : "src/rpcrawtransaction.cpp",
      "position" : 16,
      "pull_request_url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/7159",
      "updated_at" : "2015-12-03T10:36:20Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/46535709",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "I tend to agree with @dcousens, maybe this is slightly more 'user friendly', but allowing setting the underlying values is more in the spirit of raw transaction usage.\r\nAlso bitcoin-tx needs a similar change.\r\n",
      "created_at" : "2015-12-03T10:46:44Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#issuecomment-161594423",
      "id" : 161594423,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7159",
      "updated_at" : "2015-12-03T10:46:44Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161594423",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "> Perhaps just parameterize the setting of sequence on inputs? That way we can do other things too?\r\n\r\nFor `createrawtransaction` this could make sense, although, I think both should be possible (a nSequence per input as well as a general RBF-opt-in). I prefer exposing relevant features (RBF is relevant IMO) over a clear interface. Manual setting the nSequence to int.max-2 is not user friendly and can be misunderstood (root cause is maybe the way how we use/extend existing consensus fields like `nSequence`).\r\n\r\nFor `fundrawtransaction` is disagree with exposing nSequence *instead* of a RFB-opt-in bool. Also i don't think we should pass around a vector of sequence number (per input) to `CreateTransaction()` (or similar).\r\n\r\n> Also bitcoin-tx needs a similar change.\r\n\r\nRight. There I guess *instead* of a RFB opt-in we could offer a easy way to set the nSequence number per input.",
      "created_at" : "2015-12-03T12:01:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#issuecomment-161612282",
      "id" : 161612282,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7159",
      "updated_at" : "2015-12-03T12:01:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161612282",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Sure, for `fundrawtransaction` it is different, as that is a wallet call (so the wallet will determine inputs for you). My comment just applies to `createrawtransaction`.\r\n",
      "created_at" : "2015-12-03T12:06:45Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#issuecomment-161614830",
      "id" : 161614830,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7159",
      "updated_at" : "2015-12-03T12:07:06Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161614830",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "Don't extend createrawtransaction without also extending bitcoin-tx -- that's the preferred place for pure function work unconnected to wallet.\r\n",
      "created_at" : "2015-12-03T14:02:26Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#issuecomment-161648535",
      "id" : 161648535,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7159",
      "updated_at" : "2015-12-03T14:02:26Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161648535",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/494411?v=3",
         "events_url" : "https://api.github.com/users/jgarzik/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jgarzik/followers",
         "following_url" : "https://api.github.com/users/jgarzik/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jgarzik/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jgarzik",
         "id" : 494411,
         "login" : "jgarzik",
         "organizations_url" : "https://api.github.com/users/jgarzik/orgs",
         "received_events_url" : "https://api.github.com/users/jgarzik/received_events",
         "repos_url" : "https://api.github.com/users/jgarzik/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jgarzik/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jgarzik"
      }
   },
   {
      "body" : "Anti-sniping (which I think createrawtransaction should do by default) is an argument against bitcoin-tx; even absent that: the complete application of createrawtransaction is not pure function-- you had to get the txids for the coins from somewhere... but sure this should have parity in bitcoin-tx.\r\n\r\nI think createrawtransaction should gain the ability to manually set sequences per input. No more parameters are needed: just add \"seq\" to the dictionary that takes the vin/txid fields now.\r\n\r\nI don't see any harm in having a replacable flag that sets the default sequence to MAX-2.\r\n",
      "created_at" : "2015-12-03T14:16:16Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#issuecomment-161652401",
      "id" : 161652401,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7159",
      "updated_at" : "2015-12-03T14:16:16Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161652401",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/858454?v=3",
         "events_url" : "https://api.github.com/users/gmaxwell/events{/privacy}",
         "followers_url" : "https://api.github.com/users/gmaxwell/followers",
         "following_url" : "https://api.github.com/users/gmaxwell/following{/other_user}",
         "gists_url" : "https://api.github.com/users/gmaxwell/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/gmaxwell",
         "id" : 858454,
         "login" : "gmaxwell",
         "organizations_url" : "https://api.github.com/users/gmaxwell/orgs",
         "received_events_url" : "https://api.github.com/users/gmaxwell/received_events",
         "repos_url" : "https://api.github.com/users/gmaxwell/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/gmaxwell/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/gmaxwell"
      }
   },
   {
      "body" : "> Anti-sniping (which I think createrawtransaction should do by default) is an argument against bitcoin-tx; \r\n\r\nIt's not an argument against bitcoin-tx. A program can get the current block number from anywhere and pass it to `createrawtransaction` or `bitcoin-tx` alike. No need to create a tight coupling. Some parts of transaction creation are not pure function, that doesn't mean that steps in the process cannot be.\r\n",
      "created_at" : "2015-12-03T14:23:30Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#issuecomment-161654226",
      "id" : 161654226,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7159",
      "updated_at" : "2015-12-03T14:23:30Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161654226",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/126646?v=3",
         "events_url" : "https://api.github.com/users/laanwj/events{/privacy}",
         "followers_url" : "https://api.github.com/users/laanwj/followers",
         "following_url" : "https://api.github.com/users/laanwj/following{/other_user}",
         "gists_url" : "https://api.github.com/users/laanwj/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/laanwj",
         "id" : 126646,
         "login" : "laanwj",
         "organizations_url" : "https://api.github.com/users/laanwj/orgs",
         "received_events_url" : "https://api.github.com/users/laanwj/received_events",
         "repos_url" : "https://api.github.com/users/laanwj/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/laanwj/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/laanwj"
      }
   },
   {
      "body" : "IIRC `createrawtransaction` does **not** do the nLockTime anti-sniping (only `CWallet::CreateTransaction()` = RPC `sendto`* or `fundrawtransaction` does).\r\n\r\nI agree with @jgarzik that bitcoin-tx should also support nSequence and/or RBF opt-in. I check now if it makes sense to extend bitcoin-tx within this PR (or if it require to much work in terms or parameter parsing and syntax).",
      "created_at" : "2015-12-03T15:01:36Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#issuecomment-161666384",
      "id" : 161666384,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7159",
      "updated_at" : "2015-12-03T15:01:36Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161666384",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "Added two bitcoin-tx related commits.\r\n\r\n1. Allow to provide a sequence number (optional) for the **in** command (`in=TXID:VOUT(:SEQUENCE_NUMBER)`)\r\n2. Add a `rbfoptin(=N)` command (mutate a tx and set the input N's [or all] RBF flag)",
      "created_at" : "2015-12-03T15:46:48Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#issuecomment-161682463",
      "id" : 161682463,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7159",
      "updated_at" : "2015-12-03T15:46:48Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/161682463",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/178464?v=3",
         "events_url" : "https://api.github.com/users/jonasschnelli/events{/privacy}",
         "followers_url" : "https://api.github.com/users/jonasschnelli/followers",
         "following_url" : "https://api.github.com/users/jonasschnelli/following{/other_user}",
         "gists_url" : "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/jonasschnelli",
         "id" : 178464,
         "login" : "jonasschnelli",
         "organizations_url" : "https://api.github.com/users/jonasschnelli/orgs",
         "received_events_url" : "https://api.github.com/users/jonasschnelli/received_events",
         "repos_url" : "https://api.github.com/users/jonasschnelli/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/jonasschnelli/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/jonasschnelli"
      }
   },
   {
      "body" : "\r\n>I think createrawtransaction should gain the ability to manually set sequences per input. No more parameters are needed: just add \"seq\" to the dictionary that takes the vin/txid fields now.\r\n\r\nAre you going to add this? I think its a good idea.",
      "created_at" : "2015-12-11T20:55:12Z",
      "html_url" : "https://github.com/bitcoin/bitcoin/pull/7159#issuecomment-164045364",
      "id" : 164045364,
      "issue_url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/7159",
      "updated_at" : "2015-12-11T20:55:12Z",
      "url" : "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/164045364",
      "user" : {
         "avatar_url" : "https://avatars.githubusercontent.com/u/4360349?v=3",
         "events_url" : "https://api.github.com/users/morcos/events{/privacy}",
         "followers_url" : "https://api.github.com/users/morcos/followers",
         "following_url" : "https://api.github.com/users/morcos/following{/other_user}",
         "gists_url" : "https://api.github.com/users/morcos/gists{/gist_id}",
         "gravatar_id" : "",
         "html_url" : "https://github.com/morcos",
         "id" : 4360349,
         "login" : "morcos",
         "organizations_url" : "https://api.github.com/users/morcos/orgs",
         "received_events_url" : "https://api.github.com/users/morcos/received_events",
         "repos_url" : "https://api.github.com/users/morcos/repos",
         "site_admin" : false,
         "starred_url" : "https://api.github.com/users/morcos/starred{/owner}{/repo}",
         "subscriptions_url" : "https://api.github.com/users/morcos/subscriptions",
         "type" : "User",
         "url" : "https://api.github.com/users/morcos"
      }
   }
]
